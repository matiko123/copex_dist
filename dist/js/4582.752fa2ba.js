(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[4582,1703],{96077:function(e,t,a){var l=a(17854),n=a(60614),o=l.String,s=l.TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw s("Can't set "+o(e)+" as a prototype")}},70648:function(e,t,a){var l=a(17854),n=a(51694),o=a(60614),s=a(84326),i=a(5112),r=i("toStringTag"),d=l.Object,c="Arguments"==s(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(error){}};e.exports=n?s:function(e){var t,a,l;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=u(t=d(e),r))?a:c?s(t):"Object"==(l=s(t))&&o(t.callee)?"Arguments":l}},77741:function(e,t,a){var l=a(1702),n=Error,o=l("".replace),s=function(e){return String(n(e).stack)}("zxcasd"),i=/\n\s*at [^:]*:[^\n]*/,r=i.test(s);e.exports=function(e,t){if(r&&"string"==typeof e&&!n.prepareStackTrace)while(t--)e=o(e,i,"");return e}},22914:function(e,t,a){var l=a(47293),n=a(79114);e.exports=!l((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",n(1,7)),7!==e.stack)}))},22104:function(e,t,a){var l=a(34374),n=Function.prototype,o=n.apply,s=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(l?s.bind(o):function(){return s.apply(o,arguments)})},79587:function(e,t,a){var l=a(60614),n=a(70111),o=a(27674);e.exports=function(e,t,a){var s,i;return o&&l(s=t.constructor)&&s!==a&&n(i=s.prototype)&&i!==a.prototype&&o(e,i),e}},58340:function(e,t,a){var l=a(70111),n=a(68880);e.exports=function(e,t){l(t)&&"cause"in t&&n(e,"cause",t.cause)}},56277:function(e,t,a){var l=a(41340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:l(e)}},27674:function(e,t,a){var l=a(1702),n=a(19670),o=a(96077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,a={};try{e=l(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(a,[]),t=a instanceof Array}catch(error){}return function(a,l){return n(a),o(l),t?e(a,l):a.__proto__=l,a}}():void 0)},2626:function(e,t,a){var l=a(3070).f;e.exports=function(e,t,a){a in e||l(e,a,{configurable:!0,get:function(){return t[a]},set:function(e){t[a]=e}})}},51694:function(e,t,a){var l=a(5112),n=l("toStringTag"),o={};o[n]="z",e.exports="[object z]"===String(o)},41340:function(e,t,a){var l=a(17854),n=a(70648),o=l.String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},89191:function(e,t,a){"use strict";var l=a(35005),n=a(92597),o=a(68880),s=a(47976),i=a(27674),r=a(99920),d=a(2626),c=a(79587),u=a(56277),m=a(58340),v=a(77741),p=a(22914),b=a(19781),_=a(31913);e.exports=function(e,t,a,h){var g="stackTraceLimit",y=h?2:1,f=e.split("."),w=f[f.length-1],k=l.apply(null,f);if(k){var x=k.prototype;if(!_&&n(x,"cause")&&delete x.cause,!a)return k;var S=l("Error"),C=t((function(e,t){var a=u(h?t:e,void 0),l=h?new k(e):new k;return void 0!==a&&o(l,"message",a),p&&o(l,"stack",v(l.stack,2)),this&&s(x,this)&&c(l,this,C),arguments.length>y&&m(l,arguments[y]),l}));if(C.prototype=x,"Error"!==w?i?i(C,S):r(C,S,{name:!0}):b&&g in k&&(d(C,k,g),d(C,k,"prepareStackTrace")),r(C,k),!_)try{x.name!==w&&o(x,"name",w),x.constructor=C}catch(error){}return C}}},21703:function(e,t,a){var l=a(82109),n=a(17854),o=a(22104),s=a(89191),i="WebAssembly",r=n[i],d=7!==Error("e",{cause:7}).cause,c=function(e,t){var a={};a[e]=s(e,t,d),l({global:!0,constructor:!0,arity:1,forced:d},a)},u=function(e,t){if(r&&r[e]){var a={};a[e]=s(i+"."+e,t,d),l({target:i,stat:!0,constructor:!0,arity:1,forced:d},a)}};c("Error",(function(e){return function(t){return o(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),c("URIError",(function(e){return function(t){return o(e,this,arguments)}})),u("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),u("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),u("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},44582:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Eu}});a(21703),a(26699);var l=a(66252),n=a(49963),o=a(2262),s=a(3577),i=a(87066),r=a(56296),d=a(42119),c=a(26212),u=a.n(c),m=a(45243),v=a.n(m);const p=e=>((0,l.dD)("data-v-df460098"),e=e(),(0,l.Cn)(),e),b={class:"layout-px-spacing"},_=(0,l.uE)('<ul class="navbar-nav flex-row mt-2" data-v-df460098><li data-v-df460098><div class="page-header" data-v-df460098><nav class="breadcrumb-one" aria-label="breadcrumb" data-v-df460098><ol class="breadcrumb" data-v-df460098><li class="breadcrumb-item active" aria-current="page" data-v-df460098><span data-v-df460098> Work Report</span></li></ol></nav></div></li></ul>',1),h={key:0,class:"d-flex justify-content-end align-items-center gap-3"},g=["disabled"],y=["innerHTML"],f={key:1},w=p((()=>(0,l._)("div",{style:{"border-left":"1px solid #ccc",height:"28px"}},null,-1))),k=["disabled"],x=["innerHTML"],S={key:1},C=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-paperclip me-1",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0z"})],-1))),T=[C],D={key:0,href:"https://bushman.ink/daily_construction_report.pdf",target:"_blank",class:"btn btn-dark btn-sm"},E=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer me-1",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),U=(0,l.Uk)(" Print Empty report "),$=[E,U],M={key:1,class:"panel-body simple-tab tabs"},H={class:"d-flex justify-content-between align-items-center"},R={class:"nav nav-tabs mb-3 mt-3",id:"simpletab",role:"tablist"},L=p((()=>(0,l._)("li",{class:"nav-item"},[(0,l._)("a",{class:"nav-link",id:"home-tab","data-bs-toggle":"tab",href:"#home",role:"tab","aria-controls":"home","aria-selected":"false"},"project details")],-1))),A=p((()=>(0,l._)("a",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab",href:"#profile",role:"tab","aria-controls":"profile","aria-selected":"true"},"Materials used",-1))),O=[A],I=p((()=>(0,l._)("a",{class:"nav-link",id:"diesel-tab","data-bs-toggle":"tab",href:"#diesel",role:"tab","aria-controls":"diesel","aria-selected":"true"},"Bulk Diesel ",-1))),N=[I],q=p((()=>(0,l._)("a",{class:"nav-link",id:"petrol-tab","data-bs-toggle":"tab",href:"#petrol",role:"tab","aria-controls":"petrol","aria-selected":"true"},"Bulk Petrol",-1))),V=[q],j=p((()=>(0,l._)("a",{class:"nav-link",id:"diesel-tab","data-bs-toggle":"tab",href:"#diesel",role:"tab","aria-controls":"diesel","aria-selected":"true"},"Project Fuel Statement",-1))),z=[j],P=p((()=>(0,l._)("a",{class:"nav-link",id:"delivery-notes-tab","data-bs-toggle":"tab",href:"#delivery-notes",role:"tab","aria-controls":"delivery-notes","aria-selected":"true"},"Delivery Notes",-1))),B=[P],F=["tabindex"],W={class:"nav-item"},Y=["tabindex"],Q={class:"nav-item"},J=["tabindex"],X={class:"nav-item"},K={class:"nav-item"},G={class:"tab-content",id:"simpletabContent"},Z={class:"tab-pane fade",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},ee={class:"row card shadow"},te={class:"col-md-12 text-start mt-3"},ae={class:"mb-1 text-start"},le=p((()=>(0,l._)("strong",null,"Project Details: ",-1))),ne=(0,l.Uk)(),oe=p((()=>(0,l._)("br",null,null,-1))),se={class:"mb-1 text-start"},ie=p((()=>(0,l._)("strong",null,"Financial Year:",-1))),re=p((()=>(0,l._)("br",null,null,-1))),de={class:"mb-1 text-start"},ce=p((()=>(0,l._)("strong",null,"Client:",-1))),ue=p((()=>(0,l._)("br",null,null,-1))),me={class:"mb-1 text-start"},ve=p((()=>(0,l._)("strong",null,"Contract Number:",-1))),pe=p((()=>(0,l._)("br",null,null,-1))),be={class:"mb-1 text-start"},_e=p((()=>(0,l._)("strong",null,"Store Name:",-1))),he=p((()=>(0,l._)("br",null,null,-1))),ge={class:"mb-1 text-start"},ye=p((()=>(0,l._)("strong",null,"Officer Incharge:",-1))),fe=p((()=>(0,l._)("br",null,null,-1))),we={class:"mb-1 text-start"},ke=p((()=>(0,l._)("strong",null,"Phone No:",-1))),xe=p((()=>(0,l._)("br",null,null,-1))),Se={class:"tab-pane fade",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"},Ce=p((()=>(0,l._)("h5",{class:"text-center"},"SITE MATERIALS USED STETEMENT ",-1))),Te={class:"d-flex justify-content-end"},De=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},[(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1))),Ee=[De],Ue=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),$e=(0,l.Uk)(" Â Print "),Me=[Ue,$e],He={class:"panel p-0"},Re={class:"custom-table table3"},Le=["innerHTML"],Ae=["onClick"],Oe=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-arrow-left-square",viewBox:"0 0 16 16"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm11.5 5.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"})],-1))),Ie=[Oe],Ne={class:"tab-pane fade",id:"diesel",role:"tabpanel","aria-labelledby":"diesel-tab"},qe={class:"panel p-0"},Ve={key:0,class:"text-center mt-2"},je={class:"custom-table table3 p-2"},ze={key:0,class:"d-flex align-items-start"},Pe={class:"table mb-0"},Be=p((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th"),(0,l._)("th",{class:"text-primary"},"Used"),(0,l._)("th",{class:"text-success"},"Balance")])],-1))),Fe=p((()=>(0,l._)("td",{class:"fw-bold"},"Diesel",-1))),We={class:"ms-auto"},Ye={key:1},Qe=p((()=>(0,l._)("h5",{class:"text-center"},"DIESEL AND PETROL STATEMENT",-1))),Je=[Qe],Xe=["innerHTML"],Ke={key:1,class:"panel p-0 mt-3"},Ge={class:"custom-table table3"},Ze={class:"position-relative d-inline-block"},et=["onClick"],tt=p((()=>(0,l._)("path",{d:"M4 4h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7l-4 4v-16a2 2 0 0 1 2-2z",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linejoin":"round"},null,-1))),at=p((()=>(0,l._)("line",{x1:"7",y1:"9",x2:"17",y2:"9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1))),lt=p((()=>(0,l._)("line",{x1:"7",y1:"13",x2:"14",y2:"13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1))),nt={key:0,cx:"19",cy:"6",r:"6",fill:"red",stroke:"white","stroke-width":"1.5"},ot={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-exclamation-triangle-fill text-warning position-absolute top-0 start-100 translate-middle",viewBox:"0 0 16 16",title:"Missing readings",style:{cursor:"pointer","z-index":"10"}},st=p((()=>(0,l._)("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5m.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"},null,-1))),it=[st],rt={class:"tab-pane fade",id:"shortage",role:"tabpanel","aria-labelledby":"shortage-tab"},dt=p((()=>(0,l._)("h5",{class:"text-center mb-0"},"SITE DELIVERY NOTE SHORTAGE STATEMENT",-1))),ct={class:"bg-white px-3 py-2 rounded fw-bold"},ut={class:"panel p-0"},mt={class:"custom-table table3"},vt={class:"modal-footer"},pt=p((()=>(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1))),bt=["disabled"],_t={class:"tab-pane fade",id:"petrol",role:"tabpanel","aria-labelledby":"petrol-tab"},ht={class:"panel p-0"},gt=p((()=>(0,l._)("h5",{class:"text-center mt-2"},"SITE PETROL STETEMENT",-1))),yt={class:"custom-table table3 p-2"},ft={class:"d-flex align-items-start"},wt={class:"table mb-0"},kt=p((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th"),(0,l._)("th",{class:"text-primary"},"Used"),(0,l._)("th",{class:"text-success"},"Balance")])],-1))),xt=p((()=>(0,l._)("td",{class:"fw-bold"},"Petrol",-1))),St={class:"ms-auto"},Ct=["innerHTML"],Tt={key:1,class:"panel p-0 mt-3"},Dt={class:"custom-table table3"},Et=["onClick"],Ut=p((()=>(0,l._)("path",{d:"M4 4h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7l-4 4v-16a2 2 0 0 1 2-2z",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linejoin":"round"},null,-1))),$t=p((()=>(0,l._)("line",{x1:"7",y1:"9",x2:"17",y2:"9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1))),Mt=p((()=>(0,l._)("line",{x1:"7",y1:"13",x2:"14",y2:"13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1))),Ht={key:0,cx:"19",cy:"6",r:"6",fill:"red",stroke:"white","stroke-width":"1.5"},Rt={class:"tab-pane fade",id:"delivery-notes",role:"tabpanel","aria-labelledby":"delivery-notes-tab"},Lt={class:"panel p-0"},At={class:"custom-table table3 p-2"},Ot=p((()=>(0,l._)("h5",{class:"text-center"},"SITE DELIVERY NOTES",-1))),It={class:"d-flex align-items-start"},Nt={class:"ms-auto"},qt=["innerHTML"],Vt={key:1,class:"panel p-0 mt-3"},jt={class:"custom-table table3"},zt=["onClick"],Pt=p((()=>(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1))),Bt=p((()=>(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1))),Ft=[Pt,Bt],Wt={class:"tab-pane fade",id:"store",role:"tabpanel","aria-labelledby":"store-tab"},Yt=["innerHTML"],Qt={key:1,class:"panel p-0 mt-3"},Jt={class:"d-flex flex-column flex-md-row align-items-center justify-content-between text-center text-md-start"},Xt={class:"mb-3 mb-md-0 w-100 text-center"},Kt={class:"btn-group mt-2 mt-md-0"},Gt={class:"custom-table table3"},Zt=p((()=>(0,l._)("div",{class:"d-flex justify-content-center align-items-center"},null,-1))),ea={class:"tab-pane fade",id:"challenge",role:"tabpanel","aria-labelledby":"challenge-tab"},ta=["innerHTML"],aa={key:1,class:"panel p-0 mt-3"},la=p((()=>(0,l._)("h5",{class:"text-center mt-3"},"CHALLENGES FACED AT SITE",-1))),na={class:"d-flex"},oa={class:"ms-auto"},sa={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},ia=p((()=>(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1))),ra=p((()=>(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"},null,-1))),da=p((()=>(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"},null,-1))),ca=[ia,ra,da],ua={key:1},ma={class:"row mt-2"},va={class:"col-md-6"},pa=p((()=>(0,l._)("label",{class:"form-label mx-2"},"Challenge Faced",-1))),ba={class:"col-md-6"},_a=p((()=>(0,l._)("label",{class:"form-label mx-2"},"Proposed Measure",-1))),ha={class:"d-flex"},ga={class:"ms-auto"},ya=["disabled"],fa=["innerHTML"],wa=p((()=>(0,l._)("span",null,"Save",-1))),ka={class:"custom-table table3"},xa=["onClick"],Sa=p((()=>(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1))),Ca=p((()=>(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1))),Ta=[Sa,Ca],Da={class:"tab-pane fade show active",id:"labour",role:"tabpanel","aria-labelledby":"labour-tab"},Ea=["innerHTML"],Ua={key:1,class:"panel p-0 mt-3"},$a=p((()=>(0,l._)("h5",{class:"text-center mt-3"},"LABOUR ATTENDANCE",-1))),Ma={class:"d-flex justify-content-end"},Ha={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},Ra=p((()=>(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1))),La=p((()=>(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"},null,-1))),Aa=p((()=>(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"},null,-1))),Oa=[Ra,La,Aa],Ia={key:1},Na=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),qa=[Na],Va=p((()=>(0,l._)("button",{class:"btn btn-info align-items-center me-2",title:"Your Attendances"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-geo-alt-fill",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6"})])],-1))),ja={class:"row ms-2"},za={class:"col-md-2"},Pa=p((()=>(0,l._)("label",{class:"form-label"},"Labour Name",-1))),Ba={key:0,class:"col-md-3"},Fa=p((()=>(0,l._)("label",{class:"form-label"},"Labour Name",-1))),Wa={key:1,class:"col-md-3"},Ya=p((()=>(0,l._)("label",{class:"form-label"},"Phone Number",-1))),Qa={key:2,class:"col-md-2"},Ja=p((()=>(0,l._)("label",{class:"form-label small"},"Labour Type",-1))),Xa={class:"col-md-2"},Ka=p((()=>(0,l._)("label",{class:"form-label"},"Reporting Time",-1))),Ga={key:3,class:"col-md-12"},Za=p((()=>(0,l._)("label",{class:"form-label"},"Task",-1))),el={key:4,class:"col-md-8"},tl=p((()=>(0,l._)("label",{class:"form-label"},"Task",-1))),al={class:"d-flex"},ll={class:"ms-auto"},nl=["disabled"],ol=["innerHTML"],sl=p((()=>(0,l._)("span",null,"Save",-1))),il={class:"custom-table table3"},rl=["onClick"],dl=p((()=>(0,l._)("path",{d:"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z"},null,-1))),cl=p((()=>(0,l._)("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"},null,-1))),ul=[dl,cl],ml={class:"tab-pane fade",id:"work",role:"tabpanel","aria-labelledby":"work-tab"},vl=["innerHTML"],pl={key:1,class:"panel p-0 mt-3"},bl=p((()=>(0,l._)("h5",{class:"text-center mt-3"},"WORK CARRIED OUT ",-1))),_l={class:"d-flex"},hl={class:"ms-auto d-flex gap-2"},gl={key:0,class:"btn btn-primary me-2","data-bs-toggle":"modal","data-bs-target":"#report-modal"},yl=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},[(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1))),fl=[yl],wl={class:"row mt-4"},kl={class:"card shadow"},xl={class:"card-body"},Sl={class:"d-flex justify-content-between align-items-center"},Cl={class:"card-title text-dark fw-bold text-start mb-0"},Tl={class:"ms-auto me-2"},Dl=["onClick"],El=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),Ul=[El],$l={class:"d-flex gap-2"},Ml=["onClick"],Hl=["onClick","disabled"],Rl={key:0,class:"spinner-border spinner-border-sm me-1",role:"status",style:{width:"14px",height:"14px"}},Ll=p((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),Al=[Ll],Ol={key:1},Il={key:2},Nl={class:"my-4"},ql={class:"text-muted mb-1 text-start"},Vl=p((()=>(0,l._)("strong",null,"Supervisor:",-1))),jl={key:0,class:"text-muted mb-1 text-start mt-3"},zl=p((()=>(0,l._)("strong",null,"Remark:",-1))),Pl={class:"panel p-0 mt-3"},Bl={class:"custom-table table3 mt-3"},Fl=["onClick"],Wl=p((()=>(0,l._)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},null,-1))),Yl=p((()=>(0,l._)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},null,-1))),Ql=[Wl,Yl],Jl={key:1,class:"spinner-border spinner-border-sm text-danger ms-2",role:"status",style:{width:"24px",height:"24px",display:"inline-flex","align-items":"center","justify-content":"center"},title:"Deleting..."},Xl=p((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),Kl=[Xl],Gl=["onClick"],Zl=p((()=>(0,l._)("polyline",{points:"3 6 5 6 21 6"},null,-1))),en=p((()=>(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},null,-1))),tn=p((()=>(0,l._)("line",{x1:"10",y1:"11",x2:"10",y2:"17"},null,-1))),an=p((()=>(0,l._)("line",{x1:"14",y1:"11",x2:"14",y2:"17"},null,-1))),ln=[Zl,en,tn,an],nn={class:"d-flex gap-2 justify-content-end"},on=["onClick"],sn=["onClick"],rn=p((()=>(0,l._)("path",{d:"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"},null,-1))),dn=p((()=>(0,l._)("path",{d:"M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2zm13 1a.5.5 0 0 1 .5.5v6l-3.775-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12v.54L1 12.5v-9a.5.5 0 0 1 .5-.5z"},null,-1))),cn=[rn,dn],un={key:0,class:"row mt-3"},mn={class:"col-12"},vn=p((()=>(0,l._)("h6",{class:"text-start fw-bold mb-3"},"Activity Attachments",-1))),pn={class:"row g-3"},bn={class:"card shadow-sm h-100"},_n={class:"card-body p-2"},hn={class:"attachment-preview mb-2",style:{height:"150px",overflow:"hidden","border-radius":"9px",display:"flex","align-items":"center","justify-content":"center","background-color":"#f8f9fa"}},gn=["src","alt","onClick"],yn={class:"d-flex justify-content-between align-items-center"},fn={class:"mb-1 small text-muted"},wn={key:0,class:"spinner-border spinner-border-sm text-danger",role:"status",style:{width:"20px",height:"20px"}},kn=p((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),xn=[kn],Sn=["onClick"],Cn=p((()=>(0,l._)("polyline",{points:"3 6 5 6 21 6"},null,-1))),Tn=p((()=>(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},null,-1))),Dn=p((()=>(0,l._)("line",{x1:"10",y1:"11",x2:"10",y2:"17"},null,-1))),En=p((()=>(0,l._)("line",{x1:"14",y1:"11",x2:"14",y2:"17"},null,-1))),Un=[Cn,Tn,Dn,En],$n=p((()=>(0,l._)("div",{class:"card-footer bg-transparent border-0 d-flex justify-content-between"},null,-1))),Mn={key:2,class:"container text-center mt-5"},Hn=["disabled"],Rn={key:0,class:"spinner-border spinner-border-sm me-2",width:"20",height:"20",role:"status"},Ln={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-check-circle me-2",viewBox:"0 0 16 16"},An=p((()=>(0,l._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1))),On=p((()=>(0,l._)("path",{d:"m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"},null,-1))),In=[An,On],Nn={key:2},qn={key:3},Vn=["disabled"],jn={key:0,class:"spinner-border spinner-border-sm me-2",width:"20",height:"20",role:"status"},zn={key:1,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-geo-alt",viewBox:"0 0 16 16"},Pn=p((()=>(0,l._)("path",{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A32 32 0 0 1 8 14.58a32 32 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"},null,-1))),Bn=p((()=>(0,l._)("path",{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6"},null,-1))),Fn=[Pn,Bn],Wn=(0,l.Uk)(),Yn={key:2},Qn={key:3},Jn=p((()=>(0,l._)("div",{class:"alert alert-dark mt-5 text-start alert-dismissible fade show",role:"alert"},[(0,l.Uk)(' NB: You must report your current location to proceed! , Make sure to allow an app to access your location . If Location is not precise according to map click "Refresh Location" Button. '),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",style:{filter:"invert(1)"}})],-1))),Xn=p((()=>(0,l._)("link",{rel:"stylesheet",href:"https://unpkg.com/leaflet/dist/leaflet.css"},null,-1))),Kn=p((()=>(0,l._)("div",{id:"map",style:{height:"600px"},class:"mb-2 mt-5"},null,-1))),Gn={class:"modal fade mymodal","data-bs-backdrop":"false",id:"work-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Zn={class:"modal-dialog modal-xl"},eo={class:"modal-content"},to=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"STORE ITEM USAGE FORM"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close"})],-1))),ao={class:"modal-body"},lo={class:"row"},no={class:"col-md-3"},oo=p((()=>(0,l._)("label",{class:"form-label"},"Select An Item ",-1))),so={class:"col-md-3"},io={class:"form-label"},ro=["readonly","min"],co={class:"col-md-3"},uo=p((()=>(0,l._)("label",{class:"form-label"},"Condition",-1))),mo={class:"form-control"},vo={class:"col-md-3"},po=p((()=>(0,l._)("label",{class:"form-label"},"Date",-1))),bo={class:"mb-3"},_o=p((()=>(0,l._)("label",{for:"message-text",class:"col-form-label"},"Work Carried Out :",-1))),ho={class:"modal-footer"},go=p((()=>(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",id:"close"},"Close",-1))),yo=["disabled"],fo=["innerHTML"],wo={key:1},ko={class:"modal fade mymodal","data-bs-backdrop":"false",id:"fuel-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},xo={class:"modal-dialog modal-xl"},So={class:"modal-content"},Co={class:"modal-header"},To={class:"modal-title fs-5",id:"exampleModalLabel"},Do={class:"modal-body"},Eo={class:"row"},Uo={class:"col-md-4"},$o=p((()=>(0,l._)("label",{class:"form-label"},"Select An Asset ",-1))),Mo={class:"col-md-4"},Ho={class:"form-label"},Ro=["readonly","min"],Lo={class:"col-md-4"},Ao=p((()=>(0,l._)("label",{class:"form-label"},"Date",-1))),Oo={class:"col-md-4"},Io=p((()=>(0,l._)("label",{for:"consuption_type"},"Consuption Ratio",-1))),No=p((()=>(0,l._)("option",{value:""},"Select Consuption Type",-1))),qo=p((()=>(0,l._)("option",{value:"km/Litre"},"km/Litre",-1))),Vo=p((()=>(0,l._)("option",{value:"Litre/hr"},"Litre/hr",-1))),jo=[No,qo,Vo],zo={class:"col-md-4"},Po=p((()=>(0,l._)("label",{class:"form-label"},"Driver Name",-1))),Bo={class:"col-md-2"},Fo=p((()=>(0,l._)("label",{class:"form-label"},"Initial Reading",-1))),Wo={class:"col-md-2"},Yo=p((()=>(0,l._)("label",{class:"form-label"},"Final Reading",-1))),Qo={class:"col-md-4"},Jo=p((()=>(0,l._)("label",{class:"form-label"},"Volume of work",-1))),Xo={class:"col-md-4"},Ko=p((()=>(0,l._)("label",{class:"form-label"},"Unit",-1))),Go={class:"mb-3"},Zo=p((()=>(0,l._)("label",{for:"message-text",class:"col-form-label"},"Work Carried Out :",-1))),es={class:"modal-footer"},ts=["disabled"],as=["innerHTML"],ls={key:1},ns={class:"modal fade mymodal",id:"return-items","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},os={class:"modal-dialog modal-xl"},ss={class:"modal-content"},is=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"TO STORE RETURN FORM"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close-return"})],-1))),rs={class:"modal-body"},ds={class:"row layout-top-spacing",style:{"max-height":"67vh","overflow-y":"auto"}},cs={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},us={class:"panel p-0"},ms={class:"custom-table table3"},vs={class:"row"},ps={class:"col-md-4"},bs=p((()=>(0,l._)("label",{class:"form-label"},"Item ",-1))),_s={class:"form-control"},hs={class:"col-md-4"},gs=p((()=>(0,l._)("label",{class:"form-label"},"Used Quantity",-1))),ys={class:"form-control"},fs={class:"col-md-4"},ws={class:"form-label"},ks=["min","max"],xs={class:"col-md-4"},Ss=p((()=>(0,l._)("label",{class:"form-label"},"Condition",-1))),Cs=p((()=>(0,l._)("option",{value:""},"Select Condition",-1))),Ts=p((()=>(0,l._)("option",{value:"used"},"Used",-1))),Ds=p((()=>(0,l._)("option",{value:"new"},"New",-1))),Es=p((()=>(0,l._)("option",{value:"damaged"},"Damaged",-1))),Us=[Cs,Ts,Ds,Es],$s={class:"modal-footer"},Ms=p((()=>(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm","data-bs-dismiss":"modal"},"Close",-1))),Hs=["disabled"],Rs=["innerHTML"],Ls={key:1},As={class:"modal fade mymodal",id:"edit","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Os={class:"modal-dialog modal-xl"},Is={class:"modal-content"},Ns={class:"modal-header"},qs={class:"modal-title fs-5",id:"staticBackdropLabel"},Vs=p((()=>(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close"},null,-1))),js={class:"modal-body"},zs={class:"card mb-3"},Ps={class:"card-body"},Bs={class:"row mb-2 text-start"},Fs={class:"col-md-4"},Ws=p((()=>(0,l._)("strong",null,"Issued Date:",-1))),Ys={class:"col-md-4"},Qs=p((()=>(0,l._)("strong",null,"Issuer:",-1))),Js={class:"col-md-4"},Xs=p((()=>(0,l._)("strong",null,"Driver:",-1))),Ks={class:"row mb-2 text-start"},Gs={class:"col-md-4"},Zs=p((()=>(0,l._)("strong",null,"Machine:",-1))),ei={class:"col-md-4"},ti=p((()=>(0,l._)("strong",null,"Type:",-1))),ai={class:"col-md-4"},li=p((()=>(0,l._)("strong",null,"Issued:",-1))),ni={class:"row mb-2 text-start"},oi={class:"col-md-4"},si=p((()=>(0,l._)("strong",null,"Initial:",-1))),ii={class:"col-md-4"},ri=p((()=>(0,l._)("strong",null,"Final:",-1))),di={class:"col-md-4"},ci=p((()=>(0,l._)("strong",null,"Ratio:",-1))),ui={class:"row mb-2 text-start"},mi={class:"col-md-4 my-2"},vi=p((()=>(0,l._)("strong",null,"consumption type:",-1))),pi={class:"col-md-4 my-2"},bi=p((()=>(0,l._)("strong",null,"Work:",-1))),_i={class:"col-md-4 my-2"},hi=p((()=>(0,l._)("strong",null,"Used:",-1))),gi={class:"col-md-12"},yi=p((()=>(0,l._)("strong",null,"Task:",-1))),fi={key:0,class:"row text-start"},wi={class:"col-md-12"},ki=p((()=>(0,l._)("strong",null,"Remark :",-1))),xi={class:"row layout-top-spacing"},Si={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},Ci={class:"panel p-0"},Ti={class:"custom-table table3"},Di={class:"row g-3"},Ei={key:0,class:"col-md-4"},Ui=p((()=>(0,l._)("label",{class:"form-label"},"Initial Reading",-1))),$i={key:1,class:"col-md-4"},Mi=p((()=>(0,l._)("label",{class:"form-label"},"Final Reading",-1))),Hi={key:2,class:"col-md-4"},Ri=p((()=>(0,l._)("label",{class:"form-label"},"Volume of work",-1))),Li={key:3,class:"col-md-4"},Ai=p((()=>(0,l._)("label",{class:"form-label"},"Unit",-1))),Oi={key:4,class:"col-md-8"},Ii=p((()=>(0,l._)("label",{class:"form-label"}," Task ",-1))),Ni={key:5,class:"col-md-11"},qi=p((()=>(0,l._)("label",{class:"form-label"},"Enter Remark",-1))),Vi={class:"col-md-1 d-flex justify-content-between align-items-center"},ji={class:"pt-4"},zi=["disabled"],Pi=["innerHTML"],Bi={key:1},Fi=p((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm py-2 px-2","data-bs-dismiss":"modal",id:"close"},"Close")],-1))),Wi={class:"modal fade mymodal",id:"delivery","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Yi={class:"modal-dialog modal-xl"},Qi={class:"modal-content"},Ji={class:"modal-header"},Xi={class:"modal-title fs-5",id:"staticBackdropLabel"},Ki=(0,l.Uk)(" GOOD DELIVERY NOTE STATEMENT FOR : "),Gi=p((()=>(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close"},null,-1))),Zi={class:"modal-body"},er={class:"panel p-0 mt-3"},tr={class:"custom-table table3"},ar=p((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm","data-bs-dismiss":"modal",id:"close"},"Close")],-1))),lr={class:"modal fade mymodal",id:"remark-challenge","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},nr={class:"modal-dialog modal-xl"},or={class:"modal-content"},sr=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"}," SITE CHALLENGE REMARK"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close-challenge-remark"})],-1))),ir={class:"modal-body"},rr={class:"row mb-2 fw-bolder"},dr={class:"col-md-4"},cr={class:"col-md-4"},ur={class:"col-md-4"},mr={key:0,class:"col-md-12"},vr={class:"input-group"},pr=["disabled"],br=["innerHTML"],_r={key:1},hr=p((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm","data-bs-dismiss":"modal",id:"close"},"Close")],-1))),gr={class:"modal fade mymodal",id:"edit-labour-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"editConversionFactorModalLabel","aria-hidden":"true"},yr={class:"modal-dialog modal-xl"},fr={class:"modal-content"},wr={class:"modal-header"},kr=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"editConversionFactorModalLabel"},"Labour Attendance",-1))),xr={class:"modal-body"},Sr={class:"row mb-3"},Cr={class:"col-md-6"},Tr=p((()=>(0,l._)("label",{class:"form-label"},"Derpurture Time",-1))),Dr={class:"col-md-6"},Er=p((()=>(0,l._)("label",{class:"form-label"},"Task Status",-1))),Ur={class:"col-md-12"},$r=p((()=>(0,l._)("label",{class:"form-label"},"Description",-1))),Mr={class:"modal-footer"},Hr=["disabled"],Rr={key:0,class:"spinner-border spinner-border-sm text-white me-2",role:"status"},Lr=(0,l.Uk)(" Save "),Ar={class:"modal fade mymodal",id:"report-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"reportModalLabel","aria-hidden":"true"},Or={class:"modal-dialog modal-xl"},Ir={class:"modal-content"},Nr={class:"modal-header"},qr=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"reportModalLabel"},"Work Carried Out Form",-1))),Vr={class:"modal-body"},jr={class:"row"},zr={class:"col-md-8"},Pr=p((()=>(0,l._)("label",{class:"form-label"},"Title",-1))),Br={class:"col-md-4"},Fr=p((()=>(0,l._)("label",{class:"form-label"},"Date",-1))),Wr={key:0,class:"row mt-3"},Yr={class:"col-md-3"},Qr=p((()=>(0,l._)("label",{class:"form-label"},"Activity",-1))),Jr={class:"col-md-3"},Xr=p((()=>(0,l._)("label",{class:"form-label small"},"Unit",-1))),Kr={class:"col-md-3"},Gr=p((()=>(0,l._)("label",{class:"form-label"},"Quantity",-1))),Zr={class:"col-md-3"},ed=p((()=>(0,l._)("label",{class:"form-label"},"Description",-1))),td={class:"col-md-12 col-lg-12 mb-2 text-end"},ad=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},[(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1))),ld=(0,l.Uk)(" Add activity "),nd=[ad,ld],od={key:0,class:"row mb-3"},sd={class:"col-12"},id={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},rd={class:"panel p-0"},dd={class:"custom-table table3"},cd=["onClick"],ud=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-trash text-danger",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),(0,l._)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1z"})],-1))),md=[ud],vd={class:"modal-footer"},pd=["disabled"],bd=["innerHTML"],_d=p((()=>(0,l._)("span",null,"Save",-1))),hd={class:"modal fade mymodal",id:"remark-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"remarkModalLabel","aria-hidden":"true"},gd={class:"modal-dialog modal-xl"},yd={class:"modal-content"},fd={class:"modal-header"},wd=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"reportModalLabel"},"Remark",-1))),kd={class:"modal-body"},xd={class:"row"},Sd={class:"col-md-12"},Cd=p((()=>(0,l._)("label",{class:"form-label"},"Remark",-1))),Td={class:"modal-footer"},Dd=["disabled"],Ed=["innerHTML"],Ud=p((()=>(0,l._)("span",null,"Save",-1))),$d={class:"modal fade mymodal",id:"edit-activity-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"activityModalLabel","aria-hidden":"true"},Md={class:"modal-dialog modal-xl"},Hd={class:"modal-content"},Rd={class:"modal-header"},Ld=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"activityModalLabel"},"Edit Activity",-1))),Ad={class:"modal-body"},Od={class:"row mb-3"},Id={class:"col-md-4"},Nd=p((()=>(0,l._)("label",{for:"Activity"},"name",-1))),qd={class:"col-md-4"},Vd=p((()=>(0,l._)("label",{class:"form-label small"},"Unit",-1))),jd={class:"col-md-4"},zd=p((()=>(0,l._)("label",{for:"quantity"},"Quantity",-1))),Pd={class:"modal-footer"},Bd=["disabled"],Fd=["innerHTML"],Wd=p((()=>(0,l._)("span",null,"Save",-1))),Yd={class:"modal fade mymodal",id:"add-activity-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"activityModalLabel","aria-hidden":"true"},Qd={class:"modal-dialog modal-xl"},Jd={class:"modal-content"},Xd={class:"modal-header"},Kd=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"activityModalLabel"},"Add Activity",-1))),Gd={class:"modal-body"},Zd={class:"row mb-3"},ec={class:"col-md-4"},tc=p((()=>(0,l._)("label",{for:"Activity"},"name",-1))),ac={class:"col-md-4"},lc=p((()=>(0,l._)("label",{class:"form-label small"},"Unit",-1))),nc={class:"col-md-4"},oc=p((()=>(0,l._)("label",{for:"quantity"},"Quantity",-1))),sc={class:"modal-footer"},ic=["disabled"],rc=["innerHTML"],dc=p((()=>(0,l._)("span",null,"Save",-1))),cc={class:"modal fade mymodal",id:"add-attachment-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"attachmentModalLabel","aria-hidden":"true"},uc={class:"modal-dialog modal-xl"},mc={class:"modal-content"},vc={class:"modal-header"},pc=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"attachmentModalLabel"},"Add Attachment",-1))),bc={class:"modal-body"},_c={class:"row mb-3"},hc={class:"col-md-6"},gc=p((()=>(0,l._)("label",{class:"form-label"},"Attachment (Image)",-1))),yc={class:"col-md-6"},fc=p((()=>(0,l._)("label",{for:"Activity"},"Descreption",-1))),wc={class:"modal-footer"},kc=["disabled"],xc=["innerHTML"],Sc=p((()=>(0,l._)("span",null,"Save",-1))),Cc={class:"modal fade mymodal",id:"view-attachment-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"attachmentModalLabel","aria-hidden":"true"},Tc={class:"modal-dialog modal-fullscreen"},Dc={class:"modal-content"},Ec=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"attachmentModalLabel"},"Attachment"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Uc={class:"modal-body p-0"},$c={class:"attachment-wrapper"},Mc=["src"],Hc=p((()=>(0,l._)("path",{d:"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"},null,-1))),Rc=[Hc],Lc=p((()=>(0,l._)("button",{type:"button",class:"btn btn-danger ms-4","data-bs-dismiss":"modal"},"Close",-1))),Ac={class:"modal fade mymodal",id:"view-site-attachment-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"viewSiteAttachmentModalLabel","aria-hidden":"true"},Oc={class:"modal-dialog modal-xl"},Ic={class:"modal-content"},Nc=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"viewSiteAttachmentModalLabel"},"DAILY CONSTRUCTION ATTACHMENTS REPORT"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),qc={class:"modal-body"},Vc={class:"mb-3"},jc={class:"row"},zc={class:"col-md-6"},Pc={class:"mb-2 text-start"},Bc=p((()=>(0,l._)("strong",null,"Project Name:",-1))),Fc={class:"mb-2 text-start"},Wc=p((()=>(0,l._)("strong",null,"Contract Number:",-1))),Yc={class:"col-md-6"},Qc={class:"mb-2 text-start"},Jc=p((()=>(0,l._)("strong",null,"Officer In Charge:",-1))),Xc={class:"mb-2 text-start"},Kc=p((()=>(0,l._)("strong",null,"Client:",-1))),Gc={class:"d-flex justify-content-between align-items-center mb-3"},Zc=p((()=>(0,l._)("h5",{class:"mb-0"},null,-1))),eu={key:0,class:"row mb-3"},tu={class:"col-md-12"},au={class:"row"},lu={class:"col-md-8"},nu=p((()=>(0,l._)("label",{class:"form-label"},"Attachment Description",-1))),ou={class:"col-md-2"},su=p((()=>(0,l._)("label",{class:"form-label"},"Date",-1))),iu={class:"col-md-2"},ru=p((()=>(0,l._)("label",{class:"form-label"},"Attachment (PDF)",-1))),du={class:"row mt-3"},cu={class:"col-md-12 text-end"},uu=["disabled"],mu={key:0,class:"spinner-border spinner-border-sm text-white me-2",role:"status"},vu=(0,l.Uk)(" Upload "),pu=p((()=>(0,l._)("h5",{class:"text-start mb-3 mt-3"},"Daily Report Attachments",-1))),bu=["innerHTML"],_u={key:2,class:"panel p-0"},hu={class:"custom-table table3"},gu=["href"],yu=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-eye text-primary",viewBox:"0 0 16 16",style:{cursor:"pointer"}},[(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}),(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"})],-1))),fu=[yu],wu=["onClick"],ku=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger"},[(0,l._)("polyline",{points:"3 6 5 6 21 6"}),(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1))),xu=[ku],Su=p((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1)));var Cu={setup(e){const t="https://bushman.ink",a=(0,o.iH)([]),c=(0,d.yj)(),m=(0,o.iH)(0),p=(0,o.iH)(!0),C=(0,l.f3)("showMessage"),E=(0,l.f3)("loadingSpinner"),U=(0,l.f3)("showError"),A=(0,l.f3)("tableShimmer"),I=(0,l.f3)("formatNumber"),q=(0,l.f3)("formatDate"),j=(0,l.f3)("enforceMax");(0,l.f3)("mapShimmer");(0,r.j)({title:"DAILY WORK REPORT"});const P=(0,o.iH)(""),De=JSON.parse(localStorage.getItem("user")).permissions;let Ue,$e;const Oe=()=>{Ue=v().map("map").setView([0,0],2),v().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(Ue)},Qe=()=>{navigator.geolocation.getCurrentPosition((async e=>{const{latitude:t,longitude:a}=e.coords;Ca.value=!0,Ue.setView([t,a],16),$e?$e.setLatLng([t,a]):$e=v().marker([t,a]).addTo(Ue);const l=await i.Z.get(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${a}`);Ca.value=!1,wv.value={latitude:t,longitude:a,address:l.data.display_name},$e.bindPopup(l.data.display_name).openPopup()}))},st=(0,o.iH)({}),Pt=(0,o.iH)(""),Bt=(0,o.iH)(""),ia=async()=>{const e={returned:Number(Tn.value)+Number(Pt.value.returned),store_item:{item_id:Pt.value.store_item.item.id,store_id:Cs.value.id,item_condition:Bt.value}};Ca.value=!0;try{await dn.put(`item-usage/${Pt.value.id}`,e);C("Item Returned To Store"),On();(0,o.iH)(["Sno","activity","unit","quantity","actions"]);Bn(),document.getElementById("close-return").click(),kn()}catch(error){U(error.message),console.log(error)}finally{Ca.value=!1}},ra=(0,o.iH)(""),da=(0,o.iH)(""),Sa=(0,o.iH)([]),Ca=(0,o.iH)(!1),Ra=(0,o.iH)((new Date).toISOString().split("T")[0]),La=(0,o.iH)(""),Aa=(0,o.iH)(["SNo","name","category_name","condition","used_quantity","balance_quantity","total_quantity"]),Na=(0,o.iH)(["SNo","issuer","machine","type","task","volume","issued","balance","fuel_type","ratio","issued_date","actions"]),dl=(0,o.iH)(["SNo","challenge","reported_by","proposed_measure","date","remark","actions"]),cl=(0,o.iH)(["sno","item","category","description","used","returned","date","action"]),yl=async e=>{const t=(0,o.iH)(e),a=document.createElement("iframe");a.style.display="none",document.body.appendChild(a),p.value=!1;const l=new Date,n=l.getDate().toString().padStart(2,"0"),s=(l.getMonth()+1).toString().padStart(2,"0"),i=l.getFullYear(),r=`${n}/${s}`,d=`${r}/${i}`,c=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Store Items Report</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  table tr:first-child th:first-child, table tr:first-child td:first-child { border-top-left-radius: 8px; }\n  table tr:first-child th:last-child, table tr:first-child td:last-child { border-top-right-radius: 8px; }\n  table tr:last-child td:first-child { border-bottom-left-radius: 8px; }\n  table tr:last-child td:last-child { border-bottom-right-radius: 8px; }\n  .summary-section { margin-top: 30px; font-size: 12px; }\n  .text-center {text-align: center;}\n    .text-right { text-align: right; }\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="report-box">\n    REPORT ON.<br>\n    <span style="color:red;">${q(P.value)}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 103-826-519<br>\n  VRN: 20-01-017530R\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n\n<div class="section-title">SITE ACTIVITIES REPORT</div>\n<h3 class="header">REPORT DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>PROJECT</th>\n            <th>SUPERVISOR</th>\n            <th>SUPERVISOR'S EMAIL</th>\n            <th>SUPERVISOR'S PHONE</th>\n        </tr>\n    </thead>\n     <tbody>\n        <tr>\n          <td class="text-center">${Cs.value.project.short_name}</td>\n          <td class="text-center"> ${Cs.value.officer?.name}</td>\n          <td class="text-center"> ${Cs.value.officer?.email}</td>\n          <td class="text-center"> ${Cs.value.officer?.phone_no}</td>\n        </tr>\n        <tr>\n          <td  colspan="6" >\n             Brief Description : ${(t.value.report_name||"")+(t.value.description?" , "+t.value.description:"")}\n          </td>\n    </tbody>\n</table>\n\n\n<h3 class="header">ACTIVITY DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>S.No</th>\n            <th>Activity</th>\n            <th>Unit Measure</th>\n            <th>Quantity</th>\n        </tr>\n    </thead>\n    <tbody>\n        ${t.value.activities.map(((e,t)=>`\n        <tr>\n            <td >${t+1}</td>\n            <td>${e.activity||"--"}</td>\n            <td>${e.unit||"--"}</td>\n            <td class="text-right">${e.quantity||"--"}</td>\n        </tr>\n        `)).join("")}\n    </tbody>\n   \n</table>\n\n<div style="margin-top: 30px; text-align: right;">\n    <div>Printed on: ${d}</div>\n</div>\n\n</body>\n</html>\n`,u=a.contentWindow.document;u.open(),u.write(c),u.close(),a.onload=()=>{a.contentWindow.focus(),a.contentWindow.print(),setTimeout((()=>{document.body.removeChild(a)}),1e3)}},El=async()=>{const e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e),p.value=!1;const t=new Date,a=t.getDate().toString().padStart(2,"0"),l=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getFullYear(),o=`${a}/${l}`,s=`${o}/${n}`,i=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Store Items Report</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  table tr:first-child th:first-child, table tr:first-child td:first-child { border-top-left-radius: 8px; }\n  table tr:first-child th:last-child, table tr:first-child td:last-child { border-top-right-radius: 8px; }\n  table tr:last-child td:first-child { border-bottom-left-radius: 8px; }\n  table tr:last-child td:last-child { border-bottom-right-radius: 8px; }\n  .summary-section { margin-top: 30px; font-size: 12px; }\n  .text-center {text-align: center;}\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="report-box">\n    REPORT ON.<br>\n    <span style="color:red;">${q(P.value)}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 103-826-519<br>\n  VRN: 20-01-017530R\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n\n<div class="section-title">LABOUR ATTENDANCE REPORT</div>\n<h3 class="header">REPORT DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>PROJECT</th>\n            <th>SUPERVISOR</th>\n            <th>SUPERVISOR'S EMAIL</th>\n            <th>SUPERVISOR'S PHONE</th>\n        </tr>\n    </thead>\n     <tbody>\n        <tr>\n          <td class="text-center">${Cs.value.project.short_name}</td>\n          <td class="text-center"> ${Cs.value.officer?.name}</td>\n          <td class="text-center"> ${Cs.value.officer?.email}</td>\n           <td class="text-center"> ${Cs.value.officer?.phone_no}</td>\n        </tr>\n    </tbody>\n</table>\n\n\n<h3 class="header">ATTENDANCE DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>S.No</th>\n            <th>Labour Name</th>\n            <th>Labour Type</th>\n            <th>Task</th>\n            <th>Reporting Time</th>\n            <th>Departure Time</th>\n            <th>Work Status</th>\n        </tr>\n    </thead>\n    <tbody>\n        ${iv.value.map(((e,t)=>`\n        <tr>\n            <td >${t+1}</td>\n            <td>${e.name||"--"}</td>\n            <td>${e.labour_type||"--"}</td>\n            <td>${e.task||"--"}</td>\n            <td>${e.reporting_time||"--"}</td>\n            <td>${e.departure_time||"--"}</td>\n            <td>${e.status.key||"--"}</td>\n        </tr>\n        `)).join("")}\n    </tbody>\n   \n</table>\n\n<div style="margin-top: 30px; text-align: right;">\n    <div>Printed on: ${s}</div>\n</div>\n\n</body>\n</html>\n`,r=e.contentWindow.document;r.open(),r.write(i),r.close(),e.onload=()=>{e.contentWindow.focus(),e.contentWindow.print(),setTimeout((()=>{document.body.removeChild(e)}),1e3)}},Ll=(0,o.iH)(!1),Wl=(0,o.iH)(!1),Yl=(0,o.iH)(""),Xl=(0,o.iH)(""),Zl=(0,o.iH)([]),en=(0,o.iH)(""),tn=async()=>{p.value=!0;try{const e=await dn.get(`site-challenges?store_id=${c.params.store_id}`);Zl.value=e.data.map(((e,t)=>({...e,SNo:t+1,challenge:e.description,reported_by:e.remarker.name,proposed_measure:e.measure.description,date:q(e.created_at),remark:e.remark,raw_date:e.created_at})))}catch(error){U(error.message),console.log(error)}finally{p.value=!1}},an=async()=>{const e={challenge:Xl.value,measure:Yl.value,remarker_id:Lu,store_id:c.params.store_id};Au.value=!0;try{const t=await dn.post("register-site-challenge",e);C(t.data),tn(),Ll.value=!1,Yl.value="",Xl.value=""}catch(error){U(error.message),console.log(error)}finally{Au.value=!1}},rn=(0,o.iH)({perPage:20,perPageValues:[20,50,100,200,500,1e3],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),dn=i.Z.create({baseURL:"https://bushman.ink/api/v1/"});(0,l.YP)(La,(e=>{e&&(Tn.value="")}));const kn=()=>{Cn.value="",Tn.value="",La.value="",Ds.value="",document.getElementById("close").click(),ld.value="",ud.value="",yu.value="",Hc.value="",Bt.value=""},Cn=(0,o.iH)(""),Tn=(0,o.iH)(""),Dn=async()=>{Ca.value=!0;const e={item_id:La.value.id,category:"store",category_id:c.params.store_id,quantity:Tn.value,usage_type:La.value.category_name,description:Cn.value,rate:0,issuer_id:JSON.parse(localStorage.getItem("user")).id};try{await dn.post("item-usage",e);C("Item Registered"),Bn(),On(),kn()}catch(error){console.log(error),U(error.message)}finally{Ca.value=!1}},En=(0,o.iH)(""),An=(0,o.iH)([]),On=async()=>{p.value=!0;try{const e=await dn.get(`daily-report?category_id=${c.params.store_id}`);if(An.value=e.data.map(((e,t)=>({...e,sno:t+1,item:e.store_item?.item.name,category:e.usage_type,used:e.quantity,task:e.description,raw_date:e.created_at,date:q(e.created_at)}))),e.data.length>0){const t=e.data[e.data.length-1];En.value=t.issuer}}catch(error){U(error.message),console.log(error)}finally{p.value=!1}},Pn=(0,o.iH)([]),Bn=async()=>{try{const e=await dn.get(`get-store-items?store_id=${c.params.store_id}`);Pn.value=e.data.filter((e=>"Fuel"!==e.category_name)).map(((e,t)=>({...e,SNo:t+1}))),No.value=Pn.value}catch(error){U(error.message),console.log(error)}finally{p.value=!1}},No=(0,o.iH)([]),qo=(0,o.iH)("all"),Vo=e=>{qo.value=e,No.value="all"===e?Pn.value:Pn.value.filter((t=>t.category_name===e))},Cs=(0,o.iH)(),Ts=async()=>{try{const e=await dn.get(`stores/${c.params.store_id}`);Cs.value=e.data}catch(error){U(error.message),console.log(error)}finally{p.value=!1}},Ds=(0,o.iH)(""),Es=(0,o.iH)([]),ad=async()=>{try{const e=await dn.get("machines");Es.value=e.data.map((e=>({...e,name:e.name+" - "+e.type_name})))}catch(error){U(error.message),console.log(error)}finally{p.value=!1}},ld=(0,o.iH)(""),ud=(0,o.iH)(""),Hc=(0,o.iH)(""),yu=(0,o.iH)(""),ku=(0,o.iH)(""),Cu=(0,o.iH)(""),Tu=async()=>{Ca.value=!0,"diesel"===ra.value?ku.value=Eu.value.store_diesel_id:ku.value=Eu.value.store_petrol_id;const e={store_item_id:ku.value,asset_id:Ds.value.id,project_id:Cs.value.project.id,consumption_type:Hc.value,issuer_id:JSON.parse(localStorage.getItem("user")).id,quantity:Tn.value,usage_date:Ra.value,initial_reading:ld.value,final_reading:ud.value,task:Cn.value,driver_name:yu.value,volume:Cu.value,unit:Tm.value.short_name};try{await dn.post("asset-consumptions",e);C("Fuel Issued"),Mu(),Uu(),document.getElementById("distribution-form").click()}catch(error){console.log(error),U(error.message)}finally{Ca.value=!1}console.log(e)},Du=async()=>{Pn.value;const e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e),p.value=!1;const t=new Date,a=t.getDate().toString().padStart(2,"0"),l=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getFullYear(),o=`${a}/${l}`,s=`${o}/${n}`,i=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Store Items Report</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  table tr:first-child th:first-child, table tr:first-child td:first-child { border-top-left-radius: 8px; }\n  table tr:first-child th:last-child, table tr:first-child td:last-child { border-top-right-radius: 8px; }\n  table tr:last-child td:first-child { border-bottom-left-radius: 8px; }\n  table tr:last-child td:last-child { border-bottom-right-radius: 8px; }\n  .summary-section { margin-top: 30px; font-size: 12px; }\n  .text-center {text-align: center;}\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="report-box">\n    REPORT ON.<br>\n    <span style="color:red;">${o}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 103-826-519<br>\n  VRN: 20-01-017530R\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n\n<div class="section-title">SITE STORE MATERIAL USAGE REPORT</div>\n<h3 class="header">STORE DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>PROJECT</th>\n            <th>STORE</th>\n            <th>SUPERVISOR</th>\n            <th>SUPERVISOR'S EMAIL</th>\n        </tr>\n    </thead>\n     <tbody>\n        <tr>\n          <td class="text-center">${Cs.value.project.short_name}</td>\n          <td class="text-center"> ${Cs.value.officer?.name}</td>\n          <td class="text-center"> ${Cs.value.officer?.email}</td>\n           <td class="text-center"> ${Cs.value.officer?.phone_no}</td>\n        </tr>\n    </tbody>\n</table>\n\n\n<h3 class="header">USAGE DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>S.No</th>\n            <th>Item Name</th>\n            <th>Category</th>\n            <th>Description</th>\n            <th>Quantity Used</th>\n            <th>Date Used</th>\n        </tr>\n    </thead>\n    <tbody>\n        ${sv.value.map(((e,t)=>`\n        <tr>\n            <td >${t+1}</td>\n            <td>${e.item||"--"}</td>\n            <td>${e.category||"--"}</td>\n            <td>${e.description||"--"}</td>\n            <td>${e.used||"--"}</td>\n            <td>${e.date||"--"}</td>\n        </tr>\n        `)).join("")}\n    </tbody>\n   \n</table>\n\n<div style="margin-top: 30px; text-align: right;">\n    <div>Printed on: ${s}</div>\n</div>\n\n</body>\n</html>\n`,r=e.contentWindow.document;r.open(),r.write(i),r.close(),e.onload=()=>{e.contentWindow.focus(),e.contentWindow.print(),setTimeout((()=>{document.body.removeChild(e)}),1e3)}},Eu=(0,o.iH)([]),Uu=async()=>{const e=await dn.get(`get-fuel?store_id=${c.params.store_id}`);Eu.value=e.data.map(((e,t)=>({...e,Sno:t+1,project_id:e.project_id,store_diesel_id:e.store_diesel_id,store_petrol_id:e.store_petrol_id,diesel_quantity:e.diesel_quantity,petrol_quantity:e.petrol_quantity,petrol_used:e.petrol_used,diesel_used:e.diesel_used,diesel_balance:e.diesel_quantity-e.diesel_used,petrol_balance:e.petrol_quantity-e.petrol_used})))[0]},$u=(0,o.iH)(0),Mu=async()=>{Uu(),p.value=!0;try{const e=await dn.get(`/asset-consumptions?store_id=${c.params.store_id}`);Array.isArray(e.data)?(Sa.value=e.data.filter((e=>e.store_id==c.params.store_id&&e.item_id==m.value)).map(((e,t)=>{const a=Number(e.rate),l=a*e.quantity,n=e.final_reading-e.initial_reading,o=e.machine_average_ratio||0,s=e.machine_consumption_type;let i=0;return o>0&&n>0&&(i="Litre/hr"===s?(o*n).toFixed(2):(n/o).toFixed(2)),{SNo:t+1,asset_id:e.asset_id,work:(e.final_reading-e.initial_reading).toFixed(2),fuel:e.quantity,issued:e.quantity,used:e.initial_reading&&e.final_reading&&0!==parseFloat(e.initial_reading)&&0!==parseFloat(e.final_reading)?i:"---",balance:e.initial_reading&&e.final_reading&&0!==parseFloat(e.initial_reading)&&0!==parseFloat(e.final_reading)?(e.quantity-i).toFixed(2):"---",fuel_type:e.item_name,consuption:e.consumption_type,issued_date:q(e.created_at),task:e.task,driver:e.driver_name,issuer:e.issuer_name,initial:e.initial_reading,final:e.final_reading,machine:e.machine_name,type:e.machine_type,ratio:e.machine_average_ratio,consumption_type:e.machine_consumption_type,project_id:e.project_id,store_id:e.store_id,id:e.id,remark:e.remark,volume:e.volume,used_cost:I(i*a),rate:I(a),cost:I(l),cost_original:l}})),$u.value=Sa.value.reduce(((e,t)=>e+Number(t.fuel)),0),p.value=!1):(U(error.message),console.error("Invalid response format"))}catch(error){U(error.message),p.value=!1,console.error("Error fetching Bulk Distribution: ",error)}},Hu=async()=>{p.value=!0;try{const e=await dn.get(`/asset-consumptions?project_id=${Cs.value.project_id}`);Array.isArray(e.data)?(Sa.value=e.data.map(((e,t)=>{const a=Number(e.rate),l=a*e.quantity,n=e.final_reading-e.initial_reading,o=e.machine_average_ratio||0,s=e.machine_consumption_type;let i=0;return o>0&&n>0&&(i="Litre/hr"===s?(o*n).toFixed(2):(n/o).toFixed(2)),{SNo:t+1,work:(e.final_reading-e.initial_reading).toFixed(2),fuel:e.quantity,issued:e.quantity,used:e.initial_reading&&e.final_reading&&0!==parseFloat(e.initial_reading)&&0!==parseFloat(e.final_reading)?i:"---",balance:e.initial_reading&&e.final_reading&&0!==parseFloat(e.initial_reading)&&0!==parseFloat(e.final_reading)?(e.quantity-i).toFixed(2):"---",asset_id:e.asset_id,fuel_type:e.item_name,consuption:e.consumption_type,issued_date:q(e.created_at),task:e.task,volume:e.volume,driver:e.driver_name,issuer:e.issuer_name,initial:e.initial_reading,final:e.final_reading,machine:e.machine_name,ratio:e.machine_average_ratio,consumption_type:e.machine_consumption_type,type:e.machine_type,project_id:e.project_id,store_id:e.store_id,id:e.id,remark:e.remark,raw_date:e.created_at,used_cost:I(i*a),rate:I(a),cost:I(l),cost_original:l}})),p.value=!1):(U(error.message),console.error("Invalid response format"))}catch(error){U(error.message),p.value=!1,console.error("Error fetching Bulk Distribution: ",error)}},Ru=((0,o.iH)(),JSON.parse(localStorage.getItem("user")).role,(0,o.iH)(!1),(0,o.iH)("unchecked"),(0,o.iH)(),(0,o.iH)(),(0,o.iH)([]),(0,o.iH)("")),Lu=JSON.parse(localStorage.getItem("user")).id,Au=(0,o.iH)(!1),Ou=async e=>{const t={remark:en.value.remark+"\n"+Ru.value};Au.value=!0;try{await dn.put(`remarks/${e}`,t),C("Remark Saved"),tn(),Ru.value="",document.getElementById("close-challenge-remark").click()}catch(error){U(error.message),console.log(error)}finally{Au.value=!1}},Iu=async()=>{Au.value=!0;const e={initial_reading:st.value.initial,final_reading:st.value.final,remark:st.value.remark,task:st.value.task,volume:st.value.volume,unit:st.value.unit.short_name};try{await dn.put(`asset-consumptions/${st.value.id}`,e);C("Readings Updated"),Mu();const t=document.getElementById("edit");if(t){const e=window.bootstrap?.Modal?.getInstance(t)||(window.bootstrap?.Modal?new window.bootstrap.Modal(t):null);e?e.hide():t.classList.remove("show")}}catch(error){U(error.message),console.log(error)}finally{Au.value=!1}},Nu=(0,o.iH)(["sno","name","category","total_issued","total_received","action"]),qu=(0,o.iH)(["sno","delivery_no","issuer","issued","receiver","received","date_issued","date_received"]),Vu=(0,o.iH)([]),ju=(0,o.iH)(""),zu=(0,o.iH)([]),Pu=async()=>{p.value=!0;const e=await dn.get(`good-delivery-note-items?project_id=${Cs.value.project_id}`);zu.value=e.data.map(((e,t)=>({...e,sno:t+1,name:e.name+" - "+e.description,raw_date:e.records[0]?.date_received}))),p.value=!1},Bu=(0,o.iH)(["SNo","item","description","units","receiver","date","approved","received","shortage","briefing","remark","cost","status"]),Fu=(0,o.iH)([]),Wu=()=>{p.value=!0,dn.get(`/grn-items?project_id=${Cs?.value.project_id}`).then((e=>{Fu.value=e.data.map(((e,t)=>({...e,SNo:t+1,id:e.id,receiver:e?.receiver?.name,grn:e.grn_id,remark:e.remark,date:q(e.created_at),item:e.approval_item.requisition_item.remark,description:e.approval_item.requisition_item.description,units:e.approval_item.requisition_item.units,rate:e.approval_item.requisition_item.rate,received:e.quantity,approved:e.approval_item.quantity,shortage:(e.approval_item.quantity-e.quantity).toFixed(2),briefing:e.description,cost:I(e.approval_item.requisition_item.rate*(e.approval_item.quantity-e.quantity)),rate:e.approval_item.requisition_item.rate}))),p.value=!1})).catch((e=>{U(e.message||"Failed to fetch units"),p.value=!1}))},Yu=(0,l.Fl)((()=>Fu.value.filter((e=>"Rejected"===e.status?.name)).reduce(((e,t)=>{const a=t.approval_item.requisition_item.rate*(t.approval_item.quantity-t.quantity)||0;return e+a}),0))),Qu=(0,o.iH)([]),Ju=(0,o.iH)(["Sno","name","labour_type","task","date","reporting_time","departure_time","description","remark","status","actions"]),Xu=async()=>{p.value=!0;try{const e=await dn.get(`labour-attendants?project_id=${Cs.value.project_id}`);Qu.value=e.data.map(((e,t)=>({...e,raw_date:e.created_at,Sno:t+1,labour_id:e.labour_id,name:e.labour_name,task:e.task,remark:e.remark,description:e.description,date:q(e.created_at),reporting_time:e.reporting_time,departure_time:e.departure_time,labour_type:e.labour_type?.name,status_id:e.status.id,status:{key:e.status.name,class:e.status.color}})))}catch(error){console.log(error),U(error.message)}finally{p.value=!1}},Ku=((0,o.iH)(""),(0,o.iH)("")),Gu=(0,o.iH)(""),Zu=(0,o.iH)(""),em=(0,o.iH)(""),tm=(0,o.iH)(""),am=(0,o.iH)(""),lm=(0,o.iH)(""),nm=(0,o.iH)(""),om=(0,o.iH)([]),sm=async()=>{Au.value=!0;try{let e=null,t=null,a=null;if(t=Wv.value?Ku.value:da.value.name,a=Wv.value?lm.value.id:da.value.labour_type_id,Wv.value){const t=await dn.post("labours",{name:Ku.value,phone_no:Gu.value,project_id:Cs.value.project_id,labour_type_id:lm.value.id});e=t.data.data.id}else e=da.value.id;const l=(new Date).toISOString().split("T")[0],n=Qu.value.find((t=>{const a=new Date(t.raw_date).toISOString().split("T")[0];return t.labour_id===e&&a===l}));if(n)return U("Labour attendance has already been recorded today"),void(Au.value=!1);const o={labour_id:e,labour_name:t,labour_type_id:a,project_id:Cs.value.project_id,description:Cn.value,task:em.value,reporting_time:tm.value,departure_time:am.value,registrar_id:JSON.parse(localStorage.getItem("user")).id,remark:Ru.value};await dn.post("labour-attendants",o),Xu(),Fv(),im(),C("Labour Attendant registered")}catch(error){console.log(error),U(error.message)}finally{Au.value=!1}},im=()=>{Ku.value="",Gu.value="",da.value="",em.value="",tm.value="",am.value="",lm.value="",Ru.value="",Cn.value="",Wl.value=!1},rm=async()=>{Au.value=!0;const e={description:Cn.value,departure_time:am.value,status_id:nm.value.id};try{await dn.put(`labour-attendants/${Zu.value}`,e);Xu(),document.getElementById("close_labour_attendant").click(),C("Labour Attendant updated")}catch(error){console.log(error),U(error.message)}finally{Au.value=!1}},dm=()=>{Cn.value="",am.value=""},cm=e=>{Zu.value=e.id,Cn.value=e.description,am.value=e.departure_time,nm.value=e.status_id&&mm.value.find((t=>t.id===e.status_id))||""},um=async()=>{try{const e=await dn.get("labour-types");om.value=e.data}catch(error){U(error.message)}},mm=(0,o.iH)([]),vm=async()=>{try{const e=await dn.get("/statuses");mm.value=e.data.filter((e=>8===e.id||19===e.id))}catch(error){U(error.message)}},pm=(0,o.iH)(["Sno","activity","unit","quantity","description","actions"]),bm=(0,o.iH)(["Sno","activity","unit","quantity","actions"]),_m=(0,o.iH)([]),hm=(0,o.iH)(""),gm=(0,o.iH)(""),ym=(0,o.iH)(""),fm=(0,l.f3)("whatsappAlert"),wm=()=>{hm.value?(_m.value.push({Sno:_m.value.length+1,activity:hm.value,unit_id:Tm?.value?.id||"",unit:Tm?.value?.short_name||"",quantity:Tn.value,description:gm.value||""}),hm.value="",Tm.value=null,Tn.value="",gm.value=""):U("Please fill an activity")},km=e=>{_m.value=_m.value.filter((t=>t.Sno!==e)),_m.value=_m.value.map(((e,t)=>({...e,Sno:t+1})))},xm=async()=>{if(0===_m.value.length)return void U("Please add atleast one activity.");Au.value=!0;const e={report_name:Cm.value,description:Cn.value,date:Dm.value,project_id:Cs.value.project.id,supervisor_id:JSON.parse(localStorage.getItem("user")).id,activities:_m.value};try{await dn.post("/work-carried-outs",e),await Gm(),Sm(),document.getElementById("close_report").click(),C("Data Saved");const t=`${JSON.parse(localStorage.getItem("user")).name} created a work report:\n\nReport: ${e.report_name}\nProject: ${Cs.value.project.short_name}\nDate: ${e.date}\nDescription: ${e.description}\n\nActivities:\n`+e.activities.map((e=>`${e.activity} ${e.quantity}${e.unit}`)).join("\n"),a="wamid.HBgMMjU1Njk4MjY3NjYyFQIAEhggQUM5QUMyMzIyRUVEMTJBOTNBNTIwQjRCMTA3QUNGQTQA",l=["255697315583","255698267662"];l.forEach((e=>{fm(t,a,e)}))}catch(error){console.error(error),U(error.message)}finally{Au.value=!1}},Sm=()=>{Cm.value="",Cn.value="",Dm.value="",hm.value="",Tm.value=null,Tn.value="",gm.value="",_m.value=[],Ru.value="",Bm.value="";const e=document.querySelectorAll('input[type="file"]');e.forEach((e=>e.value=""))},Cm=(0,o.iH)(""),Tm=(0,o.iH)(""),Dm=(0,o.iH)(""),Em=(0,o.iH)(""),Um=(0,o.iH)([]),$m=async()=>{p.value=!0;try{const e=await dn.get(`work-carried-outs?project_id=${Cs.value.project_id}`);Um.value=e.data.map(((e,t)=>({...e,Sno:t+1,date:q(e.date||e.created_at),raw_date:e.created_at,activities:e.activities.map(((e,t)=>({...e,Sno:t+1,unit:e.unit?.short_name||"--"})))})))}catch(error){console.error(error),U(error.message)}finally{p.value=!1}},Mm=(0,o.iH)([]),Hm=async()=>{p.value=!0;try{const e=await dn.get("units");Mm.value=e.data}catch(error){U(error.message)}finally{p.value=!1}},Rm=e=>{Em.value=e.id,Ru.value=e.remark},Lm=async()=>{Au.value=!0;const e={remark:Ru.value};try{await dn.put(`work-carried-outs/${Em.value}`,e);await Gm(),document.getElementById("close_remark").click(),C("Work Report updated")}catch(error){console.log(error),U(error.message)}finally{Au.value=!1}},Am=e=>{ym.value=e.id,hm.value=e.activity,Tn.value=e.quantity,Tm.value=e.unit_id&&Mm.value.find((t=>t.id===e.unit_id))||""},Om=async()=>{Au.value=!0;const e={activity:hm.value,quantity:Tn.value,unit_id:Tm?.value?.id??""};try{await dn.put(`site-activities/${ym.value}`,e);await Gm(),document.getElementById("close_activity").click(),C("activity updated")}catch(error){console.log(error),U(error.message)}finally{Au.value=!1}},Im=(0,o.iH)(!1),Nm=(0,o.iH)(null),qm=async e=>{const t=await Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"});if(t.isConfirmed){Im.value=!0,Nm.value=e;try{await dn.delete(`work-carried-outs/${e}`),await Gm(),C("work carried out deleted successfully")}catch(error){console.error(error),U(error.message)}finally{Im.value=!1,Nm.value=null}}},Vm=(0,o.iH)(!1),jm=(0,o.iH)(null),zm=async e=>{Vm.value=!0,jm.value=e;try{await dn.delete(`site-activities/${e}`),await Gm(),C("Activity deleted successfully")}catch(error){console.error(error),U(error.message)}finally{Vm.value=!1,jm.value=null}},Pm=async()=>{Au.value=!0;const e={work_carried_out_id:Em.value,activity:hm.value,quantity:Tn.value,unit_id:Tm.value.id};try{await dn.post("site-activities",e);await Gm(),document.getElementById("close_add").click(),C("activity added")}catch(error){console.log(error),U(error.message)}finally{Au.value=!1}},Bm=(0,o.iH)(null),Fm=e=>{const t=e.target.files[0];Bm.value=t instanceof File?t:null,console.log("FILE SENT:",Bm.value)},Wm=async()=>{Au.value=!0;const e=new FormData;e.append("work_carried_out_id",Em.value),e.append("description",Cn.value),Bm.value instanceof File&&e.append("file_path",Bm.value);try{const t=await dn.post("work-carried-out-attachments",e,{headers:{"Content-Type":"multipart/form-data"}});await Gm(),document.getElementById("close_attachment").click(),C("Attachment added"),console.log("File URL:",t.data.url)}catch(error){console.error(error),U(error.message)}finally{Au.value=!1}},Ym=(e,t)=>{Qm.value=e,Jm.value=t},Qm=(0,o.iH)(""),Jm=(0,o.iH)(null),Xm=(0,o.iH)(""),Km=(0,l.Fl)((()=>Xm.value?Um.value.filter((e=>{const t=Xm.value.toLowerCase();return e.report_name?.toLowerCase().includes(t)||e.description?.toLowerCase().includes(t)||e.supervisor?.name?.toLowerCase().includes(t)||e.date?.includes(t)||e.remark?.toLowerCase().includes(t)||e.activities?.some((e=>e.activity?.toLowerCase().includes(t)||e.unit?.short_name?.toLowerCase().includes(t)))})):Um.value)),Gm=async()=>{const e=await dn.get(`work-carried-outs?project_id=${Cs.value.project_id}`);Um.value=e.data.map(((e,t)=>({...e,Sno:t+1,date:q(e.date||e.created_at),activities:e.activities.map(((e,t)=>({...e,Sno:t+1,unit:e.unit?.short_name||"--"})))})))},Zm=(0,o.iH)(!1),ev=(0,o.iH)(null),tv=async e=>{Zm.value=!0,ev.value=e;try{await dn.delete(`work-carried-out-attachments/${e}`),await Gm(),C("Attachment deleted successfully")}catch(error){console.error(error),U(error.message)}finally{Zm.value=!1,ev.value=null}},av=(0,o.iH)(0),lv=()=>{av.value+=90},nv=(e,t="raw_date")=>(0,l.Fl)((()=>P.value?e.value.filter((e=>{const a=e[t];if(!a)return!1;if(/^\d{4}-\d{2}-\d{2}$/.test(a))return a===P.value;if(/^\d{2}\/\d{2}\/\d{2}/.test(a)){const e=a.split(" ")[0].split("/"),t="20"+e[2],l=e[1],n=e[0],o=`${t}-${l}-${n}`;return o===P.value}return new Date(a).toISOString().split("T")[0]===P.value})):e.value)),ov=(e,t="raw_date")=>(0,l.Fl)((()=>{if(!P.value)return e.value;const a=new Date(P.value),l=a.getDay(),n=0===l?-6:1-l,o=new Date(a);o.setDate(a.getDate()+n);const s=new Date(o);s.setDate(o.getDate()+6);const i=o.toISOString().split("T")[0],r=s.toISOString().split("T")[0];return e.value.filter((e=>{const a=e[t];if(!a)return!1;let l;if(/^\d{2}\/\d{2}\/\d{2}/.test(a)){const e=a.split(" ")[0].split("/"),t="20"+e[2],n=e[1],o=e[0];l=`${t}-${n}-${o}`}else if(/^\d{4}-\d{2}-\d{2}$/.test(a))l=a;else{const e=new Date(a);if(isNaN(e.getTime()))return!1;l=e.toISOString().split("T")[0]}return l>=i&&l<=r}))})),sv=nv(An),iv=nv(Qu),rv=nv(Zl),dv=nv(Sa),cv=nv(Um,"date"),uv=nv(a,"date"),mv=ov(An),vv=ov(Qu),pv=ov(Zl),bv=ov(Sa),_v=ov(Um,"date"),hv=ov(a,"date"),gv=async()=>{P.value&&""!==P.value||(P.value=(new Date).toISOString().slice(0,10)),p.value=!0;try{await Ev();const e=sv.value||[],t=iv.value||[],a=rv.value||[],l=dv.value||[],n=cv.value||[],o=uv.value||[],s=e.length>0||t.length>0||a.length>0||l.length>0||n.length>0||o.length>0,i=q(P.value),r=new Date(P.value),d=r.getDate().toString().padStart(2,"0"),c=(r.getMonth()+1).toString().padStart(2,"0"),u=`${d}/${c}`,m=t.reduce(((e,t)=>{const a=t.labour_type||"Others";return e[a]||(e[a]=0),e[a]++,e}),{}),v=t.find((e=>"Supervisor"===e.labour_type||"Foreman"===e.labour_type))||Cs.value?.officer||{name:"--"},b=document.createElement("iframe");b.style.display="none",document.body.appendChild(b);const _=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Daily Construction Report</title>\n<style>\n  body { font-family: 'Courier New', monospace; margin: 40px; font-size: 13px; }\n  .text-style { font-family: 'Courier New', monospace; }\n  .header-container { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }\n  .company-title { text-align: center; flex: 1; }\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; border-radius: 5px; min-width: 80px; margin-top: 20px; }\n  .title { text-align: center; font-size: 20px; margin: 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; }\n  th, td { border: 0.5px solid #000; padding: 6px; text-align: left; }\n  th { background-color: #f8f8f8; font-weight: bold; }\n  .text-right { text-align: right; }\n  .text-center { text-align: center; }\n  hr { border: 0; border-top: 0.5px solid #000; margin: 0px 0; }\n  .section { margin-top: 20px; }\n  .side-by-side { display: flex; gap: 20px; margin-top: 20px; }\n  .side-by-side > div { flex: 1; }\n  .no-data-message {\n    text-align: center;\n    padding: 40px;\n    font-size: 14px;\n    color: #666;\n  }\n  @media print { body { margin: 10mm; } }\n</style>\n</head>\n<body>\n\n<div class="header-container">\n  <div style="width: 80px;"></div>\n  <div class="company-title text-style">\n    <i>\n    <h1>COPEX CONTRACTORS CO.LTD</h1>\n    <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\n    <div><b>Tel:</b> 0713 000 777, 0657 111 555</div>\n    <div><b>Email:</b> info@copexcontractors.co.tz</div>\n    <div><b>TIN:</b> 103-826-519 &nbsp;&nbsp; <b>VRN:</b> 20-01-017530R</div>\n    </i>\n  </div>\n  <div class="report-box">\n    REPORT NO.<br>\n    <span style="color:red;">${u}</span>\n  </div>\n</div>\n\n<hr style="margin-top:20px">\n\n<div class="title text-style">\n  DAILY CONSTRUCTION REPORT\n</div>\n\n<hr>\n\n<div style="display: flex; gap: 40px; margin: 10px 0;">\n  <div style="flex: 1;">\n    <div><strong>Date:</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;${i}</div>\n    <div><strong>Location:</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;${Cs.value?.project?.short_name||"--"}</div>\n  </div>\n  <div style="flex: 1;">\n    <div><strong>Contractor:</strong>&nbsp;&nbsp;&nbsp;COPEX CONTRACTORS</div>\n    <div><strong>Tender No.:</strong>&nbsp;&nbsp;&nbsp;${Cs.value?.project?.contract_number||"--"}</div>\n  </div>\n</div>\n\n${s?`\n<div class="side-by-side">\n  <div>\n    <table>\n         <thead>\n           <tr>\n             <th colspan="2" style="background-color:black; color:black;">CONTRACTOR'S LABOR FORCE</th>\n             </tr>\n           <tr>\n             <th>Classification</th>\n             <th># of Persons</th>\n           </tr>\n         </thead>\n         <tbody>\n           ${Object.entries(m).map((([e,t],a)=>`\n           <tr>\n             <td>${e}</td>\n             <td>${t}</td>\n           </tr>\n           `)).join("")}\n           ${0===Object.keys(m).length?'\n           <tr>\n             <td colspan="2">No labor attendance recorded</td>\n           </tr>\n           ':""}\n         </tbody>\n       </table>\n  </div>\n\n  <div>\n    <table>\n      <thead>\n        <tr>\n          <th colspan="5">Material Received at Site</th>\n        </tr>\n        <tr>\n          <th>Item</th>\n          <th>unit</th>\n          <th>Category</th>\n          <th>Received</th>\n          <th>Receiver</th>\n        </tr>\n      </thead>\n      <tbody>\n        ${o.map((e=>`\n        <tr>\n          <td>${e.item_name||"--"}</td>\n          <td>${e.unit||"--"}</td>\n          <td>${e.category||"--"}</td>\n          <td>${I(e.received||"0")}</td>\n          <td>${e.receiver||"--"}</td>\n        </tr>\n        `)).join("")}\n        ${0===o.length?'\n        <tr>\n          <td colspan="5">No delivery notes recorded</td>\n        </tr>\n        ':""}\n      </tbody>\n    </table>\n  </div>\n</div>\n\n<div class="section">\n  <table>\n    <thead>\n      <tr>\n        <th colspan="4">EQUIPMENT USED TODAY</th>\n      </tr>\n      <tr>\n        <th>Machine Type</th>\n        <th>Machine Name</th>\n        <th>Type of Work</th>\n        <th>Fuel Issued</th>\n      </tr>\n    </thead>\n    <tbody>\n      ${l.map((e=>`\n      <tr>\n        <td>${e.type||"--"}</td>\n        <td>${e.machine||"--"}</td>\n        <td>${e.task||"--"}</td>\n        <td>${e.issued||"0"} L (${e.fuel_type||"Diesel"})</td>\n      </tr>\n      `)).join("")}\n      ${0===l.length?'\n      <tr>\n        <td colspan="4">No equipment usage recorded</td>\n      </tr>\n      ':""}\n    </tbody>\n  </table>\n</div>\n\n\n  <div class="section">\n    <table>\n      <thead>\n        <tr>\n          <th colspan="3">MATERIALS USED</th>\n        </tr>\n        <tr>\n          <th>Item</th>\n          <th>Description</th>\n          <th>Used</th>\n        </tr>\n      </thead>\n      <tbody>\n        ${e.map((e=>`\n        <tr>\n          <td>${e.item||"--"}</td>\n          <td>${e.description||"--"}</td>\n          <td>${e.used||"0"}</td>\n        </tr>\n        `)).join("")}\n        ${0===e.length?'\n        <tr>\n          <td colspan="3">No materials recorded</td>\n        </tr>\n        ':""}\n      </tbody>\n    </table>\n  </div>\n\n<div class="section">\n  ${n.map((e=>`\n  ${e.activities?.length?`\n  <table>\n    <thead>\n      <tr>\n        <th colspan="4">WORK ACTIVITY</th>\n      </tr>\n      ${e.activities.map(((e,t)=>`\n      <tr>\n        <td>${t+1}. ${e.activity||"--"} - ${e.quantity||"0"} ${e.unit||""}</td>\n      </tr>`)).join("")}\n    </thead>\n  </table>\n  `:"<p>No activities recorded</p>"}\n  `)).join("")}\n</div>\n\n<div class="section">\n  <table>\n    <thead>\n      <tr>\n        <th colspan="4">Comments & Site Requirements</th>\n      </tr>\n      ${a.map(((e,t)=>`\n      <tr>\n        <td>${t+1}. ${e.challenge||"--"} - ${e.reported_by||"--"} - ${e.proposed_measure||"--"} - ${e.remark||"--"}</td>\n      </tr>\n      `)).join("")}\n      ${0===a.length?'\n      <tr>\n        <td colspan="4">No comments or requirements reported</td>\n      </tr>\n      ':""}\n    </thead>\n  </table>\n</div>\n\n<div class="section">\n  ${n.map((e=>`\n  ${e.attachments?.length?`\n  <table>\n    <thead>\n      <tr>\n        <th colspan="4">Attachments for ${e.report_name||"Work Report"}</th>\n      </tr>\n      ${e.attachments.map(((e,t)=>`\n      <tr>\n        <td>${t+1}. ${e.description||"No description"} - ${e.file_path||""}</td>\n      </tr>`)).join("")}\n    </thead>\n  </table>\n  `:""}\n  `)).join("")}\n</div>\n`:`\n<div class="no-data-message">\n  <p><strong>No data available for the selected date (${i})</strong></p>\n</div>\n`}\n\n${s?`\n<div style="margin-top: 30px;">\n  <table>\n    <thead>\n      <tr>\n        <th colspan="2">REPORTED BY</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td><strong>Name:</strong></td>\n        <td>${v.name}</td>\n      </tr>\n      <tr>\n        <td><strong>Title:</strong></td>\n        <td>Site Supervisor</td>\n      </tr>\n      <tr>\n        <td><strong>Date:</strong></td>\n        <td>${i}</td>\n      </tr>\n      <tr>\n        <td><strong>Signature:</strong></td>\n        <td><strong>Date:</strong></td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n`:""}\n\n</body>\n</html>\n`,h=b.contentWindow.document;h.open(),h.write(_),h.close(),b.onload=()=>{b.contentWindow.focus(),b.contentWindow.print(),setTimeout((()=>{document.body.removeChild(b)}),1e3),P.value="",p.value=!1}}catch(error){console.error(error),U(error.message),p.value=!1}},yv=async()=>{P.value&&""!==P.value||(P.value=(new Date).toISOString().slice(0,10)),p.value=!0;try{const e=P.value?mv.value||[]:An.value||[],t=P.value?vv.value||[]:Qu.value||[],a=P.value?pv.value||[]:Zl.value||[],l=P.value?bv.value||[]:Sa.value||[],n=P.value?_v.value||[]:Um.value||[],o=P.value?hv.value||[]:zu.value||[],s=e.length>0||t.length>0||a.length>0||l.length>0||n.length>0||o.length>0;let i="",r="";if(P.value){const e=P.value,t=new Date(e),a=t.getDay(),l=0===a?-6:1-a,n=new Date(t);n.setDate(t.getDate()+l);const o=new Date(n);o.setDate(n.getDate()+6),i=q(n.toISOString().split("T")[0]),r=q(o.toISOString().split("T")[0])}const d=document.createElement("iframe");d.style.display="none",document.body.appendChild(d);const c=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Weekly Comprehensive Report</title>\n<style>\n  body {\n    font-family: 'Courier New', monospace;\n    margin: 30px;\n    font-size: 12px;\n  }\n  .text-style { font-family: 'Courier New', monospace; }\n  .company-title { text-align: center; }\n  .title {\n    text-align: center;\n    font-size: 15px;\n    margin: 10px 0;\n    font-weight: bold;\n  }\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    margin-top: 10px;\n    font-size: 11px;\n  }\n  th, td {\n    border: 0.5px solid #000;\n    padding: 5px;\n  }\n  th {\n    background-color: #f8f8f8;\n    font-weight: bold;\n  }\n  .text-center { text-align: center; }\n  .text-right { text-align: right; }\n  hr {\n    border: 0;\n    border-top: 0.5px solid #000;\n    margin: 10px 0;\n  }\n  .section-title {\n    margin-top: 18px;\n    font-weight: bold;\n    text-decoration: underline;\n  }\n  .no-data-message {\n    text-align: center;\n    padding: 40px;\n    font-size: 14px;\n    color: #666;\n  }\n  @media print { body { margin: 8mm; } }\n</style>\n</head>\n\n<body>\n\n<div class="company-title text-style">\n  <i>\n    <h1 style="font-size:18px;margin:5px 0;">COPEX CONTRACTORS CO.LTD</h1>\n    <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\n    <div><b>Tel:</b> 0713 000 777, 0657 111 555</div>\n    <div><b>Email:</b> info@copexcontractors.co.tz</div>\n    <div><b>TIN:</b> 103-826-519 &nbsp;&nbsp; <b>VRN:</b> 20-01-017530R</div>\n  </i>\n</div>\n\n<hr>\n\n<div class="title text-style">\n  WEEKLY COMPREHENSIVE REPORT\n</div>\n\n<div class="text-style text-center">\n  <strong>Period:</strong> ${r?`${i} to ${r}`:i}\n</div>\n\n<hr>\n\n<p><strong>Project:</strong> ${Cs.value?.project?.short_name||"--"}</p>\n<p><strong>Supervisor:</strong> ${Cs.value?.officer?.name||"--"} |\n<strong>Email:</strong> ${Cs.value?.officer?.email||"--"} |\n<strong>Phone:</strong> ${Cs.value?.officer?.phone_no||"--"}</p>\n\n${s?`\n\x3c!-- MATERIALS --\x3e\n${e.length?`\n<div class="section-title">MATERIALS USED</div>\n<table>\n<thead>\n<tr>\n  <th>No</th><th>Item</th><th>Category</th>\n  <th class="text-center">Qty</th>\n  <th>Task</th><th>Date</th>\n</tr>\n</thead>\n<tbody>\n${e.map(((e,t)=>`\n<tr>\n  <td>${t+1}</td>\n  <td>${e.item||"--"}</td>\n  <td>${e.category||"--"}</td>\n  <td class="text-center">${e.used||"--"}</td>\n  <td>${e.task||"--"}</td>\n  <td>${e.date||"--"}</td>\n</tr>`)).join("")}\n</tbody>\n</table>`:""}\n\n\x3c!-- DELIVERY NOTES --\x3e\n${o.length?`\n<div class="section-title">DELIVERY NOTES</div>\n<table>\n<thead>\n<tr>\n  <th>No</th><th>Delivery No</th><th>Item</th><th>Category</th>\n  <th class="text-center">Issued</th>\n  <th class="text-center">Received</th>\n  <th>Issuer</th><th>Receiver</th><th>Date Issued</th><th>Date Received</th>\n</tr>\n</thead>\n<tbody>\n${o.map(((e,t)=>`\n<tr>\n  <td>${t+1}</td>\n  <td>${e.delivery_no||"--"}</td>\n  <td>${e.item_name||"--"}</td>\n  <td>${e.category||"--"}</td>\n  <td class="text-center">${e.issued||"--"}</td>\n  <td class="text-center">${e.received||"--"}</td>\n  <td>${e.issuer||"--"}</td>\n  <td>${e.receiver||"--"}</td>\n  <td>${e.date_issued||"--"}</td>\n  <td>${e.date_received||"--"}</td>\n</tr>`)).join("")}\n</tbody>\n</table>`:""}\n\n\x3c!-- FUEL --\x3e\n${l.length?`\n<div class="section-title">FUEL STATEMENT</div>\n<table>\n<thead>\n<tr>\n  <th>No</th><th>Issuer</th><th>Driver</th>\n  <th>Machine</th><th>Task</th>\n  <th class="text-right">Issued</th><th>Balance</th><th>Ratio</th><th>Date</th>\n</tr>\n</thead>\n<tbody>\n${l.map(((e,t)=>`\n<tr>\n  <td>${t+1}</td>\n  <td>${e.issuer||"--"}</td>\n  <td>${e.driver||"--"}</td>\n  <td>${e.machine||"--"}-${e.type||"--"}</td>\n  <td>${e.task||"--"}</td>\n  <td class="text-right">${e.issued||"--"}</td>\n  <td>${e.balance||"--"}</td>\n  <td>${e.ratio||"--"}</td>\n  <td>${e.issued_date||"--"}</td>\n</tr>`)).join("")}\n</tbody>\n</table>`:""}\n\n\x3c!-- ATTENDANCE --\x3e\n${t.length?`\n<div class="section-title">LABOUR ATTENDANCE</div>\n<table>\n<thead>\n<tr>\n  <th>No</th><th>Name</th><th>Type</th>\n  <th>Task</th><th>In</th><th>Out</th><th>Date</th>\n</tr>\n</thead>\n<tbody>\n${t.map(((e,t)=>`\n<tr>\n  <td>${t+1}</td>\n  <td>${e.name||"--"}</td>\n  <td>${e.labour_type||"--"}</td>\n  <td>${e.task||"--"}</td>\n  <td>${e.reporting_time||"--"}</td>\n  <td>${e.departure_time||"--"}</td>\n  <td>${e.date||"--"}</td>\n</tr>`)).join("")}\n</tbody>\n</table>`:""}\n`:`\n<div class="no-data-message">\n  <p><strong>No data available for the selected week (${i} to ${r})</strong></p>\n</div>\n`}\n\n</body>\n</html>\n`,u=d.contentWindow.document;u.open(),u.write(c),u.close(),d.onload=()=>{d.contentWindow.focus(),d.contentWindow.print(),document.body.removeChild(d),p.value=!1,P.value=""}}catch(error){console.error(error),U("Failed to generate weekly report"),p.value=!1}};(0,l.bv)((async()=>{Hm(),Tv(),Qe(),Oe(),await Ts(),Xu()}));const fv=(0,o.iH)(""),wv=(0,o.iH)({address:"",latitude:null,longitude:null,timestamp:null}),kv=(0,o.iH)(!1),xv=(0,o.iH)(!1),Sv=()=>{wv.value.latitude&&wv.value.longitude?Swal.fire({title:"Report to Site",html:'\n            <div class="text-center">\n                <p>This will record your current location and time.</p>\n            </div>\n        ',icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Report Now",cancelButtonText:"Cancel"}).then((e=>{e.isConfirmed&&Cv()})):window.open("https://support.google.com/chrome/answer/142065?hl=en","_blank")},Cv=async()=>{xv.value=!0;try{if(wv.value.latitude&&wv.value.longitude||await Qe(),!wv.value.latitude||!wv.value.longitude)throw new Error("Failed to get location. Please enable location services.");const e={user_id:JSON.parse(localStorage.getItem("user")).id,store_id:c.params.store_id,location:wv.value.address,latitude:wv.value.latitude,longitude:wv.value.longitude};await dn.post("geo-location-attendances",e),C("Successfully reported to site!"),await Tv()}catch(error){console.log(error),U(error.response.data.message)}finally{xv.value=!1}},Tv=async()=>{Ca.value=!0;try{const e=await dn.get(`user-status/${JSON.parse(localStorage.getItem("user")).id}`);fv.value=e.data,De.includes("can_check_site_report")&&(fv.value={report:!0})}catch(error){U(error.message),console.log(error)}finally{Ca.value=!1}},Dv=(0,o.iH)(!1),Ev=async()=>{Dv.value=!0;try{await Hu(),await $m(),await tn(),await On(),await Pv()}catch(error){console.log(error),U(error.message)}finally{Dv.value=!1}},Uv=e=>{$v.value=e.target.files[0]},$v=(0,o.iH)(""),Mv=(0,o.iH)(""),Hv=(0,o.iH)(!1),Rv=async()=>{Hv.value=!0;const e=new FormData;e.append("store_id",c.params.store_id),e.append("date",Dm.value),e.append("remark",Mv.value),e.append("attachment",$v.value);try{await dn.post("site-report-attachments",e,{headers:{"Content-Type":"multipart/form-data"}});C("Attachment uploaded successfully!"),Lv(),zv()}catch(error){U(error.message),console.log(error)}finally{Hv.value=!1}},Lv=()=>{Iv.value=!1,Mv.value="",$v.value=""},Av=(0,l.f3)("showConfirmation"),Ov=async e=>{const t=await Av("Delete Record",`Are you sure you want to delete ${e.description}?`,`site-report-attachments/${e.id}`,"delete");t?.refresh&&await zv()},Iv=(0,o.iH)(!1),Nv=(0,o.iH)([]),qv=(0,o.iH)(["SNo","description","date","actions"]),Vv=(0,o.iH)(!1),jv=async()=>{Vv.value=!0;try{const e=await dn.get(`site-report-attachments?store_id=${c.params.store_id}`);Nv.value=e.data.map(((e,t)=>({...e,SNo:t+1,description:e.remark||"--"})))}catch(error){console.log(error),U(error.message)}finally{Vv.value=!1}},zv=async()=>{const e=await dn.get(`site-report-attachments?store_id=${c.params.store_id}`);Nv.value=e.data.map(((e,t)=>({...e,SNo:t+1,description:e.remark||"--",date:q(e.created_at)})))},Pv=async()=>{p.value=!0;try{const e=await dn.get(`all-delivery-note-items?project_id=${Cs.value.project_id}`);a.value=e.data.map(((e,t)=>({...e,sno:t+1,delivery_no:e.delivery_no,issuer:e.issuer,issued:e.issued_qty,receiver:e.receiver,received:e.received_qty,date_issued:q(e.date_issued),date_received:q(e.date_received),date:e.date_received})))}catch(error){U(error.message),console.log(error)}finally{p.value=!1}},Bv=(0,o.iH)([]),Fv=async()=>{try{const e=await dn.get(`labours?project_id=${Cs.value.project_id}`);Bv.value=[{id:"new",name:" New Labour"},...e.data]}catch(error){U(error.message),console.log(error)}},Wv=(0,l.Fl)((()=>"new"===da.value?.id));return(e,a)=>{const i=(0,l.up)("v-client-table"),r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",b,[_,fv.value.report?((0,l.wg)(),(0,l.iD)("div",h,[(0,l.wy)((0,l._)("input",{type:"date","onUpdate:modelValue":a[0]||(a[0]=e=>P.value=e),class:"form-control form-control-sm",onChange:nv,style:{width:"160px"}},null,544),[[n.nr,P.value]]),(0,l._)("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=e=>gv()),disabled:Dv.value},[Dv.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(E)()},null,8,y)):((0,l.wg)(),(0,l.iD)("span",f,"Print Daily Report"))],8,g),w,(0,l._)("button",{class:"btn btn-primary btn-sm",onClick:a[2]||(a[2]=e=>Ev().then((()=>yv()))),disabled:Dv.value},[Dv.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(E)()},null,8,x)):((0,l.wg)(),(0,l.iD)("span",S,"Print Weekly Report"))],8,k),(0,l._)("button",{class:"btn btn-outline-secondary btn-sm","data-bs-toggle":"modal","data-bs-target":"#view-site-attachment-modal",onClick:a[3]||(a[3]=e=>jv()),title:"View Site Report Attachments"},T),(0,o.SU)(De).includes("can_print_daily_work_report")?((0,l.wg)(),(0,l.iD)("a",D,$)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),fv.value.report?((0,l.wg)(),(0,l.iD)("div",M,[(0,l._)("div",H,[(0,l._)("ul",R,[L,(0,l._)("li",{class:"nav-item",onClick:a[4]||(a[4]=e=>On())},O),(0,l._)("li",{class:"nav-item",onClick:a[5]||(a[5]=e=>(m.value=364,Mu()))},N),(0,l._)("li",{class:"nav-item",onClick:a[6]||(a[6]=e=>(m.value=365,Mu()))},V),(0,l._)("li",{class:"nav-item",onClick:a[7]||(a[7]=e=>(m.value="",Hu()))},z),(0,l._)("li",{class:"nav-item",onClick:a[8]||(a[8]=e=>Pu())},B),(0,l._)("li",{class:"nav-item",onClick:a[9]||(a[9]=e=>Bn())},[(0,l._)("a",{class:"nav-link",id:"store-tab","data-bs-toggle":"tab",href:"#store",role:"tab","aria-controls":"store","aria-selected":"true",tabindex:fv.value.report?0:-1}," Store Items ",8,F)]),(0,l._)("li",W,[(0,l._)("a",{class:(0,s.C_)(["nav-link",{disabled:!fv.value.report}]),id:"shortage-tab","data-bs-toggle":"tab",href:"#shortage",onClick:a[10]||(a[10]=e=>Wu()),role:"tab","aria-controls":"store","aria-selected":"true",tabindex:fv.value.report?0:-1}," Shortage Statement ",10,Y)]),(0,l._)("li",Q,[(0,l._)("a",{class:(0,s.C_)(["nav-link",{disabled:!fv.value.report}]),id:"challenge-tab","data-bs-toggle":"tab",href:"#challenge",onClick:a[11]||(a[11]=e=>tn()),role:"tab","aria-controls":"challenge","aria-selected":"true",tabindex:fv.value.report?0:-1}," Challenges Faced ",10,J)]),(0,l._)("li",X,[(0,l._)("a",{class:"nav-link active",id:"labour-tab","data-bs-toggle":"tab",href:"#labour",onClick:a[12]||(a[12]=e=>Xu()),role:"tab","aria-controls":"labour","aria-selected":"true"},"Labour Attendance")]),(0,l._)("li",K,[(0,l._)("a",{class:"nav-link",id:"work-tab","data-bs-toggle":"tab",href:"#work",onClick:a[13]||(a[13]=e=>$m()),role:"tab","aria-controls":"work","aria-selected":"true"},"Work Carried Out")])])]),(0,l._)("div",G,[(0,l._)("div",Z,[(0,l._)("div",ee,[(0,l._)("div",te,[(0,l._)("p",ae,[le,(0,l.Uk)((0,s.zw)(Cs.value?.project?.project_name),1)]),ne,oe,(0,l._)("p",se,[ie,(0,l.Uk)(" "+(0,s.zw)(Cs.value?.project?.financial_year),1)]),re,(0,l._)("p",de,[ce,(0,l.Uk)(" "+(0,s.zw)(Cs.value?.project?.client),1)]),ue,(0,l._)("p",me,[ve,(0,l.Uk)(" "+(0,s.zw)(Cs.value?.project?.contract_number),1)]),pe,(0,l._)("p",be,[_e,(0,l.Uk)(" "+(0,s.zw)(Cs.value?.project?.short_name),1)]),he,(0,l._)("p",ge,[ye,(0,l.Uk)(" "+(0,s.zw)(Cs.value?.officer?.name),1)]),fe,(0,l._)("p",we,[ke,(0,l.Uk)(" "+(0,s.zw)(Cs.value?.officer?.phone_no),1)]),xe])])]),(0,l._)("div",Se,[Ce,(0,l._)("div",Te,[(0,l._)("button",{class:"btn btn-primary me-2","data-bs-toggle":"modal","data-bs-target":"#work-form",onClick:a[14]||(a[14]=e=>Bn())},Ee),(0,l._)("button",{class:"btn btn-success me-2",onClick:Du,title:"Print Report"},Me)]),(0,l._)("div",He,[(0,l._)("div",Re,[p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,o.SU)(A)()},null,8,Le)):((0,l.wg)(),(0,l.j4)(i,{key:1,data:(0,o.SU)(sv),columns:cl.value,options:rn.value},{action:(0,l.w5)((e=>[(0,l._)("a",{href:"javascript:void(0);",title:"Return Items",onClick:t=>Pt.value=e.row,"data-bs-toggle":"modal","data-bs-target":"#return-items",class:"text-primary"},Ie,8,Ae)])),_:1},8,["data","columns","options"]))])])]),(0,l._)("div",Ne,[(0,l._)("div",qe,[m.value?((0,l.wg)(),(0,l.iD)("h5",Ve,"SITE DIESEL STETEMENT")):(0,l.kq)("",!0),(0,l._)("div",je,[m.value?((0,l.wg)(),(0,l.iD)("div",ze,[(0,l._)("div",null,[(0,l._)("table",Pe,[Be,(0,l._)("tbody",null,[(0,l._)("tr",null,[Fe,(0,l._)("td",null,(0,s.zw)(Eu.value?.diesel_used)+" L",1),(0,l._)("td",null,(0,s.zw)(Eu.value?.diesel_balance)+" L",1)])])])]),(0,l._)("div",We,[(0,l._)("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#fuel-form",onClick:a[15]||(a[15]=e=>(ra.value="diesel",ad()))},"Issue Diesel")])])):((0,l.wg)(),(0,l.iD)("div",Ye,Je))])]),p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,o.SU)(A)()},null,8,Xe)):((0,l.wg)(),(0,l.iD)("div",Ke,[(0,l._)("div",Ge,[(0,l.Wm)(i,{data:Sa.value,columns:Na.value,options:rn.value},{machine:(0,l.w5)((e=>[(0,l.Wm)(r,{class:"text-primary",to:`/assets/fuel-statement/${e.row.asset_id}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.row.machine),1)])),_:2},1032,["to"])])),actions:(0,l.w5)((e=>[(0,l._)("div",Ze,[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",viewBox:"0 0 24 24",style:{cursor:"pointer"},title:"Add Remark","data-bs-toggle":"modal","data-bs-target":"#edit",onClick:t=>st.value=e.row},[tt,at,lt,e.row.remark?((0,l.wg)(),(0,l.iD)("circle",nt)):(0,l.kq)("",!0)],8,et)),e.row.initial&&e.row.final&&0!==parseFloat(e.row.initial)&&0!==parseFloat(e.row.final)?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("svg",ot,it))])])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",rt,[dt,(0,l._)("div",ct,"Shortage Cost : "+(0,s.zw)((0,o.SU)(I)((0,o.SU)(Yu))),1),(0,l._)("div",ut,[(0,l._)("div",mt,[(0,l.Wm)(i,{data:Fu.value,columns:Bu.value,options:rn.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,s.C_)(["badge inv-status","badge-"+e.row.status.color])},(0,s.zw)(e.row.status.name),3)])),footer:(0,l.w5)((()=>[(0,l._)("div",vt,[pt,(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:a[16]||(a[16]=(...t)=>e.save_edit&&e.save_edit(...t)),disabled:e.isSaving},"Save changes",8,bt)])])),_:1},8,["data","columns","options"])])])]),(0,l._)("div",_t,[(0,l._)("div",ht,[gt,(0,l._)("div",yt,[(0,l._)("div",ft,[(0,l._)("div",null,[(0,l._)("table",wt,[kt,(0,l._)("tbody",null,[(0,l._)("tr",null,[xt,(0,l._)("td",null,(0,s.zw)(Eu.value?.petrol_used)+" L",1),(0,l._)("td",null,(0,s.zw)(Eu.value?.petrol_balance)+" L",1)])])])]),(0,l._)("div",St,[(0,l._)("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#fuel-form",onClick:a[17]||(a[17]=e=>(ra.value="petrol",ad()))},"Issue Petrol")])])])]),p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,o.SU)(A)()},null,8,Ct)):((0,l.wg)(),(0,l.iD)("div",Tt,[(0,l._)("div",Dt,[(0,l.Wm)(i,{data:Sa.value,columns:Na.value,options:rn.value},{machine:(0,l.w5)((e=>[(0,l.Wm)(r,{class:"text-primary",to:`/assets/fuel-statement/${e.row.asset_id}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.row.machine),1)])),_:2},1032,["to"])])),actions:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",viewBox:"0 0 24 24",style:{cursor:"pointer"},title:"Add Remark","data-bs-toggle":"modal","data-bs-target":"#edit",onClick:t=>st.value=e.row},[Ut,$t,Mt,e.row.remark?((0,l.wg)(),(0,l.iD)("circle",Ht)):(0,l.kq)("",!0)],8,Et))])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",Rt,[(0,l._)("div",Lt,[(0,l._)("div",At,[Ot,(0,l._)("div",It,[(0,l._)("div",Nt,[(0,l._)("button",{class:"btn btn-success",onClick:a[18]||(a[18]=e=>(0,o.SU)(U)("Printout Not Found!"))},"Print ")])])])]),p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,o.SU)(A)()},null,8,qt)):((0,l.wg)(),(0,l.iD)("div",Vt,[(0,l._)("div",jt,[(0,l.Wm)(i,{data:zu.value,columns:Nu.value,options:rn.value},{action:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-eye text-secondary",viewBox:"0 0 16 16","data-bs-toggle":"modal","data-bs-target":"#delivery",onClick:t=>(Vu.value=e.row.records,ju.value=e.row)},Ft,8,zt))])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",Wt,[p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,o.SU)(A)()},null,8,Yt)):((0,l.wg)(),(0,l.iD)("div",Qt,[(0,l._)("div",Jt,[(0,l._)("h5",Xt,(0,s.zw)(qo.value.toUpperCase())+" STORE ITEMS LIST",1),(0,l._)("div",Kt,[(0,l._)("button",{class:"btn btn-success text-nowrap me-2",onClick:a[19]||(a[19]=e=>Vo("all"))},"All Items"),(0,l._)("button",{class:"btn btn-dark text-nowrap me-2",onClick:a[20]||(a[20]=e=>Vo("Consumable"))},"Consumable"),(0,l._)("button",{class:"btn btn-primary text-nowrap",onClick:a[21]||(a[21]=e=>Vo("Receivable"))},"Receivable")])]),(0,l._)("div",Gt,[(0,l.Wm)(i,{data:No.value,columns:Aa.value,options:rn.value},{actions:(0,l.w5)((e=>[Zt])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",ea,[p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,o.SU)(A)()},null,8,ta)):((0,l.wg)(),(0,l.iD)("div",aa,[la,(0,l._)("div",na,[(0,l._)("div",oa,[(0,l._)("button",{class:(0,s.C_)(["btn me-2",Ll.value?"btn-danger":"btn-primary "]),onClick:a[22]||(a[22]=e=>Ll.value=!Ll.value)},[Ll.value?((0,l.wg)(),(0,l.iD)("span",ua,"X")):((0,l.wg)(),(0,l.iD)("svg",sa,ca))],2)])]),Ll.value?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:a[25]||(a[25]=(0,n.iM)((e=>an()),["prevent"]))},[(0,l._)("div",ma,[(0,l._)("div",va,[pa,(0,l.wy)((0,l._)("textarea",{class:"form-control",placeholder:"Enter challenge faced","onUpdate:modelValue":a[23]||(a[23]=e=>Xl.value=e)},null,512),[[n.nr,Xl.value]])]),(0,l._)("div",ba,[_a,(0,l.wy)((0,l._)("textarea",{class:"form-control",placeholder:"Enter Proposed Measure","onUpdate:modelValue":a[24]||(a[24]=e=>Yl.value=e)},null,512),[[n.nr,Yl.value]])])]),(0,l._)("div",ha,[(0,l._)("div",ga,[(0,l._)("button",{class:"btn btn-success me-2 mt-1",disabled:Au.value},[Au.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(E)()},null,8,fa)):(0,l.kq)("",!0),wa],8,ya)])])],32)):(0,l.kq)("",!0),(0,l._)("div",ka,[(0,l.Wm)(i,{data:Zl.value,columns:dl.value,options:rn.value},{actions:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-eye text-secondary",viewBox:"0 0 16 16","data-bs-toggle":"modal","data-bs-target":"#remark-challenge",onClick:t=>en.value=e.row},Ta,8,xa))])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",Da,[p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,o.SU)(A)()},null,8,Ea)):((0,l.wg)(),(0,l.iD)("div",Ua,[$a,(0,l._)("div",Ma,[fv.value.report?((0,l.wg)(),(0,l.iD)("button",{key:0,class:(0,s.C_)(["btn me-2",Wl.value?"btn-danger":"btn-primary "]),onClick:a[26]||(a[26]=e=>{Wl.value=!Wl.value,um(),Fv()})},[Wl.value?((0,l.wg)(),(0,l.iD)("span",Ia,"X")):((0,l.wg)(),(0,l.iD)("svg",Ha,Oa))],2)):(0,l.kq)("",!0),(0,l._)("button",{class:"btn btn-success me-2",onClick:a[27]||(a[27]=e=>El())},qa),(0,l.Wm)(r,{to:"/attendances/individual"},{default:(0,l.w5)((()=>[Va])),_:1})]),Wl.value?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:a[35]||(a[35]=(0,n.iM)((e=>sm()),["prevent"]))},[(0,l._)("div",ja,[(0,l._)("div",za,[Pa,(0,l.Wm)((0,o.SU)(u()),{modelValue:da.value,"onUpdate:modelValue":a[28]||(a[28]=e=>da.value=e),options:Bv.value,placeholder:"Select Labour",label:"name",searchable:!0,multiple:!1,required:!0,"allow-empty":!1},null,8,["modelValue","options"])]),(0,o.SU)(Wv)?((0,l.wg)(),(0,l.iD)("div",Ba,[Fa,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Labour Name","onUpdate:modelValue":a[29]||(a[29]=e=>Ku.value=e),required:""},null,512),[[n.nr,Ku.value]])])):(0,l.kq)("",!0),(0,o.SU)(Wv)?((0,l.wg)(),(0,l.iD)("div",Wa,[Ya,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Enter Phone Number","onUpdate:modelValue":a[30]||(a[30]=e=>Gu.value=e),required:""},null,512),[[n.nr,Gu.value]])])):(0,l.kq)("",!0),(0,o.SU)(Wv)?((0,l.wg)(),(0,l.iD)("div",Qa,[Ja,(0,l.Wm)((0,o.SU)(u()),{modelValue:lm.value,"onUpdate:modelValue":a[31]||(a[31]=e=>lm.value=e),options:om.value,placeholder:"select labour type",label:"name",searchable:!0,multiple:!1,required:!0,"allow-empty":!1},null,8,["modelValue","options"])])):(0,l.kq)("",!0),(0,l._)("div",Xa,[Ka,(0,l.wy)((0,l._)("input",{type:"time",class:"form-control",placeholder:"Enter Report Time","onUpdate:modelValue":a[32]||(a[32]=e=>tm.value=e),required:""},null,512),[[n.nr,tm.value]])]),(0,o.SU)(Wv)?((0,l.wg)(),(0,l.iD)("div",Ga,[Za,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Task","onUpdate:modelValue":a[33]||(a[33]=e=>em.value=e),required:""},null,512),[[n.nr,em.value]])])):(0,l.kq)("",!0),(0,o.SU)(Wv)?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",el,[tl,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Task","onUpdate:modelValue":a[34]||(a[34]=e=>em.value=e),required:""},null,512),[[n.nr,em.value]])]))]),(0,l._)("div",al,[(0,l._)("div",ll,[(0,l._)("button",{class:"btn btn-success me-2 mt-1",disabled:Au.value},[Au.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(E)()},null,8,ol)):(0,l.kq)("",!0),sl],8,nl)])])],32)):(0,l.kq)("",!0),(0,l._)("div",il,[(0,l.Wm)(i,{data:(0,o.SU)(iv),columns:Ju.value,options:rn.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,s.C_)(["badge inv-status","badge-"+e.row.status.class])},(0,s.zw)(e.row.status.key),3)])),actions:(0,l.w5)((e=>["Pending"===e.row.status.key||(0,o.SU)(De).includes("can_edit_labour_attendance")?((0,l.wg)(),(0,l.iD)("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-calendar-week",viewBox:"0 0 16 16","data-bs-toggle":"modal","data-bs-target":"#edit-labour-modal",onClick:t=>{cm(e.row),vm()}},ul,8,rl)):(0,l.kq)("",!0)])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",ml,[p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,o.SU)(A)()},null,8,vl)):((0,l.wg)(),(0,l.iD)("div",pl,[bl,(0,l._)("div",_l,[(0,l._)("div",hl,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":a[36]||(a[36]=e=>Xm.value=e),class:"form-control form-control-sm",style:{width:"250px"},placeholder:"Search work carried out..."},null,512),[[n.nr,Xm.value]]),(0,o.SU)(De).includes("can_add_work_carried_out_report")?((0,l.wg)(),(0,l.iD)("button",gl,fl)):(0,l.kq)("",!0)])]),(0,l._)("div",wl,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,o.SU)(Km),((e,a)=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"col-12 col-md-6 mb-4"},[(0,l._)("div",kl,[(0,l._)("div",xl,[(0,l._)("div",Sl,[(0,l._)("h5",Cl,(0,s.zw)(e.report_name||"Untitled Report")+(0,s.zw)(e.description?`(${e.description})`:"")+" "+(0,s.zw)(e.date),1),(0,l._)("div",Tl,[(0,l._)("button",{class:"btn btn-success me-2",onClick:t=>yl(e)},Ul,8,Dl)]),(0,l._)("div",$l,[(0,o.SU)(De).includes("can_remark_work_carried_out_report")?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-primary btn-sm me-2","data-bs-toggle":"modal","data-bs-target":"#remark-modal",onClick:t=>Rm(e)}," Remark ",8,Ml)):(0,l.kq)("",!0),(0,o.SU)(De).includes("can_delete_work_carried_out_report")&&new Date(e.created_at).toISOString().split("T")[0]===Ra.value||(0,o.SU)(De).includes("is_programmer")?((0,l.wg)(),(0,l.iD)("button",{key:1,type:"button",class:"btn btn-danger btn-sm d-flex align-items-center justify-content-center",onClick:t=>qm(e.id),disabled:Im.value&&Nm.value===e.id,style:{"min-width":"80px"}},[Im.value&&Nm.value===e.id?((0,l.wg)(),(0,l.iD)("span",Rl,Al)):(0,l.kq)("",!0),Im.value&&Nm.value===e.id?((0,l.wg)(),(0,l.iD)("span",Ol," Deleting... ")):((0,l.wg)(),(0,l.iD)("span",Il," Delete "))],8,Hl)):(0,l.kq)("",!0)])]),(0,l._)("div",Nl,[(0,l._)("p",ql,[Vl,(0,l.Uk)(" "+(0,s.zw)(e.supervisor?.name),1)]),e.remark?((0,l.wg)(),(0,l.iD)("p",jl,[zl,(0,l.Uk)(" "+(0,s.zw)(e.remark),1)])):(0,l.kq)("",!0),(0,l._)("div",Pl,[(0,l._)("div",Bl,[(0,l.Wm)(i,{data:e.activities,columns:bm.value,options:rn.value},{actions:(0,l.w5)((e=>[(0,o.SU)(De).includes("can_edit_work_carried_out_report")&&new Date(e.row.created_at).toISOString().split("T")[0]===Ra.value||(0,o.SU)(De).includes("is_programmer")?((0,l.wg)(),(0,l.iD)("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-primary","data-bs-toggle":"modal","data-bs-target":"#edit-activity-modal",onClick:t=>Am(e.row),style:{cursor:"pointer"},title:"Edit Activity"},Ql,8,Fl)):(0,l.kq)("",!0),Vm.value&&jm.value===e.row.id?((0,l.wg)(),(0,l.iD)("div",Jl,Kl)):(0,l.kq)("",!0),(0,o.SU)(De).includes("can_delete_work_carried_out_report")&&new Date(e.row.created_at).toISOString().split("T")[0]===Ra.value||(0,o.SU)(De).includes("is_programmer")?((0,l.wg)(),(0,l.iD)("svg",{key:2,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger ms-2",onClick:t=>zm(e.row.id),style:{cursor:"pointer"},title:"Delete Activity"},ln,8,Gl)):(0,l.kq)("",!0)])),_:2},1032,["data","columns","options"])])])]),(0,l._)("div",nn,[(0,o.SU)(De).includes("can_add_work_carried_out_report")?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-primary btn-sm me-3","data-bs-toggle":"modal","data-bs-target":"#add-activity-modal",onClick:t=>Em.value=e.id}," Add Activity ",8,on)):(0,l.kq)("",!0),(0,o.SU)(De).includes("can_add_work_carried_out_report")?((0,l.wg)(),(0,l.iD)("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",class:"bi bi-card-image",viewBox:"0 0 16 16","data-bs-toggle":"modal","data-bs-target":"#add-attachment-modal",onClick:t=>Em.value=e.id},cn,8,sn)):(0,l.kq)("",!0)]),e.attachments&&e.attachments.length>0?((0,l.wg)(),(0,l.iD)("div",un,[(0,l._)("div",mn,[vn,(0,l._)("div",pn,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.attachments,(a=>((0,l.wg)(),(0,l.iD)("div",{key:a.id,class:(0,s.C_)(e.attachments.length>6?"col-md-3 col-sm-6":e.attachments.length>4?"col-md-4 col-sm-6":"col-md-6 col-sm-6")},[(0,l._)("div",bn,[(0,l._)("div",_n,[(0,l._)("div",hn,[(0,l._)("img",{src:`${t}/${a.file_path}`,alt:a.description,style:{"max-width":"100%","max-height":"100%","object-fit":"contain",cursor:"pointer"},onClick:e=>Ym(`${t}/${a.file_path}`,a),"data-bs-toggle":"modal","data-bs-target":"#view-attachment-modal"},null,8,gn)]),(0,l._)("div",yn,[(0,l._)("p",fn,[(0,l._)("strong",null,(0,s.zw)(a.description||" "),1)]),Zm.value&&ev.value===a.id?((0,l.wg)(),(0,l.iD)("div",wn,xn)):(0,o.SU)(De).includes("can_delete_work_carried_out_report")&&(new Date).toDateString()?((0,l.wg)(),(0,l.iD)("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger",onClick:e=>tv(a.id),style:{cursor:"pointer"},title:"Delete Attachment"},Un,8,Sn)):(0,l.kq)("",!0)])])])],2)))),128))])])])):(0,l.kq)("",!0),$n])])])))),128))])]))])])])):((0,l.wg)(),(0,l.iD)("div",Mn,[(0,l._)("button",{class:"btn btn-success btn-lg me-2",disabled:kv.value||Ca.value,onClick:Sv},[kv.value||xv.value?((0,l.wg)(),(0,l.iD)("svg",Rn)):((0,l.wg)(),(0,l.iD)("svg",Ln,In)),xv.value?((0,l.wg)(),(0,l.iD)("span",Nn,"Submitting...")):((0,l.wg)(),(0,l.iD)("span",qn,"Report to Site"))],8,Hn),(0,l._)("button",{class:"btn btn-info btn-lg",disabled:kv.value,onClick:a[37]||(a[37]=e=>Qe())},[Ca.value?((0,l.wg)(),(0,l.iD)("svg",jn)):((0,l.wg)(),(0,l.iD)("svg",zn,Fn)),Wn,Ca.value?((0,l.wg)(),(0,l.iD)("span",Yn,"Loading...")):((0,l.wg)(),(0,l.iD)("span",Qn,"Refresh Location"))],8,Vn),Jn,Xn,Kn])),(0,l._)("div",Gn,[(0,l._)("div",Zn,[(0,l._)("div",eo,[to,(0,l._)("form",{onSubmit:a[43]||(a[43]=(0,n.iM)((e=>Dn()),["prevent"]))},[(0,l._)("div",ao,[(0,l._)("div",lo,[(0,l._)("div",no,[oo,(0,l.Wm)((0,o.SU)(u()),{modelValue:La.value,"onUpdate:modelValue":a[38]||(a[38]=e=>La.value=e),options:Pn.value,label:"name",placeholder:"Select an item",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"])]),(0,l._)("div",so,[(0,l._)("label",io,"Quantity Used , Available : "+(0,s.zw)(La.value.balance_quantity),1),(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Quantity Used ","onUpdate:modelValue":a[39]||(a[39]=e=>Tn.value=e),readonly:!La.value,onInput:a[40]||(a[40]=e=>Tn.value=(0,o.SU)(j)(Tn.value,La.value.balance_quantity)),required:"",min:.1},null,40,ro),[[n.nr,Tn.value]])]),(0,l._)("div",co,[uo,(0,l._)("label",mo,(0,s.zw)(La.value.condition??"no condition"),1)]),(0,l._)("div",vo,[po,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[41]||(a[41]=e=>Ra.value=e)},null,512),[[n.nr,Ra.value]])])]),(0,l._)("div",bo,[_o,(0,l.wy)((0,l._)("textarea",{class:"form-control",id:"message-text",placeholder:"Enter Work Description","onUpdate:modelValue":a[42]||(a[42]=e=>Cn.value=e)},null,512),[[n.nr,Cn.value]])])]),(0,l._)("div",ho,[go,(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:Ca.value},[Ca.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(E)()},null,8,fo)):((0,l.wg)(),(0,l.iD)("span",wo,"Save"))],8,yo)])],32)])])]),(0,l._)("div",ko,[(0,l._)("div",xo,[(0,l._)("div",So,[(0,l._)("div",Co,[(0,l._)("h1",To,(0,s.zw)("diesel"===ra.value?"DIESEL":"PETROL")+" STATEMENT FORM",1),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"distribution-form",onClick:a[44]||(a[44]=e=>kn())})]),(0,l._)("form",{onSubmit:a[57]||(a[57]=(0,n.iM)((e=>Tu()),["prevent"]))},[(0,l._)("div",Do,[(0,l._)("div",Eo,[(0,l._)("div",Uo,[$o,(0,l.Wm)((0,o.SU)(u()),{modelValue:Ds.value,"onUpdate:modelValue":a[45]||(a[45]=e=>Ds.value=e),options:Es.value,label:"name",placeholder:"Select an Asset",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"])]),(0,l._)("div",Mo,[(0,l._)("label",Ho,"Quantity Used , Available : "+(0,s.zw)("diesel"===ra.value?Eu.value?.diesel_balance:Eu.value?.petrol_balance),1),(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Quantity Used ","onUpdate:modelValue":a[46]||(a[46]=e=>Tn.value=e),readonly:!Ds.value,onInput:a[47]||(a[47]=e=>Tn.value=(0,o.SU)(j)(Tn.value,"diesel"===ra.value?Eu.value?.diesel_balance:Eu.value?.petrol_balance)),required:"",min:.1},null,40,Ro),[[n.nr,Tn.value]])]),(0,l._)("div",Lo,[Ao,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[48]||(a[48]=e=>Ra.value=e)},null,512),[[n.nr,Ra.value]])]),(0,l._)("div",Oo,[Io,(0,l.wy)((0,l._)("select",{class:"form-control","onUpdate:modelValue":a[49]||(a[49]=e=>Hc.value=e),name:"consuption_type",required:""},jo,512),[[n.bM,Hc.value]])]),(0,l._)("div",zo,[Po,(0,l.wy)((0,l._)("input",{class:"form-control",type:"text",step:"any",placeholder:"Enter Driver Name ","onUpdate:modelValue":a[50]||(a[50]=e=>yu.value=e)},null,512),[[n.nr,yu.value]])]),(0,l._)("div",Bo,[Fo,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Initial Reading ","onUpdate:modelValue":a[51]||(a[51]=e=>ld.value=e)},null,512),[[n.nr,ld.value]])]),(0,l._)("div",Wo,[Yo,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Final Reading ","onUpdate:modelValue":a[52]||(a[52]=e=>ud.value=e)},null,512),[[n.nr,ud.value]])]),(0,l._)("div",Qo,[Jo,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Work Volume","onUpdate:modelValue":a[53]||(a[53]=e=>Cu.value=e)},null,512),[[n.nr,Cu.value]])]),(0,l._)("div",Xo,[Ko,(0,l.Wm)((0,o.SU)(u()),{modelValue:Tm.value,"onUpdate:modelValue":a[54]||(a[54]=e=>Tm.value=e),options:Mm.value,placeholder:"Select Unit",label:"short_name",searchable:!0,multiple:!1,"allow-empty":!1},null,8,["modelValue","options"])])]),(0,l._)("div",Go,[Zo,(0,l.wy)((0,l._)("textarea",{class:"form-control",id:"message-text",placeholder:"Enter Work Description","onUpdate:modelValue":a[55]||(a[55]=e=>Cn.value=e)},null,512),[[n.nr,Cn.value]])])]),(0,l._)("div",es,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",id:"close",onClick:a[56]||(a[56]=e=>kn())},"Close"),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:Ca.value},[Ca.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(E)()},null,8,as)):((0,l.wg)(),(0,l.iD)("span",ls,"Save"))],8,ts)])],32)])])]),(0,l._)("div",ns,[(0,l._)("div",os,[(0,l._)("div",ss,[is,(0,l._)("form",{onSubmit:a[60]||(a[60]=(0,n.iM)((e=>ia()),["prevent"]))},[(0,l._)("div",rs,[(0,l._)("div",ds,[(0,l._)("div",cs,[(0,l._)("div",us,[(0,l._)("div",ms,[(0,l._)("div",vs,[(0,l._)("div",ps,[bs,(0,l._)("label",_s,(0,s.zw)(Pt.value.item),1)]),(0,l._)("div",hs,[gs,(0,l._)("label",ys,(0,s.zw)(Pt.value.used),1)]),(0,l._)("div",fs,[(0,l._)("label",ws,"Returning Quantity : ( available "+(0,s.zw)((Pt.value.used-Pt.value.returned).toFixed(2))+")",1),(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",step:"any",placeholder:"Enter Returned Quantity","onUpdate:modelValue":a[58]||(a[58]=e=>Tn.value=e),min:.1,max:Pt.value.used-Pt.value.returned},null,8,ks),[[n.nr,Tn.value]])]),(0,l._)("div",xs,[Ss,(0,l.wy)((0,l._)("select",{class:"form-control","onUpdate:modelValue":a[59]||(a[59]=e=>Bt.value=e),required:""},Us,512),[[n.bM,Bt.value]])])])])])])])]),(0,l._)("div",$s,[Ms,(0,l._)("button",{type:"submit",class:"btn btn-success btn-sm",disabled:!Tn.value||Ca.value},[Ca.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(E)()},null,8,Rs)):((0,l.wg)(),(0,l.iD)("span",Ls," Save "))],8,Hs)])],32)])])]),(0,l._)("div",As,[(0,l._)("div",Os,[(0,l._)("div",Is,[(0,l._)("div",Ns,[(0,l._)("h1",qs,(0,s.zw)(st.value?.type)+" - "+(0,s.zw)(st.value?.machine)+" CONSUMPTION SUMMARY",1),Vs]),(0,l._)("div",js,[(0,l._)("div",zs,[(0,l._)("div",Ps,[(0,l._)("div",Bs,[(0,l._)("div",Fs,[Ws,(0,l.Uk)(" "+(0,s.zw)(st.value?.issued_date),1)]),(0,l._)("div",Ys,[Qs,(0,l.Uk)(" "+(0,s.zw)(st.value?.issuer),1)]),(0,l._)("div",Js,[Xs,(0,l.Uk)(" "+(0,s.zw)(st.value?.driver),1)])]),(0,l._)("div",Ks,[(0,l._)("div",Gs,[Zs,(0,l.Uk)(" "+(0,s.zw)(st.value?.machine),1)]),(0,l._)("div",ei,[ti,(0,l.Uk)(" "+(0,s.zw)(st.value?.type),1)]),(0,l._)("div",ai,[li,(0,l.Uk)(" "+(0,s.zw)(st.value?.issued)+"Ltrs",1)])]),(0,l._)("div",ni,[(0,l._)("div",oi,[si,(0,l.Uk)(" "+(0,s.zw)(st.value?.initial),1)]),(0,l._)("div",ii,[ri,(0,l.Uk)(" "+(0,s.zw)(st.value?.final),1)]),(0,l._)("div",di,[ci,(0,l.Uk)(" "+(0,s.zw)(st.value?.ratio),1)])]),(0,l._)("div",ui,[(0,l._)("div",mi,[vi,(0,l.Uk)(" "+(0,s.zw)(st.value?.consumption_type),1)]),(0,l._)("div",pi,[bi,(0,l.Uk)(" "+(0,s.zw)(st.value?.work)+" "+(0,s.zw)("Km/Litre"===st.value?.consumption_type?"Km":"Litre/hr"===st.value?.consumption_type?"hr":""),1)]),(0,l._)("div",_i,[hi,(0,l.Uk)(" "+(0,s.zw)(st.value?.used)+" Ltrs",1)]),(0,l._)("div",gi,[yi,(0,l.Uk)(" "+(0,s.zw)(st.value?.task),1)])]),st.value?.remark?((0,l.wg)(),(0,l.iD)("div",fi,[(0,l._)("div",wi,[ki,(0,l.Uk)(" "+(0,s.zw)(st.value?.remark),1)])])):(0,l.kq)("",!0)])]),(0,o.SU)(De).includes("can_issue_fuel")||(0,o.SU)(De).includes("is_md")?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:a[67]||(a[67]=(0,n.iM)((e=>Iu()),["prevent"]))},[(0,l._)("div",xi,[(0,l._)("div",Si,[(0,l._)("div",Ci,[(0,l._)("div",Ti,[(0,l._)("div",Di,[(0,o.SU)(De).includes("can_issue_fuel")?((0,l.wg)(),(0,l.iD)("div",Ei,[Ui,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Initial Reading","onUpdate:modelValue":a[61]||(a[61]=e=>st.value.initial=e)},null,512),[[n.nr,st.value.initial]])])):(0,l.kq)("",!0),(0,o.SU)(De).includes("can_issue_fuel")?((0,l.wg)(),(0,l.iD)("div",$i,[Mi,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Final Reading","onUpdate:modelValue":a[62]||(a[62]=e=>st.value.final=e)},null,512),[[n.nr,st.value.final]])])):(0,l.kq)("",!0),(0,o.SU)(De).includes("can_issue_fuel")?((0,l.wg)(),(0,l.iD)("div",Hi,[Ri,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Work Volume","onUpdate:modelValue":a[63]||(a[63]=e=>st.value.volume=e)},null,512),[[n.nr,st.value.volume]])])):(0,l.kq)("",!0),(0,o.SU)(De).includes("can_issue_fuel")?((0,l.wg)(),(0,l.iD)("div",Li,[Ai,(0,l.Wm)((0,o.SU)(u()),{modelValue:st.value.unit,"onUpdate:modelValue":a[64]||(a[64]=e=>st.value.unit=e),options:Mm.value,placeholder:"Select Unit",label:"short_name",searchable:!0,multiple:!1,"allow-empty":!1},null,8,["modelValue","options"])])):(0,l.kq)("",!0),(0,o.SU)(De).includes("can_edit_task")?((0,l.wg)(),(0,l.iD)("div",Oi,[Ii,(0,l.wy)((0,l._)("input",{class:"form-control",type:"text",step:"any",placeholder:"Enter Task","onUpdate:modelValue":a[65]||(a[65]=e=>st.value.task=e)},null,512),[[n.nr,st.value.task]])])):(0,l.kq)("",!0),(0,o.SU)(De).includes("is_md")?((0,l.wg)(),(0,l.iD)("div",Ni,[qi,(0,l.wy)((0,l._)("input",{class:"form-control",type:"text",step:"any",placeholder:"Enter Remark","onUpdate:modelValue":a[66]||(a[66]=e=>st.value.remark=e)},null,512),[[n.nr,st.value.remark]])])):(0,l.kq)("",!0),(0,l._)("div",Vi,[(0,l._)("div",ji,[(0,l._)("button",{class:"btn btn-success",disabled:Au.value},[Au.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(E)()},null,8,Pi)):((0,l.wg)(),(0,l.iD)("span",Bi," Save"))],8,zi)])])])])])])])],32)):(0,l.kq)("",!0)]),Fi])])]),(0,l._)("div",Wi,[(0,l._)("div",Yi,[(0,l._)("div",Qi,[(0,l._)("div",Ji,[(0,l._)("h1",Xi,[Ki,(0,l._)("b",null,(0,s.zw)(ju.value?.name?.toUpperCase()),1)]),Gi]),(0,l._)("div",Zi,[(0,l._)("div",er,[(0,l._)("div",tr,[(0,l.Wm)(i,{data:Vu.value,columns:qu.value,options:rn.value},{sno:(0,l.w5)((e=>[(0,l.Uk)((0,s.zw)(e.index),1)])),_:1},8,["data","columns","options"])])])]),ar])])]),(0,l._)("div",lr,[(0,l._)("div",nr,[(0,l._)("div",or,[sr,(0,l._)("div",ir,[(0,l._)("div",rr,[(0,l._)("div",dr,"Reporter : "+(0,s.zw)(en.value?.reported_by),1),(0,l._)("div",cr,"Challenge : "+(0,s.zw)(en.value?.challenge),1),(0,l._)("div",ur," Proposed measure : "+(0,s.zw)(en.value?.proposed_measure),1),en.value?.remark?((0,l.wg)(),(0,l.iD)("div",mr,"Remarks : "+(0,s.zw)(en.value?.remark),1)):(0,l.kq)("",!0)]),(0,o.SU)(De).includes("can_fill_challenge_remark")?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:a[69]||(a[69]=(0,n.iM)((e=>Ou(en.value?.id)),["prevent"]))},[(0,l._)("div",vr,[(0,l.wy)((0,l._)("input",{type:"text",class:"me-2 form-control",placeholder:"Enter Remarks","onUpdate:modelValue":a[68]||(a[68]=e=>Ru.value=e),required:""},null,512),[[n.nr,Ru.value]]),(0,l._)("button",{class:"btn btn-primary",disabled:Au.value},[Au.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(E)()},null,8,br)):((0,l.wg)(),(0,l.iD)("span",_r,"Save"))],8,pr)])],32)):(0,l.kq)("",!0)]),hr])])]),(0,l._)("div",gr,[(0,l._)("div",yr,[(0,l._)("div",fr,[(0,l._)("div",wr,[kr,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[70]||(a[70]=e=>dm())})]),(0,l._)("form",{onSubmit:a[75]||(a[75]=(0,n.iM)((e=>rm(da.value?.id)),["prevent"]))},[(0,l._)("div",xr,[(0,l._)("div",Sr,[(0,l._)("div",Cr,[Tr,(0,l.wy)((0,l._)("input",{type:"time",class:"form-control",placeholder:"Enter Derpurture Time","onUpdate:modelValue":a[71]||(a[71]=e=>am.value=e),required:""},null,512),[[n.nr,am.value]])]),(0,l._)("div",Dr,[Er,(0,l.Wm)((0,o.SU)(u()),{modelValue:nm.value,"onUpdate:modelValue":a[72]||(a[72]=e=>nm.value=e),options:mm.value,placeholder:"Select status",label:"name","track-by":"id",searchable:!0,multiple:!1,"allow-empty":!1},null,8,["modelValue","options"])]),(0,l._)("div",Ur,[$r,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Description","onUpdate:modelValue":a[73]||(a[73]=e=>Cn.value=e)},null,512),[[n.nr,Cn.value]])])])]),(0,l._)("div",Mr,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:a[74]||(a[74]=e=>dm()),id:"close_labour_attendant"},"Close"),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:Au.value},[Au.value?((0,l.wg)(),(0,l.iD)("span",Rr)):(0,l.kq)("",!0),Lr],8,Hr)])],32)])])]),(0,l._)("div",Ar,[(0,l._)("div",Or,[(0,l._)("div",Ir,[(0,l._)("div",Nr,[qr,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[76]||(a[76]=e=>Sm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[85]||(a[85]=(0,n.iM)((e=>xm()),["prevent"]))},[(0,l._)("div",Vr,[(0,l._)("div",jr,[(0,l._)("div",zr,[Pr,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Work Title","onUpdate:modelValue":a[77]||(a[77]=e=>Cm.value=e),required:""},null,512),[[n.nr,Cm.value]])]),(0,l._)("div",Br,[Fr,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control",placeholder:"Enter Date","onUpdate:modelValue":a[78]||(a[78]=e=>Dm.value=e),step:"any"},null,512),[[n.nr,Dm.value]])])]),Dm.value.length>0?((0,l.wg)(),(0,l.iD)("div",Wr,[(0,l._)("div",Yr,[Qr,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Activity","onUpdate:modelValue":a[79]||(a[79]=e=>hm.value=e)},null,512),[[n.nr,hm.value]])]),(0,l._)("div",Jr,[Xr,(0,l.Wm)((0,o.SU)(u()),{modelValue:Tm.value,"onUpdate:modelValue":a[80]||(a[80]=e=>Tm.value=e),options:Mm.value,placeholder:"select unit",label:"short_name",searchable:!0,multiple:!1,required:!0},null,8,["modelValue","options"])]),(0,l._)("div",Kr,[Gr,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Enter Quantity","onUpdate:modelValue":a[81]||(a[81]=e=>Tn.value=e),step:"any"},null,512),[[n.nr,Tn.value]])]),(0,l._)("div",Zr,[ed,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Description","onUpdate:modelValue":a[82]||(a[82]=e=>gm.value=e)},null,512),[[n.nr,gm.value]])]),(0,l._)("div",td,[(0,l._)("button",{type:"button",class:"btn btn-outline-success btn-sm mt-4",onClick:a[83]||(a[83]=e=>wm())},nd)]),_m.value.length>0?((0,l.wg)(),(0,l.iD)("div",od,[(0,l._)("div",sd,[(0,l._)("div",id,[(0,l._)("div",rd,[(0,l._)("div",dd,[(0,l.Wm)(i,{data:_m.value,columns:pm.value,options:rn.value},{actions:(0,l.w5)((e=>[(0,l._)("a",{href:"javascript:void(0);",title:"Delete",onClick:t=>km(e.row.Sno)},md,8,cd)])),_:1},8,["data","columns","options"])])])])])])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)]),(0,l._)("div",vd,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[84]||(a[84]=e=>Sm()),id:"close_report"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Au.value},[Au.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(E)()},null,8,bd)):(0,l.kq)("",!0),_d],8,pd)])],32)])])]),(0,l._)("div",hd,[(0,l._)("div",gd,[(0,l._)("div",yd,[(0,l._)("div",fd,[wd,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[86]||(a[86]=e=>Sm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[89]||(a[89]=(0,n.iM)((e=>Lm()),["prevent"]))},[(0,l._)("div",kd,[(0,l._)("div",xd,[(0,l._)("div",Sd,[Cd,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Activity Name","onUpdate:modelValue":a[87]||(a[87]=e=>Ru.value=e),required:""},null,512),[[n.nr,Ru.value]])])])]),(0,l._)("div",Td,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[88]||(a[88]=e=>Sm()),id:"close_remark"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Au.value},[Au.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(E)()},null,8,Ed)):(0,l.kq)("",!0),Ud],8,Dd)])],32)])])]),(0,l._)("div",$d,[(0,l._)("div",Md,[(0,l._)("div",Hd,[(0,l._)("div",Rd,[Ld,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[90]||(a[90]=e=>Sm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[95]||(a[95]=(0,n.iM)((e=>Om()),["prevent"]))},[(0,l._)("div",Ad,[(0,l._)("div",Od,[(0,l._)("div",Id,[Nd,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":a[91]||(a[91]=e=>hm.value=e),class:"form-control",placeholder:"activity",required:""},null,512),[[n.nr,hm.value]])]),(0,l._)("div",qd,[Vd,(0,l.Wm)((0,o.SU)(u()),{modelValue:Tm.value,"onUpdate:modelValue":a[92]||(a[92]=e=>Tm.value=e),options:Mm.value,placeholder:"select unit",label:"short_name",searchable:!0,multple:"false",required:!0,"allow-empty":!0},null,8,["modelValue","options"])]),(0,l._)("div",jd,[zd,(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":a[93]||(a[93]=e=>Tn.value=e),class:"form-control",placeholder:"Enter Quantity",min:"1"},null,512),[[n.nr,Tn.value]])])])]),(0,l._)("div",Pd,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[94]||(a[94]=e=>Sm()),id:"close_activity"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Au.value},[Au.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(E)()},null,8,Fd)):(0,l.kq)("",!0),Wd],8,Bd)])],32)])])]),(0,l._)("div",Yd,[(0,l._)("div",Qd,[(0,l._)("div",Jd,[(0,l._)("div",Xd,[Kd,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[96]||(a[96]=e=>Sm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[101]||(a[101]=(0,n.iM)((e=>Pm()),["prevent"]))},[(0,l._)("div",Gd,[(0,l._)("div",Zd,[(0,l._)("div",ec,[tc,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":a[97]||(a[97]=e=>hm.value=e),class:"form-control",placeholder:"activity",required:""},null,512),[[n.nr,hm.value]])]),(0,l._)("div",ac,[lc,(0,l.Wm)((0,o.SU)(u()),{modelValue:Tm.value,"onUpdate:modelValue":a[98]||(a[98]=e=>Tm.value=e),options:Mm.value,placeholder:"select unit",label:"short_name",searchable:!0,multple:"false",required:!0,"allow-empty":!1},null,8,["modelValue","options"])]),(0,l._)("div",nc,[oc,(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":a[99]||(a[99]=e=>Tn.value=e),class:"form-control",placeholder:"Enter Quantity",step:"any"},null,512),[[n.nr,Tn.value]])])])]),(0,l._)("div",sc,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[100]||(a[100]=e=>Sm()),id:"close_add"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Au.value},[Au.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(E)()},null,8,rc)):(0,l.kq)("",!0),dc],8,ic)])],32)])])]),(0,l._)("div",cc,[(0,l._)("div",uc,[(0,l._)("div",mc,[(0,l._)("div",vc,[pc,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[102]||(a[102]=e=>Sm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[105]||(a[105]=(0,n.iM)((e=>Wm()),["prevent"]))},[(0,l._)("div",bc,[(0,l._)("div",_c,[(0,l._)("div",hc,[gc,(0,l._)("input",{type:"file",class:"form-control",accept:"image/*",onChange:Fm,required:""},null,32)]),(0,l._)("div",yc,[fc,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":a[103]||(a[103]=e=>Cn.value=e),class:"form-control",placeholder:"description"},null,512),[[n.nr,Cn.value]])])])]),(0,l._)("div",wc,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[104]||(a[104]=e=>Sm()),id:"close_attachment"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Au.value},[Au.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(E)()},null,8,xc)):(0,l.kq)("",!0),Sc],8,kc)])],32)])])]),(0,l._)("div",Cc,[(0,l._)("div",Tc,[(0,l._)("div",Dc,[Ec,(0,l._)("div",Uc,[(0,l._)("div",$c,[Qm.value?((0,l.wg)(),(0,l.iD)("img",{key:0,src:Qm.value,alt:"Attachment",class:"attachment-img",style:(0,s.j5)({transform:`rotate(${av.value}deg)`})},null,12,Mc)):(0,l.kq)("",!0)])]),(0,l._)("div",{class:"modal-footer"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-repeat",viewBox:"0 0 16 16",onClick:lv},Rc),Lc])])])]),(0,l._)("div",Ac,[(0,l._)("div",Oc,[(0,l._)("div",Ic,[Nc,(0,l._)("div",qc,[(0,l._)("div",Vc,[(0,l._)("div",jc,[(0,l._)("div",zc,[(0,l._)("p",Pc,[Bc,(0,l.Uk)(" "+(0,s.zw)(Cs.value?.project?.short_name||"--"),1)]),(0,l._)("p",Fc,[Wc,(0,l.Uk)(" "+(0,s.zw)(Cs.value?.project?.contract_number||"--"),1)])]),(0,l._)("div",Yc,[(0,l._)("p",Qc,[Jc,(0,l.Uk)(" "+(0,s.zw)(Cs.value?.officer?.name||"--"),1)]),(0,l._)("p",Xc,[Kc,(0,l.Uk)(" "+(0,s.zw)(Cs.value?.project?.client||"--"),1)])])])]),(0,l._)("div",Gc,[Zc,(0,o.SU)(De).includes("can_add_site_report_attachment")?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-primary btn-sm",onClick:a[106]||(a[106]=e=>Iv.value=!Iv.value)}," Add Attachment ")):(0,l.kq)("",!0)]),Iv.value?((0,l.wg)(),(0,l.iD)("div",eu,[(0,l._)("div",tu,[(0,l._)("form",{onSubmit:a[110]||(a[110]=(0,n.iM)((e=>Rv()),["prevent"]))},[(0,l._)("div",au,[(0,l._)("div",lu,[nu,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[107]||(a[107]=e=>Mv.value=e),placeholder:"Enter attachment description"},null,512),[[n.nr,Mv.value]])]),(0,l._)("div",ou,[su,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[108]||(a[108]=e=>Dm.value=e),placeholder:"Enter attachment description"},null,512),[[n.nr,Dm.value]])]),(0,l._)("div",iu,[ru,(0,l._)("input",{class:"form-control",type:"file",onChange:Uv,accept:"application/pdf",required:""},null,32)])]),(0,l._)("div",du,[(0,l._)("div",cu,[(0,l._)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[109]||(a[109]=e=>Lv())}," Cancel "),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:Hv.value},[Hv.value?((0,l.wg)(),(0,l.iD)("span",mu)):(0,l.kq)("",!0),vu],8,uu)])])],32)])])):(0,l.kq)("",!0),pu,Vv.value?((0,l.wg)(),(0,l.iD)("div",{key:1,innerHTML:(0,o.SU)(A)()},null,8,bu)):((0,l.wg)(),(0,l.iD)("div",_u,[(0,l._)("div",hu,[(0,l.Wm)(i,{data:Nv.value,columns:qv.value,options:rn.value},{actions:(0,l.w5)((e=>[(0,l._)("a",{href:`${t}/${e.row.attachment}`,target:"_blank",title:"View Attachment"},fu,8,gu),(0,o.SU)(De).includes("can_delete_site_report_attachment")?((0,l.wg)(),(0,l.iD)("a",{key:0,href:"javascript:void(0);",title:"Delete",onClick:t=>Ov(e.row)},xu,8,wu)):(0,l.kq)("",!0)])),_:1},8,["data","columns","options"])])]))]),Su])])])])}}},Tu=a(83744);const Du=(0,Tu.Z)(Cu,[["__scopeId","data-v-df460098"]]);var Eu=Du}}]);
//# sourceMappingURL=4582.752fa2ba.js.map