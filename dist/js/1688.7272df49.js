"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[1688],{11688:function(e,a,t){t.r(a),t.d(a,{default:function(){return uo}});t(26699);var l=t(66252),s=t(3577),n=t(2262),o=t(49963),i=t(87066),d=t(26212),u=t.n(d),r=t(56296);const c=e=>((0,l.dD)("data-v-0a300aa8"),e=e(),(0,l.Cn)(),e),v={class:"layout-px-spacing"},m=(0,l.uE)('<ul class="navbar-nav flex-row" data-v-0a300aa8><li data-v-0a300aa8><div class="page-header" data-v-0a300aa8><nav class="breadcrumb-one" aria-label="breadcrumb" data-v-0a300aa8><ol class="breadcrumb" data-v-0a300aa8><li class="breadcrumb-item" data-v-0a300aa8><a href="javascript:;" data-v-0a300aa8>Budgets </a></li></ol></nav></div></li></ul>',1),b={key:0,class:"text-center"},p={key:1,class:"text-center"},_={class:"d-flex justify-content-between align-items-center"},g={class:"flex-grow-1 text-center"},y={style:{overflow:"visible"}},h={class:"d-flex table-responsive",style:{overflow:"visible"}},f={class:"mb-2 ms-auto d-flex align-items-center gap-2",style:{overflow:"visible"}},w={class:"offcanvas offcanvas-end","data-bs-scroll":"true",tabindex:"-1",id:"offcanvasWithBothOptions","aria-labelledby":"offcanvasWithBothOptionsLabel"},k=c((()=>(0,l._)("div",{class:"offcanvas-header"},[(0,l._)("h5",{class:"offcanvas-title",id:"offcanvasWithBothOptionsLabel"},"PROJECT LISTS"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1))),x={class:"offcanvas-body"},S={class:"row"},C={class:"col-12"},U=["id","href","aria-controls","onClick"],D={class:"offcanvas offcanvas-bottom","data-bs-scroll":"true",tabindex:"-1",id:"budgetOffcanvas","aria-labelledby":"budgetOffcanvasLabel"},q=c((()=>(0,l._)("div",{class:"offcanvas-header"},[(0,l._)("h5",{class:"offcanvas-title",id:"budgetOffcanvasLabel"},"BUDGET LISTS"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1))),H={class:"offcanvas-body"},L={class:"row"},B={class:"col-12"},M={class:"list-group",id:"list-tab",role:"tablist"},z=["id","href","aria-controls","onClick"],T=["innerHTML"],A={class:"d-flex mb-2 me-1"},V={class:"ms-auto"},j={key:0,class:"btn","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasWithBothOptions","aria-controls":"offcanvasWithBothOptions"},N=c((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-list-ul",viewBox:"0 0 16 16"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"})],-1))),R=[N],O={key:1},E={key:0},I=["innerHTML"],$={key:1,class:"accordion"},P={key:0,class:"d-flex mb-2 me-1"},W=c((()=>(0,l._)("div",{class:"ms-auto"},[(0,l._)("button",{class:"btn btn-outline-primary","data-bs-toggle":"offcanvas","data-bs-target":"#budgetOffcanvas","aria-controls":"budgetOffcanvas"}," View Budgets ")],-1))),F=[W],Q={key:1,class:"accordion-content"},Y=["onClick"],G=["onClick"],J={key:1},K=c((()=>(0,l._)("h6",{class:"mt-1 text-success"},"Please Select a project from the list",-1))),X=[K],Z={key:0,class:"d-flex flex-column align-items-center"},ee={class:"row"},ae={class:"col-md-5"},te={class:"col-md-4"},le={class:"col-md-3"},se={class:"col-md-12"},ne={class:"col-md-12"},oe={class:"d-flex justify-content-center mt-2"},ie=["disabled"],de=["innerHTML"],ue={key:1},re=(0,l.Uk)("     "),ce={key:0,class:"d-flex justify-content-center my-4"},ve={class:"budget-status-card-container mt-3 col-md-6"},me={class:"card-header d-flex justify-content-between align-items-center"},be={class:"card-title mb-0 text-center w-100"},pe={class:"card-body"},_e={class:"card-text fs-5 text-start"},ge={key:0,class:"mt-4"},ye=c((()=>(0,l._)("h5",{class:"fs-5 text-dark text-start"},"Remarks:",-1))),he={class:"remarks-text fs-5 text-start"},fe={key:1},we={class:"table-responsive"},ke={key:0,class:"table table-bordered table-responsive table-striped"},xe=c((()=>(0,l._)("tr",null,[(0,l._)("a",{href:"javascript:;",class:"edit me-3","data-bs-toggle":"modal","data-bs-target":"#allocation-modal"},[(0,l._)("th",{class:"text-dark fw-bold"},"ALLOCATED")]),(0,l._)("th",{class:"text-success"},"BALANCE"),(0,l._)("th",{class:"text-danger"},"UNALLOCATED"),(0,l._)("th",{class:"text-dark"},"BUDGETED"),(0,l._)("th",{class:"text-dark"},"USED"),(0,l._)("th",{class:"text-dark"},"STATUS")],-1))),Se={href:"javascript:;",class:"edit me-3","data-bs-toggle":"modal","data-bs-target":"#allocation-modal"},Ce={colspan:"6"},Ue={class:"modal fade mymodal",id:"allocation-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"editConversionFactorModalLabel","aria-hidden":"true"},De={class:"modal-dialog modal-xl"},qe={class:"modal-content"},He={class:"modal-header"},Le={class:"modal-title fs-5",id:"editConversionFactorModalLabel"},Be=c((()=>(0,l._)("button",{class:"btn btn-primary"},"view",-1))),Me={class:"modal-body"},ze={class:"row g-2"},Te={class:"col-md-6"},Ae={for:"funded amount"},Ve={class:"col-md-6"},je=c((()=>(0,l._)("label",{for:"funded date"},"Date",-1))),Ne={class:"col-md-12"},Re=c((()=>(0,l._)("label",{for:"purpose"},"Purpose",-1))),Oe={class:"modal-footer"},Ee=["disabled"],Ie=["innerHTML"],$e={key:1},Pe={key:0,class:"d-flex"},We={class:"ms-auto"},Fe={class:"btn-group"},Qe=c((()=>(0,l._)("button",{type:"button",class:"btn btn-outline-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"}," Actions ",-1))),Ye={class:"dropdown-menu"},Ge={key:0,class:"dropdown-item",href:"javascript:void(0);","data-bs-toggle":"modal","data-bs-target":"#amendments"},Je=c((()=>(0,l._)("li",null,[(0,l._)("hr",{class:"dropdown-divider"})],-1))),Ke=(0,l.Uk)("LPO and Vouchers"),Xe={key:0,class:"d-flex flex-wrap gap-2 mb-2 mt-4 justify-content-end align-items-center"},Ze={class:"btn-group flex-wrap",style:{gap:"8px"}},ea=c((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),aa=(0,l.Uk)("  Print Budget "),ta=[ea,aa],la=c((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),sa=(0,l.Uk)("  Print With Consumption "),na=[la,sa],oa={key:3,class:"btn btn-info mt-2","data-bs-toggle":"modal","data-bs-target":"#amendments"},ia=["disabled"],da=["innerHTML"],ua={key:1},ra=["disabled"],ca=["innerHTML"],va={key:1},ma=(0,l.Uk)("LPO and Vouchers"),ba={class:"d-flex"},pa={class:"ms-auto mb-2"},_a={key:2,class:"table-responsive shadow-lg"},ga={class:"row mt-2 justify-content-center g-2"},ya={class:"col-md-6"},ha={class:"input-group"},fa={type:"submit",class:"btn btn-primary"},wa=["innerHTML"],ka={key:1},xa={class:"table-responsive"},Sa={class:"table table-bordered mt-5"},Ca=c((()=>(0,l._)("thead",{class:"thead-light"},[(0,l._)("tr",null,[(0,l._)("th",null,"Sno:"),(0,l._)("th",null,"Item"),(0,l._)("th",null,"Description")])],-1))),Ua={class:"table table-bordered table-responsive mt-5"},Da={class:"thead-light",style:{position:"sticky",top:"0",background:"white","z-index":"5"}},qa=c((()=>(0,l._)("th",null,"Sno:",-1))),Ha=c((()=>(0,l._)("th",null,"Item",-1))),La=c((()=>(0,l._)("th",null,"Specification",-1))),Ba=c((()=>(0,l._)("th",null,"Units",-1))),Ma=c((()=>(0,l._)("th",{class:"text-nowrap"},"Qty 1",-1))),za=c((()=>(0,l._)("th",{class:"text-nowrap"},"Qty 2",-1))),Ta=c((()=>(0,l._)("th",null,"Rate",-1))),Aa=c((()=>(0,l._)("th",null,"Cost",-1))),Va=["onClick"],ja={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},Na=c((()=>(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1))),Ra=c((()=>(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"},null,-1))),Oa=c((()=>(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"},null,-1))),Ea=[Na,Ra,Oa],Ia=(0,l.Uk)(" close "),$a=["onClick"],Pa=c((()=>(0,l._)("br",null,null,-1))),Wa=["onClick"],Fa=c((()=>(0,l._)("br",null,null,-1))),Qa=c((()=>(0,l._)("br",null,null,-1))),Ya=c((()=>(0,l._)("hr",{style:{"border-top":"1px solid red"}},null,-1))),Ga=c((()=>(0,l._)("br",null,null,-1))),Ja=["onClick"],Ka=c((()=>(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1))),Xa=c((()=>(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1))),Za=[Ka,Xa],et=["onClick"],at=c((()=>(0,l._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1))),tt=c((()=>(0,l._)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1))),lt=[at,tt],st=["onSubmit"],nt={class:"row"},ot={class:"col-md-2"},it=c((()=>(0,l._)("label",{class:"form-label"},"Item ",-1))),dt={class:"col-md-2"},ut=c((()=>(0,l._)("label",{class:"form-label"},"Specification ",-1))),rt={class:"col-md-2"},ct=c((()=>(0,l._)("label",{class:"form-label"},"Unit",-1))),vt={class:"col-md-1"},mt=c((()=>(0,l._)("label",{class:"form-label"},"Quantity",-1))),bt={class:"col-md-1"},pt=c((()=>(0,l._)("label",{class:"form-label"},"quantity_2",-1))),_t={class:"col-md-1"},gt=c((()=>(0,l._)("label",{class:"form-label"},"Rate",-1))),yt={class:"col-md-1"},ht=c((()=>(0,l._)("label",{class:"form-label"},"Cost",-1))),ft={class:"form-control"},wt={class:"col-md-1"},kt=c((()=>(0,l._)("label",{class:"form-label"},"Save",-1))),xt={class:"btn-group",role:"group"},St=["disabled"],Ct=["innerHTML"],Ut={key:1},Dt={class:"row"},qt={class:"col-md-2"},Ht=c((()=>(0,l._)("label",{class:"form-label"},"Item ",-1))),Lt={class:"col-md-2"},Bt=c((()=>(0,l._)("label",{class:"form-label"},"Specification ",-1))),Mt={class:"col-md-2"},zt=c((()=>(0,l._)("label",{class:"form-label"},"Unit",-1))),Tt={class:"col-md-1"},At=c((()=>(0,l._)("label",{class:"form-label"},"Quantity",-1))),Vt={class:"col-md-1"},jt=c((()=>(0,l._)("label",{class:"form-label"},"Quantity_2",-1))),Nt={class:"col-md-1"},Rt=c((()=>(0,l._)("label",{class:"form-label"},"Rate",-1))),Ot={class:"col-md-1"},Et=c((()=>(0,l._)("label",{class:"form-label"},"Cost",-1))),It={class:"form-control"},$t={class:"col-md-1"},Pt=c((()=>(0,l._)("label",{class:"form-label"},"Save",-1))),Wt={class:"btn-group",role:"group"},Ft=["disabled"],Qt=["innerHTML"],Yt={key:1},Gt=c((()=>(0,l._)("td",{colspan:"2",class:"text-start fw-bold"}," SUMMARY ",-1))),Jt={class:"table table-bordered table-responsive table-striped"},Kt=c((()=>(0,l._)("tr",null,[(0,l._)("th",{class:"text-dark fw-bold"},"ALLOCATED "),(0,l._)("th",{class:"text-success"},"BALANCE"),(0,l._)("th",{class:"text-danger"},"UNALLOCATED"),(0,l._)("th",{class:"text-dark"},"BUDGETED"),(0,l._)("th",{class:"text-dark"},"USED")],-1))),Xt={class:"modal fade mymodal",id:"consuptions","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Zt={class:"modal-dialog modal-fullscreen modal-dialog-scrollable"},el={class:"modal-content"},al={class:"modal-header"},tl=c((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Budget Consumption Remarks",-1))),ll={class:"modal-body flex-grow-1 overflow-auto"},sl={class:"table table-bordered table-responsive mb-3"},nl=c((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{colspan:"8",class:"bg-light text-center text-dark fs-6"},"Budget Details")])],-1))),ol=c((()=>(0,l._)("th",null,"Project:",-1))),il=c((()=>(0,l._)("th",null,"Budget Name:",-1))),dl=c((()=>(0,l._)("th",null,"Budget Item:",-1))),ul=c((()=>(0,l._)("th",null,"Description:",-1))),rl=c((()=>(0,l._)("th",null,"Allocated Amount:",-1))),cl=c((()=>(0,l._)("th",null,"Budget Cost:",-1))),vl=c((()=>(0,l._)("th",null,"Used Cost:",-1))),ml=c((()=>(0,l._)("th",null,"Balance:",-1))),bl={key:0,class:"d-flex"},pl={class:"ms-auto"},_l={class:"row"},gl={class:"col-md-2"},yl={class:"col-md-8"},hl={class:"col-md-2"},fl={class:"btn-group w-100",role:"group"},wl=["disabled"],kl=["innerHTML"],xl={key:1},Sl={class:"row layout-top-spacing"},Cl={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},Ul=["innerHTML"],Dl={key:1,class:"panel p-0"},ql={class:"custom-table table3",style:{"max-height":"95vh","overflow-y":"auto"}},Hl=["onClick"],Ll=c((()=>(0,l._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1))),Bl=c((()=>(0,l._)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1))),Ml=[Ll,Bl],zl=c((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-arrow-right",style:{cursor:"pointer"},viewBox:"0 0 16 16"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"})],-1))),Tl={class:"modal-footer"},Al={class:"modal fade mymodal",id:"edits","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Vl={class:"modal-dialog modal-xl modal-dialog-scrollable"},jl={class:"modal-content"},Nl={class:"modal-header"},Rl=c((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Budget Item Editing Record",-1))),Ol={class:"modal-body flex-grow-1 overflow-auto"},El={class:"row layout-top-spacing"},Il={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},$l=["innerHTML"],Pl={key:1,class:"panel p-0"},Wl={class:"custom-table table3"},Fl={class:"modal-footer"},Ql={class:"modal fade mymodal",id:"amendments","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Yl={class:"modal-dialog modal-fullscreen modal-dialog-scrollable"},Gl={class:"modal-content"},Jl={class:"modal-header"},Kl=c((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Budget Amendment Request",-1))),Xl={class:"modal-body flex-grow-1 overflow-auto"},Zl={class:"row"},es={class:"col-md-2"},as=c((()=>(0,l._)("label",{class:"form-label"},"Item ",-1))),ts={class:"col-md-2"},ls=c((()=>(0,l._)("label",{class:"form-label"},"Unit",-1))),ss={class:"col-md-1"},ns=c((()=>(0,l._)("label",{class:"form-label"},"Quantity",-1))),os={class:"col-md-1"},is=c((()=>(0,l._)("label",{class:"form-label"},"quantity_2",-1))),ds={class:"col-md-2"},us=c((()=>(0,l._)("label",{class:"form-label"},"Rate",-1))),rs={class:"col-md-2"},cs=c((()=>(0,l._)("label",{class:"form-label"},"Cost",-1))),vs={class:"form-control"},ms=c((()=>(0,l._)("div",{class:"col-md-1"},[(0,l._)("label",{class:"form-label"},"Save"),(0,l._)("button",{type:"submit",class:"btn btn-primary"},[(0,l._)("span",null," Add ")])],-1))),bs={class:"row layout-top-spacing"},ps={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},_s=["innerHTML"],gs={key:1,class:"panel p-0"},ys={class:"custom-table table3",style:{"max-height":"95vh","overflow-y":"auto"}},hs=["onClick"],fs=c((()=>(0,l._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1))),ws=c((()=>(0,l._)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1))),ks=[fs,ws],xs={class:"modal-footer"},Ss=["disabled"],Cs=["innerHTML"],Us={key:1},Ds={class:"modal fade mymodal",id:"amendment-requests","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},qs={class:"modal-dialog modal-fullscreen modal-dialog-scrollable"},Hs={class:"modal-content"},Ls={class:"modal-header"},Bs=c((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Budget Amendment Request List",-1))),Ms={class:"modal-body flex-grow-1 overflow-auto"},zs={class:"row layout-top-spacing"},Ts={class:"col-xl-6 col-lg-12 col-sm-12 layout-spacing"},As=["innerHTML"],Vs={key:1,class:"panel p-0"},js={class:"custom-table table3"},Ns={key:0,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-check2-circle",viewBox:"0 0 16 16"},Rs=c((()=>(0,l._)("path",{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0"},null,-1))),Os=c((()=>(0,l._)("path",{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"},null,-1))),Es=[Rs,Os],Is=["onClick"],$s=c((()=>(0,l._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1))),Ps=[$s],Ws={class:"col-xl-6 col-lg-12 col-sm-12 layout-spacing"},Fs={key:0,class:"card border-danger shadow-sm my-3"},Qs=c((()=>(0,l._)("div",{class:"card-header bg-danger text-white"},[(0,l._)("strong",null,"Amendment Rejected")],-1))),Ys={class:"card-body text-start"},Gs=c((()=>(0,l._)("strong",null,"Rejected By:",-1))),Js=c((()=>(0,l._)("strong",null,"Reason:",-1))),Ks=["innerHTML"],Xs={key:2,class:"panel p-0"},Zs={class:"custom-table table3"},en={class:"modal-footer"},an={class:"modal fade mymodal",id:"budgetApprovals","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},tn={class:"modal-dialog modal-fullscreen"},ln={class:"modal-content"},sn={class:"modal-header"},nn=c((()=>(0,l._)("div",{class:"d-flex justify-content-center my-3"},null,-1))),on={class:"modal-body flex-grow-1 overflow-auto"},dn={class:"row layout-top-spacing"},un={class:"col-xl-6 col-lg-12 col-sm-12 layout-spacing"},rn={class:"panel p-0"},cn={class:"custom-table table3",style:{"max-height":"600px","overflow-y":"auto"}},vn=["innerHTML"],mn=["onClick"],bn={key:0,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-check2-circle",viewBox:"0 0 16 16"},pn=c((()=>(0,l._)("path",{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0"},null,-1))),_n=c((()=>(0,l._)("path",{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"},null,-1))),gn=[pn,_n],yn={key:1,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-circle",viewBox:"0 0 16 16"},hn=c((()=>(0,l._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1))),fn=[hn],wn={class:"col-xl-6 col-lg-12 col-sm-12 layout-spacing"},kn={key:0,class:"card mt-2 shadow p-3 border-0"},xn={class:"mb-0 text-white"},Sn={class:"card-body py-3"},Cn={class:"text-start mb-2"},Un=c((()=>(0,l._)("strong",null,"Requested by:",-1))),Dn={class:"text-start mb-2"},qn=c((()=>(0,l._)("strong",null,"Description:",-1))),Hn={key:0,class:"text-start mb-0"},Ln=c((()=>(0,l._)("strong",null,"Rejection remark:",-1))),Bn={class:"modal-footer"},Mn={class:"modal fade mymodal",id:"edit","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},zn={class:"modal-dialog modal-xl"},Tn={class:"modal-content"},An={class:"modal-header"},Vn={class:"modal-title fs-5",id:"staticBackdropLabel"},jn=c((()=>(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close_modal"},null,-1))),Nn={class:"modal-body"},Rn={class:"row"},On={class:"col-md-12"},En=c((()=>(0,l._)("label",{class:"form-label"},"Enter Any Remark ",-1))),In={class:"col-md-2"},$n=c((()=>(0,l._)("label",{class:"form-label"},"Quantity",-1))),Pn={class:"col-md-2"},Wn=c((()=>(0,l._)("label",{class:"form-label"},"Quantity_2",-1))),Fn={class:"col-md-3"},Qn=c((()=>(0,l._)("label",{class:"form-label"},"Rate",-1))),Yn={class:"col-md-3"},Gn=c((()=>(0,l._)("label",{class:"form-label"},"Cost",-1))),Jn={class:"form-control"},Kn={class:"col-md-1"},Xn=c((()=>(0,l._)("label",{class:"form-label"},"Save",-1))),Zn={class:"btn-group",role:"group"},eo=["disabled"],ao=["innerHTML"],to={key:1},lo=c((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm py-2 px-2","data-bs-dismiss":"modal",id:"close_modal"},"Close")],-1))),so=c((()=>(0,l._)("button",{"data-bs-toggle":"modal","data-bs-target":"#edit",style:{display:"none"},id:"edit_button"},null,-1)));var no={setup(e){const a=JSON.parse(localStorage.getItem("user")).permissions,t=JSON.parse(localStorage.getItem("user")).id;(0,r.j)({title:"Budgets "});const d=(0,n.iH)([""]),c=(0,n.iH)(""),N=(0,n.iH)(!1),W=(0,l.f3)("showError"),K=(0,l.f3)("formatNumber"),ea=(0,l.f3)("showMessage"),aa=(0,l.f3)("pillShimmer"),la=(0,l.f3)("tableShimmer"),sa=(0,l.f3)("waitIndicator"),Na=(0,l.f3)("loadingSpinner"),Ra=(0,l.f3)("printBudget"),Oa=i.Z.create({baseURL:"https://bushman.ink/api/v1/"}),Ka=(0,n.iH)(!0),Xa=(0,n.iH)([]),at=(0,n.iH)(""),tt=(0,n.iH)(!1),Ll=(0,n.iH)(!1),Bl=(0,n.iH)(""),fs=(0,n.iH)(""),ws=(0,n.iH)(""),Rs=(0,n.iH)([]),Os=(0,n.iH)([]),$s=["Sno","editor","remark","quantity","quantity_2","rate","cost"],pn=async e=>{di.value=!0;const a=await Oa.get(`budget-edit-logs?description_id=${e}`);Os.value=a.data.map(((e,a)=>({...e,Sno:a+1,editor:e.editor.name,quantity:e.from_quantity+"➡️"+e.to_quantity,quantity_2:e.from_quantity_2+"➡️"+e.to_quantity_2,rate:K(e.from_rate)+" ➡️ "+K(e.to_rate),cost:K(e.from_quantity*e.from_quantity_2*e.from_rate)+" ➡️ "+K(e.to_quantity*e.to_quantity_2*e.to_rate)}))),di.value=!1},_n=async e=>{di.value=!0,fs.value=ws.value;const a={budget_item_description_id:e,from_quantity:Eo.value.quantity,to_quantity:Jo.value,from_quantity_2:Eo.value.quantity_2,to_quantity_2:Ko.value,from_rate:Eo.value.cost,to_rate:Zo.value,remark:Ho.value,editor_id:JSON.parse(localStorage.getItem("user")).id};try{await Oa.post("budget-edit-logs",a);const t=JSON.parse(localStorage.getItem("user")),l=at.value.items.find((a=>a.descriptions.some((a=>a.id===e))));if(l){const a=l.descriptions.find((a=>a.id===e));a&&(a.last_editor=t.name)}ni()}catch(t){W(t.message),console.log(t)}finally{di.value=!1}},hn=(0,n.iH)(!1),no=(0,n.iH)(""),oo=(0,n.iH)(""),io=(0,n.iH)(""),uo=async()=>{di.value=!0;const e={budget_id:at.value.id,issuer_id:JSON.parse(localStorage.getItem("user")).id,amount:no.value,description:oo.value,date:io.value};try{await Oa.post("budget-allocations",e);await ro(),ea("Fund added successfully"),document.getElementById("close-allocation").click(),xi(),co()}catch(a){W(a.message),console.log(a)}finally{di.value=!1,hn.value=!1}},ro=async()=>{di.value=!0;const e={funded_amount:at.value.funded_amount+no.value};try{await Oa.put(`budgets/${at.value.id}`,e);at.value.funded_amount=Number(at.value.funded_amount)+Number(no.value)}catch(a){W(a.message),console.log(a)}finally{di.value=!1,hn.value=!1}},co=()=>{no.value="",oo.value="",io.value=""},vo=(0,n.iH)(""),mo=e=>{vo.value=e,bo.value=e.items.map(((e,a)=>({...e,sno:a+1,qty:e.quantity,qty2:e.quantity_2,sum:e.quantity*e.quantity_2,cost:(e.quantity*e.quantity_2*e.rate).toLocaleString()+"/=",rate:Number(e.rate).toLocaleString()+"/="})))},bo=(0,n.iH)([]),po=(0,n.iH)([]),_o=["sno","requester","status","date","select"],go=["sno","description","unit","qty","qty2","sum","rate","cost"],yo=(0,n.iH)([]),ho=["sno","description","unit","quantity","quantity_2","rate","cost","actions"],fo=()=>{Yo.value="",Jo.value="",Ko.value="",Xo.value="",Zo.value="",ei.value=""},wo=async()=>{di.value=!0;const e=await Oa.get(`budget-amendments?budget_id=${at.value.id}`);po.value=e.data.map(((e,a)=>({...e,sno:a+1,requester:e.requester.name}))),di.value=!1},ko=()=>{bo.value=[],yo.value=[],Ka.value=!0,vo.value=""},xo=(0,n.iH)(1),So=()=>{const e={sno:xo.value,description:Yo.value,quantity:Jo.value,quantity_2:Ko.value,rate:Zo.value.toLocaleString()+"/=",unit:Xo.value.short_name,cost:(Jo.value*Ko.value*Zo.value).toLocaleString()+"/="},a={sno:xo.value,description:Yo.value,quantity:Jo.value,quantity_2:Ko.value,unit:Xo.value.short_name,rate:Zo.value};bo.value.push(e),yo.value.push(a),xo.value+=1,fo()},Co=e=>{bo.value=bo.value.filter((a=>a.sno!==e)),yo.value=yo.value.filter((a=>a.sno!==e)),bo.value.forEach(((e,a)=>{e.sno=a+1,xo.value=e.sno+1})),yo.value.forEach(((e,a)=>{e.sno=a+1,xo.value=e.sno+1}))},Uo=async()=>{di.value=!0;const e={items:yo.value,amendment:{requester_id:JSON.parse(localStorage.getItem("user")).id,budget_id:at.value.id}};try{await Oa.post("budget-amendments",e);ea("Amendment sent"),Ka.value=!1}catch(a){W(a.message),console.log(a)}finally{di.value=!1}},Do=async e=>{di.value=!0;const a={status:e};try{const t=await Oa.put(`budgets/${at.value.id}`,a);ea("budget "+e),at.value.status=t.data.status}catch(t){W(t.message),console.log(t)}finally{di.value=!1}},qo=(0,n.iH)(""),Ho=(0,n.iH)(""),Lo=(0,n.iH)(""),Bo=(0,n.iH)(!1),Mo=async()=>{di.value=!0;try{const e={date:(new Date).toISOString().split("T")[0],remarker_id:JSON.parse(localStorage.getItem("user")).id,approval_id:qo.value,description:Ho.value+"This was created from LPO No: "+qo.value,budget_item_description_id:Oo.value,cost:Lo.value},a=await Oa.post("budget-remarks",e),t=a.data;let l=parseFloat(Eo.value.quantity*Eo.value.quantity_2*Eo.value.cost);Eo.value.used_cost=(parseFloat(Eo.value.used_cost||0)+parseFloat(t.cost)).toFixed(2),at.value.total_used_cost=at.value.total_used_cost+t.cost,Ao.value=[...Ao.value,{sno:Ao.value.length+1,id:t.id,approved_by:JSON.parse(localStorage.getItem("user")).name,date:t.date,debit:t.cost>0?Number(t.cost).toLocaleString()+" Tsh":"--",credit:t.cost<0?Number(Math.abs(t.cost)).toLocaleString()+" Tsh":"--",description:t.description,balance:0}],Ao.value=Ao.value.map(((e,a)=>(l-=parseFloat(e.debit.replace(/[^0-9.-]+/g,""))||0,{...e,sno:a+1,balance:l.toLocaleString()+" Tsh"}))),Ro(Eo.value),ea("Remark added successfully"),Ho.value="",Lo.value="",qo.value="",Bo.value=""}catch(e){W(e.message)}finally{di.value=!1}},zo=(0,l.f3)("showConfirmation"),To=async(e,a)=>{zo("Delete Record","Are you sure you want to delete "+e.description+" with cost "+e.debit,`budget-remarks/${e.id}`,"delete");const t=parseFloat(e.debit.replace(/[^0-9.-]+/g,""))||0;a.used_cost=(parseFloat(a.used_cost)-t).toFixed(2),at.value.total_used_cost=(parseFloat(at.value.total_used_cost)-t).toFixed(2),Ao.value=Ao.value.filter((a=>a.id!==e.id));let l=parseFloat(a.quantity*a.quantity_2*a.cost);Ao.value=Ao.value.map(((e,a)=>(l-=parseFloat(e.debit.replace(/[^0-9.-]+/g,""))||0,{...e,sno:a+1,balance:l.toLocaleString()+" Tsh"})))},Ao=(0,n.iH)([]),Vo=["sno","approved_by","date","description","debit","credit","balance","actions"],jo=(0,n.iH)(0),No=(0,n.iH)(""),Ro=async(e,a)=>{Ao.value=[],di.value=!0,No.value=a.name,jo.value=parseFloat(e.quantity*e.quantity_2*e.cost);const t=await Oa.get(`budget-remarks?budget_item_description_id=${e.id}`);Ao.value=t.data.map(((e,a)=>(jo.value-=parseFloat(e.cost),{...e,sno:a+1,id:e.id,approved_by:e.remarker.name,date:e.date,debit:e.cost>0?Number(e.cost).toLocaleString()+" Tsh":"--",credit:e.cost<0?Number(Math.abs(e.cost)).toLocaleString()+" Tsh":"--",description:e.description,balance:jo.value.toLocaleString()+" Tsh"}))),di.value=!1},Oo=(0,n.iH)(""),Eo=(0,n.iH)(""),Io=(0,n.iH)(0),$o=(0,n.iH)(!1),Po=(e,t)=>{if(Eo.value=e,Oo.value=e.id,"open"===at.value.status){if(!a.includes("can_edit_budget")||0!=$o.value)return Io.value+=1,void(Io.value>3&&(W("Access Denied"),Io.value=0));ws.value=t,document.getElementById("edit_button").click()}else fs.value=t;Yo.value=e.name,Go.value=e.specification||"",Jo.value=e.quantity,Ko.value=e.quantity_2,Zo.value=e.cost,Xo.value=Fo.value.find((a=>a.short_name===e.units))},Wo=async e=>{if(Ho.value=Yo.value,di.value=!0,!Xo.value&&!ws.value)return W("Please fill all items"),void(di.value=!1);const a={id:e,name:Yo.value,specification:Go.value,quantity:Jo.value??0,quantity_2:Ko.value??0,...Xo.value?.short_name&&{units:Xo.value.short_name},cost:Zo.value??0};try{await Oa.put(`budget-item-descriptions/${e}`,a);document.getElementById("close_modal").click(),ea("Updated Successfully"),"open"===at.value.status&&(fs.value=ws.value);const t=Rs.value.find((e=>e.id===fs.value));if(t&&t.descriptions){const l=t.descriptions.findIndex((a=>a.id===e));if(-1!==l){const e=t.descriptions[l].cost*t.descriptions[l].quantity*t.descriptions[l].quantity_2,s=a.cost*a.quantity*a.quantity_2;t.descriptions[l]={...t.descriptions[l],...a},at.value.total_cost=at.value.total_cost-e+s}}"open"===at.value.status&&await _n(e),ni()}catch(t){W(t.message),console.log(t)}finally{di.value=!1}},Fo=(0,n.iH)(""),Qo=async()=>{const e=await Oa.get("units");Fo.value=e.data},Yo=(0,n.iH)(""),Go=(0,n.iH)(""),Jo=(0,n.iH)(""),Ko=(0,n.iH)(""),Xo=(0,n.iH)(""),Zo=(0,n.iH)(""),ei=(0,n.iH)(0),ai=async e=>{if(!Xo.value)return void W("please enter unit");di.value=!0;const a={budget_item_id:Bl.value,name:Yo.value,specification:Go.value,quantity:Jo.value??0,quantity_2:Ko.value??0,units:Xo.value.short_name,cost:Zo.value??0};try{await Oa.post("budget-item-descriptions",a);ea("Description added successfully");const e=Rs.value.find((e=>e.id===Bl.value));e&&(e.descriptions=e.descriptions||[],e.descriptions.push(a)),ni(),xi()}catch(t){W(t.message),console.log(t)}finally{di.value=!1}},ti=(0,n.iH)(""),li=async()=>{di.value=!0;const e={budget_id:at.value.id,name:ti.value};try{const a=await Oa.post("budget-items",e);ea("Item Added successfully"),Rs.value.push(a.data),xi(),ti.value="",Ll.value=!1}catch(a){W(a.message),console.log(a)}finally{di.value=!1}},si=async e=>{const a=wi.value.find((a=>a.budget_id===e.id));if(!a||"Rejected"!==a.status?.name&&"Unapproved"!==a.status?.name)W("Can only delete rejected or unapproved budgets");else if(confirm("are you sure you want to delete budget "+e.name))try{tt.value=!0,await Oa.delete(`budgets/${e.id}`),ea("Budget Deleted"),xi()}catch(t){W(t.message),console.log(t)}},ni=()=>{oi.value="",qo.value="",N.value=!1,ti.value="",Ll.value=!1,Yo.value="",Jo.value="",Ko.value="",Xo.value="",Zo.value="",ei.value="",Bl.value="",Oo.value="",fs.value="",Lo.value="",Ho.value="",Bo.value="",ws.value="",Ho.value="",Go.value="",$o.value=!1,Mi.value=[],zi.value="",N.value=!1,ui.value="",ii.value=""},oi=((0,n.iH)(""),(0,n.iH)("")),ii=(0,n.iH)(""),di=(0,n.iH)(!1),ui=(0,n.iH)(""),ri=async()=>{if(0==zi.value.length)return void W("Select atleast one budget line");di.value=!0;const e={name:oi.value,description:ii.value,project_id:c.value.id,section_length:ui.value,unit:Xo.value.short_name,boq_lines:zi.value};try{const a=await Oa.post("budgets",e),t=a.data.id,l={budget_id:t,project_name:c.value.short_name,status_id:2,requester_id:JSON.parse(localStorage.getItem("user")).id};await Oa.post("budget-approvals",l),ea("Budget Added and Approval Created"),xi(),ki(),ni()}catch(a){W(a.message),console.log(a)}finally{di.value=!1}},ci=(0,n.iH)(!1),vi=(0,n.iH)("danger"),mi=(0,n.iH)(""),bi=(0,n.iH)(""),pi=(0,n.iH)(""),_i=(0,n.iH)(!1),gi=e=>{_i.value=!1;const a=wi.value.find((a=>a.budget_id===e.id));a?"approved"===a.status?.name?(at.value=e,Rs.value=e.items,ci.value=!1,console.log("Budget data loaded successfully")):"Unapproved"===a.status?.name?(ci.value=!0,vi.value="warning",mi.value="Budget Unapproved",bi.value="This budget is pending approval and cannot be accessed yet.",pi.value=a.remark||"No remarks provided.",at.value=e,Rs.value=[]):"Rejected"===a.status?.name&&(ci.value=!0,vi.value="danger",mi.value="Budget Rejected",bi.value="This budget has been rejected and cannot be accessed.",pi.value=a.remark||"No rejection remarks provided.",at.value=e,Rs.value=[]):(at.value=e,Rs.value=e.items,ci.value=!1)},yi=(0,n.iH)(null),hi=e=>{yi.value=e},fi=(0,n.iH)(["Sno","budget_name","project_name","date_created","status","actions"]),wi=(0,n.iH)([]),ki=async()=>{di.value=!0;const e=await Oa.get("budget-approvals");wi.value=e.data.map(((e,a)=>({...e,Sno:a+1,budget_name:e.budget?.name||"N/A",project:e.budget?.project_id||"N/A",project_name:e.budget?.project?.short_name,requester:e.user.name||"N/A",remark:e.remark||"No rejection remark",description:e.budget?.description||"N/A",date_created:new Date(e.created_at).toLocaleDateString(),status:{name:e.status?.name||"N/A",color:e.status?.color||"default"}}))),di.value=!1},xi=async()=>{Xa.value=[],tt.value=!0;try{const e=await Oa.get(`budgets?project_id=${c.value.id}`);Xa.value=e.data}catch(e){W(e.message),console.log(e)}finally{tt.value=!1}},Si=async()=>{await ki(),await xi()};Si(),(0,l.YP)(c,(e=>{e&&e.id&&(at.value="",xi(),ni())})),(0,l.YP)(at,(e=>{e&&(Rs.value=e.items)}));(0,n.iH)({perPage:10,perPageValues:[5,10,20,50],skin:"table table-hover",columnsClasses:{actions:"actions text-center"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},sortable:["SNo","date_issued","fuel_issued"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},resizableColumns:!1,searchable:!0});const Ci=async()=>{try{const e=await Oa.get("projects?company_id=6&status=active");d.value=e.data.filter((e=>"YES"===e.contracted)).filter((e=>"active"===e.status))}catch(e){W(e.message),console.log(e)}},Ui=()=>{const e=document.querySelector(".modal.show");if(e){const a=bootstrap.Modal.getInstance(e);a?.hide()}document.body.classList.remove("modal-open"),document.body.style.overflow="auto",document.body.style.paddingRight=""},Di=(0,l.f3)("whatsappAlert"),qi=(0,n.iH)(!1),Hi=()=>{window.innerWidth<991&&(qi.value=!0)};(0,l.bv)((()=>{Hi(),Ui(),Ci(),Qo();const e=JSON.parse(localStorage.getItem("user")).name+" is in budget page",a="255698267662",t="wamid.HBgMMjU1Njk4MjY3NjYyFQIAEhgWM0VCMDE4NkNGOENGMzEwRDNGQzJFRAA=";Di(e,t,a)}));const Li=async()=>{if(!at.value)return void W("Please select a budget first");const e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e);const a=(new Date).toLocaleDateString(),t=at.value.funded_amount||0,l=at.value.total_cost||0,s=at.value.total_used_cost||0,n=l-s,o=t-l,i=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Budget Report - ${at.value.name}</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 14px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px; }\n  .logo { width: 160px; height: auto; }\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 14px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; flex-grow: 1; }\n  .company-title h2 { margin: 5px 0; font-size: 18px; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 12px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 15px 0 8px 0; font-size: 16px; margin-top: 1.5rem; margin-bottom: 1.5rem; }\n  .budget-info table { width: 100%; border-collapse: collapse; margin-bottom: 12px; border: 1px solid #666; }\n  .budget-info th, .budget-info td { padding: 6px; border: 1px solid #666; font-size: 13px; text-align: center; }\n  .budget-info th { background-color: #f5f5f5; }\n  .item-name-title { font-weight: 900; font-size: 18px; text-align: left; margin: 20px 0 8px 0; padding: 10px; background-color: #222; color: white; border-radius: 5px; text-transform: uppercase; letter-spacing: 0.5px; }\n  .item-container { width: 100%; border: 1px solid #333; margin-bottom: 20px; padding: 10px; background-color: #fafafa; border-radius: 5px; }\n  .description-table { width: 100%; border-collapse: collapse; margin: 4px 0 8px 0; font-size: 12px; border: 1px solid #666; }\n  .description-table th, .description-table td { border: 1px solid #666; padding: 4px; }\n  .description-table th { background-color: #f8f8f8; }\n  .item-total-row { font-weight: bold; background-color: #d9d9d9; }\n  .text-right { text-align: right; }\n  .summary-row { font-weight: bold; background-color: #e9e9e9; }\n  .summary-row td:first-child { text-align: left; padding-left: 10px; }\n  .totals-table { width: 100%; border-collapse: collapse; margin-top: 20px; border: 1px solid #666; }\n  .totals-table th, .totals-table td { border: 1px solid #666; padding: 8px; text-align: center; font-size: 14px; font-weight: bold; }\n  .totals-table th { background-color: #f2f2f2; }\n  @media print { body { margin: 8mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="report-box">\n     Report Date <br>\n    <span style="color:red;">${a}</span>\n  </div>\n</div>\n\n<div class="reg-info">\n  TIN: 135-489-247<br>\n  VRN: 40-032826C\n</div>\n\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n\n<div class="section-title">BUDGET DETAILS</div>\n<div><strong>BUDGET : ${at.value.name} </strong></div> <br>\n<div class="item-container">\n<div class="budget-info">\n  <table>\n    <thead>\n      <tr>\n        <th>Project</th>\n        <th>Allocated Amount</th>\n        <th>Unallocated Amount</th>\n        <th>Budget Cost</th>\n        <th>Used Cost</th>\n        <th>Balance</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>${c.value.short_name}</td>\n        <td class="text-right">${K(t)} </td>\n        <td class="text-right">${K(o)} </td>\n        <td class="text-right">${K(l)} </td>\n        <td class="text-right">${K(s)} </td>\n        <td class="text-right">${K(n)} </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n</div>\n\n<div class="section-title">BUDGET ITEMS DETAILS</div>\n\n${Rs.value.map(((e,a)=>{let t=0,l=0,s=0;const n=e.descriptions.map(((e,a)=>{const n=(e.cost||0)*(e.quantity||0)*(e.quantity_2||1),o=parseFloat(e.used_cost)||0,i=n-o;return t+=n,l+=o,s+=i,`\n      <tr>\n        <td>${e.name||"-"}</td>\n        <td>${e.units||"-"}</td>\n        <td class="text-right">${e.quantity||0}</td>\n        <td class="text-right">${e.quantity_2||1}</td>\n        <td class="text-right">${K(e.cost||0)}</td>\n        <td class="text-right">${K(n)}</td>\n        <td class="text-right">${K(o)}</td>\n        <td class="text-right">${K(i)}</td>\n      </tr>\n    `})).join("");return`\n    <div><strong>${e.name.toUpperCase()}</strong></div><br>\n    <div class="item-container">\n      <table class="description-table">\n        <thead>\n          <tr>\n            <th>Description</th>\n            <th>Units</th>\n            <th>Qty 1</th>\n            <th>Qty 2</th>\n            <th>Rate</th>\n            <th>Budgeted</th>\n            <th>Used</th>\n            <th>Balance</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${n}\n        </tbody>\n        <tfoot>\n          <tr class="item-total-row">\n            <td colspan="5" style="text-align: left; padding-left: 10px;"><strong>Grand Total:</strong></td>\n            <td class="text-right">${K(t)}</td>\n            <td class="text-right">${K(l)}</td>\n            <td class="text-right">${K(s)}</td>\n          </tr>\n        </tfoot>\n      </table>\n    </div>\n  `})).join("")}\n\n<table class="totals-table">\n  <thead>\n    <tr>\n      <th colspan="3">GRAND TOTAL SUMMARY</th>\n    </tr>\n    <tr>\n      <th>Total Budgeted</th>\n      <th>Total Used</th>\n      <th>Total Balance</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td class="text-right">${K(l)} </td>\n      <td class="text-right">${K(s)} </td>\n      <td class="text-right">${K(n)} </td>\n    </tr>\n  </tbody>\n</table>\n\n<div style="margin-top: 40px; text-align: center; font-size: 12px; border-top: 1px solid #666; padding-top: 8px;">\n  <p>© ${(new Date).getFullYear()} COPEX CONTRACTORS CO.LTD | TIN: 135-489-247 | VRN: 40-032826C</p>\n  <p>Msamvu, P.O.BOX 678, Morogoro | Mobile: 0713 000 777, 0657 111 555</p>\n</div>\n\n</body>\n</html>\n`,d=e.contentWindow.document;d.open(),d.write(i),d.close(),e.onload=()=>{e.contentWindow.focus(),e.contentWindow.print(),setTimeout((()=>{document.body.removeChild(e)}),1e3)}},Bi=e=>{const a=wi.value.find((a=>a.budget_id===e.id));if(a){if("Unapproved"===a.status?.name)return"status-unapproved";if("Approved"===a.status?.name)return"status-approved";if("Rejected"===a.status?.name)return"status-rejected"}return""},Mi=(0,n.iH)([]),zi=(0,n.iH)(""),Ti=async()=>{try{const e=await Oa.get(`project-boq-lines?project_id=${c.value.id}`);Mi.value=e.data.data}catch(e){W(e.message),console.log(e)}},Ai=async e=>{$o.value=!0,await zo("Delete Record","Are you sure you want to delete "+e.name+" budget",`budget-item-descriptions/${e.id}?deleted=1&deleted_by_id=${t}`,"put"),$o.value=!1};return(e,t)=>{const i=(0,l.up)("router-link"),r=(0,l.up)("v-client-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",v,[m,at.value?((0,l.wg)(),(0,l.iD)("h4",b,(0,s.zw)(at.value.name),1)):((0,l.wg)(),(0,l.iD)("h4",p,"BUDGETS LIST")),(0,l._)("div",_,[(0,l._)("div",g,[(0,l._)("div",y,[(0,l._)("div",h,[(0,l._)("div",f,[(0,l._)("div",w,[k,(0,l._)("div",x,[(0,l._)("div",S,[(0,l._)("div",C,[(0,l._)("div",(0,l.dG)({class:"list-group",id:"list-tab",role:"tablist"},qi.value?{"data-bs-toggle":"offcanvas","data-bs-target":"#budgetOffcanvas","aria-controls":"budgetOffcanvas"}:{}),[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.value,(e=>((0,l.wg)(),(0,l.iD)("a",{key:e.id,class:"list-group-item list-group-item-action",id:"project-link-"+e.id,"data-bs-toggle":"list",href:"#project-"+e.id,role:"tab","aria-controls":"project-"+e.id,onClick:a=>c.value=e,"data-bs-dismiss":"offcanvas"},(0,s.zw)(e.short_name),9,U)))),128))],16)])])])]),(0,l._)("div",D,[q,(0,l._)("div",H,[(0,l._)("div",L,[(0,l._)("div",B,[(0,l._)("div",M,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Xa.value,(e=>((0,l.wg)(),(0,l.iD)("a",{key:e.id,class:"list-group-item list-group-item-action",id:"project-link-"+e.id,"data-bs-toggle":"list",href:"#budget-"+e.id,role:"tab","aria-controls":"budget-"+e.id,"data-bs-dismiss":"offcanvas",onClick:a=>gi(e)},(0,s.zw)(e.name),9,z)))),128)),tt.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(sa)()},null,8,T)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,n.SU)(a).includes("can_create_budget")?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"list-group-item list-group-item-action",id:"new-budget","data-bs-toggle":"list",href:"javascript::(0)",role:"tab","aria-controls":"new-budget","data-bs-dismiss":"offcanvas",onClick:t[0]||(t[0]=e=>(N.value=!N.value,Ti()))},"+ New Budget")):(0,l.kq)("",!0)],64))])])])])]),(0,l._)("div",A,[(0,l._)("div",V,[qi.value?((0,l.wg)(),(0,l.iD)("button",j,R)):((0,l.wg)(),(0,l.iD)("div",O,[at.value&&!_i.value?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:t[1]||(t[1]=e=>_i.value=!_i.value),class:"justify-content-center btn btn-primary mb-2"},"View Budgets")):((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:t[2]||(t[2]=e=>_i.value=!_i.value),class:"btn btn-outline-primary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasWithBothOptions","aria-controls":"offcanvasWithBothOptions"},"Select Project from the lists"))]))])])])]),""!=c.value?((0,l.wg)(),(0,l.iD)("div",E,[tt.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,n.SU)(aa)()},null,8,I)):((0,l.wg)(),(0,l.iD)("div",$,[qi.value?((0,l.wg)(),(0,l.iD)("div",P,F)):((0,l.wg)(),(0,l.iD)("div",Q,[_i.value?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(Xa.value,(e=>((0,l.wg)(),(0,l.iD)("span",{key:e.id,class:(0,s.C_)(["budget-button project-button",[e.id===at.value.id?"active-budget":"project-button",Bi(e)]]),onClick:a=>gi(e),title:"Click to select"},[(0,l.Uk)((0,s.zw)(e.name)+" ",1),(0,n.SU)(a).includes("can_delete_budget")&&0==e.items_count?((0,l.wg)(),(0,l.iD)("span",{key:0,class:"close-mark",onClick:(0,o.iM)((a=>si(e)),["stop"])}," × ",8,G)):(0,l.kq)("",!0)],10,Y)))),128)):(0,l.kq)("",!0),(0,n.SU)(a).includes("can_create_budget")&&_i.value?((0,l.wg)(),(0,l.iD)("span",{key:1,onClick:t[3]||(t[3]=e=>(N.value=!N.value,Ti())),class:"budget-button new-project-button"}," + New Budget ")):(0,l.kq)("",!0)]))]))])):((0,l.wg)(),(0,l.iD)("div",J,X)),(0,l._)("form",{onSubmit:t[10]||(t[10]=(0,o.iM)((e=>ri()),["prevent"]))},[N.value?((0,l.wg)(),(0,l.iD)("div",Z,[(0,l._)("div",ee,[(0,l._)("div",ae,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter budget name","onUpdate:modelValue":t[4]||(t[4]=e=>oi.value=e),required:""},null,512),[[o.nr,oi.value]])]),(0,l._)("div",te,[(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Enter Length of section","onUpdate:modelValue":t[5]||(t[5]=e=>ui.value=e),step:"any"},null,512),[[o.nr,ui.value]])]),(0,l._)("div",le,[(0,l.Wm)((0,n.SU)(u()),{modelValue:Xo.value,"onUpdate:modelValue":t[6]||(t[6]=e=>Xo.value=e),options:Fo.value,placeholder:"Select section Unit",label:"short_name",searchable:!0,"append-to-body":!0},null,8,["modelValue","options"])]),(0,l._)("div",se,[(0,l.Wm)((0,n.SU)(u()),{modelValue:zi.value,"onUpdate:modelValue":t[7]||(t[7]=e=>zi.value=e),options:Mi.value,label:"name",placeholder:"Select Boq Lines",searchable:!0,multiple:!0,"track-by":"id"},null,8,["modelValue","options"])]),(0,l._)("div",ne,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter description","onUpdate:modelValue":t[8]||(t[8]=e=>ii.value=e)},null,512),[[o.nr,ii.value]])])]),(0,l._)("div",oe,[(0,l._)("button",{type:"button",class:"btn btn-secondary mx-2",onClick:t[9]||(t[9]=e=>N.value=!1)}," Cancel "),(0,l._)("button",{type:"submit",class:"btn btn-primary me-2",disabled:di.value},[di.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Na)()},null,8,de)):((0,l.wg)(),(0,l.iD)("span",ue," Add Budget"))],8,ie)]),re])):(0,l.kq)("",!0)],32)])])]),(0,l._)("div",null,[(0,l._)("div",null,[ci.value?((0,l.wg)(),(0,l.iD)("div",ce,[(0,l._)("div",ve,[(0,l._)("div",{class:(0,s.C_)(["card shadow border-start-primary h-100 p-4","card-"+vi.value])},[(0,l._)("div",me,[(0,l._)("h4",be,(0,s.zw)(mi.value),1)]),(0,l._)("div",pe,[(0,l._)("p",_e,(0,s.zw)(bi.value),1),pi.value?((0,l.wg)(),(0,l.iD)("div",ge,[ye,(0,l._)("p",he,(0,s.zw)(pi.value),1)])):(0,l.kq)("",!0)])],2)])])):((0,l.wg)(),(0,l.iD)("div",fe,[(0,l._)("div",we,[at.value?((0,l.wg)(),(0,l.iD)("table",ke,[(0,l._)("thead",null,[xe,(0,l._)("tr",null,[(0,l._)("a",Se,[(0,l._)("td",null,[(0,l._)("span",null,(0,s.zw)((0,n.SU)(K)(at.value.funded_amount)),1)])]),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(at.value.funded_amount-at.value.total_used_cost)),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(at.value.funded_amount-at.value.total_cost)),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(at.value.total_cost)),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(at.value.total_used_cost)),1),(0,l._)("td",null,(0,s.zw)(at.value.status),1)]),(0,l._)("tr",null,[(0,l._)("td",Ce,"BUDGET : "+(0,s.zw)(at.value?.name),1)])])])):(0,l.kq)("",!0)]),(0,l._)("div",Ue,[(0,l._)("div",De,[(0,l._)("div",qe,[(0,l._)("div",He,[(0,l._)("h1",Le,"Budget allocation for "+(0,s.zw)(at.value.name),1),(0,l.Wm)(i,{to:`/budget/allocation/${at.value.id}`},{default:(0,l.w5)((()=>[Be])),_:1},8,["to"])]),(0,l._)("form",{onSubmit:t[15]||(t[15]=(0,o.iM)((e=>uo()),["prevent"]))},[(0,l._)("div",Me,[(0,l._)("div",ze,[(0,l._)("div",Te,[(0,l._)("label",Ae,"ALLOCATED AMOUNT "+(0,s.zw)((0,n.SU)(K)(at.value.funded_amount)),1),(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Add Funded amount","onUpdate:modelValue":t[11]||(t[11]=e=>no.value=e),step:"any",min:"1",required:""},null,512),[[o.nr,no.value]])]),(0,l._)("div",Ve,[je,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=e=>io.value=e),required:""},null,512),[[o.nr,io.value]])]),(0,l._)("div",Ne,[Re,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter purpose","onUpdate:modelValue":t[13]||(t[13]=e=>oo.value=e),required:""},null,512),[[o.nr,oo.value]])])])]),(0,l._)("div",Oe,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[14]||(t[14]=e=>co()),id:"close-allocation"},"Close"),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:di.value},[di.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Na)()},null,8,Ie)):((0,l.wg)(),(0,l.iD)("span",$e,"Submit"))],8,Ee)])],32)])])]),at.value&&qi.value?((0,l.wg)(),(0,l.iD)("div",Pe,[(0,l._)("div",We,[(0,l._)("div",Fe,[Qe,(0,l._)("ul",Ye,[(0,l._)("li",null,[(0,l._)("a",{class:"dropdown-item",href:"javascript:void(0);",onClick:t[16]||(t[16]=e=>ki()),"data-bs-toggle":"modal","data-bs-target":"#budgetApprovals"},"Budget Creation History")]),(0,l._)("li",null,[(0,l._)("a",{class:"dropdown-item",href:"javascript:void(0);",onClick:t[17]||(t[17]=e=>(0,n.SU)(Ra)(at.value.id))},"Print Original Budget")]),(0,l._)("li",null,[(0,l._)("a",{class:"dropdown-item",href:"javascript:void(0);",onClick:Li},"Print Budget With Consumption")]),(0,l._)("li",null,["closed"===at.value.status&&(0,n.SU)(a).includes("can_open_budget")?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"dropdown-item",href:"javascript:void(0);",onClick:t[18]||(t[18]=e=>Do("open"))},"Open Budget")):(0,l.kq)("",!0)]),(0,l._)("li",null,["open"===at.value.status&&(0,n.SU)(a).includes("can_close_budget")?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"dropdown-item",href:"javascript:void(0);",onClick:t[19]||(t[19]=e=>Do("closed"))},"Close Budget")):(0,l.kq)("",!0)]),(0,l._)("li",null,["closed"===at.value.status&&(0,n.SU)(a).includes("can_request_amendment")?((0,l.wg)(),(0,l.iD)("a",Ge,"Request Amendment")):(0,l.kq)("",!0)]),(0,l._)("li",null,[(0,l._)("a",{class:"dropdown-item",href:"javascript:void(0);",onClick:t[20]||(t[20]=e=>wo()),"data-bs-toggle":"modal","data-bs-target":"#amendment-requests"},"Budget Amendment Requests")]),Je,(0,l._)("li",null,[(0,l.Wm)(i,{to:`/budget-approvals/${at.value.id}`,class:"dropdown-item",href:"javascript:void(0);"},{default:(0,l.w5)((()=>[Ke])),_:1},8,["to"])])])])])])):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[at.value?((0,l.wg)(),(0,l.iD)("div",Xe,[(0,l._)("div",Ze,[c.value&&(0,n.SU)(a).includes("can_create_budget")?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-dark",title:"Budget Approvals",onClick:t[21]||(t[21]=e=>ki()),"data-bs-toggle":"modal","data-bs-target":"#budgetApprovals"}," Budget Creation History ")):(0,l.kq)("",!0),at.value&&(0,n.SU)(a).includes("can_print_budget")?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"btn btn-success mx-2 mt-2",onClick:t[22]||(t[22]=e=>(0,n.SU)(Ra)(at.value.id)),title:"Print Report"},ta)):(0,l.kq)("",!0),at.value&&(0,n.SU)(a).includes("can_print_budget")?((0,l.wg)(),(0,l.iD)("button",{key:2,class:"btn btn-success mx-2 mt-2",onClick:Li,title:"Print Report"},na)):(0,l.kq)("",!0),"closed"===at.value.status&&(0,n.SU)(a).includes("can_request_amendment")?((0,l.wg)(),(0,l.iD)("button",oa," Request Amendment ")):(0,l.kq)("",!0),"open"===at.value.status&&(0,n.SU)(a).includes("can_close_budget")?((0,l.wg)(),(0,l.iD)("button",{key:4,class:"btn btn-warning mt-2",onClick:t[23]||(t[23]=e=>Do("closed")),title:"Close Budget",disabled:di.value},[di.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Na)()},null,8,da)):((0,l.wg)(),(0,l.iD)("span",ua," Close Budget "))],8,ia)):(0,l.kq)("",!0),"closed"===at.value.status&&(0,n.SU)(a).includes("can_open_budget")?((0,l.wg)(),(0,l.iD)("button",{key:5,class:"btn btn-success mt-2",onClick:t[24]||(t[24]=e=>Do("open")),title:"Open Budget",disabled:di.value},[di.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Na)()},null,8,ca)):((0,l.wg)(),(0,l.iD)("span",va," Open Budget "))],8,ra)):(0,l.kq)("",!0),at.value&&(0,n.SU)(a).includes("can_approve_budget_amendment")?((0,l.wg)(),(0,l.iD)("button",{key:6,class:"btn btn-dark mt-2",title:"Amendment Requests",onClick:t[25]||(t[25]=e=>wo()),"data-bs-toggle":"modal","data-bs-target":"#amendment-requests"}," Budget Amendment Requisition ")):(0,l.kq)("",!0),(0,l.Wm)(i,{to:`/budget-approvals/${at.value.id}`,class:"btn btn-secondary"},{default:(0,l.w5)((()=>[ma])),_:1},8,["to"])])])):(0,l.kq)("",!0)],64)),(0,l._)("div",ba,[(0,l._)("div",pa,["open"===at.value.status&&(0,n.SU)(a).includes("can_create_budget")&&!Ll.value?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-primary mt-2",onClick:t[26]||(t[26]=e=>Ll.value=!Ll.value),title:"Add Item"},"  Add Item ")):(0,l.kq)("",!0),"open"===at.value.status&&(0,n.SU)(a).includes("can_create_budget")&&Ll.value?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"btn btn-danger mt-2",onClick:t[27]||(t[27]=e=>Ll.value=!Ll.value),title:"Add Item"},"  Close Item ")):(0,l.kq)("",!0)])]),at.value?((0,l.wg)(),(0,l.iD)("div",_a,[Ll.value?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:t[29]||(t[29]=(0,o.iM)((e=>li()),["prevent"]))},[(0,l._)("div",ga,[(0,l._)("div",ya,[(0,l._)("div",ha,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Add Item","onUpdate:modelValue":t[28]||(t[28]=e=>ti.value=e),required:""},null,512),[[o.nr,ti.value]]),(0,l._)("button",fa,[di.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Na)()},null,8,wa)):((0,l.wg)(),(0,l.iD)("span",ka,"Save"))])])])])],32)):(0,l.kq)("",!0),(0,l._)("div",xa,[(0,l._)("table",Sa,[Ca,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Rs.value,((e,a)=>((0,l.wg)(),(0,l.iD)("tr",null,[(0,l._)("td",null,(0,s.zw)(a+1),1),(0,l._)("td",null,(0,s.zw)(e.name),1),(0,l._)("td",null,[(0,l._)("table",Ua,[(0,l._)("thead",Da,[(0,l._)("tr",null,[qa,Ha,La,Ba,Ma,za,Ta,Aa,(0,l._)("th",null,["open"===at.value.status?((0,l.wg)(),(0,l.iD)("button",{key:0,class:(0,s.C_)(["btn btn-sm p-2",e.id===Bl.value?"btn-danger":"btn-primary"]),onClick:a=>Bl.value=e.id===Bl.value?0:e.id},[e.id!==Bl.value?((0,l.wg)(),(0,l.iD)("svg",ja,Ea)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Ia],64))],10,Va)):(0,l.kq)("",!0)])])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.descriptions,((a,t)=>((0,l.wg)(),(0,l.iD)("tr",{onClick:t=>Po(a,e.id)},[(0,l._)("td",null,(0,s.zw)(t+1),1),(0,l._)("td",null,[(0,l.Uk)((0,s.zw)(a.name)+" ",1),Pa,a.last_editor?((0,l.wg)(),(0,l.iD)("span",{key:0,onClick:e=>(pn(a.id),$o.value=!0),"data-bs-toggle":"modal","data-bs-target":"#edits",style:{cursor:"pointer"},class:"badge badge-danger",title:"Click to view edit history"},"Edited By "+(0,s.zw)(a.last_editor),9,Wa)):(0,l.kq)("",!0)]),(0,l._)("td",null,(0,s.zw)(a.specification),1),(0,l._)("td",null,(0,s.zw)(a.units),1),(0,l._)("td",null,(0,s.zw)(a.quantity),1),(0,l._)("td",null,(0,s.zw)(a.quantity_2),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(a.cost)),1),(0,l._)("td",null,[(0,l.Uk)(" Budgeted : "+(0,s.zw)((0,n.SU)(K)(a.cost*a.quantity*a.quantity_2))+" ",1),Fa,(0,l.Uk)(" Used Cost : "+(0,s.zw)((0,n.SU)(K)(a.used_cost)),1),Qa,(0,l.Uk)(" Used Qty : "+(0,s.zw)((a.used_cost/a.cost).toFixed(2))+" ",1),Ya,(0,l.Uk)(" Balance Budget : "+(0,s.zw)((0,n.SU)(K)(a.cost*a.quantity*a.quantity_2-a.used_cost)),1),Ga,(0,l.Uk)(" Balance Qty : "+(0,s.zw)(((a.cost*a.quantity*a.quantity_2-a.used_cost)/a.cost).toFixed(2)),1)]),(0,l._)("td",null,["closed"===at.value.status?((0,l.wg)(),(0,l.iD)("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-eye text-secondary",viewBox:"0 0 16 16",onClick:t=>(Ro(a,e),$o.value=!0),"data-bs-toggle":"modal","data-bs-target":"#consuptions"},Za,8,Ja)):(0,l.kq)("",!0),"open"===at.value.status?((0,l.wg)(),(0,l.iD)("svg",{key:1,style:{cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-trash text-danger me-2",onClick:e=>Ai(a),viewBox:"0 0 16 16"},lt,8,et)):(0,l.kq)("",!0)])],8,$a)))),256))])]),Bl.value===e.id?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:(0,o.iM)((a=>ai(e.id)),["prevent"])},[(0,l._)("div",nt,[(0,l._)("div",ot,[it,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Item","onUpdate:modelValue":t[30]||(t[30]=e=>Yo.value=e),required:""},null,512),[[o.nr,Yo.value]])]),(0,l._)("div",dt,[ut,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Specification","onUpdate:modelValue":t[31]||(t[31]=e=>Go.value=e)},null,512),[[o.nr,Go.value]])]),(0,l._)("div",rt,[ct,(0,l.Wm)((0,n.SU)(u()),{modelValue:Xo.value,"onUpdate:modelValue":t[32]||(t[32]=e=>Xo.value=e),options:Fo.value,label:"short_name","track-by":"id",placeholder:"Select Unit",searchable:!0,"append-to-body":!0},null,8,["modelValue","options"])]),(0,l._)("div",vt,[mt,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 1","onUpdate:modelValue":t[33]||(t[33]=e=>Jo.value=e),step:"any",required:""},null,512),[[o.nr,Jo.value]])]),(0,l._)("div",bt,[pt,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 2","onUpdate:modelValue":t[34]||(t[34]=e=>Ko.value=e),step:"any",required:""},null,512),[[o.nr,Ko.value]])]),(0,l._)("div",_t,[gt,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Rate","onUpdate:modelValue":t[35]||(t[35]=e=>Zo.value=e),step:"any",required:""},null,512),[[o.nr,Zo.value]])]),(0,l._)("div",yt,[ht,(0,l._)("label",ft,(0,s.zw)(Number(Jo.value*Ko.value*Zo.value).toLocaleString())+"/=",1)]),(0,l._)("div",wt,[kt,(0,l._)("div",xt,[(0,l._)("button",{type:"submit",class:"btn btn-primary me-1",disabled:di.value},[di.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Na)()},null,8,Ct)):((0,l.wg)(),(0,l.iD)("span",Ut," Submit "))],8,St),(0,l._)("button",{type:"button",class:"btn btn-danger",onClick:t[36]||(t[36]=e=>Bl.value=!1)}," Cancel ")])])])],40,st)):(0,l.kq)("",!0),fs.value===e.id&&"open"===at.value.status?((0,l.wg)(),(0,l.iD)("form",{key:1,onSubmit:t[44]||(t[44]=(0,o.iM)((e=>Wo(Oo.value)),["prevent"]))},[(0,l._)("div",Dt,[(0,l._)("div",qt,[Ht,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Item","onUpdate:modelValue":t[37]||(t[37]=e=>Yo.value=e)},null,512),[[o.nr,Yo.value]])]),(0,l._)("div",Lt,[Bt,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Specification","onUpdate:modelValue":t[38]||(t[38]=e=>Go.value=e)},null,512),[[o.nr,Go.value]])]),(0,l._)("div",Mt,[zt,(0,l.Wm)((0,n.SU)(u()),{modelValue:Xo.value,"onUpdate:modelValue":t[39]||(t[39]=e=>Xo.value=e),options:Fo.value,label:"short_name","track-by":"id",placeholder:"Select Unit",searchable:!0,"append-to-body":!0},null,8,["modelValue","options"])]),(0,l._)("div",Tt,[At,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 1","onUpdate:modelValue":t[40]||(t[40]=e=>Jo.value=e),step:"any"},null,512),[[o.nr,Jo.value]])]),(0,l._)("div",Vt,[jt,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 2","onUpdate:modelValue":t[41]||(t[41]=e=>Ko.value=e),step:"any"},null,512),[[o.nr,Ko.value]])]),(0,l._)("div",Nt,[Rt,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Rate","onUpdate:modelValue":t[42]||(t[42]=e=>Zo.value=e),step:"any"},null,512),[[o.nr,Zo.value]])]),(0,l._)("div",Ot,[Et,(0,l._)("label",It,(0,s.zw)(Number(Jo.value*Ko.value*Zo.value).toLocaleString())+"/=",1)]),(0,l._)("div",$t,[Pt,(0,l._)("div",Wt,[(0,l._)("button",{type:"submit",class:"btn btn-primary me-1",disabled:di.value},[di.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Na)()},null,8,Qt)):((0,l.wg)(),(0,l.iD)("span",Yt,"Update"))],8,Ft),(0,l._)("button",{type:"button",class:"btn btn-danger",onClick:t[43]||(t[43]=e=>ni())}," Cancel ")])])])],32)):(0,l.kq)("",!0)])])))),256))]),(0,l._)("tfoot",null,[(0,l._)("tr",null,[Gt,(0,l._)("td",null,[(0,l._)("table",Jt,[(0,l._)("thead",null,[Kt,(0,l._)("tr",null,[(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(at.value.funded_amount)),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(at.value.funded_amount-at.value.total_used_cost)),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(at.value.funded_amount-at.value.total_cost)),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(at.value.total_cost)),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(at.value.total_used_cost)),1)])])])])])])])])])):(0,l.kq)("",!0)]))])]),(0,l._)("div",Xt,[(0,l._)("div",Zt,[(0,l._)("div",el,[(0,l._)("div",al,[tl,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[45]||(t[45]=e=>ni())})]),(0,l._)("div",ll,[(0,l._)("table",sl,[nl,(0,l._)("tbody",null,[(0,l._)("tr",null,[ol,(0,l._)("td",null,(0,s.zw)(c.value.short_name),1),il,(0,l._)("td",null,(0,s.zw)(at.value.name),1),dl,(0,l._)("td",null,(0,s.zw)(No.value),1),ul,(0,l._)("td",null,(0,s.zw)(Eo.value.name),1)]),(0,l._)("tr",null,[rl,(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(at.value.funded_amount))+" Tsh",1),cl,(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(at.value.total_cost))+" Tsh",1),vl,(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(at.value.total_used_cost))+" Tsh",1),ml,(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(at.value.funded_amount-at.value.total_used_cost))+" Tsh",1)])])]),!Bo.value&&(0,n.SU)(a).includes("can_add_budget_consumption")?((0,l.wg)(),(0,l.iD)("div",bl,[(0,l._)("div",pl,[(0,l._)("button",{class:"btn btn-primary btn-sm",onClick:t[46]||(t[46]=e=>Bo.value=!Bo.value)}," Add Remark")])])):(0,l.kq)("",!0),Bo.value?((0,l.wg)(),(0,l.iD)("form",{key:1,onSubmit:t[50]||(t[50]=(0,o.iM)((e=>Mo()),["prevent"]))},[(0,l._)("div",_l,[(0,l._)("div",gl,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[47]||(t[47]=e=>Lo.value=e),class:"form-control mb-2",type:"number",placeholder:"Enter cost spent",required:""},null,512),[[o.nr,Lo.value]])]),(0,l._)("div",yl,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[48]||(t[48]=e=>qo.value=e),class:"form-control mb-2",type:"number",placeholder:"Enter LPO number",required:""},null,512),[[o.nr,qo.value]])]),(0,l._)("div",hl,[(0,l._)("div",fl,[(0,l._)("button",{type:"button",class:"btn btn-danger me-1",onClick:t[49]||(t[49]=e=>ni())},"Close"),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:di.value},[di.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Na)()},null,8,kl)):((0,l.wg)(),(0,l.iD)("span",xl,"Save"))],8,wl)])])])],32)):(0,l.kq)("",!0),(0,l._)("div",Sl,[(0,l._)("div",Cl,[di.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,n.SU)(la)()},null,8,Ul)):((0,l.wg)(),(0,l.iD)("div",Dl,[(0,l._)("div",ql,[(0,l.Wm)(r,{data:Ao.value,columns:Vo},(0,l.Nv)({_:2},[(0,n.SU)(a).includes("can_delete_budget_description_remark")?{name:"actions",fn:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-trash text-danger me-2",onClick:a=>To(e.row,Eo.value),viewBox:"0 0 16 16"},Ml,8,Hl)),(0,l.Wm)(i,{to:`/approval/${e.row.approval_id}`},{default:(0,l.w5)((()=>[zl])),_:2},1032,["to"])]))}:void 0]),1032,["data"])])]))])])]),(0,l._)("div",Tl,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[51]||(t[51]=e=>ni())},"Close")])])])]),(0,l._)("div",Al,[(0,l._)("div",Vl,[(0,l._)("div",jl,[(0,l._)("div",Nl,[Rl,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[52]||(t[52]=e=>ni())})]),(0,l._)("div",Ol,[(0,l._)("div",El,[(0,l._)("div",Il,[di.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,n.SU)(la)()},null,8,$l)):((0,l.wg)(),(0,l.iD)("div",Pl,[(0,l._)("div",Wl,[(0,l.Wm)(r,{data:Os.value,columns:$s},null,8,["data"])])]))])])]),(0,l._)("div",Fl,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[53]||(t[53]=e=>ni())},"Close")])])])]),(0,l._)("div",Ql,[(0,l._)("div",Yl,[(0,l._)("div",Gl,[(0,l._)("div",Jl,[Kl,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[54]||(t[54]=e=>ko())})]),(0,l._)("div",Xl,[Ka.value?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:t[60]||(t[60]=(0,o.iM)((e=>So()),["prevent"]))},[(0,l._)("div",Zl,[(0,l._)("div",es,[as,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Item","onUpdate:modelValue":t[55]||(t[55]=e=>Yo.value=e),required:""},null,512),[[o.nr,Yo.value]])]),(0,l._)("div",ts,[ls,(0,l.Wm)((0,n.SU)(u()),{modelValue:Xo.value,"onUpdate:modelValue":t[56]||(t[56]=e=>Xo.value=e),options:Fo.value,label:"short_name","track-by":"id",placeholder:"Select Unit",searchable:!0,"append-to-body":!0},null,8,["modelValue","options"])]),(0,l._)("div",ss,[ns,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 1","onUpdate:modelValue":t[57]||(t[57]=e=>Jo.value=e),step:"any",required:""},null,512),[[o.nr,Jo.value]])]),(0,l._)("div",os,[is,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 2","onUpdate:modelValue":t[58]||(t[58]=e=>Ko.value=e),step:"any",required:""},null,512),[[o.nr,Ko.value]])]),(0,l._)("div",ds,[us,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Rate","onUpdate:modelValue":t[59]||(t[59]=e=>Zo.value=e),step:"any",required:""},null,512),[[o.nr,Zo.value]])]),(0,l._)("div",rs,[cs,(0,l._)("label",vs,(0,s.zw)(Number(Jo.value*Ko.value*Zo.value).toLocaleString())+"/=",1)]),ms])],32)):(0,l.kq)("",!0),(0,l._)("div",bs,[(0,l._)("div",ps,[di.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,n.SU)(la)()},null,8,_s)):((0,l.wg)(),(0,l.iD)("div",gs,[(0,l._)("div",ys,[(0,l.Wm)(r,{data:bo.value,columns:ho},(0,l.Nv)({_:2},[(0,n.SU)(a).includes("can_delete_budget_description_remark")&&Ka.value?{name:"actions",fn:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash text-danger",onClick:a=>Co(e.row.sno),viewBox:"0 0 16 16"},ks,8,hs))]))}:void 0]),1032,["data"])])]))])])]),(0,l._)("div",xs,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[61]||(t[61]=e=>ko())},"Close"),Ka.value?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-success",disabled:0==yo.value.length||di.value,onClick:t[62]||(t[62]=e=>Uo())},[di.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Na)()},null,8,Cs)):((0,l.wg)(),(0,l.iD)("span",Us,"Submit"))],8,Ss)):(0,l.kq)("",!0)])])])]),(0,l._)("div",Ds,[(0,l._)("div",qs,[(0,l._)("div",Hs,[(0,l._)("div",Ls,[Bs,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[63]||(t[63]=e=>ko())})]),(0,l._)("div",Ms,[(0,l._)("div",zs,[(0,l._)("div",Ts,[di.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,n.SU)(la)()},null,8,As)):((0,l.wg)(),(0,l.iD)("div",Vs,[(0,l._)("div",js,[(0,l.Wm)(r,{data:po.value,columns:_o},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,s.C_)(["badge inv-status","badge-"+e.row.status.color])},(0,s.zw)(e.row.status.name),3)])),select:(0,l.w5)((e=>[e.row.id===vo.value.id?((0,l.wg)(),(0,l.iD)("svg",Ns,Es)):((0,l.wg)(),(0,l.iD)("svg",{key:1,onClick:a=>mo(e.row),xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-circle",viewBox:"0 0 16 16"},Ps,8,Is))])),_:1},8,["data"])])]))]),(0,l._)("div",Ws,["Rejected"===vo.value?.status?.name?((0,l.wg)(),(0,l.iD)("div",Fs,[Qs,(0,l._)("div",Ys,[(0,l._)("p",null,[Gs,(0,l.Uk)(" "+(0,s.zw)(vo.value.remarker),1)]),(0,l._)("p",null,[Js,(0,l.Uk)(" "+(0,s.zw)(vo.value.remark),1)])])])):(0,l.kq)("",!0),di.value?((0,l.wg)(),(0,l.iD)("div",{key:1,innerHTML:(0,n.SU)(la)()},null,8,Ks)):((0,l.wg)(),(0,l.iD)("div",Xs,[(0,l._)("div",Zs,[(0,l.Wm)(r,{data:bo.value,columns:go},null,8,["data"])])]))])])]),(0,l._)("div",en,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[64]||(t[64]=e=>ko())},"Close")])])])]),(0,l._)("div",an,[(0,l._)("div",tn,[(0,l._)("div",ln,[(0,l._)("div",sn,[(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[65]||(t[65]=e=>Ui())})]),nn,(0,l._)("div",on,[(0,l._)("div",dn,[(0,l._)("div",un,[(0,l._)("div",rn,[(0,l._)("div",cn,[di.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,n.SU)(la)()},null,8,vn)):((0,l.wg)(),(0,l.j4)(r,{key:1,data:wi.value,columns:fi.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,s.C_)(["badge inv-status","badge-"+e.row.status.color])},(0,s.zw)(e.row.status.name),3)])),actions:(0,l.w5)((e=>[e.row?((0,l.wg)(),(0,l.iD)("span",{key:0,class:"text-success",onClick:a=>hi(e.row)},[yi.value&&e.row.id===yi.value.id?((0,l.wg)(),(0,l.iD)("svg",bn,gn)):((0,l.wg)(),(0,l.iD)("svg",yn,fn))],8,mn)):(0,l.kq)("",!0)])),_:1},8,["data","columns"]))])])]),(0,l._)("div",wn,[yi.value?((0,l.wg)(),(0,l.iD)("div",kn,[(0,l._)("div",{class:(0,s.C_)(["card-header py-3","bg-"+yi.value.status.color])},[(0,l._)("h6",xn,"Budget: "+(0,s.zw)(yi.value.budget.name||"N/A"),1)],2),(0,l._)("div",Sn,[(0,l._)("p",Cn,[Un,(0,l.Uk)(" "+(0,s.zw)(yi.value.requester||"N/A"),1)]),(0,l._)("p",Dn,[qn,(0,l.Uk)(" "+(0,s.zw)(yi.value.description||"N/A"),1)]),"Rejected"===yi.value.status?.name?((0,l.wg)(),(0,l.iD)("p",Hn,[Ln,(0,l.Uk)(" "+(0,s.zw)(yi.value.remark||"N/A"),1)])):(0,l.kq)("",!0)])])):(0,l.kq)("",!0)])])]),(0,l._)("div",Bn,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[66]||(t[66]=e=>Ui())},"Close")])])])])]),(0,l._)("div",Mn,[(0,l._)("div",zn,[(0,l._)("div",Tn,[(0,l._)("div",An,[(0,l._)("h1",Vn,(0,s.zw)(Eo.value.name),1),jn]),(0,l._)("div",Nn,[(0,l._)("form",{onSubmit:t[71]||(t[71]=(0,o.iM)((e=>Wo(Oo.value)),["prevent"]))},[(0,l._)("div",Rn,[(0,l._)("div",On,[En,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Remark","onUpdate:modelValue":t[67]||(t[67]=e=>Ho.value=e)},null,512),[[o.nr,Ho.value]])]),(0,l._)("div",In,[$n,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 1","onUpdate:modelValue":t[68]||(t[68]=e=>Jo.value=e),step:"any"},null,512),[[o.nr,Jo.value]])]),(0,l._)("div",Pn,[Wn,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 2","onUpdate:modelValue":t[69]||(t[69]=e=>Ko.value=e),step:"any"},null,512),[[o.nr,Ko.value]])]),(0,l._)("div",Fn,[Qn,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Rate","onUpdate:modelValue":t[70]||(t[70]=e=>Zo.value=e),step:"any"},null,512),[[o.nr,Zo.value]])]),(0,l._)("div",Yn,[Gn,(0,l._)("label",Jn,(0,s.zw)(Number(Jo.value*Ko.value*Zo.value).toLocaleString())+"/=",1)]),(0,l._)("div",Kn,[Xn,(0,l._)("div",Zn,[(0,l._)("button",{type:"submit",class:"btn btn-primary me-1",disabled:di.value},[di.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Na)()},null,8,ao)):((0,l.wg)(),(0,l.iD)("span",to,"Update"))],8,eo)])])])],32)]),lo])])]),so],64)}}},oo=t(83744);const io=(0,oo.Z)(no,[["__scopeId","data-v-0a300aa8"]]);var uo=io}}]);
//# sourceMappingURL=1688.7272df49.js.map