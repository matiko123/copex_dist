"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[6015],{96015:function(e,s,t){t.r(s),t.d(s,{default:function(){return V}});var a=t(66252),o=t(49963),r=t(3577),l=t(74427),n=t(2262),i=t(87066),c=t(56296),d=t(42119);const u={class:"form auth-boxed"},p={class:"form-container outer"},v={class:"form-form"},w={class:"form-form-wrap"},f={class:"form-container"},g={class:"form-content"},h=(0,a._)("img",{src:l,class:"navbar-logo",alt:"logo",style:{width:"150px",height:"auto"}},null,-1),m=(0,a._)("p",{class:""},"Log in to your account to continue.",-1),k={ref:"toast",class:"toast"},_=(0,a._)("div",{class:"toast-body"},null,-1),y=[_],b=["onSubmit"],x={class:"form"},M={id:"username-field",class:"field-wrapper input"},U=(0,a._)("label",{for:"username"},"EMAIL",-1),j=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-user"},[(0,a._)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,a._)("circle",{cx:"12",cy:"7",r:"4"})],-1),Q={id:"password-field",class:"field-wrapper input mb-2"},I=(0,a.uE)('<div class="d-flex justify-content-between"><label for="password">PASSWORD</label></div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-lock"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',2),E=["type"],H=(0,a._)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},null,-1),N=(0,a._)("circle",{cx:"12",cy:"12",r:"3"},null,-1),S=[H,N],A={class:"d-sm-flex justify-content-between"},B={class:"field-wrapper"},C={key:0,class:"d-flex flex-column align-items-center"},L=(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),T=(0,a.Uk)(" Please wait ... "),O=[L,T],z={key:1};var D={setup(e){(0,c.j)({title:"Login"});const s=(0,d.tv)(),t=((0,n.iH)(null),(0,n.iH)("password")),l=(0,n.iH)(!1),_=(0,n.iH)(""),H=(0,n.iH)(""),N=((0,n.iH)({}),(0,a.f3)("whatsappAlert")),L=i.Z.create({baseURL:"https://bushman.ink/api/v1/"}),T=async()=>{l.value=!0;try{const e=await L.post("/user/login",{email:_.value,password:H.value});if(e.data.token){D("Welcome Back! "+e.data.user.name),localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),s.push(`${e.data.user.path}`);const t=JSON.parse(localStorage.getItem("user")).name+" just Logged In",a="wamid.HBgMMjU1Njk4MjY3NjYyFQIAEhggQUM5QUMyMzIyRUVEMTJBOTNBNTIwQjRCMTA3QUNGQTQA",o=["255697315583","255698267662"];o.forEach((e=>{N(t,a,e)}))}}catch(e){if(e.response){if(401===e.response.status){R(e.response.data.error??e.response.data.message),console.log(e);const s="User with Email \n"+_.value+" failed to Log In due to "+(e.response.data.error??e.response.data.message),t="wamid.HBgMMjU1Njk3MzE1NTgzFQIAEhgUM0Y1QkU5OUFGQkQxMjk4QTk5QUUA",a=["255697315583","255698267662"];a.forEach((e=>{N(s,t,e)}))}}else R(e.message),l.value=!1}finally{l.value=!1}},D=(0,a.f3)("showMessage"),R=(0,a.f3)("showError"),V=()=>{"password"===t.value?t.value="text":t.value="password"};return(e,s)=>((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("div",p,[(0,a._)("div",v,[(0,a._)("div",w,[(0,a._)("div",f,[(0,a._)("div",g,[h,m,(0,a._)("div",k,y,512),(0,a._)("form",{class:"text-start",onSubmit:(0,o.iM)(T,["prevent"])},[(0,a._)("div",x,[(0,a._)("div",M,[U,j,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>_.value=e),type:"email",class:"form-control",placeholder:"e.g user@gmail.com"},null,512),[[o.nr,_.value]])]),(0,a._)("div",Q,[I,(0,a.wy)((0,a._)("input",{type:t.value,"onUpdate:modelValue":s[1]||(s[1]=e=>H.value=e),class:"form-control",placeholder:"Password"},null,8,E),[[o.YZ,H.value]]),(0,a._)("svg",{onClick:V,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",id:"toggle-password",class:"feather feather-eye"},S)]),(0,a._)("div",A,[(0,a._)("div",B,[(0,a._)("button",{type:"submit",class:(0,r.C_)(["btn btn-primary",{disabled:l.value}])},[l.value?((0,a.wg)(),(0,a.iD)("div",C,O)):((0,a.wg)(),(0,a.iD)("div",z,"Log In"))],2)])])])],40,b)])])])])])]))}};const R=D;var V=R},74427:function(e,s,t){e.exports=t.p+"img/logo.4d467a5d.png"}}]);
//# sourceMappingURL=6015.738362f0.js.map