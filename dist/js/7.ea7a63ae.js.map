{"version":3,"file":"js/7.ea7a63ae.js","mappings":"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","sources":["webpack://cork-vue3/./src/components/reusables/globalSearch.js","webpack://cork-vue3/./src/components/reusables/globalSearchField.vue","webpack://cork-vue3/./src/components/reusables/globalSearchField.vue?f760","webpack://cork-vue3/./src/views/assets/bincards.vue","webpack://cork-vue3/./src/views/assets/bincards.vue?dbf2"],"sourcesContent":["export function globalSearch(data, keyword) {\r\n  const lowerKeyword = keyword.toLowerCase().trim()\r\n  if (!lowerKeyword) return data\r\n\r\n  const containsKeyword = obj => {\r\n    if (obj == null) return false\r\n    if (typeof obj === 'string') return obj.toLowerCase().includes(lowerKeyword)\r\n    if (Array.isArray(obj)) return obj.some(containsKeyword)\r\n    if (typeof obj === 'object')\r\n      return Object.values(obj).some(containsKeyword)\r\n    return false\r\n  }\r\n\r\n  return data.filter(item => containsKeyword(item))\r\n}","<template>\r\n     <form @submit.prevent class=\"input-group container\">\r\n    <input\r\n      type=\"text\"\r\n      class=\"form-control border-end-0\"\r\n      placeholder=\"Search a word...\"\r\n      v-model=\"filter\"\r\n    >\r\n    <span class=\"input-group-text bg-white border-start-0\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-search\" viewBox=\"0 0 16 16\">\r\n        <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.415l-3.85-3.85zm-5.442.656a5 5 0 1 1 \r\n        0-10 5 5 0 0 1 0 10z\"/>\r\n      </svg>\r\n    </span>\r\n  </form>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch } from 'vue'\r\n\r\n\r\nconst emit = defineEmits(['update:filterValue'])\r\nconst props = defineProps({\r\n  filterValue: String\r\n})\r\nconst filter = ref(props.filterValue || null)\r\n\r\nwatch(filter, val => emit('update:filterValue', val))\r\n</script>\r\n","import script from \"./globalSearchField.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./globalSearchField.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"layout-px-spacing\">  \r\n    <ul class=\"navbar-nav flex-row mt-2\">\r\n      <li>\r\n        <div class=\"page-header\">\r\n          <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n            <ol class=\"breadcrumb\">\r\n              <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Assets</a></li>\r\n              <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Fuel Cards</span></li>\r\n            </ol>\r\n          </nav>\r\n        </div>\r\n      </li>\r\n    </ul>   \r\n\r\n<!--     \r\n<div class=\"d-flex\">\r\n          <div class=\"ms-auto w-25\">\r\n           <multiselect \r\n                v-model=\"selectedProject\"\r\n        :options=\"projects\"\r\n        label=\"short_name\"\r\n        track-by=\"id\"\r\n        placeholder=\"Filter by Project\"\r\n                :searchable=\"true\"        \r\n                :multiple=\"false\"\r\n                :required=\"true\"\r\n                :allow-empty=\"false\"\r\n            ></multiselect>\r\n          </div>\r\n \r\n        </div> -->\r\n<div class=\"d-flex mb-2\">\r\n  <div class=\"ms-auto\">\r\n    <button class=\"btn btn-outline-primary\"\r\n            data-bs-toggle=\"offcanvas\"\r\n            data-bs-target=\"#offcanvasWithBothOptions\">\r\n      Select Project from the lists\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n\r\n        <!-- Offcanvas Project Filter -->\r\n<div class=\"offcanvas offcanvas-end\" data-bs-scroll=\"true\" tabindex=\"-1\"\r\n     id=\"offcanvasWithBothOptions\">\r\n  <div class=\"offcanvas-header\">\r\n    <h5 class=\"offcanvas-title\">PROJECT LISTS</h5>\r\n    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"offcanvas\"></button>\r\n  </div>\r\n\r\n  <div class=\"offcanvas-body\">\r\n <div class=\"row\">\r\n  <div class=\"col-12\">\r\n    <div class=\"list-group\" id=\"list-tab\" role=\"tablist\"  >\r\n      <span v-if=\"loading_spinner\" v-html=\"loadingIndicator()\"></span>\r\n\r\n      <!-- Projects -->\r\n    <a v-for=\"project in projects\"\r\n   :key=\"project.id\"\r\n   class=\"list-group-item list-group-item-action\"\r\n   :class=\"{ active: selectedProject && selectedProject.id === project.id }\"\r\n   href=\"javascript:;\"\r\n   @click=\"selectProject(project)\"\r\n   data-bs-dismiss=\"offcanvas\">\r\n  {{ project.short_name }}\r\n</a>\r\n    </div>\r\n    </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n                                                           \r\n\r\n    <!-- Centered Header -->\r\n    <div class=\"flex-grow-1 text-center\">\r\n        <div v-if=\"selectedProject\">\r\n            <h5 class=\"m-0\">FUEL MANAGEMENT FOR {{selectedProject?.short_name}}</h5>\r\n        </div>\r\n        <div v-else>\r\n            <h5 class=\"m-0\">FUEL MANAGEMENT</h5>\r\n        </div>\r\n                <div class=\"d-flex justify-content-center align-items-center gap-3 mt-2\">\r\n\r\n    <global-search-field\r\n        v-model:filterValue=\"filter\"\r\n    />\r\n</div>\r\n\r\n            </div>\r\n\r\n            <!-- No Records Message -->\r\n            <div v-if=\"selectedProject && filteredData.length === 0\" class=\"text-center my-4\">\r\n                <p class=\"mb-0\">No records found for {{ selectedProject.short_name }}</p>\r\n            </div>\r\n\r\n\r\n      <div class=\"d-flex justify-content-end mb-3\">\r\n                <button class=\"btn btn-primary\" @click=\"asset_bincard = !asset_bincard\">\r\n                   <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\"> <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/> <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/> </svg>\r\n                </button>\r\n            </div>\r\n\r\n      <div class=\"my-4\">\r\n            <!-- item registration form starts -->\r\n            <form v-if=\"asset_bincard\" class=\"mt-3 p-3 border rounded bg-white shadow\" @submit.prevent=\"registerBinCard\">\r\n\r\n                <div class=\"row mb-2\">\r\n                    <div class=\"col-md-6\">\r\n                        <label class=\"form-label\">Select Asset</label>\r\n                        <Multiselect \r\n                            v-model=\"asset\"\r\n                            :options=\"assets\" \r\n                            label=\"name\"  \r\n                            track-by=\"id\" \r\n                            placeholder=\"Select An Asset\"\r\n                            :searchable=\"true\"\r\n                            :close-on-select=\"true\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                     <div class=\"col-md-6\">\r\n                        <label class=\"form-label\">Select Project</label>\r\n                        <Multiselect \r\n                            v-model=\"project\"\r\n                            :options=\"projects\" \r\n                            label=\"short_name\"  \r\n                            track-by=\"id\" \r\n                            placeholder=\"Select A Project\"\r\n                            :searchable=\"true\"\r\n                            :close-on-select=\"true\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"text-center gap-2 justify-content-end\">\r\n                    <button type=\"button\" class=\"btn btn-danger me-3\" @click=\"asset_bincard = false; resetForm();\">Cancel</button>\r\n                    <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">\r\n                        <span v-if=\"loading\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n                        <span v-else>Register</span>\r\n                    </button>\r\n                </div>\r\n            </form>\r\n            <!-- item registration form ends-->\r\n        </div>\r\n         <!-- loading spinner starts -->\r\n        <div v-if=\"loading_spinner\" v-html=\"loadingIndicator()\"></div>\r\n        <!-- Loading spinner ends -->\r\n\r\n    <!-- Bin Cards List -->\r\n    <div v-else class=\"accordion accordion-flush\" id=\"accordionFlushExample\">\r\n      <div class=\"accordion-item\" v-for=\"(card, index) in filteredData\" :key=\"card.id\">\r\n        <h2 class=\"accordion-header\">\r\n          <button class=\"accordion-button collapsed\" type=\"button\"\r\n                  data-bs-toggle=\"collapse\"\r\n                  :data-bs-target=\"'#flush-collapse-' + index\"\r\n                  aria-expanded=\"false\"\r\n                  :aria-controls=\"'flush-collapse-' + index\">\r\n             {{ card.asset }} &nbsp;&nbsp;&nbsp; Consumption Type: {{ card.consuption_type || '--' }} &nbsp;&nbsp;&nbsp;  Balance: {{ card.balance }} &nbsp; ltrs\r\n          </button>\r\n        </h2>\r\n        <div :id=\"'flush-collapse-' + index\" class=\"accordion-collapse collapse\" data-bs-parent=\"#accordionFlushExample\">\r\n          <div class=\"accordion-body\">\r\n\r\n            <div class=\"d-flex justify-content-end mb-3\">  \r\n              <button \r\n                class=\"btn btn-primary\" \r\n                data-bs-toggle=\"modal\" \r\n                data-bs-target=\"#add-item-modal\" \r\n                @click=\"openAddTransactionModal(card)\" \r\n                v-if=\"user_permissions.includes('can_register_asset_bincard')\"\r\n              > \r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n                  <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/>\r\n                </svg>\r\n              </button>\r\n              <button class=\"btn btn-success ms-2\" @click=\"printBinCard(card.asset_id)\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n                  <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n                </svg>\r\n              </button>\r\n            </div> \r\n\r\n            <div class=\"panel p-0 mt-3\">   \r\n             <div class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                       <div class=\"table-responsive\">\r\n              <table class=\"table table-striped table-hover align-middle\">\r\n        <thead class=\"table-dark\">\r\n            <tr>\r\n                <th>Sno</th>\r\n                <th>Date</th>\r\n                <th>Action</th>\r\n                <th>Quantity</th>\r\n                <th>Task</th>\r\n                <th>Initial Reading</th>\r\n                <th>Final Reading</th>\r\n                <th>Expected Ratio</th>\r\n                <th>Work Target</th>\r\n                <th>Work Covered</th>\r\n                <th>Balance</th>\r\n                <th>Cost</th>\r\n                <th class=\"text-center\">Actions</th>\r\n            </tr>\r\n        </thead>\r\n      <tbody>\r\n    <template v-for=\"(transaction, index) in card.transactions\" :key=\"transaction.id\">\r\n\r\n        <tr>\r\n            <td>{{ index + 1 }}</td>\r\n            <td>{{ transaction.date }}</td>\r\n            <td>{{ transaction.action }}</td>\r\n            <td>{{ transaction.quantity }} ltrs</td>\r\n            <td>{{ transaction.task }}</td>\r\n            <td>{{ transaction.initial_reading }}</td>\r\n            <td>{{ transaction.final_reading }}</td>\r\n            <td>{{ transaction.ratio }} </td>\r\n            <td>{{ transaction.work_target }} {{ transaction.unit }}</td>\r\n            <td>{{ transaction.work_covered ?? 0 }} {{ transaction.unit }}</td>\r\n            <td>{{ transaction.balance }} ltrs</td>\r\n            <td>{{ formatNumber(transaction.rate * transaction.quantity) }}</td>\r\n            <td class=\"text-center\">\r\n                <a\r\n                    href=\"javascript:;\"\r\n                    class=\"edit me-2\"\r\n                    @click=\"openEditModal(transaction)\"\r\n                    data-bs-toggle=\"modal\"\r\n                    data-bs-target=\"#edit-transaction-modal\"\r\n                    v-if=\"user_permissions.includes('can_edit_asset_bincard_transactions')\"\r\n                >\r\n                                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-eye text-primary\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z\"/>\r\n  <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0\"/>\r\n</svg>\r\n                </a>\r\n            </td>\r\n        </tr>\r\n\r\n        <tr v-if=\"transaction.description\">\r\n            <td colspan=\"1\">\r\n\r\n            </td>\r\n            <td colspan=\"11\" class=\"bg-white text-danger\">\r\n                <strong>Remark:</strong> <i>{{ transaction.description }}</i>\r\n            </td>\r\n        </tr>\r\n\r\n    </template>\r\n</tbody>\r\n    </table>\r\n    </div>\r\n    </div>\r\n    </div>\r\n    </div>\r\n    </div>\r\n\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n       <!-- add transaction starts -->\r\n    <div class=\"modal fade mymodal\" id=\"add-item-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"itemModalLabel\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog modal-xl\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h1 class=\"modal-title fs-5\" id=\"itemModalLabel\">Create Bin Card Transaction for {{ selectedCard?.asset }}</h1>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"closebinCardModal()\" id=\"close_item\"></button>\r\n                </div>\r\n                <form @submit.prevent=\"addTransaction()\">\r\n                    <div class=\"modal-body\">\r\n                        <div class=\"row mb-3\">\r\n                           <div class=\"col-md-3\">\r\n    <label for=\"direction\">Transaction Type</label>\r\n    <Multiselect\r\n        v-model=\"direction\"\r\n        :options=\"directions\"\r\n        label=\"label\"\r\n        track-by=\"value\"\r\n        placeholder=\"Select Direction\"\r\n        :searchable=\"true\"\r\n        :allow-empty=\"false\"\r\n        required\r\n    />\r\n</div>\r\n                            <div class=\"col-md-3\">\r\n                                <label for=\"quantity\">Quantity</label>\r\n                                <input type=\"number\" v-model=\"quantity\" class=\"form-control\" placeholder=\"Enter Quantity\" step=\"any\">\r\n                            </div>\r\n                            <div class=\"col-md-3\">\r\n                                <label for=\"date\">Date</label>\r\n                                <input type=\"date\" v-model=\"date\" class=\"form-control\">\r\n                            </div>\r\n                            <div class=\"col-md-3\">\r\n                                <label for=\"ratio\">Ratio</label>\r\n                                <input type=\"number\" v-model=\"ratio\" class=\"form-control\" placeholder=\"Enter Ratio\" required step=\"any\">\r\n                            </div>\r\n                            \r\n                            <div class=\"col-md-3\">\r\n                                <label for=\"initial_reading\">Initial ordometer Reading</label>\r\n                                <input type=\"number\" v-model=\"initial_reading\" class=\"form-control\" placeholder=\"Enter Initial Reading\" required step=\"any\">\r\n                            </div>\r\n           \r\n                            <div class=\"col-md-3\">\r\n                                <label for=\"work_target\">Work Target</label>\r\n                                <input type=\"number\" v-model=\"work_target\" class=\"form-control\" placeholder=\"Enter Work Target\" step=\"any\">\r\n                            </div>\r\n                            <div class=\"col-md-3\">\r\n                                <label for=\"work_target\">rate</label>\r\n                                <input type=\"number\" v-model=\"rate\" class=\"form-control\" placeholder=\"Enter Rate\" step=\"any\">\r\n                            </div>\r\n                            <div class=\"col-md-3\">\r\n                                <label for=\"unit\">Unit</label>\r\n                                <Multiselect\r\n                                    v-model=\"unit\"\r\n                                    :options=\"units\"\r\n                                    label=\"short_name\"\r\n                                    track-by=\"id\"\r\n                                    placeholder=\"Select Unit\"\r\n                                    :searchable=\"true\"\r\n                                    :allow-empty=\"false\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n\r\n                            <div class=\"col-md-6\">\r\n                                <label for=\"task\">Task</label>\r\n                                <input type=\"text\" v-model=\"task\" class=\"form-control\" placeholder=\"Enter Task\">\r\n                            </div>\r\n                            <div class=\"col-md-6\">\r\n                                <label for=\"description\">Remark</label>\r\n                                <input type=\"text\" v-model=\"description\" class=\"form-control\" placeholder=\"Enter Any Remark concerning work or ratio valiation\">\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\" @click=\"closebinCardModal()\" id=\"close_item\">Close</button>\r\n                        <button class=\"btn btn-primary me-2 mt-1\" :disabled=\"isSending\">\r\n                            <span v-if=\"isSending\" v-html=\"loadingSpinner()\"></span>\r\n                            <span>Save</span>\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- add transaction ends -->\r\n\r\n             <!-- Edit bin card item  modal starts -->\r\n<div class=\"modal fade mymodal\" id=\"edit-transaction-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"editTransactionModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"editTransactionModalLabel\"> {{ selectedCard?.asset }} Bin Card Transaction</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <form @submit.prevent=\"updateBinCardTransaction()\">\r\n        <div class=\"modal-body\">\r\n            <div class=\"row mb-3\">\r\n                <div class=\"col-md-4\">\r\n                                <label for=\"initial_reading\">Initial Ordometer Reading</label>\r\n                                <input type=\"number\" v-model=\"initial_reading\" class=\"form-control\" placeholder=\"Enter Initial Reading\" readonly>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <label for=\"final_reading\">Final Ordometer Reading</label>\r\n                                <input type=\"number\" v-model=\"final_reading\" class=\"form-control\" placeholder=\"Enter Final Reading\">\r\n                            </div>\r\n                             <div class=\"col-md-4\">\r\n                                <label for=\"work_covered\">Work Covered</label>\r\n                                <input type=\"number\" v-model=\"work_covered\" class=\"form-control\" placeholder=\"Enter Work Covered\">\r\n                            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" id=\"close_transaction_editing\">Close</button>\r\n          <button type=\"submit\" class=\"btn btn-primary\">\r\n            <span v-if=\"loading_spinner\" class=\"spinner-border spinner-border-sm text-white me-2\" role=\"status\"></span>\r\n            Save\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- Edit bin card item modal ends -->\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n\r\n<script setup>\r\n    import { onMounted, ref, inject, computed } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    import globalSearchField from '@/components/reusables/globalSearchField.vue';\r\n    import { globalSearch } from '@/components/reusables/globalSearch';\r\n    \r\n    useMeta({ title: 'binCards' });  \r\n\r\n    const selectProject = (project) => {\r\n  selectedProject.value = project;\r\n};\r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n    const loadingIndicator = inject('loadingIndicator');\r\n    const user_permissions = JSON.parse(localStorage.getItem(\"user\")).permissions;\r\n    const tableShimmer = inject('tableShimmer');JSON.parse(localStorage.getItem(\"user\"))\r\n    const loadingSpinner = inject('loadingSpinner'); \r\n    const formatNumber = inject('formatNumber');\r\n    const asset_bincard = ref(false);\r\n    const selectedProject = ref(null)\r\n\r\n    const loading_spinner = ref(false);\r\n    const transactionColumns = ref(['SNo', 'date','action','quantity','task','initial','final','ratio','work_target','work_covered','balance','cost','actions']);\r\n    const binCards = ref([]);\r\n    const filter = ref('')\r\n\r\n  const filteredData = computed(() => {\r\n    let data = globalSearch(binCards.value, filter.value);\r\n\r\n    if (selectedProject.value) {\r\n        data = data.filter(card => \r\n            card.project_id === selectedProject.value.id\r\n        );\r\n    }\r\n\r\n    return data;\r\n});\r\n\r\n\r\n    const table_option = ref({\r\n        perPage: 20,\r\n        perPageValues: [20, 50 ,100],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },       \r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n\r\n    const directions = ref([\r\n        { label: 'Received', value: 'INCREMENT' },\r\n        { label: 'Issued',   value: 'DECREMENT' }\r\n    ]);\r\n \r\n  \r\n    const getAssetBincard = async () => {\r\n        loading_spinner.value = true;\r\n        try {\r\n            const response = await axiosInstance.get('asset-bincards');\r\n          binCards.value = response.data.map((item, index) => ({\r\n  ...item,\r\n  SNo: index + 1,\r\n  consuption_type: item.asset.consuption_type,\r\n  asset: item.asset.name + \"-\" + item.asset.type_name,\r\n  balance: parseFloat(item.balance).toFixed(2),\r\n  transactions: item.transactions.map((tx, tIndex) => ({\r\n    ...tx,\r\n    SNo: tIndex + 1,\r\n    ref_no: tx.id,\r\n    direction: tx.direction,\r\n    quantity: tx.quantity,\r\n    date: tx.date,\r\n    initial_reading: tx.initial_reading || '--',\r\n    final_reading: tx.final_reading || '--',\r\n    final: tx.final_reading,\r\n    task: tx.task,\r\n    ratio: tx.ratio + ' ' + item.asset.consuption_type,\r\n    work_target: tx.work_target,\r\n    work_covered: tx.work_covered,\r\n    balance: parseFloat(tx.balance).toFixed(2),\r\n    remark: tx.remark || '-'\r\n  }))\r\n}));\r\n        } catch (error) {\r\n            showError(error.message);\r\n        }finally{\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n\r\n const formatWithUnit = (value, unit) => {\r\n  if (!value || value === '--') return '--';\r\n  return value + ' ' + unit;\r\n};\r\n\r\nconst getTableData = (transactions, card) => {\r\n  return transactions.map((tx, index) => ({\r\n    SNo: index + 1,\r\n    id: tx.id,\r\n    date: tx.date,\r\n    ref_no: tx.id,\r\n    task: tx.task,\r\n    ratio: tx.ratio + ' ' + (card.consuption_type || ''),\r\n    direction: tx.direction,\r\n    action: tx.action,\r\n    description: tx.description,\r\n    quantity: tx.quantity + ' Ltrs',\r\n    initial: tx.initial_reading || '--',\r\n    final: tx.final_reading || '--',\r\n    work_covered: formatWithUnit(tx.work_covered, tx.unit),\r\n    work_target: formatWithUnit(tx.work_target, tx.unit),\r\n    balance: tx.balance + ' Ltrs',\r\n    rate: formatNumber(tx.rate) || '--',\r\n    cost: formatNumber(tx.rate * tx.quantity),\r\n    remark: tx.remark || '-'\r\n  }));\r\n};\r\n\r\n    const loading = ref(false);\r\n    const registerBinCard = async () => {\r\n        loading.value = true;\r\n        \r\n        // Check if asset already has a bin card\r\n        const existingBinCard = binCards.value.find(card => card.asset_id === asset.value.id);\r\n        if (existingBinCard) {\r\n            showError('This asset already has a bin card registered!');\r\n            loading.value = false;\r\n            return;\r\n        }\r\n        \r\n        const payload = {\r\n           asset_id: asset.value.id,\r\n           project_id: project.value.id,\r\n           registrar_id:JSON.parse(localStorage.getItem(\"user\")).id,\r\n           description : description.value,\r\n           remark : remark.value\r\n        };\r\n\r\n        try {\r\n            const response = await axiosInstance.post('asset-bincards', payload);\r\n            GetReactiveBinCards();\r\n            showMessage('Record registered successfully!');\r\n            resetForm();\r\n        } catch (error) {\r\n          console.log(error);\r\n            showError(error.message);\r\n        } finally {\r\n            loading.value = false;\r\n        }\r\n    };\r\n\r\n    const resetForm = () => {\r\n   asset_bincard.value = false;\r\n   description.value = ''\r\n   remark.value = ''\r\n};\r\n\r\nconst selectedCard = ref(null);\r\nconst openAddTransactionModal = (card) => {\r\n    console.log(card);\r\n    selectedCard.value = card;\r\n};\r\n\r\nconst direction = ref('');\r\nconst quantity = ref('');\r\nconst rate = ref('');\r\nconst task = ref('');\r\nconst initial_reading = ref('');\r\nconst ratio = ref('');\r\nconst description = ref('');\r\nconst final_reading = ref('');\r\nconst work_target = ref('');\r\nconst work_covered = ref('');\r\nconst remark = ref('');\r\nconst isSending = ref(false);\r\nconst date = ref('');\r\n\r\n\r\nconst addTransaction = async () => {\r\n    isSending.value = true;\r\n    const payload = {\r\n        asset_bincard_id: selectedCard.value.id,\r\n        date: date.value,\r\n        direction: direction.value.value,\r\n        quantity: quantity.value,\r\n        rate: rate.value,\r\n        registrar_id: JSON.parse(localStorage.getItem(\"user\")).id,\r\n        task: task.value,\r\n        initial_reading: initial_reading.value,\r\n        final_reading: final_reading.value,\r\n        unit: unit.value.short_name,\r\n        ratio: ratio.value,\r\n        work_target: work_target.value,\r\n        work_covered: work_covered.value,\r\n        description: description.value,\r\n        action: direction.value.label,\r\n        remark: remark.value\r\n    };\r\n\r\n    try {\r\n        const response = await axiosInstance.post('asset-bincard-transactions', payload);\r\n        GetReactiveBinCards();\r\n        showMessage('Transaction added successfully!');\r\n        document.getElementById('close_item').click();\r\n        closebinCardModal();\r\n    } catch (error) {\r\n        console.log(error);\r\n        showError(error.message);\r\n    } finally {\r\n        isSending.value = false;\r\n    }\r\n};\r\n\r\nconst closebinCardModal = () => {\r\n    direction.value = '';\r\n    quantity.value = '';\r\n    rate.value = '';\r\n    date.value = '';\r\n    task.value = '';\r\n    initial_reading.value = '';\r\n    final_reading.value = '';\r\n    ratio.value = '';\r\n    work_target.value = '';\r\n    work_covered.value = '';\r\n    description.value = '';\r\n    remark.value = '';\r\n};\r\n\r\n\r\nconst assets = ref([])\r\nconst asset = ref('')\r\nconst getAssets = async () => {\r\n   try{\r\n      const response = await axiosInstance.get('machines')\r\n      assets.value = response.data.map((item)=>({\r\n        ...item,\r\n        name : item.name + ' '+ item.type_name\r\n      }))\r\n   }catch(error){\r\n    showError(error.message)\r\n    console.log(error)\r\n   }finally{\r\n\r\n   }\r\n};\r\n\r\nconst editId = ref(null);\r\nconst openEditModal = (row) => {\r\n    console.log(row);\r\n    initial_reading.value = row.initial_reading;\r\n    final_reading.value = row.final_reading;\r\n    work_covered.value = row.work_covered;\r\n    editId.value = row.id;\r\n};\r\n\r\nconst updateBinCardTransaction = async () => {\r\n    isSending.value = true; \r\n    const payload = {\r\n        initial_reading: initial_reading.value,\r\n        final_reading: final_reading.value,\r\n        work_covered: work_covered.value,\r\n    };\r\n\r\n    try {\r\n        const response = await axiosInstance.put(`asset-bincard-transactions/${editId.value}`, payload);\r\n        GetReactiveBinCards();\r\n        showMessage('Transaction updated successfully!');\r\n        document.getElementById('close_transaction_editing').click();\r\n    } catch (error) {\r\n        console.log(error);\r\n        showError(error.message);\r\n    } finally {\r\n        isSending.value = false;\r\n    }\r\n};\r\n\r\n const GetReactiveBinCards = async () => {\r\n            const response = await axiosInstance.get('asset-bincards');\r\n          binCards.value = response.data.map((item, index) => ({\r\n  ...item,\r\n  SNo: index + 1,\r\n  consuption_type: item.asset.consuption_type,\r\n  asset: item.asset.name + \"-\" + item.asset.type_name,\r\n  balance: parseFloat(item.balance).toFixed(2),\r\n  transactions: item.transactions.map((tx, tIndex) => ({\r\n    ...tx,\r\n    SNo: tIndex + 1,\r\n    ref_no: tx.id,\r\n    direction: tx.direction,\r\n    quantity: tx.quantity,\r\n    date: tx.date,\r\n    initial_reading: tx.initial_reading || '--',\r\n    final_reading: tx.final_reading || '--',\r\n    task: tx.task,\r\n    ratio: tx.ratio + ' ' + item.asset.consuption_type,\r\n    work_target: tx.work_target,\r\n    work_covered: tx.work_covered,\r\n    balance: parseFloat(tx.balance).toFixed(2),\r\n    remark: tx.remark || '-'\r\n  }))\r\n}));\r\n }\r\n\r\n const units = ref([])\r\n const unit = ref('')\r\nconst getUnits = async () => {\r\n  try {\r\n    const response = await axiosInstance.get('units');\r\n    units.value = response.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    showError(error.message);\r\n  }\r\n};\r\n\r\n const printBinCard = inject('printBinCard');\r\n    \r\n\r\n  const project = ref('')\r\n const projects = ref([])\r\n const getProjects = async () => {\r\n    try {\r\n        const response = await axiosInstance.get('projects');\r\n        projects.value = response.data\r\n            .filter(item => item.contracted === 'YES')\r\n            .filter(item => item.status === 'active');\r\n    } catch (error) {\r\n        showError(error.message);\r\n    }\r\n};\r\n\r\n    onMounted(() => {\r\n        getAssetBincard();\r\n        getAssets()\r\n        getProjects()\r\n        getUnits()\r\n    });\r\n</script>","import script from \"./bincards.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./bincards.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./bincards.vue?vue&type=style&index=0&id=4bb088d4&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["globalSearch","data","keyword","lowerKeyword","toLowerCase","trim","containsKeyword","obj","includes","Array","isArray","some","Object","values","filter","item","ref","props","filterValue","watch","val","emit","__exports__","useMeta","title","selectProject","project","selectedProject","value","showMessage","inject","showError","loadingIndicator","user_permissions","JSON","parse","localStorage","getItem","permissions","loadingSpinner","formatNumber","asset_bincard","loading_spinner","binCards","filteredData","computed","card","project_id","id","axiosInstance","perPage","perPageValues","skin","columnsClasses","actions","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filterPlaceholder","limit","resizableColumns","axios","baseURL","process","directions","label","getAssetBincard","async","response","get","map","index","SNo","consuption_type","asset","name","type_name","balance","parseFloat","toFixed","transactions","tx","tIndex","ref_no","direction","quantity","date","initial_reading","final_reading","final","task","ratio","work_target","work_covered","remark","error","message","loading","registerBinCard","existingBinCard","find","asset_id","payload","registrar_id","description","post","GetReactiveBinCards","resetForm","console","log","selectedCard","openAddTransactionModal","rate","isSending","addTransaction","asset_bincard_id","unit","short_name","action","document","getElementById","click","closebinCardModal","assets","getAssets","editId","openEditModal","row","updateBinCardTransaction","put","units","getUnits","printBinCard","projects","getProjects","contracted","status","onMounted"],"sourceRoot":""}