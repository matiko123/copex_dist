"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[4726],{44726:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ja}});t(26699);var l=t(66252),n=t(49963),s=t(2262),r=t(3577),o=t(87066),i=t(26212),u=t.n(i),c=t(56296);const d={class:"layout-px-spacing"},v=(0,l.uE)('<ul class="navbar-nav flex-row"><li><div class="page-header"><nav class="breadcrumb-one" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="javascript:;">Labour Request</a></li></ol></nav></div></li></ul>',1),p=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"})],-1),h=[p],g={key:0,class:"d-flex me-4 gap-3"},b={class:"ms-auto"},_=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,l._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})],-1),m=[_],y=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-x-square",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,l._)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1),w=[y],k=["onSubmit"],f=(0,l._)("h4",{class:"text-center"},"LABOUR REQUEST FORM ",-1),x={class:"row mb-2"},q={class:"col-md-4"},D=(0,l._)("label",{class:"form-label"},"Select Project",-1),C={class:"col-md-4"},H=(0,l._)("label",{class:"form-label"},"Date",-1),z={class:"col-md-4"},S=(0,l._)("label",{class:"form-label"},"Working Days",-1),M={class:"col-md-12"},V=(0,l._)("label",{class:"form-label"},"Task ",-1),L={class:"text-center gap-2 justify-content-end"},U=(0,l._)("button",{type:"submit",class:"btn btn-primary"},"Register",-1),R=(0,l._)("div",{class:"text-center"},[(0,l._)("h4",null,"LABOUR REQUESTS LIST")],-1),T=["innerHTML"],$={key:1,class:"row layout-top-spacing"},E={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},j=(0,l._)("div",{class:"row mb-3 d-flex justify-content-center align-items-center"},null,-1),A={class:"panel p-0"},B={class:"custom-table table3"},I=["onClick"],O=(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1),N=(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1),W=[O,N],P=["onClick"],Q=(0,l._)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"},null,-1),F=[Q],Y=["onClick"],J=(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"},null,-1),K=(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"},null,-1),Z=[J,K],G=["onClick"],X=(0,l._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1),ee=(0,l._)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1),ae=[X,ee],te=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-box-arrow-right",viewBox:"0 0 16 16"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"}),(0,l._)("path",{"fill-rule":"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"})],-1),le={class:"modal fade mymodal",id:"view_modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ne={class:"modal-dialog modal-dialog-centered modal-xl"},se={class:"modal-content"},re={class:"modal-header position-relative"},oe={key:0,class:"modal-title fs-5 position-absolute start-50 translate-middle-x",id:"staticBackdropLabel"},ie={key:1,class:"modal-title fs-5 position-absolute start-50 translate-middle-x",id:"staticBackdropLabel"},ue=(0,l._)("div",null,null,-1),ce={class:"mx-auto mt-2"},de={key:0,class:"spinner-border text-white",role:"status"},ve=(0,l._)("span",{class:"sr-only"},null,-1),pe=[ve],he={key:1},ge={key:0,class:"spinner-border text-white",role:"status"},be=(0,l._)("span",{class:"sr-only"},null,-1),_e=[be],me={key:1},ye={key:0,class:"spinner-border text-white",role:"status"},we=(0,l._)("span",{class:"sr-only"},null,-1),ke=[we],fe={key:1},xe={key:0,class:"spinner-border text-white",role:"status"},qe=(0,l._)("span",{class:"sr-only"},null,-1),De=[qe],Ce={key:1},He={key:0,class:"d-flex mt-2"},ze={class:"mx-3 mb-2"},Se={key:0,class:"spinner-border text-white",role:"status"},Me=(0,l._)("span",{class:"sr-only"},null,-1),Ve=[Me],Le={key:1},Ue={key:0,class:"mx-3"},Re=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",fill:"currentColor",class:"bi bi-check2-square",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z"}),(0,l._)("path",{d:"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0"})],-1),Te=(0,l.Uk)(" Ready "),$e=[Re,Te],Ee={class:"ms-auto me-2"},je=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,l._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})],-1),Ae=[je],Be=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1),Ie=[Be],Oe={key:1,class:"custom-table table3 table-responsive"},Ne={class:"table"},We=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"HR"),(0,l._)("th",null,"Operation"),(0,l._)("th",null,"Engineer"),(0,l._)("th",null,"Sr.Accountant"),(0,l._)("th",null,"MD")])],-1),Pe={key:0,class:"table"},Qe=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"SNo"),(0,l._)("th",null,"Type"),(0,l._)("th",null,"Task"),(0,l._)("th",null,"Quantity"),(0,l._)("th",null,"Rate"),(0,l._)("th",null,"Total")])],-1),Fe={class:"modal-body"},Ye={class:"row"},Je={class:"col-md-4"},Ke={class:"col-md-4"},Ze={class:"col-md-4"},Ge={class:"modal-footer"},Xe=(0,l._)("button",{type:"submit",class:"btn btn-primary"},"Save",-1),ea=["innerHTML"],aa={key:4,class:"row layout-top-spacing"},ta={key:0,class:"col-12 layout-spacing"},la={key:0,class:"d-flex flex-wrap gap-3 justify-content-center"},na=["onClick"],sa={class:"text-truncate"},ra={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-check-circle ms-2",viewBox:"0 0 16 16"},oa=(0,l._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14"},null,-1),ia=(0,l._)("path",{d:"m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"},null,-1),ua=[oa,ia],ca={key:1,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-circle ms-2 text-muted",viewBox:"0 0 16 16"},da=(0,l._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14"},null,-1),va=[da],pa={key:1,class:"d-flex flex-wrap gap-3 justify-content-center"},ha={key:1},ga=["innerHTML"],ba={key:1,class:"container"},_a={class:"row"},ma={class:"col-md-4"},ya=(0,l._)("label",{class:"form-label"},"Select Project",-1),wa={class:"col-md-4"},ka=(0,l._)("label",{class:"form-label"},"Date",-1),fa={class:"col-md-4"},xa=(0,l._)("label",{class:"form-label"},"Working Days",-1),qa={class:"col-md-12"},Da=(0,l._)("label",{class:"form-label"},"Task ",-1),Ca=(0,l._)("button",{type:"submit",class:"btn btn-primary"},"Update",-1),Ha={key:5,class:"row mb-3"},za={class:"col-md-6"},Sa={class:"d-flex"},Ma={class:"ms-auto mb-1"},Va={class:"table container table-bordered table-striped"},La=(0,l._)("th",null,"Labour Type ",-1),Ua=(0,l._)("th",null,"Task",-1),Ra=(0,l._)("th",null,"Quantity",-1),Ta=(0,l._)("th",null,"Rate",-1),$a=(0,l._)("th",null,"Total",-1),Ea={class:"col-md-6"},ja=["innerHTML"],Aa={key:1,class:"row align-items-center mb-1 me-2"},Ba={class:"col-sm-9"},Ia=(0,l._)("div",{class:"col-sm-3 text-end"},[(0,l._)("button",{class:"btn btn-primary",type:"submit"},"Add")],-1),Oa={key:2,class:"list-group list-group-numbered me-2"},Na={class:"list-group-item d-flex justify-content-between align-items-start"},Wa={class:"me-auto"},Pa={class:"fw-bold"},Qa=["onClick"];var Fa={setup(e){(0,c.j)({title:"Labour Request"});const a=(0,l.f3)("showMessage"),t=(0,l.f3)("showError"),i=(0,l.f3)("loadingIndicator"),p=(0,s.iH)(!1),_=(0,s.iH)(""),y=(0,s.iH)(!1),O=(0,s.iH)(["SNo","project","requested_by","date","days","task","status","awaits","actions"]),N=(0,s.iH)([]),Q=((0,s.iH)(["SNo","labour_type","task","quantity","rate","total","actions"]),(0,s.iH)([])),J=(0,s.iH)([]),K=((0,s.iH)(""),(0,s.iH)({perPage:10,perPageValues:[5,10,20,50],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:["SNo","batch_no","beneficiary_name","date","payment_number","purpose_of_payment","budget","unbudget","amount"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1})),X=(0,s.iH)(!1),ee=(0,s.iH)(!0),ve=o.Z.create({baseURL:"https://construction.trustdigital.space/api/v1/"}),be=o.Z.create({baseURL:"https://bushman.ink/api/v1/"}),we=(0,s.iH)(0),qe=e=>{we.value=e.id,Be.value=!0,ht.value=e.days,gt.value=e.date,ut.value=e.task,bt.value=lt.value.find((a=>a.id===e.project_id))||null},Me=(0,s.iH)({human_resources:0,operation_department:0,engineer:0,senior_accountant:0,managing_director:0}),Re=async e=>{try{const a=await be.get(`/approval-check-status/${e}?type=labour_request`);a.data&&"object"===typeof a.data?(Me.value=a.data,vt.value=!0):console.error("Invalid response format")}catch(a){console.error("Error fetching approval status: ",a)}},Te=e=>{confirm("Are you sure you want to delete this request ?")&&(X.value=!0,be.delete(`/labour-request/${e}`).then((e=>{tt(),X.value=!1,200===e.status?a("Labour Request Deleted successfully"):(t("Fail to Delete Labour"),console.error("Error deleteing labour:",e.data.message))})).catch((e=>{console.error("Error deleting labours :",e.message)})))},je=async e=>{X.value=!0,oa.value=e,ct.value=e.id,await at(e.id),await Re(e.id),Ut(),X.value=!1},Be=(0,s.iH)(!1),oa=(0,s.iH)(""),ia=(0,s.iH)(0),da=e=>{ia.value=e.approval_check_id,oa.value=e,ct.value=e.id,at(e.id),Re(e.id)},Fa=(0,s.iH)([]),Ya=async()=>{try{const e=await be.get("/labours");Fa.value=e.data}catch(e){t(e.message||"Failed to fetch data"),console.error("API error:",e)}},Ja=(0,s.iH)([]),Ka=(0,s.iH)(!1),Za=async()=>{Ka.value=!0;try{const e=await be.get(`/labour-request-list?request_type_id=${Ga.value.labour_type_id}`);Ja.value=e.data,console.log("fetched data",Ja.value)}catch(e){t(e.message||"Failed to fetch data"),console.error("API error:",e)}finally{Ka.value=!1}},Ga=(0,s.iH)(""),Xa=e=>{Ga.value=e,Za()},et=(0,s.iH)(!1),at=async e=>{et.value=!0;try{const a=await be.get(`/request-labour-types?request_id=${e}`);N.value=a.data.map(((e,a)=>({SNo:a+1,id:e.id,labour_type_id:e.labour_type_id,labour_type:e.labour_type.name,rate:e.labour_type.rate.toLocaleString(),quantity:e.quantity.toLocaleString()+"x "+oa.value.days+"(days)",labour_count:e.quantity,total:(e.labour_type.rate*e.quantity*oa.value.days).toLocaleString(),task:e.task}))),et.value=!1}catch(a){et.value=!1}},tt=async()=>{X.value=!0;try{const e=await be.get("/labour-request");Q.value=e.data.filter((e=>"Inactive"!==e.status_name||e.user_id===yt||1===wt)).map(((e,a)=>({SNo:a+1,id:e.id,project:e.project,project_id:e.project_id,user_id:e.user_id,requested_by:e.requested_by,project_id:e.project_id,date:e.date,days:e.days,task:e.task,approval_check_id:e.approval_check_id,stat:e.status_name,status:{key:e.status_name,class:e.status_color},awaits:e.awaits}))),X.value=!1}catch(e){X.value=!1}},lt=(0,s.iH)([""]),nt=async()=>{X.value=!0;try{const e=await be.get("/projects");lt.value=e.data.filter((e=>6==e.company_id)),X.value=!1}catch(e){X.value=!1}},st=async()=>{X.value=!0;try{const e=await be.get("/labour-types");J.value=e.data,X.value=!1}catch(e){X.value=!1}},rt=(0,s.iH)(""),ot=(0,s.iH)([]);(0,l.bv)((()=>{const e=localStorage.getItem("user");rt.value=JSON.parse(e),ot.value=rt.value.permissions,tt(),nt(),st(),Ya()}));const it=(0,s.iH)(""),ut=(0,s.iH)(""),ct=(0,s.iH)(0),dt=async()=>{p.value=!1,et.value=!0;const e={labour_type_id:_.value.id,quantity:it.value,task:ut.value,labour_request_id:ct.value};be.post("/request-labour-types",e).then((e=>{at(ct.value),a("Saved successfully"),_.value="",ut.value="",it.value=""})).catch((e=>{t(e.message),console.error("Error saving Data",e)}))},vt=(0,s.iH)(!1),pt=()=>{Ga.value="",Be.value=!1,vt.value=!1,mt()},ht=(0,s.iH)(""),gt=(0,s.iH)(""),bt=(0,s.iH)(""),_t=(0,s.iH)(!1),mt=()=>{ut.value="",ht.value="",gt.value="",bt.value=""},yt=JSON.parse(localStorage.getItem("user")).id,wt=JSON.parse(localStorage.getItem("user")).role,kt=async()=>{X.value=!0,y.value=!1,ee.value=!0,_t.value=!0;const e={user_id:yt,project_id:bt.value.id,project_name:bt.value.name,date:gt.value,days:ht.value,task:ut.value};be.post("/labour-request",e).then((e=>{tt(),a("Registered successfully"),_t.value=!1,mt()})).catch((e=>{t(e.message),console.error("Error registering request Data",e),_t.value=!1}))},ft=(0,s.iH)(!1),xt=(0,s.iH)(!1),qt=async(e,a,t)=>{ft.value=!0,xt.value=!0;try{await be.put(`/approval-check/${e}`,{[a]:t});Re(ct.value),tt()}catch(l){console.error("Error approving check:",l.message)}xt.value=!1},Dt=async e=>{ft.value=!0,et.value=!0;const l={status_name:"Unapproved",status_color:"secondary"};try{await be.put(`/labour-request/${e}`,l),await tt(),await Re(oa.value.id),a("Activated successfully")}catch(n){t(n.message),console.error("Error updating request Data",n)}finally{et.value=!1}},Ct=async(e,l)=>{_t.value=!0;const n={status_name:1===l?"Unapproved":"Approved",status_color:1===l?"secondary":"success"};be.put(`/labour-request/${e}`,n).then((e=>{tt(),a(1===l?"Request Rejected":"Request Approved"),mt(),_t.value=!1})).catch((e=>{t(e.message),console.error("Error updating request data",e),_t.value=!1}))},Ht=async(e,l)=>{_t.value=!0;const n={status_name:1===l?"Inactive":"Unapproved",status_color:1===l?"dark":"secondary"};be.put(`/labour-request/${e}`,n).then((e=>{tt(),1===l?(a("Request Inactivated"),ft.value=!1):a("Request Activated"),mt(),_t.value=!1})).catch((e=>{t(e.message),console.error("Error updating request data",e),_t.value=!1}))},zt=async e=>{_t.value=!0;const l={project_id:bt.value.id,date:gt.value,days:ht.value,task:ut.value};be.put(`/labour-request/${e}`,l).then((e=>{tt(),a("updated successfully"),_t.value=!1})).catch((e=>{t(e.message),console.error("Error updating request Data",e),_t.value=!1}))},St=(0,s.iH)(""),Mt=async()=>{Ka.value=!0;const e={labour_request_id:ct.value,labour_request_type_id:Ga.value.labour_type_id,labour_id:St.value.id,labour_name:St.value.name};be.post("/labour-request-list",e).then((e=>{Za(),St.value=""})).catch((e=>{t(e.message),console.error("Error saving Data",e)}))},Vt=async e=>{et.value=!0,Ga.value="",ve.delete(`/request-labour-types/${e}`).then((e=>{at(oa.value.id),a("Deleted successfully")})).catch((e=>{t(e.message),console.error("Error saving Data",e)}))},Lt=async e=>{Ka.value=!0,be.delete(`/labour-request-list/${e}`).then((e=>{Za(),a("Deleted successfully")})).catch((e=>{t(e.message),console.error("Error saving Data",e)}))},Ut=((0,s.iH)(""),()=>{const e=oa.value.date.split("-"),a=`${e[1]}/${e[2].slice(-2)}`,t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t);let l=0,n=N.value.map((e=>{const a=parseFloat(e.total.replace(/,/g,""));return l+=a,`\n      <tr>\n        <td>${e.labour_type}</td>\n        <td>${e.task}</td>\n        <td>${e.quantity}</td>\n        <td>${e.rate}/=</td>\n        <td>${e.total}/=</td>\n      </tr>\n    `})).join("");const s=l.toLocaleString();let r=`\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>Labour Request Report</title>\n      <style>\n        body { font-family: Arial, sans-serif; margin: 20px; }\n        h1 { text-align: center; margin-bottom: 0; font-size: 22px; font-weight: bold; font-family: "Times New Roman", serif; }\n        h2 { text-align: center; margin: 0; font-size: 18px; font-family: "Times New Roman", serif;font-weight: normal; }\n        h3 { margin-top: 30px; font-size: 15px; }\n        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\n        th, td { border: 1px solid black; padding: 5px; text-align: left; font-size: 15px; }\n        th { background-color: #f2f2f2; font-weight: bold; }\n        tr:nth-child(even) { background-color: #f9f9f9; }\n        .top-section { display: flex; justify-content: space-between; align-items: start; }\n        .logo { width: 150px; height: auto; }\n        .lpo-box {\n          border: 1px solid black;\n          border-radius: 5px;\n          padding: 5px;\n          font-size: 13px;\n          width: 120px;\n        }\n        .company-info { text-align: center; margin-top: 10px; }\n        .registration {\n          position: absolute;\n          top: 100px;\n          right: 30px;\n          font-size: 14px;\n          font-weight: bold;\n          text-align: right;\n        }\n        .section-title {\n          text-align: center;\n          text-decoration: underline;\n          font-family: "Times New Roman", serif;\n          font-weight: bold;\n          font-size: 17px;\n          margin-top: 30px;\n        }\n      </style>\n    </head>\n    <body>\n\n      <div class="top-section">\n        <img src="https://bushman.ink/copex.jpg" class="logo" alt="logo" />\n        <div class="lpo-box">\n          <strong>REQUEST NO:</strong><br>\n          <span style="color:red;">\n            ${("0000"+oa.value.id).slice(-4)} /${a}\n          </span>\n        </div>\n      </div>\n\n      <div class="company-info">\n        <h1>COPEX CONTRACTORS CO.LTD</h1>\n        <h2>Msamvu, P.O.BOX 678, Morogoro</h2>\n        <h2>Mobile, 0713 000 777, 0657 111 555</h2>\n      </div>\n\n      <div class="registration">\n        TIN: 103-826-519,<br>\n        VRN: 20-01-017530R\n      </div>\n\n      <div class="section-title">LABOUR REQUEST</div>\n\n      <h3>Request Descriptions</h3>\n      <table>\n        <thead>\n          <tr>\n            <th>Project</th>\n            <th>Date</th>\n            <th>Working Days</th>\n            <th>General Task</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>${oa.value.project}</td>\n            <td>${oa.value.date}</td>\n            <td>${oa.value.days}</td>\n            <td>${oa.value.task}</td>\n          </tr>\n        </tbody>\n      </table>\n\n      <h2 style="text-align:left; font-weight: bold;">Labours Requested</h2>\n      <table>\n        <thead>\n          <tr>\n            <th>Labour Type</th>\n            <th>Specific Task</th>\n            <th>Quantity</th>\n            <th>Rate</th>\n            <th>Total</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${n}\n          <tr>\n            <td colspan="4" style="text-align:right;"><strong>Grand Total</strong></td>\n            <td><strong>${s}/=</strong></td>\n          </tr>\n        </tbody>\n      </table>\n\n      <table style="width: 100%; margin-top: 50px; font-size: 10px;">\n        <tr>\n          <td style="text-align: center;">HR Officer</td>\n          <td style="text-align: center;">Operation's Dept</td>\n          <td style="text-align: center;">Engineer</td>\n          <td style="text-align: center;">Sr Accountant</td>\n          <td style="text-align: center;">Managing Director</td>\n        </tr>\n        <tr>\n          <td style="text-align: center;height: 50px; color: ${0==Me.value.human_resources?"red":"green"};">\n            ${0==Me.value.human_resources?"Unchecked":"Checked"}\n          </td>\n          <td style="text-align: center;height: 50px; color: ${0==Me.value.operation_department?"red":"green"};">\n            ${0==Me.value.operation_department?"Unchecked":"Checked"}\n          </td>\n          <td style="text-align: center;eight: 50px; color: ${0==Me.value.engineer?"red":"green"};">\n            ${0==Me.value.engineer?"Unchecked":"Checked"}\n          </td>\n          <td style="text-align: center;height: 50px; color: ${0==Me.value.senior_accountant?"red":"green"};">\n            ${0==Me.value.senior_accountant?"Unchecked":"Checked"}\n          </td>\n          <td style="text-align: center;height: 50px; color: ${0==Me.value.managing_director?"red":"green"};">\n            ${0==Me.value.managing_director?"Unapproved":"Approved"}\n          </td>\n        </tr>\n      </table>\n\n    </body>\n    </html>\n  `;const o=t.contentWindow.document;o.open(),o.write(r),o.close(),t.onload=()=>{t.contentWindow.focus(),t.contentWindow.print(),setTimeout((()=>{document.body.removeChild(t)}),1e3)}});return(e,a)=>{const t=(0,l.up)("Router-link"),o=(0,l.up)("v-client-table");return(0,l.wg)(),(0,l.iD)("div",d,[v,(0,l._)("div",null,[(0,l._)("button",{class:"btn btn-dark me-2 px-3",onClick:a[0]||(a[0]=a=>e.$router.go(-1))},h),ot.value.includes("can_request_labours")?((0,l.wg)(),(0,l.iD)("div",g,[(0,l._)("div",b,[ee.value?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-primary",onClick:a[1]||(a[1]=e=>{y.value=!0,ee.value=!1})},m)):((0,l.wg)(),(0,l.iD)("button",{key:1,class:"btn btn-danger",onClick:a[2]||(a[2]=e=>{y.value=!1,ee.value=!0})},w))])])):(0,l.kq)("",!0),y.value?((0,l.wg)(),(0,l.iD)("form",{key:1,class:"mt-1 p-3 border rounded bg-white shadow",onSubmit:(0,n.iM)(kt,["prevent"])},[f,(0,l._)("div",x,[(0,l._)("div",q,[D,(0,l.Wm)((0,s.SU)(u()),{modelValue:bt.value,"onUpdate:modelValue":a[3]||(a[3]=e=>bt.value=e),"track-by":"id",options:lt.value,label:"short_name",placeholder:"Select Project",required:!0,searchable:!0,multple:"false"},null,8,["modelValue","options"])]),(0,l._)("div",C,[H,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=e=>gt.value=e),name:"date",required:""},null,512),[[n.nr,gt.value]])]),(0,l._)("div",z,[S,(0,l.wy)((0,l._)("input",{type:"number",placeholder:"Enter Working Days",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=e=>ht.value=e),name:"Vendor_name",required:""},null,512),[[n.nr,ht.value]])]),(0,l._)("div",M,[V,(0,l.wy)((0,l._)("textarea",{class:"form-control",placeholder:"Enter Task",required:"","onUpdate:modelValue":a[6]||(a[6]=e=>ut.value=e)},null,512),[[n.nr,ut.value]])])]),(0,l._)("div",L,[(0,l._)("button",{type:"button",class:"btn btn-danger me-3",onClick:a[7]||(a[7]=e=>{y.value=!1,ee.value=!0})},"Cancel"),U])],40,k)):(0,l.kq)("",!0),(0,l._)("div",null,[R,X.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(i)()},null,8,T)):((0,l.wg)(),(0,l.iD)("div",$,[(0,l._)("div",E,[j,(0,l._)("div",A,[(0,l._)("div",B,[(0,l.Wm)(o,{data:Q.value,columns:O.value,options:K.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,r.C_)(["badge inv-status","badge-"+e.row.status.class])},(0,r.zw)(e.row.status.key),3)])),actions:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{style:{cursor:"pointer"},onClick:a=>da(e.row),"data-bs-toggle":"modal","data-bs-target":"#view_modal",xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"text-primary bi bi-eye",viewBox:"0 0 16 16"},W,8,I)),"Inactive"==e.row.stat?((0,l.wg)(),(0,l.iD)("svg",{key:0,class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",onClick:a=>qe(e.row),"data-bs-toggle":"modal","data-bs-target":"#view_modal"},F,8,P)):(0,l.kq)("",!0),0==oa.value.stat?((0,l.wg)(),(0,l.iD)("svg",{key:1,onClick:a=>je(e.row),style:{cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-printer text-success",viewBox:"0 0 16 16"},Z,8,Y)):(0,l.kq)("",!0),ot.value.includes("can_delete_labour_request")&&"Inactive"===e.row.stat?((0,l.wg)(),(0,l.iD)("svg",{key:2,onClick:a=>Te(e.row.id),style:{cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-trash text-danger",viewBox:"0 0 16 16"},ae,8,G)):(0,l.kq)("",!0),(0,l.Wm)(t,{to:"/report/allowance-approved/"+e.row.project_id+"/"+e.row.id+"/"+e.row.date},{default:(0,l.w5)((()=>[te])),_:2},1032,["to"])])),_:1},8,["data","columns","options"])])])])])),(0,l._)("div",le,[(0,l._)("div",ne,[(0,l._)("div",se,[(0,l._)("div",re,[Be.value?((0,l.wg)(),(0,l.iD)("h1",ie," Edit Labour Request ")):((0,l.wg)(),(0,l.iD)("h1",oe," Labour Registration ")),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"dismiss",onClick:a[8]||(a[8]=e=>pt())})]),ue,(0,l._)("div",ce,[ot.value.includes("can_verify_copex_operator")&&1===Me.value.human_resources?((0,l.wg)(),(0,l.iD)("button",{key:0,class:(0,r.C_)({btn:!0,"btn-primary":0===Me.value.operation_department,"btn-dark":1===Me.value.operation_department}),onClick:a[9]||(a[9]=e=>qt(ia.value,"operation_department",0===Me.value.operation_department?1:0))},[xt.value?((0,l.wg)(),(0,l.iD)("div",de,pe)):((0,l.wg)(),(0,l.iD)("span",he,(0,r.zw)(0===Me.value.operation_department?"Check":"Uncheck"),1))],2)):(0,l.kq)("",!0),ot.value.includes("can_verify_engineer")&&1===Me.value.operation_department?((0,l.wg)(),(0,l.iD)("button",{key:1,class:(0,r.C_)({btn:!0,"btn-primary":0===Me.value.engineer,"btn-dark":1===Me.value.engineer}),onClick:a[10]||(a[10]=e=>qt(ia.value,"engineer",0===Me.value.engineer?1:0))},[xt.value?((0,l.wg)(),(0,l.iD)("div",ge,_e)):((0,l.wg)(),(0,l.iD)("span",me,(0,r.zw)(0===Me.value.engineer?"Check":"Uncheck"),1))],2)):(0,l.kq)("",!0),ot.value.includes("can_verify_sr_accountant")&&1===Me.value.engineer?((0,l.wg)(),(0,l.iD)("button",{key:2,class:(0,r.C_)({btn:!0,"btn-primary":0===Me.value.senior_accountant,"btn-dark":1===Me.value.senior_accountant}),onClick:a[11]||(a[11]=e=>qt(ia.value,"senior_accountant",0===Me.value.senior_accountant?1:0))},[xt.value?((0,l.wg)(),(0,l.iD)("div",ye,ke)):((0,l.wg)(),(0,l.iD)("span",fe,(0,r.zw)(0===Me.value.senior_accountant?"Check":"Uncheck"),1))],2)):(0,l.kq)("",!0),ot.value.includes("is_md")&&1===Me.value.senior_accountant?((0,l.wg)(),(0,l.iD)("button",{key:3,class:(0,r.C_)({btn:!0,"btn-primary":0===Me.value.managing_director,"btn-dark":1===Me.value.managing_director}),onClick:a[12]||(a[12]=e=>(qt(ia.value,"managing_director",0===Me.value.managing_director?1:0),Ct(ct.value,Me.value.managing_director)))},[xt.value?((0,l.wg)(),(0,l.iD)("div",xe,De)):((0,l.wg)(),(0,l.iD)("span",Ce,(0,r.zw)(0===Me.value.managing_director?"Check":"Uncheck"),1))],2)):(0,l.kq)("",!0)]),Be.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",He,[(0,l._)("div",ze,[ot.value.includes("can_verify_hr")?((0,l.wg)(),(0,l.iD)("button",{key:0,class:(0,r.C_)({btn:!0,"btn-primary":0===Me.value.human_resources,"btn-dark":1===Me.value.human_resources}),onClick:a[13]||(a[13]=e=>(qt(ia.value,"human_resources",0===Me.value.human_resources?1:0),Ht(ct.value,Me.value.human_resources)))},[xt.value?((0,l.wg)(),(0,l.iD)("div",Se,Ve)):((0,l.wg)(),(0,l.iD)("span",Le,(0,r.zw)(0===Me.value.human_resources?"Activate":"Inactivate"),1))],2)):(0,l.kq)("",!0)]),15!=(0,s.SU)(wt)?((0,l.wg)(),(0,l.iD)("div",Ue,["Inactive"==oa.value.stat&&!ft.value&&N.value.length>0?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-warning",onClick:a[14]||(a[14]=e=>Dt(ct.value))},$e)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),(0,l._)("div",Ee,["Inactive"!=oa.value.stat||ft.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-primary me-2",onClick:a[15]||(a[15]=e=>p.value=!p.value)},Ae)),0==!N.value.length?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"btn btn-success",onClick:a[16]||(a[16]=e=>Ut())},Ie)):(0,l.kq)("",!0)])])),vt.value?((0,l.wg)(),(0,l.iD)("div",Oe,[(0,l._)("table",Ne,[We,(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",{class:(0,r.C_)({"text-danger":0===Me.value.human_resources,"text-success":1===Me.value.human_resources})},(0,r.zw)(0===Me.value.human_resources?"unchecked":"checked"),3),(0,l._)("td",{class:(0,r.C_)({"text-danger":0===Me.value.operation_department,"text-success":1===Me.value.operation_department})},(0,r.zw)(0===Me.value.operation_department?"unchecked":"checked"),3),(0,l._)("td",{class:(0,r.C_)({"text-danger":0===Me.value.engineer,"text-success":1===Me.value.operation_department})},(0,r.zw)(0===Me.value.engineer?"unchecked":"checked"),3),(0,l._)("td",{class:(0,r.C_)({"text-danger":0===Me.value.senior_accountant,"text-success":1===Me.value.senior_accountant})},(0,r.zw)(0===Me.value.senior_accountant?"unchecked":"checked"),3),(0,l._)("td",{class:(0,r.C_)({"text-danger":0===Me.value.managing_director,"text-success":1===Me.value.managing_director})},(0,r.zw)(0===Me.value.managing_director?"unchecked":"checked"),3)])])]),ot.value.includes("can_verify_hr")?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("table",Pe,[Qe,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(N.value,((e,a)=>((0,l.wg)(),(0,l.iD)("tr",null,[(0,l._)("td",null,(0,r.zw)(a+1),1),(0,l._)("td",null,(0,r.zw)(e.labour_type),1),(0,l._)("td",null,(0,r.zw)(e.task),1),(0,l._)("td",null,(0,r.zw)(e.quantity),1),(0,l._)("td",null,(0,r.zw)(e.rate),1),(0,l._)("td",null,(0,r.zw)(e.total),1)])))),256))])]))])):(0,l.kq)("",!0),p.value?((0,l.wg)(),(0,l.iD)("form",{key:2,onSubmit:a[21]||(a[21]=(0,n.iM)((e=>dt()),["prevent"]))},[(0,l._)("div",Fe,[(0,l._)("div",Ye,[(0,l._)("div",Je,[(0,l.Wm)((0,s.SU)(u()),{modelValue:_.value,"onUpdate:modelValue":a[17]||(a[17]=e=>_.value=e),"track-by":"id",options:J.value,label:"name",placeholder:"Select Labour Type",required:!0,searchable:!0,multple:"false"},null,8,["modelValue","options"])]),(0,l._)("div",Ke,[(0,l.wy)((0,l._)("input",{type:"number",class:"form-control","onUpdate:modelValue":a[18]||(a[18]=e=>it.value=e),placeholder:"Enter Quantity",required:""},null,512),[[n.nr,it.value]])]),(0,l._)("div",Ze,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[19]||(a[19]=e=>ut.value=e),placeholder:"Enter Task",required:""},null,512),[[n.nr,ut.value]])])])]),(0,l._)("div",Ge,[(0,l._)("button",{type:"button",class:"btn btn-danger",onClick:a[20]||(a[20]=e=>p.value=!1)},"Cancel"),Xe])],32)):(0,l.kq)("",!0),et.value?((0,l.wg)(),(0,l.iD)("div",{key:3,innerHTML:(0,s.SU)(i)(),class:"mt-5"},null,8,ea)):((0,l.wg)(),(0,l.iD)("div",aa,[Be.value?((0,l.wg)(),(0,l.iD)("div",ha,[_t.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(i)()},null,8,ga)):((0,l.wg)(),(0,l.iD)("div",ba,[(0,l._)("form",{onSubmit:a[26]||(a[26]=(0,n.iM)((e=>zt(we.value)),["prevent"]))},[(0,l._)("div",_a,[(0,l._)("div",ma,[ya,(0,l.Wm)((0,s.SU)(u()),{modelValue:bt.value,"onUpdate:modelValue":a[22]||(a[22]=e=>bt.value=e),"track-by":"id",options:lt.value,label:"short_name",placeholder:"Select Project",required:!0,searchable:!0,multiple:!1},null,8,["modelValue","options"])]),(0,l._)("div",wa,[ka,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[23]||(a[23]=e=>gt.value=e),name:"date",required:""},null,512),[[n.nr,gt.value]])]),(0,l._)("div",fa,[xa,(0,l.wy)((0,l._)("input",{type:"number",placeholder:"Enter Working Days",class:"form-control","onUpdate:modelValue":a[24]||(a[24]=e=>ht.value=e),name:"Vendor_name",required:""},null,512),[[n.nr,ht.value]])]),(0,l._)("div",qa,[Da,(0,l.wy)((0,l._)("textarea",{class:"form-control",placeholder:"Enter Task",required:"","onUpdate:modelValue":a[25]||(a[25]=e=>ut.value=e)},null,512),[[n.nr,ut.value]])])]),(0,l._)("div",{class:"text-end gap-2 justify-content-end mt-2 mb-2"},[(0,l._)("button",{type:"button","data-bs-dismiss":"modal","aria-label":"Close",onClick:pt,class:"btn btn-danger me-3"},"Cancel"),Ca])],32)]))])):((0,l.wg)(),(0,l.iD)("div",ta,[ot.value.includes("can_verify_hr")?((0,l.wg)(),(0,l.iD)("div",la,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(N.value,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:(0,r.C_)(["d-flex align-items-center justify-content-between px-3 py-2 rounded-pill shadow-sm",Ga.value.id===e.id?"bg-success text-white":"bg-white border"]),style:{"min-width":"120px","max-width":"180px",cursor:"pointer",transition:"all 0.3s ease"},onClick:a=>Xa(e)},[(0,l._)("span",sa,(0,r.zw)(e.labour_type),1),Ga.value.id===e.id?((0,l.wg)(),(0,l.iD)("svg",ra,ua)):((0,l.wg)(),(0,l.iD)("svg",ca,va))],10,na)))),128))])):(0,l.kq)("",!0),0==N.value.length?((0,l.wg)(),(0,l.iD)("div",pa," No labour list registered yet ")):(0,l.kq)("",!0)]))])),""!==Ga.value?((0,l.wg)(),(0,l.iD)("div",Ha,[(0,l._)("div",za,[(0,l._)("div",Sa,[(0,l._)("div",Ma,[0!=Ja.value.length||"Inactive"!=oa.value.stat||ft.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-danger",onClick:a[27]||(a[27]=e=>Vt(Ga.value.id))}," Delete "))])]),(0,l._)("table",Va,[(0,l._)("tbody",null,[(0,l._)("tr",null,[La,(0,l._)("td",null,(0,r.zw)(Ga.value.labour_type),1)]),(0,l._)("tr",null,[Ua,(0,l._)("td",null,(0,r.zw)(Ga.value.task),1)]),(0,l._)("tr",null,[Ra,(0,l._)("td",null,(0,r.zw)(Ga.value.quantity),1)]),(0,l._)("tr",null,[Ta,(0,l._)("td",null,(0,r.zw)(Ga.value.rate),1)]),(0,l._)("tr",null,[$a,(0,l._)("td",null,(0,r.zw)(Ga.value.total),1)])])])]),(0,l._)("div",Ea,[Ka.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(i)()},null,8,ja)):(0,l.kq)("",!0),!Ka.value&&Ja.value.length<Ga.value.labour_count?((0,l.wg)(),(0,l.iD)("div",Aa,[(0,l._)("form",{onSubmit:a[29]||(a[29]=(0,n.iM)((e=>Mt()),["prevent"])),class:"d-flex w-100"},[(0,l._)("div",Ba,[(0,l.Wm)((0,s.SU)(u()),{modelValue:St.value,"onUpdate:modelValue":a[28]||(a[28]=e=>St.value=e),"track-by":"id",options:Fa.value,label:"name",placeholder:"Select A Labour",required:!0,searchable:!0,multiple:!1},null,8,["modelValue","options"])]),Ia],32)])):(0,l.kq)("",!0),Ka.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("ol",Oa,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Ja.value,(e=>((0,l.wg)(),(0,l.iD)("li",Na,[(0,l._)("div",Wa,[(0,l._)("div",Pa,(0,r.zw)(e.labour_name),1)]),(0,l._)("span",{class:"btn btn-danger p-2 btn-sm",onClick:a=>Lt(e.id)},"x",8,Qa)])))),256))]))])])):(0,l.kq)("",!0)])])])])])])}}};const Ya=Fa;var Ja=Ya}}]);
//# sourceMappingURL=4726.9a49520f.js.map