"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[8725],{65646:function(a,e,t){t.r(e),t.d(e,{default:function(){return E}});var l=t(66252),s=t(2262),o=t(3577),r=t(87066),i=(t(86455),t(56296)),n=t(26212),c=t.n(n),d=t(47244),u=t(42119);const v=a=>((0,l.dD)("data-v-3183a85d"),a=a(),(0,l.Cn)(),a),m={class:"layout-px-spacing"},p=(0,l.uE)('<ul class="navbar-nav flex-row mt-2" data-v-3183a85d><li data-v-3183a85d><div class="page-header" data-v-3183a85d><nav class="breadcrumb-one" aria-label="breadcrumb" data-v-3183a85d><ol class="breadcrumb" data-v-3183a85d><li class="breadcrumb-item" data-v-3183a85d><a href="javascript:;" data-v-3183a85d>Masters</a></li><li class="breadcrumb-item active" aria-current="page" data-v-3183a85d><span data-v-3183a85d>Daily Work Report</span></li></ol></nav></div></li></ul>',1),b={class:"row layout-top-spacing"},_={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},h={class:"panel p-0"},f={class:"custom-table table3"},g=["innerHTML"],w=["onClick"],y={class:"d-flex justify-content-center align-items-center"},k=["onClick"],j=v((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-primary"},[(0,l._)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,l._)("circle",{cx:"12",cy:"12",r:"3"})],-1))),C=[j],H={class:"modal fade mymodal",id:"select-store","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"editTyresModalLabel","aria-hidden":"true"},S={class:"modal-dialog modal-lg"},x={class:"modal-content"},M=v((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"editTyresModalLabel"},"Select Store"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),N={class:"modal-body"},I={class:"row"},L={class:"col-md-12"},R={class:"modal-footer"},T=v((()=>(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1))),D=["disabled"];var U={setup(a){(0,i.j)({title:"Custom Table"});const e=(0,u.tv)(),t=r.Z.create({baseURL:"https://bushman.ink/api/v1/"}),n=((0,s.iH)(null),(0,s.iH)(!1),(0,l.f3)("tableShimmer")),v=(JSON.parse(localStorage.getItem("user")),(0,s.iH)(!0)),j=(0,s.iH)(["SNo","project_name","client","financial_year","contract_number","actions"]),U=((0,l.f3)("showMessage"),(0,l.f3)("showError")),V=((0,s.iH)(!1),(0,s.iH)(""),(0,s.iH)(""),(0,s.iH)(!1),JSON.parse(localStorage.getItem("user")).permissions,(0,s.iH)([])),z=(0,s.iH)(null),E=(0,s.iH)({perPage:50,perPageValues:[50,100,200,500],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:[],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),P=(0,s.iH)([]),B=()=>{t.get("stores").then((a=>{P.value=a.data.map(((a,e)=>({...a,SNo:e+1,project:a.project,project_id:a.project_id,name:a.name,label:a.project+" - "+a.name}))),v.value=!1}))},J=(0,s.iH)([]),O=()=>{t.get("projects").then((a=>{J.value=a.data.filter((a=>"active"===a.status)).map(((a,e)=>({...a,SNo:e+1,project:a.project_name,project_name:a.short_name,financial_year:a.financial_year,client:a.client,contract_number:a.contract_number}))),v.value=!1}))};let W=null;(0,l.bv)((()=>{const a=document.getElementById("select-store");W=new d.Modal(a)}));const Z=a=>{const t=P.value.filter((e=>e.project_id===a.id));0!==t.length?1===t.length?e.push({name:"Report",params:{store_id:t[0].id}}):(V.value=t,z.value=null,W.show()):U("No stores found for this project")},G=()=>{z.value&&(e.push({name:"Report",params:{store_id:z.value.id}}),W.hide())};return(0,l.bv)((()=>{v.value=!0,O(),B()})),(a,e)=>{const t=(0,l.up)("v-client-table");return(0,l.wg)(),(0,l.iD)("div",m,[p,(0,l._)("div",b,[(0,l._)("div",_,[(0,l._)("div",h,[(0,l._)("div",f,[v.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(n)()},null,8,g)):((0,l.wg)(),(0,l.j4)(t,{key:1,data:J.value,columns:j.value,options:E.value},{project_name:(0,l.w5)((a=>[(0,l._)("a",{href:"javascript:;",onClick:e=>Z(a.row),class:"text-primary"},(0,o.zw)(a.row.short_name),9,w)])),actions:(0,l.w5)((a=>[(0,l._)("div",y,[(0,l._)("a",{href:"javascript:;",onClick:e=>Z(a.row)},C,8,k)])])),_:1},8,["data","columns","options"]))])])]),(0,l._)("div",H,[(0,l._)("div",S,[(0,l._)("div",x,[M,(0,l._)("form",null,[(0,l._)("div",N,[(0,l._)("div",I,[(0,l._)("div",L,[(0,l.Wm)((0,s.SU)(c()),{modelValue:z.value,"onUpdate:modelValue":e[0]||(e[0]=a=>z.value=a),options:V.value,"track-by":"id",label:"label",placeholder:"Choose a store"},null,8,["modelValue","options"])])])]),(0,l._)("div",R,[T,(0,l._)("button",{type:"button",class:"btn btn-primary",disabled:!z.value,onClick:G}," Go ",8,D)])])])])])])])}}},V=t(83744);const z=(0,V.Z)(U,[["__scopeId","data-v-3183a85d"]]);var E=z}}]);
//# sourceMappingURL=components-tabs.280df1a8.js.map