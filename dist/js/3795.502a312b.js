"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[3795],{93795:function(e,a,t){t.r(a),t.d(a,{default:function(){return re}});var s=t(66252),l=t(3577),o=t(2262),i=t(49963),c=t(42127),n=t(33907),d=t(56296),r=t(87066);t(26212);const v=e=>((0,s.dD)("data-v-7576fcc4"),e=e(),(0,s.Cn)(),e),b={class:"w-100 px-0"},u=v((()=>(0,s._)("ul",{class:"navbar-nav flex-row"},[(0,s._)("li",null,[(0,s._)("div",{class:"page-header"},[(0,s._)("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[(0,s._)("ol",{class:"breadcrumb"},[(0,s._)("li",{class:"breadcrumb-item"},[(0,s._)("a",{href:"javascript:;"},"Charts")]),(0,s._)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,s._)("span",null,"Apex")])])])])])],-1))),h={class:"row g-0 my-4"},m={class:"col-12 mb-4"},p=(0,s.uE)('<div class="row ms-0 me-0" data-v-7576fcc4><div class="col-lg-4 col-md-4 col-sm-6 mb-3" data-v-7576fcc4><div class="statbox2 panel box box-shadow" data-v-7576fcc4><div class="panel-body p-3" data-v-7576fcc4><div class="d-flex justify-content-between align-items-center" data-v-7576fcc4><div data-v-7576fcc4><h6 class="mb-1" data-v-7576fcc4>Head Office Attendance</h6></div></div></div></div></div><div class="col-lg-4 col-md-4 col-sm-6 mb-3" data-v-7576fcc4><div class="statbox2 panel box box-shadow" data-v-7576fcc4><div class="panel-body p-3" data-v-7576fcc4><div class="d-flex justify-content-between align-items-center" data-v-7576fcc4><div data-v-7576fcc4><h6 class="mb-1" data-v-7576fcc4>Site Supervisors</h6></div></div></div></div></div><div class="col-lg-4 col-md-4 col-sm-6 mb-3" data-v-7576fcc4><div class="statbox2 panel box box-shadow" data-v-7576fcc4><div class="panel-body p-3" data-v-7576fcc4><div class="d-flex justify-content-between align-items-center" data-v-7576fcc4><div data-v-7576fcc4><h6 class="mb-1" data-v-7576fcc4>Site Labour Attendance</h6></div></div></div></div></div></div>',1),f={class:"row ms-0 me-0"},_={class:"col-lg-4 col-md-4 col-sm-6 mb-3"},g={class:"statbox panel box box-shadow"},w={class:"panel-body p-3"},y={class:"d-flex justify-content-between align-items-center"},x={class:"mb-0 cost-body"},k=["href"],q=v((()=>(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-filetype-pdf",viewBox:"0 0 16 16"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"})],-1))),H=[q],z={class:"col-lg-4 col-md-4 col-sm-6 mb-3"},S={class:"statbox panel box box-shadow"},V={class:"panel-body p-3"},A={class:"d-flex justify-content-between align-items-center"},j={class:"mb-0 cost-body"},C={style:{cursor:"pointer"},class:"ms-auto bg-danger p-2 rounded-pill"},D={key:0,class:"spinner-border spinner-border-sm text-white",role:"status"},L=v((()=>(0,s._)("path",{"fill-rule":"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"},null,-1))),U=[L],M={class:"col-lg-4 col-md-4 col-sm-6 mb-3"},O={class:"statbox panel box box-shadow"},F={class:"panel-body p-3"},E={class:"d-flex justify-content-between align-items-center"},P={class:"mb-0 cost-body"},R={style:{cursor:"pointer"},class:"ms-auto bg-danger p-2 rounded-pill"},T={key:0,class:"spinner-border spinner-border-sm text-white",role:"status"},Z=v((()=>(0,s._)("path",{"fill-rule":"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"},null,-1))),B=[Z],I={class:"col-12 mb-4"},$={class:"row ms-0 me-0"},Y={class:"col-lg-6 col-md-12 mb-4"},G={class:"statbox panel box box-shadow h-100"},N={class:"panel-heading d-flex align-items-center justify-content-center position-relative"},Q={class:"mb-0 text-center"},W=["innerHTML"],J={key:1},K={class:"panel-body"},X={class:"col-lg-6 col-md-12 mb-4"},ee={class:"statbox panel box box-shadow h-100"},ae={class:"panel-heading d-flex justify-content-between align-items-center"},te={class:"mb-0 text-center flex-grow-1"},se=["innerHTML"],le={key:1},oe={class:"panel-body"},ie={class:"text-center"};var ce={setup(e){const a=r.Z.create({baseURL:"https://bushman.ink/api/v1/"});(0,d.j)({title:"Employees Attendance"});(0,s.f3)("formatNumber"),(0,s.f3)("showMessage");const t=(0,s.f3)("showError"),v=(0,s.f3)("waitIndicator"),q=(0,s.f3)("printRemoteAttendance"),L=(0,s.f3)("printSiteLabourAttendance"),Z=(0,n.oR)(),ce=(0,o.iH)([0,0,0,0]),ne=(0,o.iH)([{name:"Labour Counts",data:[0,0,0,0]}]),de=(0,s.Fl)((()=>{const e=Z.state.is_dark_mode;return{chart:{type:"pie",fontFamily:"inherit"},labels:["Early","Absent","Late","Permitted"],colors:["#139c40","#636363","#f7071f","#58cedb"],legend:{position:"bottom",fontSize:"12px",labels:{colors:e?"#888ea8":"#3b3f5c"}},dataLabels:{enabled:!0,formatter:function(e){return e.toFixed(1)+"%"},style:{fontSize:"12px",colors:["#fff"]}},tooltip:{theme:e?"dark":"light",y:{formatter:function(e){return e.toFixed(1)+"%"}}},plotOptions:{pie:{donut:{size:"0%"},expandOnClick:!0}},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}})),re=(0,s.Fl)((()=>{const e=Z.state.is_dark_mode;return{chart:{type:"bar",toolbar:{show:!1},fontFamily:"inherit",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:4,distributed:!0}},colors:["#139c40","#636363","#f7071f","#58cedb"],xaxis:{categories:["Early","Absent","Late","Permitted"],labels:{style:{colors:e?"#888ea8":"#3b3f5c",fontSize:"12px"}}},yaxis:{labels:{style:{colors:e?"#888ea8":"#3b3f5c",fontSize:"12px"},formatter:function(e){return e}}},legend:{show:!1},tooltip:{theme:e?"dark":"light",y:{formatter:function(e){return e}}},grid:{borderColor:e?"#191e3a":"#e0e6ed",strokeDashArray:3},dataLabels:{enabled:!1}}})),ve=(0,o.iH)(""),be=(0,o.iH)(!1),ue=(0,o.iH)({head_office:0,site_officers:0,site_labours:0}),he=async()=>{be.value=!0;try{const e=await r.Z.get(`https://ghrm.abooderp.com/api/employees/attendance/summary?company_id=6&date=${me.value}`);ve.value=e.data;const a=e.data;ce.value=[a.early_count,a.absentees_count,a.late_count,a.permitted_count],ne.value=[{name:"Labour Counts",data:[a.early_count,a.absentees_count,a.late_count,a.permitted_count]}],ue.value.head_office=a.early_count+a.late_count}catch(e){console.log(e),t(e.message)}finally{be.value=!1}},me=(0,o.iH)((new Date).toISOString().slice(0,10));(0,s.YP)(me,(e=>{e&&(he(),fe())})),(0,s.YP)(be,(e=>{!0!==e&&!1!==e&&setTimeout((()=>{be.value=!1}),2e3)}));const pe=(0,o.iH)(""),fe=async()=>{be.value=!0;try{const e=await a.get(`human-resources?date=${me.value}`);pe.value=e.data.attendance}catch(e){console.log(e),t(e.message)}finally{be.value=!1}};return(0,s.bv)((()=>{he(),fe()})),(e,a)=>{const t=(0,s.Q2)("scroll-spy");return(0,s.wg)(),(0,s.iD)("div",b,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"#breadcrumb"},[u])),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",h,[(0,s._)("div",m,[p,(0,s._)("div",f,[(0,s._)("div",_,[(0,s._)("div",g,[(0,s._)("div",w,[(0,s._)("div",y,[(0,s._)("div",null,[(0,s._)("h3",x,(0,l.zw)(ue.value?.head_office||0),1)]),(0,s._)("a",{href:`https://ghrm.abooderp.com/api/employees/attendance/print?company_id=6&date=${me.value}`,target:"_blank",style:{cursor:"pointer"},class:"ms-auto bg-danger p-2 rounded-pill"},H,8,k)])])])]),(0,s._)("div",z,[(0,s._)("div",S,[(0,s._)("div",V,[(0,s._)("div",A,[(0,s._)("div",null,[(0,s._)("h3",j,(0,l.zw)(pe.value?.site_officers?.total||0),1)]),(0,s._)("div",C,["all"===be.value?((0,s.wg)(),(0,s.iD)("div",D)):((0,s.wg)(),(0,s.iD)("svg",{key:1,onClick:a[0]||(a[0]=e=>{(0,o.SU)(q)(me.value),be.value="all"}),xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-filetype-pdf",viewBox:"0 0 16 16"},U))])])])])]),(0,s._)("div",M,[(0,s._)("div",O,[(0,s._)("div",F,[(0,s._)("div",E,[(0,s._)("div",null,[(0,s._)("h3",P,(0,l.zw)(pe.value?.site_labours?.total||0),1)]),(0,s._)("div",R,["site-labour"===be.value?((0,s.wg)(),(0,s.iD)("div",T)):((0,s.wg)(),(0,s.iD)("svg",{key:1,onClick:a[1]||(a[1]=e=>{(0,o.SU)(L)(me.value),be.value="site-labour"}),xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-filetype-pdf",viewBox:"0 0 16 16"},B))])])])])])])]),(0,s._)("div",I,[(0,s._)("div",$,[(0,s._)("div",Y,[(0,s._)("div",G,[(0,s._)("div",N,[(0,s._)("h5",Q,[be.value?((0,s.wg)(),(0,s.iD)("span",{key:0,innerHTML:(0,o.SU)(v)()},null,8,W)):((0,s.wg)(),(0,s.iD)("span",J,"Head Office Attendance Bar Graph Analysis"))])]),(0,s._)("div",K,[(0,o.SU)(re)?((0,s.wg)(),(0,s.j4)((0,o.SU)(c.Z),{key:0,height:"450",type:"bar",options:(0,o.SU)(re),series:ne.value},null,8,["options","series"])):(0,s.kq)("",!0)])])]),(0,s._)("div",X,[(0,s._)("div",ee,[(0,s._)("div",ae,[(0,s._)("h5",te,[be.value?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"text-center",innerHTML:(0,o.SU)(v)()},null,8,se)):((0,s.wg)(),(0,s.iD)("span",le,"Overall Head Office Percentage Attendance"))]),(0,s.wy)((0,s._)("input",{type:"date",class:"form-control w-auto ms-3","onUpdate:modelValue":a[2]||(a[2]=e=>me.value=e)},null,512),[[i.nr,me.value]])]),(0,s._)("div",oe,[(0,s._)("div",ie,[(0,o.SU)(de)?((0,s.wg)(),(0,s.j4)((0,o.SU)(c.Z),{key:0,height:"450",type:"pie",options:(0,o.SU)(de),series:ce.value},null,8,["options","series"])):(0,s.kq)("",!0)])])])])])])])),[[t]])])}}},ne=t(83744);const de=(0,ne.Z)(ce,[["__scopeId","data-v-7576fcc4"]]);var re=de}}]);
//# sourceMappingURL=3795.502a312b.js.map