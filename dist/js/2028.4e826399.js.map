{"version":3,"file":"js/2028.4e826399.js","mappings":"ohRAoQAA,EAAAA,EAAAA,GAAQ,CAAEC,MAAO,oBACjB,MAAMC,GAAeC,EAAAA,EAAAA,IAAO,gBAGtBC,IAFcD,EAAAA,EAAAA,IAAO,gBACTA,EAAAA,EAAAA,IAAO,cACHA,EAAAA,EAAAA,IAAO,kBACvBE,GAAcF,EAAAA,EAAAA,IAAO,eACrBG,GAAkBH,EAAAA,EAAAA,IAAO,mBACzBI,GAAQC,EAAAA,EAAAA,MAGJC,GAAgBC,EAAAA,EAAAA,OAAa,CAC/BC,QAASC,gCAKXC,IAAgBC,EAAAA,EAAAA,IAAI,CACvB,CAAEC,KAAM,kBAAmBC,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,IAC9C,CAAED,KAAM,aAAcC,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,MAOtCC,IAAuBC,EAAAA,EAAAA,KAAS,KACpC,MAAMC,EAAaC,GAAsBC,MAAMN,KACzCO,EAAUf,EAAMgB,MAAMC,aAC5B,MAAO,CACLC,MAAO,CACLC,KAAM,MACNC,QAAS,CAAEC,MAAM,GACjBC,WAAY,UACZC,OAAQ,KAEVC,YAAa,CACXC,IAAK,CACHC,YAAY,EACZC,YAAa,MACbC,aAAc,IAGlBC,OAAQ,CAAC,UAAW,WACpBC,MAAO,CACLlB,WAAYA,EACZmB,OAAQ,CACNC,MAAO,CACLH,OAAQd,EAAU,UAAY,UAC9BkB,SAAU,UAIhBC,MAAO,CACLH,OAAQ,CACNC,MAAO,CACLH,OAAQd,EAAU,UAAY,UAC9BkB,SAAU,QAEZE,UAAW,SAASC,GAClB,OAAOzC,EAAayC,MAI1BC,OAAQ,CACNC,SAAU,SACVL,SAAU,OACVF,OAAQ,CACNF,OAAQd,EAAU,UAAY,YAGlCwB,QAAS,CACPC,MAAOzB,EAAU,OAAS,QAC1B0B,EAAG,CACDN,UAAW,SAASC,GAClB,OAAOzC,EAAayC,MAI1BM,KAAM,CACJC,YAAa5B,EAAU,UAAY,UACnC6B,gBAAiB,GAEnBC,WAAY,CACVC,SAAS,OAQTC,IAAmBpC,EAAAA,EAAAA,KAAS,KAChC,MAAMI,EAAUf,EAAMgB,MAAMC,aAC5B,MAAO,CACLC,MAAO,CACLC,KAAM,QACNG,WAAY,WAEdS,OAAQlB,GAAsBC,MAAMN,KACpCqB,OAAOhB,GAAsBC,MAAMkC,MACnCX,OAAQ,CACNC,SAAU,SACVL,SAAU,OACVF,OAAQ,CACNF,OAAQd,EAAU,UAAY,YAGlC8B,WAAY,CACVC,SAAS,EACTX,UAAW,SAASC,GAClB,OAAOA,EAAIa,QAAQ,GAAK,KAE1BjB,MAAO,CACLC,SAAU,OACVJ,OAAQ,CAAC,UAGbU,QAAS,CACPC,MAAO,OACPC,EAAG,CACDN,UAAW,SAASC,GAClB,OAAOzC,EAAayC,MAK1Bc,WAAY,CAAC,CACXC,WAAY,IACZC,QAAS,CACPlC,MAAO,CACLmC,MAAO,KAEThB,OAAQ,CACNC,SAAU,iBASZzB,IAAwBN,EAAAA,EAAAA,IAAI,IAC5B+C,GAAyBC,UACjC,IAAIC,EAAM,qBACNC,IAAkBA,GAAe3C,OAAS2C,GAAe3C,MAAM4C,KACjEF,GAAQ,aAAYC,GAAe3C,MAAM4C,MAI3C,MAAMC,QAAiBzD,GAAc0D,IAAIJ,GAEpC3C,GAAsBC,MAAMN,KAAOmD,EAASlD,KAAKoD,KAAIC,GAAQA,EAAKC,WAClElD,GAAsBC,MAAMkC,MAAQW,EAASlD,KAAKoD,KAAIC,GAAQA,EAAKd,QACnEnC,GAAsBC,MAAMkD,aAAeL,EAASlD,KAAKoD,KAAIC,GAAQA,EAAKE,eAE7E1D,GAAcQ,MAAS,CACtB,CAAEN,KAAM,kBAAmBC,KAAMkD,EAASlD,KAAKoD,KAAIC,GAAQA,EAAKE,gBAChE,CAAExD,KAAM,aAAcC,KAAMkD,EAASlD,KAAKoD,KAAIC,GAAQA,EAAKG,cAG9DC,GAAQpD,OAAQ,GAKV2C,IAAiBlD,EAAAA,EAAAA,IAAI,IACrB4D,IAAS5D,EAAAA,EAAAA,IAAI,IACb6D,IAAS7D,EAAAA,EAAAA,IAAI,CACjB4D,OAAQ,GACRE,YAAa,GACbC,WAAY,KAGRJ,IAAU3D,EAAAA,EAAAA,KAAI,GACdgE,GAAYhB,UAChBW,GAAQpD,OAAQ,EAChB,MAAM6C,QAAiBzD,GAAc0D,IAAI,cACzCO,GAAOrD,MAAQ6C,EAASlD,KAExB,MAAM+D,EAAab,EAASlD,KAAKgE,QAAOX,GAAsB,SAAdA,EAAK3C,OAC/CuD,EAAYf,EAASlD,KAAKgE,QAAOX,GAAsB,aAAdA,EAAK3C,OAEpDiD,GAAOtD,MAAMqD,OAAS,CACpBQ,MAAOhB,EAASlD,KAAKmE,OACrBC,KAAMlB,EAASlD,KAAKqE,QAAO,CAACC,EAAKjB,IAASiB,EAAMC,OAAOlB,EAAKe,OAAO,IAGrET,GAAOtD,MAAMuD,YAAc,CACzBM,MAAOH,EAAWI,OAClBC,KAAML,EAAWM,QAAO,CAACC,EAAKjB,IAASiB,EAAMC,OAAOlB,EAAKe,OAAO,IAGlET,GAAOtD,MAAMwD,WAAa,CACxBK,MAAOD,EAAUE,OACjBC,KAAMH,EAAUI,QAAO,CAACC,EAAKjB,IAASiB,EAAMC,OAAOlB,EAAKe,OAAO,IAEjEX,GAAQpD,OAAQ,IAKdmE,EAAAA,EAAAA,IAAMxB,IAAiByB,IACnBA,IACEhB,GAAQpD,OAAQ,EACnBwC,UAIP2B,EAAAA,EAAAA,IAAMf,IAAUgB,KACG,IAAXA,IAA8B,IAAXA,GACnBC,YAAW,KACPjB,GAAQpD,OAAQ,IACjB,QAQV,MAAMsE,IAAW7E,EAAAA,EAAAA,KAAI,G,OACpB8E,EAAAA,EAAAA,KAAU9B,UACR6B,GAAStE,OAAQ,EAChBwC,WACMiB,KACNa,GAAStE,OAAQ,K,myIChetB,MAAMwE,IAA2B,QAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://cork-vue3/./src/views/stores/dashboard.vue","webpack://cork-vue3/./src/views/stores/dashboard.vue?db07"],"sourcesContent":["<template>\r\n  <div class=\"w-100 px-0\">\r\n    <teleport to=\"#breadcrumb\">\r\n      <ul class=\"navbar-nav flex-row\">\r\n        <li>\r\n          <div class=\"page-header\">\r\n            <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n              <ol class=\"breadcrumb\">\r\n                <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Charts</a></li>\r\n                <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Apex</span></li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </teleport>\r\n\r\n    <div v-scroll-spy class=\"row g-0 my-4\">\r\n      <!-- Key Metrics Section -->\r\n      <div class=\"col-12 mb-4\">\r\n        <div class=\"row ms-0 me-0\">\r\n          <!-- Total Tasks -->\r\n    <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n  <div class=\"statbox2 panel box box-shadow\">\r\n    <div class=\"panel-body p-3\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <div>\r\n          <h6 class=\"mb-0\">Total Stores</h6>\r\n        </div>\r\n        <div class=\"ms-auto badge bg-white text-dark fs-6 fw-bold rounded-pill\" >{{report?.stores?.count ?? 0 }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n    <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n  <div class=\"statbox2 panel box box-shadow\">\r\n    <div class=\"panel-body p-3\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <div>\r\n          <h6 class=\"mb-0\">Main Stores</h6>\r\n        </div>\r\n        <div class=\"ms-auto badge bg-white text-dark fs-6 fw-bold rounded-pill\" >{{report?.main_stores?.count ?? 0 }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n    <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n  <div class=\"statbox2 panel box box-shadow\">\r\n    <div class=\"panel-body p-3\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <div>\r\n          <h6 class=\"mb-0\">Sub Stores</h6>\r\n        </div>\r\n        <div class=\"ms-auto badge bg-white text-dark fs-6 fw-bold rounded-pill\" >{{report?.sub_stores?.count ?? 0 }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n          <!-- Remaining Budget -->\r\n    <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n  <div class=\"statbox2 panel box box-shadow\">\r\n    <div class=\"panel-body p-3\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <div>\r\n          <h6 class=\"mb-0\">Selected Store</h6>\r\n        </div>\r\n        <div class=\"ms-auto badge bg-white text-dark fs-6 fw-bold rounded-pill\" >\r\n          <span v-if=\"selected_store\">1</span>\r\n          <span v-else><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-question-circle\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16\"/>\r\n  <path d=\"M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94\"/>\r\n</svg></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n          <!-- Amount Due -->\r\n          <div class=\"col-lg-4 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox2 panel box box-shadow\">\r\n              <div class=\"panel-body bg-info p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h6 class=\"mb-1\">Select A Store From the list Below</h6>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"row ms-0 me-0\">\r\n          <!-- Total Tasks Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h3 class=\"mb-0\"><span  v-if=\"mounting\" v-html=\"waitIndicator()\"></span><span v-else>{{ formatNumber(report?.stores?.cost) || 0 }}</span></h3>\r\n                  </div>\r\n                              <div style=\"cursor: pointer;\" class=\"ms-auto bg-danger p-2 rounded-pill\">\r\n                      <div  v-if=\"loading === 'all'\" class=\"spinner-border spinner-border-sm text-white\" role=\"status\"></div>\r\n                    <svg v-else @click=\"printStores('all');loading = 'all'\"  xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-filetype-pdf\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z\"/>\r\n</svg>\r\n                   \r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Total Approved Budget Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h3 class=\"mb-0\"><span  v-if=\"mounting\" v-html=\"waitIndicator()\"></span><span v-else>{{ formatNumber(report?.main_stores?.cost) || 0 }}</span></h3>\r\n                  </div>\r\n                              <div style=\"cursor: pointer;\" class=\"ms-auto bg-danger p-2 rounded-pill\">\r\n                      <div  v-if=\"loading === 'main'\" class=\"spinner-border spinner-border-sm text-white\" role=\"status\"></div>\r\n                    <svg v-else @click=\"printStores('main');loading = 'main'\"  xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-filetype-pdf\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z\"/>\r\n</svg>\r\n                   \r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Budget Consumed Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h3 class=\"mb-0\">\r\n                      <span v-if=\"mounting\" v-html=\"waitIndicator()\"></span><span v-else>{{ formatNumber(report?.sub_stores?.cost) }}</span>\r\n                    </h3>\r\n                  </div>\r\n                              <div style=\"cursor: pointer;\" class=\"ms-auto bg-danger p-2 rounded-pill\">\r\n                      <div  v-if=\"loading === 'substore'\" class=\"spinner-border spinner-border-sm text-white\" role=\"status\"></div>\r\n                    <svg v-else @click=\"printStores('substore');loading = 'substore'\"  xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-filetype-pdf\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z\"/>\r\n</svg>\r\n                   \r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Amount Paid Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h3 class=\"mb-0\">{{ formatNumber(selected_store?.cost || 0) }}</h3>\r\n                  </div>\r\n                  \r\n                              <div v-if=\"selected_store\" style=\"cursor: pointer;\" class=\"ms-auto bg-danger p-2 rounded-pill\">\r\n                      <div  v-if=\"loading === 'store_items'\" class=\"spinner-border spinner-border-sm text-white\" role=\"status\"></div>\r\n                    <svg v-else @click=\"printStoreItems(selected_store.id, selected_store.name);loading = 'store_items'\"  xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-filetype-pdf\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z\"/>\r\n</svg>\r\n                   \r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Amount Due Value -->\r\n<div class=\"col-lg-4 col-md-4 col-sm-6 mb-3\">\r\n  <div class=\"statbox panel box box-shadow\">\r\n    <div class=\"panel-body p-3\">\r\n      <multiselect\r\n        v-model=\"selected_store\"\r\n        :options=\"stores\"\r\n        label=\"name\"\r\n        placeholder=\"Select Store\"\r\n        :required=\"true\"\r\n        :searchable=\"true\"\r\n        :multiple=\"false\"\r\n        :allow-empty=\"false\"\r\n        class=\"w-100\"\r\n      ></multiselect>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <h3 class=\"text-center\">{{ selected_store?.name?.toUpperCase() ?? '' }}</h3>\r\n      <!-- Row 1: Task Breakdown & Approved Budget Charts -->\r\n      <div class=\"col-12 mb-4\">\r\n        <div class=\"row ms-0 me-0\">\r\n          <!-- Task Breakdown by Status -->\r\n          <div class=\"col-lg-6 col-md-12 mb-4\">\r\n            <div class=\"statbox panel box box-shadow h-100\">\r\n              <div class=\"panel-heading\">\r\n                <h5 class=\"text-center mb-0\"> <span v-if=\"mounting || loading\" v-html=\"waitIndicator()\"></span><span v-else>STORE ITEMS BY CATEGORY</span></h5>\r\n              </div>\r\n              <div class=\"panel-body\">\r\n                <apexchart\r\n                  v-if=\"storeItemOptions\"\r\n                  height=\"450\"\r\n                  type=\"donut\"\r\n                  :options=\"storeItemOptions\"\r\n                  :series=\"store_item_categories.balance_cost\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Approved Budget For Each Category -->\r\n      <div class=\"col-lg-6 col-md-12 mb-4\">\r\n            <div class=\"statbox panel box box-shadow h-100\">\r\n              <div class=\"panel-heading\">\r\n                <h5 class=\"text-center mb-0\"><span v-if=\"loading || mounting\" v-html=\"waitIndicator()\"></span><span v-else>STORE ITEMS AVAILABLE VS USED</span></h5>\r\n              </div>\r\n              <div class=\"panel-body\">\r\n                <apexchart\r\n                  v-if=\"stockPositionOptions\"\r\n                  height=\"450\"\r\n                  type=\"bar\"\r\n                  :options=\"stockPositionOptions\"\r\n                  :series=\"stockPosition\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div> \r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, inject, watch } from 'vue';\r\nimport '@/assets/sass/scrollspyNav.scss';\r\nimport apexchart from 'vue3-apexcharts';\r\nimport { useStore } from 'vuex';\r\nimport { useMeta } from '@/composables/use-meta';\r\nimport axios from 'axios';\r\nimport Multiselect from '@suadelabs/vue3-multiselect';\r\nimport '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n\r\nuseMeta({ title: 'Stores Analysis' });\r\nconst formatNumber = inject('formatNumber');\r\nconst showMessage = inject('showMessage');\r\nconst showError = inject('showError');\r\nconst waitIndicator = inject('waitIndicator')\r\nconst printStores = inject('printStores')\r\nconst printStoreItems = inject('printStoreItems')\r\nconst store = useStore();\r\n\r\n\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n\r\n\r\n\r\nconst stockPosition = ref([\r\n   { name: 'STOCK AVAILABLE', data: [0, 0, 0, 0, 0] },\r\n   { name: 'STOCK USED', data: [0, 0, 0, 0, 0] }\r\n]);\r\n\r\n\r\n\r\n\r\n// Budget Analysis: Approved vs. Consumed by Category (Grouped Bar Chart)\r\nconst stockPositionOptions = computed(() => {\r\n  const categories = store_item_categories.value.name\r\n  const is_dark = store.state.is_dark_mode;\r\n  return {\r\n    chart: {\r\n      type: 'bar',\r\n      toolbar: { show: false },\r\n      fontFamily: 'inherit',\r\n      height: 350\r\n    },\r\n    plotOptions: {\r\n      bar: {\r\n        horizontal: false,\r\n        columnWidth: '55%',\r\n        borderRadius: 4\r\n      }\r\n    },\r\n    colors: ['#30691C', '#FDD459'],\r\n    xaxis: {\r\n      categories: categories,\r\n      labels: {\r\n        style: {\r\n          colors: is_dark ? '#888ea8' : '#3b3f5c',\r\n          fontSize: '12px'\r\n        }\r\n      }\r\n    },\r\n    yaxis: {\r\n      labels: {\r\n        style: {\r\n          colors: is_dark ? '#888ea8' : '#3b3f5c',\r\n          fontSize: '12px'\r\n        },\r\n        formatter: function(val) {\r\n          return formatNumber(val);\r\n        }\r\n      }\r\n    },\r\n    legend: {\r\n      position: 'bottom',\r\n      fontSize: '12px',\r\n      labels: {\r\n        colors: is_dark ? '#888ea8' : '#3b3f5c'\r\n      }\r\n    },\r\n    tooltip: {\r\n      theme: is_dark ? 'dark' : 'light',\r\n      y: {\r\n        formatter: function(val) {\r\n          return formatNumber(val);\r\n        }\r\n      }\r\n    },\r\n    grid: {\r\n      borderColor: is_dark ? '#191e3a' : '#e0e6ed',\r\n      strokeDashArray: 3\r\n    },\r\n    dataLabels: {\r\n      enabled: false\r\n    }\r\n  };\r\n});\r\n\r\n\r\n\r\n\r\nconst storeItemOptions = computed(() => {\r\n  const is_dark = store.state.is_dark_mode;\r\n  return {\r\n    chart: {\r\n      type: 'donut',\r\n      fontFamily: 'inherit'\r\n    },\r\n    labels: store_item_categories.value.name,\r\n    colors:store_item_categories.value.color,\r\n    legend: {\r\n      position: 'bottom',\r\n      fontSize: '12px',\r\n      labels: {\r\n        colors: is_dark ? '#888ea8' : '#3b3f5c'\r\n      }\r\n    },\r\n    dataLabels: {\r\n      enabled: true,\r\n      formatter: function(val) {\r\n        return val.toFixed(1) + '%';\r\n      },\r\n      style: {\r\n        fontSize: '12px',\r\n        colors: ['#fff']\r\n      }\r\n    },\r\n    tooltip: {\r\n      theme: 'dark',\r\n      y: {\r\n        formatter: function(val) {\r\n          return formatNumber(val) ;\r\n        }\r\n      }\r\n    },\r\n\r\n    responsive: [{\r\n      breakpoint: 480,\r\n      options: {\r\n        chart: {\r\n          width: 200\r\n        },\r\n        legend: {\r\n          position: 'bottom'\r\n        }\r\n      }\r\n    }]\r\n  };\r\n});\r\n\r\n\r\n\r\n  const store_item_categories = ref([])\r\n  const getStoreItemCategories = async()=>{\r\nlet url = 'store-items-report'\r\nif (selected_store && selected_store.value && selected_store.value.id) {\r\n  url += `?store_id=${selected_store.value.id}`\r\n}\r\n\r\n\r\nconst response = await axiosInstance.get(url)\r\n\r\n     store_item_categories.value.name = response.data.map(item => item.category)\r\n     store_item_categories.value.color = response.data.map(item => item.color)\r\n     store_item_categories.value.balance_cost = response.data.map(item => item.balance_cost)\r\n\r\n  stockPosition.value = ([\r\n   { name: 'STOCK AVAILABLE', data: response.data.map(item => item.balance_cost) },\r\n   { name: 'STOCK USED', data: response.data.map(item => item.used_cost) }\r\n]);\r\n\r\nloading.value = false\r\n\r\n  }\r\n\r\n\r\nconst selected_store = ref('')\r\nconst stores = ref([])\r\nconst report = ref({\r\n  stores: {},\r\n  main_stores: {},\r\n  sub_stores: {}\r\n})\r\n\r\nconst loading = ref(false)\r\nconst getStores = async () => {\r\n  loading.value = true\r\n  const response = await axiosInstance.get('get-stores')\r\n  stores.value = response.data\r\n\r\n  const mainStores = response.data.filter(item => item.type === 'main')\r\n  const subStores = response.data.filter(item => item.type === 'substore')\r\n\r\n  report.value.stores = {\r\n    count: response.data.length,\r\n    cost: response.data.reduce((sum, item) => sum + Number(item.cost), 0)\r\n  }\r\n\r\n  report.value.main_stores = {\r\n    count: mainStores.length,\r\n    cost: mainStores.reduce((sum, item) => sum + Number(item.cost), 0)\r\n  }\r\n\r\n  report.value.sub_stores = {\r\n    count: subStores.length,\r\n    cost: subStores.reduce((sum, item) => sum + Number(item.cost), 0)\r\n  }\r\n  loading.value = false\r\n}\r\n\r\n\r\n\r\n    watch(selected_store, (newVal) => {\r\n    if (newVal) {\r\n          loading.value = true\r\n       getStoreItemCategories()\r\n    }\r\n});\r\n\r\nwatch(loading, (newVal) => {\r\n    if (newVal !== true && newVal !== false) {\r\n        setTimeout(() => {\r\n            loading.value = false\r\n        }, 2000)\r\n    }\r\n})\r\n\r\n\r\n\r\n\r\n\r\n const mounting = ref(false)\r\n  onMounted(async () => {\r\n    mounting.value = true\r\n     getStoreItemCategories()\r\n     await getStores()\r\n     mounting.value = false\r\n    });\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.statbox {\r\n  border-radius: 8px;\r\n  border: 1px solid #e0e6ed;\r\n}\r\n\r\n.statbox2 {\r\n  background-color: #1b2e4b;\r\n  border-radius: 8px;\r\n  border: 1px solid #e0e6ed;\r\n}\r\n\r\n.panel-heading {\r\n  padding: 1rem;\r\n  border-bottom: 1px solid #e0e6ed;\r\n}\r\n\r\n.panel-body {\r\n  padding: 1rem;\r\n}\r\n\r\nh3 {\r\n  font-weight: 600;\r\n}\r\n\r\nh5 {\r\n  font-weight: 600;\r\n}\r\n\r\nh6 {\r\n  font-size: 0.875rem;\r\n  font-weight: 600;\r\n  color: white;\r\n}\r\n\r\n.small {\r\n  font-size: 0.875rem;\r\n  color: #6c757d;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Dark mode support */\r\n:deep(.apexcharts-tooltip) {\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n:deep(.apexcharts-text) {\r\n  font-family: inherit !important;\r\n}\r\n\r\n/* Ensure consistent chart heights */\r\n:deep(.apexcharts-canvas) {\r\n  margin: 0 auto;\r\n}\r\n\r\n/* Additional styles for horizontal bar charts */\r\n:deep(.horizontal-bar-chart .apexcharts-bar-area) {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n:deep(.horizontal-bar-chart .apexcharts-bar-area:hover) {\r\n  filter: brightness(1.1);\r\n}\r\n\r\n/* Ensure proper spacing for long category names */\r\n:deep(.apexcharts-yaxis-texts-g text) {\r\n  dominant-baseline: middle;\r\n}\r\n\r\n/* Custom styling for horizontal bars */\r\n:deep(.apexcharts-bar-series.apexcharts-plot-series .apexcharts-bar-area) {\r\n  stroke-width: 0;\r\n}\r\n\r\n:deep(.apexcharts-bar-series.apexcharts-plot-series .apexcharts-bar-area:hover) {\r\n  stroke-width: 1;\r\n  stroke: #ffffff;\r\n}\r\n\r\n/* Responsive adjustments */\r\n@media (max-width: 768px) {\r\n  .col-lg-2, .col-md-4, .col-sm-6 {\r\n    margin-bottom: 1rem;\r\n  }\r\n  \r\n  h3 {\r\n    font-size: 1.5rem;\r\n  }\r\n  \r\n  h6 {\r\n    font-size: 0.8rem;\r\n  }\r\n}\r\n\r\n/* Add subtle animation to bars */\r\n@keyframes barGrow {\r\n  from {\r\n    transform: scaleX(0);\r\n    transform-origin: left;\r\n  }\r\n  to {\r\n    transform: scaleX(1);\r\n    transform-origin: left;\r\n  }\r\n}\r\n\r\n:deep(.apexcharts-bar-area) {\r\n  animation: barGrow 0.8s ease-out;\r\n}\r\n</style>\r\n","import script from \"./dashboard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./dashboard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./dashboard.vue?vue&type=style&index=0&id=0305f6a0&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\copexErp\\\\frontEnd\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0305f6a0\"]])\n\nexport default __exports__"],"names":["useMeta","title","formatNumber","inject","waitIndicator","printStores","printStoreItems","store","useStore","axiosInstance","axios","baseURL","process","stockPosition","ref","name","data","stockPositionOptions","computed","categories","store_item_categories","value","is_dark","state","is_dark_mode","chart","type","toolbar","show","fontFamily","height","plotOptions","bar","horizontal","columnWidth","borderRadius","colors","xaxis","labels","style","fontSize","yaxis","formatter","val","legend","position","tooltip","theme","y","grid","borderColor","strokeDashArray","dataLabels","enabled","storeItemOptions","color","toFixed","responsive","breakpoint","options","width","getStoreItemCategories","async","url","selected_store","id","response","get","map","item","category","balance_cost","used_cost","loading","stores","report","main_stores","sub_stores","getStores","mainStores","filter","subStores","count","length","cost","reduce","sum","Number","watch","newVal","setTimeout","mounting","onMounted","__exports__"],"sourceRoot":""}