{"version":3,"file":"js/4446.f788370b.js","mappings":"yppBAmtCI,MAAMA,GAAWC,EAAAA,EAAAA,KAAI,GACfC,GAAeD,EAAAA,EAAAA,IAAI,GACnBE,GAAgBF,EAAAA,EAAAA,KAAI,GACpBG,GAAUH,EAAAA,EAAAA,IAAI,CAAC,MAAM,aAAa,eAAgB,WAAW,OAAO,UAAW,YAC/EI,GAAaJ,EAAAA,EAAAA,IAAI,GACjBK,IAAiBL,EAAAA,EAAAA,KAAI,GACrBM,GAAmBC,KAAKC,MAAMC,aAAaC,QAAQ,SAASC,aAClEC,EAAAA,EAAAA,GAAQ,CAAEC,MAAM,mBAChB,MAAMC,IAAYd,EAAAA,EAAAA,KAAI,GAChBe,IAAmBf,EAAAA,EAAAA,IAAI,IACvBgB,IAAqBhB,EAAAA,EAAAA,KAAI,GACzBiB,IAAWjB,EAAAA,EAAAA,IAAI,IACfkB,IAAclB,EAAAA,EAAAA,IAAI,IAClBmB,IAAmBnB,EAAAA,EAAAA,KAAI,GACvBoB,IAAUpB,EAAAA,EAAAA,KAAI,GAGdqB,KAFoBrB,EAAAA,EAAAA,IAAI,IACPA,EAAAA,EAAAA,IAAI,KACJA,EAAAA,EAAAA,IAAK,KAGtBsB,KAFYtB,EAAAA,EAAAA,IAAI,KACLA,EAAAA,EAAAA,IAAI,CAAC,MACLA,EAAAA,EAAAA,KAAI,IACfuB,IAAWvB,EAAAA,EAAAA,KAAI,GACfwB,IAAYxB,EAAAA,EAAAA,IAAI,IAChByB,IAAOzB,EAAAA,EAAAA,IAAI,IACX0B,IAAO1B,EAAAA,EAAAA,IAAI,IACX2B,IAAW3B,EAAAA,EAAAA,IAAI,GACf4B,IAAa5B,EAAAA,EAAAA,IAAI,GACjB6B,IAAU7B,EAAAA,EAAAA,IAAI,IACd8B,IAAS9B,EAAAA,EAAAA,IAAI,IACb+B,IAAS/B,EAAAA,EAAAA,IAAI,IACbgC,IAAQhC,EAAAA,EAAAA,IAAI,IACZiC,IAAgBjC,EAAAA,EAAAA,IAAK,MACrBkC,IAAkBlC,EAAAA,EAAAA,KAAI,GACtBmC,GAAW,kDACXC,IAAcC,EAAAA,EAAAA,IAAO,eACrBC,IAAYD,EAAAA,EAAAA,IAAO,aACnBE,IAAYF,EAAAA,EAAAA,IAAO,aACnBG,IAAexC,EAAAA,EAAAA,IAAI,IACnByC,IAAgBzC,EAAAA,EAAAA,IAAI,GACpB0C,IAAW1C,EAAAA,EAAAA,IAAI,IACf2C,IAAa3C,EAAAA,EAAAA,IAAI,GACjB4C,IAAQ5C,EAAAA,EAAAA,IAAI,IACZ6C,IAAiB7C,EAAAA,EAAAA,IAAI,IACrB8C,IAAY9C,EAAAA,EAAAA,KAAI,IAAI+C,MAAOC,cAAcC,MAAM,EAAG,KAClDC,IAAWlD,EAAAA,EAAAA,KAAI,GACfmD,IAAiBnD,EAAAA,EAAAA,IAAI,CAAC,KACtBoD,IAAsBpD,EAAAA,EAAAA,IAAI,IAC1BqD,GAAoBC,UACrB,IACG,MAAMC,QACNC,EAAAA,EAAAA,IAAW,gFAA+EX,GAAeY,MAAMC,wBAAwBf,GAAWc,SAC9IF,EAASI,MAAQC,MAAMC,QAAQN,EAASI,OACrCR,GAAeM,MAAQF,EAASI,KAChDG,QAAOC,GAA+B,aAAtBA,EAAMC,cACtBC,KAAI,CAACF,EAAOG,KAAR,CACHC,IAAKD,EAAQ,EACbR,GAAIK,EAAML,GACVU,WAAa,GAAEC,OAAON,EAAML,IAAIY,SAAS,EAAG,QAAQP,EAAMQ,aAAatB,MAAM,EAAG,MAAMc,EAAMQ,aAAatB,MAAM,EAAG,KAClH7C,WAAY2D,EAAM3D,WAClBoE,SAAUT,EAAMU,OAAOhD,KACvBiD,QAASX,EAAMW,QACfC,aAAcZ,EAAMY,aACpBC,KAAMb,EAAMQ,aACZM,QAASd,EAAMe,YACfC,QAAShB,EAAMiB,cACfC,SAAUlB,EAAMkB,SAChBC,UAAWnB,EAAMoB,QACjBC,OAAQrB,EAAMC,gBAIDb,GAAeM,MAAM4B,OAAS,EAC/BnC,GAASO,OAAQ,EAEjBP,GAASO,OAAQ,EAEbvB,GAAgBuB,OAAQ,GAExB6B,QAAQC,MAAM,2BAExB,MAAOA,OACLD,QAAQC,MAAM,6BAA8BA,SAI9CC,IAASxF,EAAAA,EAAAA,IAAI,CAAC,KACXyF,GAAanC,UAClBpB,GAAgBuB,OAAQ,EACxB,IACI,MAAMF,QACNC,EAAAA,EAAAA,IAAW,sDACPD,EAASI,MAAQC,MAAMC,QAAQN,EAASI,OACpC6B,GAAQ/B,MAAQF,EAASI,KACzBzB,GAAgBuB,OAAQ,GAIxB6B,QAAQC,MAAM,2BAExB,MAAOA,OACLD,QAAQC,MAAM,6BAA8BA,UAKpDG,EAAAA,EAAAA,IAAM7C,IAAiB8C,IACfA,GAAUA,EAAOjC,KACjBf,GAAWc,MAAQ,EACnBmC,SAGR,MAAMC,IAAe7F,EAAAA,EAAAA,IAAI,CACzB8F,QAAS,GACTC,cAAe,CAAC,EAAG,GAAI,GAAI,IAC3BC,KAAM,oBACNC,eAAgB,CAAEC,QAAS,uBAC3BC,WAAY,CAAEC,IAAK,SAAUC,MAAO,GACpCC,MAAO,CACHC,MAAO,oCACPzC,OAAQ,GACR0C,kBAAmB,YACnBC,MAAO,YAEXC,SAAU,CAAC,MAAO,cAAe,eACjCC,SAAU,CACNC,KAAM,iBACNC,GAAI,gBACJC,KAAM,kBAEVC,kBAAkB,EAClBC,YAAY,IAIRC,GAAsBC,IACC,eAAvBA,EAAMC,OAAO1D,QACb2D,KACAC,GAAU5D,MAAQ,KAIpB2D,GAAY,KACdtG,GAAW2C,OAAS3C,GAAW2C,OAG7B6D,GAAUhE,MAAAA,IACe,UAAvBiE,GAAO9D,MAAM2B,QAIb9D,GAASmC,OAAM,EACnBzC,GAAoByC,OAAQ,EAC3B1C,GAAiB0C,MAAOC,GALrBpB,GAAU,sBASRkF,GAAalE,UACd,GAA4B,UAAxBjC,GAAeoC,MAGlB,CACNjB,GAAaiB,MAAQvC,GAAYuC,MACjCtC,GAAiBsC,OAAQ,EACzB,MAAME,EAAO,CACT,KAAQzC,GAAYuC,OAExB,IACI,MAAMF,QAAiBC,EAAAA,EAAAA,IAAW,GAAErB,cAAoBQ,GAAWc,QAASE,GACrD,KAAnBJ,EAAS6B,OACTQ,KAEAtD,GAAU,uBAEhB,MAAOiD,OACLD,QAAQC,MAAM,wBAAyBA,OACvCjD,GAAU,6BAjBVA,GAAU,sBAsBRmF,GAAYlH,KAAKC,MAAMC,aAAaC,QAAQ,SAASe,KACrD0D,GAAU5E,KAAKC,MAAMC,aAAaC,QAAQ,SAASgD,GACnDgE,IAAa1H,EAAAA,EAAAA,IAAI,GACjB2H,GAAUrE,UAEZ,GADEoE,GAAWjE,MAASmE,WAAWnF,GAAcgB,OAASmE,WAAWlF,GAASe,OACxEmE,WAAWlF,GAASe,OAAS,EAG7B,OAFAnB,GAAU,kCACVI,GAASe,MAAQ,GAIrB,MAAME,EAAO,CACT,cAAiB+D,GAAWjE,OAEhC,IACI,MAAMF,QAAiBC,EAAAA,EAAAA,IAAW,GAAErB,cAAoBQ,GAAWc,QAASE,GACrD,KAAnBJ,EAAS6B,QACRhE,GAASqC,OAAM,EAChBhB,GAAcgB,MAAQiE,GAAWjE,MACjCmC,KACArD,GAAU4C,GAAQsC,GAAU,WAAW5E,GAAeY,MAAMoE,WAAWrF,GAAaiB,MAAMd,GAAWc,MAAM,GAAGf,GAASe,OACvHrB,GAAY,2BACZM,GAASe,MAAQ,GAEjBnB,GAAU,oBAEhB,MAAOiD,OACLD,QAAQC,MAAM,qBAAsBA,OACpCjD,GAAU,sBAIRwF,IAAwB9H,EAAAA,EAAAA,IAAI,IAC3B+H,GAAgBvE,EAAAA,EAAAA,OAAa,CACpCwE,QAASC,gCAEHC,GAAmB5E,UACzBjD,GAAeoD,OAASpD,GAAeoD,MACvC,IACI,MAAMF,QAAkBwE,GAAcI,KAAK,UAAW,CAClDC,YAAa7H,KAAKC,MAAMC,aAAaC,QAAQ,SAASgD,GACtD2E,YAAaP,GAAsBrE,MACnC6E,QAAQ3F,GAAWc,MACnB8E,YAAY,cAGhBC,GAAQ/E,MAAMgF,KAAKlF,EAASI,MAC5BmE,GAAsBrE,MAAQ,GAC9BrB,GAAY,iBACd,MAAOmD,OACLjD,GAAU,uBAAwBiD,MAAMmD,WAI1CC,IAAQC,EAAAA,EAAAA,MACRrB,IAASvH,EAAAA,EAAAA,IAAI,IACb4F,GAActC,UACpBpB,GAAgBuB,OAAQ,EACxB,IACI,MAAMF,QAAiBC,EAAAA,EAAAA,IAAW,GAAErB,wBAA8BwG,GAAME,OAAOC,aAC3EvB,GAAO9D,MAAQF,EAASI,KACxBlB,GAAcgB,MAAO8D,GAAO9D,MAAMhB,cAElCP,GAAgBuB,OAAM,EAC5B,MAAO8B,OACLrD,GAAgBuB,OAAM,EACtBnB,GAAUiD,MAAMmD,WAIlBK,GAAoBzF,UACtB,IACI,MAAMC,QAAiBC,EAAAA,EAAAA,IAAW,uDAAsDmF,GAAME,OAAOlG,cACrGE,GAAeY,MAAQF,EAASI,KAChCiC,KACF,MAAOL,OACLjD,GAAUiD,MAAMmD,WAgCdM,GAAa1F,MAAAA,IACf2F,GAAWxF,OAAO,EAExBvB,GAAgBuB,OAAQ,QACAD,EAAAA,EAAAA,UAAc,GAAErB,UAAgBuB,KACnDwF,MAAM3F,IACH4F,KACAvD,KACAxD,GAAY,iBACZF,GAAgBuB,OAAQ,EACxBwF,GAAWxF,OAAO,MAelB2F,GAAwB9F,MAAAA,IAC1BpB,GAAgBuB,OAAQ,QACAD,EAAAA,EAAAA,UAAc,GAAErB,uBAA6BuB,KAChEwF,MAAM3F,IACH4F,KACA/G,GAAY,wBACZF,GAAgBuB,OAAQ,MAG9B4F,GAAU/F,UACd2F,GAAWxF,OAAO,EAClBvB,GAAgBuB,OAAO,EACvBlC,GAASkC,OAASlC,GAASkC,MAC3B,MAAM6F,EAAS,CACT,KAAO9H,GAAUiC,MACjB,WAAad,GAAWc,OAE5B,IACI,MAAMF,QAAiBC,EAAAA,EAAAA,KAAY,GAAErB,SAAemH,GACnDL,GAAWxF,OAAO,EACnBvB,GAAgBuB,OAAO,EACrB0F,KACsB,KAAnB5F,EAAS6B,QACV5D,GAAUiC,MAAQ,GAClBrB,GAAY,0BACZwD,OAGAtD,GAAU,sBACVgD,QAAQC,MAAMA,QAGpB,MAAOA,OACJ0D,GAAWxF,OAAO,EACzBvB,GAAgBuB,OAAO,EACjB6B,QAAQC,MAAM,wBAAyBA,OACvCjD,GAAUiD,MAAMmD,WAGlBa,GAAqBjG,MAAAA,IAEzB,GADArB,GAAcwB,MAAQ,GACC,KAAnB9B,GAAS8B,OAAqC,KAArB7B,GAAW6B,OAA+B,KAAf/B,GAAK+B,MAC1DnB,GAAU,qCACR,CACL,MAAMkH,EAAoB,CACpB,KAAO/H,GAAKgC,MACZ,MAAQzB,GAAMyB,MACd,QAAUC,EACV,WAAa5B,GAAO2B,MACpB,QAAW5B,GAAQ4B,MACnB,SAAW9B,GAAS8B,OAAS,EAC7B,WAAa7B,GAAW6B,OAAS,EACjC,KAAO/B,GAAK+B,OAAS,EACrB,OAAS1B,GAAO0B,OAEpB,IACI,MAAMF,QAAiBC,EAAAA,EAAAA,KAAY,GAAErB,sBAA4BqH,GAC/DL,KACsB,KAAnB5F,EAAS6B,QACV5D,GAAUiC,MAAQ,GAClBzB,GAAMyB,MAAO,GACb9B,GAAS8B,MAAM,EACf1B,GAAO0B,MAAM,GACb/B,GAAK+B,MAAQ,EACbhC,GAAKgC,MAAQ,GACb7B,GAAW6B,MAAM,EACjBrB,GAAY,mCAIZE,GAAU,sBACVgD,QAAQC,MAAMA,QAGpB,MAAOA,OACLD,QAAQC,MAAM,wBAAyBA,UAkB7CkE,IAAOzJ,EAAAA,EAAAA,IAAI,OAEhB0J,EAAAA,EAAAA,KAAU,KACH,MAAMC,EAAalJ,aAAaC,QAAQ,QACxC+I,GAAKhG,MAAQlD,KAAKC,MAAMmJ,GACxBR,KACAvD,KACAmD,KACAa,QAIR,MAAMC,GAAavG,UACf,UAC2ByE,GAAc+B,IAAK,gBAAgB,CACtDjB,OAAQ,CACJN,YAAa,eAGvB,MAAOhD,OACLD,QAAQC,MAAM,SAAUA,SAKtB4D,GAAa7F,UACnBH,GAAeM,MAAQ,CAAC,IACxBvB,GAAgBuB,OAAM,EAClB,IACI,MAAMF,QAAiBC,EAAAA,EAAAA,IAAW,GAAErB,UAAgBwG,GAAME,OAAOC,aACjElG,GAAMa,MAAQF,EAASI,KACvBzB,GAAgBuB,OAAM,EACtB6B,QAAQyE,IAAI,QAAQnH,GAAMa,OAC5B,MAAO8B,OACLD,QAAQC,MAAM,wBAAyBA,OACvCrD,GAAgBuB,OAAM,IAKxBuG,IAAoBhK,EAAAA,EAAAA,IAAI,CAAC,KACzBiK,IAA0BjK,EAAAA,EAAAA,IAAI,GAClC4J,GAAyBtG,UAC3B,IACI,MAAMC,QAAiBwE,GAAc+B,IAAK,gCAC1CE,GAAkBvG,MAAQF,EAASI,KAAKA,KAAKG,QAAOoG,GAAwB,cAAhBA,EAAK9E,SACjE6E,GAAwBxG,MAAQF,EAASI,KAAKwG,gBAChD,MAAO5E,OACLD,QAAQC,MAAM,oCAAqCA,OACnDjD,GAAU,qCAAuCiD,MAAMhC,UAAUI,MAAM+E,SAAWnD,MAAMmD,UAN5F,QAQI0B,GAAW3G,OAAQ,IAKrBwF,IAAajJ,EAAAA,EAAAA,KAAI,GACjBoK,IAAapK,EAAAA,EAAAA,KAAI,GACjBoF,IAASpF,EAAAA,EAAAA,IAAI,IACbqK,IAAYrK,EAAAA,EAAAA,MACZsK,IAAmBtK,EAAAA,EAAAA,IAAI,IACvBwI,IAAUxI,EAAAA,EAAAA,IAAI,IACduK,IAAkBvK,EAAAA,EAAAA,KAAI,GACtBwK,IAAYxK,EAAAA,EAAAA,KAAI,GAChBqI,IAAcrI,EAAAA,EAAAA,IAAI,IAClByK,IAAczK,EAAAA,EAAAA,IAAI,IAClB0K,IAAgB1K,EAAAA,EAAAA,IAAI,IACpB2K,IAAe3K,EAAAA,EAAAA,IAAI,IACnB4K,IAA6B5K,EAAAA,EAAAA,IAAI,IACjC6K,GAAgB,CAAE,MAAM,YAAY,OAAQ,cAAc,QAAQ,SAAS,UAAU,WAElFC,GAAiB,CAACC,EAAKb,KACxBc,GAAaD,EAAKrH,IAClB2E,GAAY5E,MAAQsH,EAAKtJ,KACzBiJ,GAAcjH,MAAQyG,EAAKzI,KAC3BgJ,GAAYhH,MAASsH,EAAKrJ,KAAOqJ,EAAKpJ,SAAWoJ,EAAKnJ,WACtD2I,GAAgB9G,OAAQ,EACxBmH,GAA2BnH,MAAQsH,EAAKrH,IAEvCuH,GAAmB,KACxBV,GAAgB9G,OAAQ,EACxB4G,GAAU5G,MAAQ,GAClB+E,GAAQ/E,MAAQ,GAChB4E,GAAY5E,MAAQ,GACpBiH,GAAcjH,MAAQ,GACtBmH,GAA2BnH,MAAQ,GACnC6G,GAAiB7G,MAAQ,GACzB0F,MAEM+B,GAAa5H,UACf,GAAK+G,GAAU5G,MAAM0H,OAArB,CAIFX,GAAU/G,OAAO,EACf,IACyB,WAAjB2B,GAAO3B,MACP6G,GAAiB7G,OAAS2H,KAAKC,IAAIf,GAAiB7G,OAC7B,SAAhB2B,GAAO3B,QACd6G,GAAiB7G,MAAQ2H,KAAKC,IAAIf,GAAiB7G,QAEvD,MAAMF,QAAkBC,EAAAA,EAAAA,KAAY,GAAErB,mBAA0B,CAC5DyC,MAAM,IAAI7B,MAAOC,cAAcsI,MAAM,KAAK,GAC1ClD,YAAa7H,KAAKC,MAAMC,aAAaC,QAAQ,SAASgD,GACtD2E,YAAagC,GAAU5G,MACvB8H,SAAUhL,KAAKC,MAAMC,aAAaC,QAAQ,SAASe,KACnDmJ,2BAA4BA,GAA2BnH,MACvD/B,KAAM4I,GAAiB7G,MACvB2B,OAAQA,GAAO3B,QAEnB+E,GAAQ/E,MAAMgF,KAAKlF,EAASI,MAC5B0G,GAAU5G,MAAQ,GAClB6G,GAAiB7G,MAAQ,GACzBrB,GAAY,6BACZ4I,GAAaJ,GAA2BnH,OAC1C,MAAO8B,OACLjD,GAAU,uBAAwBiD,OAEtCiF,GAAU/G,OAAO,OA3BbnB,GAAU,4BA8BhB0I,GAAe1H,MAAAA,IACjB8G,GAAW3G,OAAQ,EACnB,IACI,MAAMF,QAAiBC,EAAAA,EAAAA,IAAW,GAAErB,qCAA2CuB,KAC/E,IAAI8H,EAAU5D,WAAW6C,GAAYhH,OACrCkH,GAAalH,MAAQF,EAASI,KAAKM,KAAI,CAACN,EAAM8H,KAC1CD,GAAW5D,WAAWjE,EAAKjC,MACpB,CACPgK,IAAKD,EAAI,EACT/H,GAAIC,EAAKD,GACTiI,UAAWhI,EAAK4H,SAChB3G,KAAMjB,EAAKiB,KACXgH,MAAOjI,EAAKjC,KAAO,EAAImK,OAAOlI,EAAKjC,MAAMoK,iBAAmB,MAAQ,KACpEC,OAAQpI,EAAKjC,KAAO,EAAImK,OAAOT,KAAKC,IAAI1H,EAAKjC,OAAOoK,iBAAmB,MAAQ,KAC/EzD,YAAa1E,EAAK0E,YAClBmD,QAASA,EAAQM,iBAAmB,UAI1C,MAAOvG,OACNjD,GAAUiD,MAAMmD,SACfpD,QAAQC,MAAM,0BAA2BA,OAE7C6E,GAAW3G,OAAQ,GAGjBuI,GAAqB1I,MAAAA,IAEnB,GADApB,GAAgBuB,OAAQ,EACpBwI,QAAQ,gDAAiD,CACzD/J,GAAgBuB,OAAQ,EACxB,MAAMF,QAAiBC,EAAAA,EAAAA,UAAc,GAAErB,oBAA0BuB,KAEzC,KAAnBH,EAAS6B,QACV4F,GAAaJ,GAA2BnH,OACxCvB,GAAgBuB,OAAQ,EACxBrB,GAAYmB,EAASI,KAAK+E,UAG1BpG,GAAU,0BAA2BiD,YAGzCrD,GAAgBuB,OAAQ,GAS9ByI,GAAwB5I,MAAAA,IAC1B6I,KACElK,GAAcwB,MAAQ,GAEtB,MAAM+F,EAAoB,CACpB,KAAOuB,EAAKtJ,KACZ,MAAQsJ,EAAK/I,MACb,WAAa+I,EAAKjJ,OAClB,QAAUiJ,EAAKlJ,QACf,SAAWkJ,EAAKpJ,UAAY,EAC5B,WAAaoJ,EAAKnJ,YAAc,EAChC,KAAQmJ,EAAKrJ,MAAQ,EACrB,OAASqJ,EAAKhJ,QAElB,IACI,MAAMwB,QAAiBC,EAAAA,EAAAA,MAAa,GAAErB,uBAA6B4I,EAAKrH,KAAK8F,GAC3EL,KACsB,KAAnB5F,EAAS6B,OACVhD,GAAY,oCAGZE,GAAU,yBACVgD,QAAQC,MAAMA,QAEpB,MAAOA,OACLD,QAAQC,MAAM,wBAAyBA,SAI7C4G,GAAe,KAClBpL,GAAiB0C,MAAM,IAGpB2I,IAAYpM,EAAAA,EAAAA,IAAI,IAChBqM,GAAc/I,MAAAA,IACa,UAAxBjC,GAAeoC,OAIpB2I,GAAU3I,MAAMC,EAChBpC,GAASmC,OAAM,GAJXnB,GAAU,sBAQZgK,GAAmB,KACrBF,GAAU3I,MAAM,GAChBnC,GAASmC,OAAM,GAIb8I,GAAajJ,MAAAA,IACfgJ,KACE/K,GAASkC,OAASlC,GAASkC,MAC3B,MAAM6F,EAAS,CACT,KAAOY,EAAKzI,MAEhB,IACI,MAAM8B,QAAiBC,EAAAA,EAAAA,MAAa,GAAErB,UAAgB+H,EAAKxG,KAAK4F,GAExC,KAAnB/F,EAAS6B,QACV5D,GAAUiC,MAAQ,GAClBrB,GAAY,4BACZ+G,OAGA7G,GAAU,yBACVgD,QAAQC,MAAMA,QAGpB,MAAOA,OACLD,QAAQC,MAAM,sBAAuBA,OACrCjD,GAAUiD,MAAMmD,WAKpB8D,IAAUxM,EAAAA,EAAAA,KAAI,GACdyM,GAAcnJ,UAClB,MAAMK,EAAO,CACT,OAAU,UAEdsF,GAAWxF,OAAO,EAChB+I,GAAQ/I,OAAO,EACjB,IACI,MAAMF,QAAiBC,EAAAA,EAAAA,IAAW,GAAErB,cAAoBQ,GAAWc,QAASE,GACrD,KAAnBJ,EAAS6B,QACThD,GAAY,6BACZf,GAAeoC,MAAOF,EAASI,KAAKyB,OACpCQ,KACCqD,GAAWxF,OAAO,EACjB+I,GAAQ/I,OAAO,IAEhBwF,GAAWxF,OAAO,EACjB+I,GAAQ/I,OAAO,EACjBnB,GAAU,yBAEhB,MAAOiD,OACJ0D,GAAWxF,OAAO,EACjB+I,GAAQ/I,OAAO,EACjB6B,QAAQC,MAAM,sBAAuBA,OACrCjD,GAAU,0BAGNoK,GAAapJ,UACrB,MAAMK,EAAO,CACT,OAAU,QAEbsF,GAAWxF,OAAO,EACjB+I,GAAQ/I,OAAO,EACjB,IACI,MAAMF,QAAiBC,EAAAA,EAAAA,IAAW,GAAErB,cAAoBQ,GAAWc,QAASE,GACrD,KAAnBJ,EAAS6B,QACR6D,GAAWxF,OAAO,EACjB+I,GAAQ/I,OAAO,EACjBrB,GAAY,2BACZf,GAAeoC,MAAOF,EAASI,KAAKyB,OACpCQ,OAECqD,GAAWxF,OAAO,EACjB+I,GAAQ/I,OAAO,EACjBnB,GAAU,wBAEhB,MAAOiD,OACJiH,GAAQ/I,OAAO,EACfwF,GAAWxF,OAAO,EACnB6B,QAAQC,MAAM,qBAAsBA,OACpCjD,GAAU,yBAMVqK,GAAsBrJ,MAAOsJ,EAAMC,EAAOC,EAAOC,KACvD,MAAMC,EAAiBJ,EACjBK,EAAW,4DACXC,EAAc,mNAEdC,EAAc,CAClB,kBAAqB,WACrB,eAAkB,aAClB,GAAMH,EACN,KAAQ,WACR,SAAY,CACR,KAAQ,YACR,SAAY,CACR,KAAQ,MAEZ,WAAc,CACV,CACI,KAAQ,SACR,WAAc,CACV,CACI,KAAQ,QACR,MAAS,CACL,KAAQ,oEAKxB,CACI,KAAQ,OACR,WAAc,CACV,CACI,KAAQ,OACR,KAAQH,GAEZ,CACI,KAAQ,OACR,KAAQC,GAEZ,CACI,KAAQ,OACR,KAAQC,GAEZ,CACI,KAAQ,OACR,KAAQD,QAO/BM,GAAO3J,OAAO,EACb,IACE,MAAMF,QAAiB8J,MAAMJ,EAAU,CACrCK,OAAQ,OACRC,QAAS,CACP,cAAkB,UAASL,IAC3B,eAAgB,oBAElBM,KAAMjN,KAAKkN,UAAUN,WAEJ5J,EAASmK,OAC5BtL,GAAY,6BACZgL,GAAO3J,OAAO,EACd,MAAO8B,OACP6H,GAAO3J,OAAO,EACd6B,QAAQC,MAAM,SAAUA,SAItBoI,GAAc,KAEhB,IAAIC,EADJxN,EAAWqD,MAAOZ,GAAeY,MAAMrD,WAGnCwN,EADoB,GAApBxN,EAAWqD,MACL,kBAEC,WAEX,MAAMoK,EAAcC,OAAOC,KAAK,GAAI,uBACpCF,EAAYG,SAASC,MAAO,opDA2DbpL,GAAeY,MAAMjB,aAAc0L,uIAInCrL,GAAeY,MAAMoE,WAAYqG,8HAIjCrL,GAAeY,MAAM0K,OAAQD,2IAI7BrL,GAAeY,MAAM2K,gBAAiBF,4IAItCrL,GAAeY,MAAM4K,eAAgBH,4IAKpC3G,GAAO9D,MAAMhC,KAAMyM,yTAcrBtL,GAAMa,MAAMQ,KAAI,CAACiG,EAAKuB,IAAO,2DAEjBA,EAAI,uCACJvB,EAAKzI,wEAELyI,EAAKoE,kBAAoBpE,EAAKoE,iBAAiBjJ,OAAS,EAAK,gsBAcrD6E,EAAKoE,iBAAiBrK,KAAI8G,GAAS,mGAEvBA,EAAKtJ,MAAQ,6DACbsJ,EAAK/I,OAAS,8DACb+I,EAAKrJ,MAAQ,GAAGoK,8EAChBf,EAAKpJ,UAAY,GAAGmK,uBAAuBf,EAAKnJ,YAAc,GAAGkK,2EAChEf,EAAKpJ,UAAY,GAAGmK,kBAAoBf,EAAKnJ,YAAc,GAAGkK,6HAElC,OAAhCf,EAAKwD,6BAAmEC,IAAhCzD,EAAKwD,uBAAwC,qFAE1HxD,EAAKpJ,SAAWoJ,EAAKrJ,KAAOqJ,EAAKnJ,YAAYkK,uCACrC,mBAEmB,OAAhCf,EAAKwD,6BAAmEC,IAAhCzD,EAAKwD,wBACzCxD,EAAKpJ,SAAWoJ,EAAKrJ,KAAOqJ,EAAKnJ,WAAcmJ,EAAKwD,wBAAwBzC,kBAC7Ef,EAAKpJ,SAAWoJ,EAAKrJ,KAAOqJ,EAAKnJ,YAAYkK,wIAKJf,EAAKhJ,QAAU,kGAE1B0M,KAAK,oHAGZ,6GAGVvE,EAAKoE,kBAAoBpE,EAAKoE,iBAAiBjJ,OAAS,EAAK,sXAQvC6E,EAAKoE,iBAAiBI,MAAK3D,GAAwC,OAAhCA,EAAKwD,6BAAmEC,IAAhCzD,EAAKwD,yBAAyC,gKAErHrE,EAAKoE,iBAAiBK,QAAO,CAACC,EAAK7D,IAAS6D,GAAQ7D,EAAKpJ,UAAY,IAAMoJ,EAAKnJ,YAAc,IAAMmJ,EAAKrJ,MAAQ,IAAM,GAAGoK,+EAChH,wGAEV5B,EAAKoE,iBAAiBK,QAAO,CAACC,EAAK7D,IAAS6D,GAAQ7D,EAAKpJ,UAAY,IAAMoJ,EAAKnJ,YAAc,IAAMmJ,EAAKrJ,MAAQ,IAAOqJ,EAAKwD,wBAA0B,IAAI,GAAGzC,uRAOtL,yBACL2C,KAAK,gTAQEhM,GAAcgB,MAAMqI,oBAAe0C,EAAW,CAAEK,sBAAuB,EAAGC,sBAAuB,yKAM3GrM,GAAcgB,MACdb,GAAMa,MAAMkL,QACR,CAACI,EAAY7E,IACb6E,GACC7E,EAAKoE,kBAAkBK,QACpB,CAACK,EAAWjE,IACZiE,GAAanD,OAAOd,EAAKwD,yBAA2B,IACpD,IACC,IACL,IAEFzC,oBAAe0C,EAAW,CAAEK,sBAAuB,EAAGC,sBAAuB,kKAM/ElM,GAAMa,MAAMkL,QACZ,CAACI,EAAY7E,IACT6E,GACC7E,EAAKoE,kBAAkBK,QACxB,CAACK,EAAWjE,IACRiE,GACEjE,EAAKpJ,UAAY,IAAMoJ,EAAKrJ,MAAQ,IAAMqJ,EAAKnJ,YAAc,IAC9DmJ,EAAKwD,wBAA0B,IACpC,IACK,IACT,GACEzC,oBAAe0C,EAAW,CAAEK,sBAAuB,EAAGC,sBAAuB,waAajElB,ujBAkB1BC,EAAYG,SAASiB,QACrBpB,EAAYqB,SAMT9B,IAASpN,EAAAA,EAAAA,KAAI,GAEdmP,KADmBnP,EAAAA,EAAAA,KAAI,IACAA,EAAAA,EAAAA,IAAI,KAE3BoP,KADuBpP,EAAAA,EAAAA,IAAI,KACbA,EAAAA,EAAAA,KAAI,IACjBqP,IAA0BrP,EAAAA,EAAAA,IAAI,IAC9BsP,IAAmBtP,EAAAA,EAAAA,KAAI,GACrBuP,IAAavP,EAAAA,EAAAA,KAAI,GACnBwP,IAAiBxP,EAAAA,EAAAA,KAAI,GACrByP,IAAgBzP,EAAAA,EAAAA,IAAI,IACpB0P,IAAgB1P,EAAAA,EAAAA,IAAI,IACpB2P,IAAoB3P,EAAAA,EAAAA,IAAI,IACxB4P,IAAmB5P,EAAAA,EAAAA,IAAI,IACvB6P,IAAiB7P,EAAAA,EAAAA,IAAI,IACrB8P,IAAmB9P,EAAAA,EAAAA,IAAI,IACvB+P,IAAa/P,EAAAA,EAAAA,IAAI,IACjBgQ,IAAsBhQ,EAAAA,EAAAA,KAAI,GAC1BiQ,IAAYjQ,EAAAA,EAAAA,IAAI,IACjBkQ,IAAelQ,EAAAA,EAAAA,IAAI,CAAC,MAAM,cAAe,QAAS,WAAY,OAAQ,SAAS,YAC/EmQ,IAAUnQ,EAAAA,EAAAA,IAAI,IACdoQ,IAAcpQ,EAAAA,EAAAA,MACdqQ,IAA+BrQ,EAAAA,EAAAA,IAAI,IACnCsQ,IAA2BtQ,EAAAA,EAAAA,IAAI,IAC/BuQ,IAAqBvQ,EAAAA,EAAAA,KAAI,GACxBwQ,GAAiBhN,EAAAA,EAAAA,OAAa,CAC7BwE,QAASC,gCAGXwI,GAAuB,KACpBF,GAAmB9M,OAAM,GAI1BiN,GAAY,KACbC,GAAclN,MAAM,GACpBjB,GAAaiB,MAAM,GACnBuB,GAAcvB,MAAM,GACpBmN,GAAiBnN,MAAM,GACvBoN,GAAkBpN,MAAM,GACxB4D,GAAU5D,MAAM,GAChBqN,GAAYrN,MAAQ,GACvBsN,GAAatN,MAAO,GACpBuN,GAAavN,MAAO,GACpBwN,GAAexN,MAAO,GACtByN,GAAgBzN,MAAO,GACvB8M,GAAmB9M,OAAQ,EAC3B3C,GAAW2C,OAAQ,GAIhBkN,IAAgB3Q,EAAAA,EAAAA,IAAI,IACjB4Q,IAAmB5Q,EAAAA,EAAAA,IAAI,IACvB6Q,IAAoB7Q,EAAAA,EAAAA,IAAI,IACrB8Q,IAAc9Q,EAAAA,EAAAA,IAAI,IACrB+Q,IAAc/Q,EAAAA,EAAAA,IAAI,IAClBgR,IAAehR,EAAAA,EAAAA,IAAI,IACrBiR,IAAgBjR,EAAAA,EAAAA,IAAK,IACrBkR,IAAgBlR,EAAAA,EAAAA,IAAI,IAClBgF,IAAgBhF,EAAAA,EAAAA,IAAI,IACpBqH,IAAYrH,EAAAA,EAAAA,IAAI,IAChBmR,GAAwB7N,UAC9B,IACIiN,GAAmB9M,OAAQ,EAC3BvB,GAAgBuB,OAAQ,GAGC,IAArB3C,GAAW2C,aACL2N,KAGV,MAAMC,EAAoB,CACtB5P,KAAM,SAASkB,GAAWc,MAC1BrD,WAAYA,EAAWqD,MACvB4D,UAAWA,GAAU5D,MACrBe,SAAU,OACVE,QAAS,OACT/B,WAAYE,GAAeY,MAAMC,GACjCmB,QAAS,QACTG,cAAeA,GAAcvB,MAC7BwB,SAAU,OACVE,QAAS5E,KAAKC,MAAMC,aAAaC,QAAQ,SAASgD,GAClDiB,aAAcpE,KAAKC,MAAMC,aAAaC,QAAQ,SAASe,KACvDuC,YAAa,WACbsN,aAAc,QAGZ/N,QAAiBiN,GAAerI,KAAK,kBAAmBkJ,GAC9DhO,KACAqN,KACAxO,GAAgBuB,OAAQ,EACF,MAApBF,EAAS6B,QACPlF,EAAcuD,OAAM,EACpBrB,GAAY,4CAEZE,GAAU,qCACVgD,QAAQC,MAAMA,QAIpB,MAAOA,OACLjD,GAAU,cAAgBiD,MAAMH,QAChCE,QAAQC,MAAM,2BAA4BA,OAC1CrD,GAAgBuB,OAAQ,IAI1B2N,GAAiB9N,UACnB,IACIpB,GAAgBuB,OAAQ,EACxB,MAAM8N,EAAa,CACf9P,KAAMqP,GAAYrN,MAClBmJ,MAAOmE,GAAatN,MACpB+N,MAAOR,GAAavN,MACpBiB,QAASuM,GAAexN,MACxBwB,SAAUiM,GAAgBzN,OAGxBF,QAAiBwE,GAAcI,KAAK,WAAYoJ,GAGtD,OAFAlK,GAAU5D,MAAQF,EAASI,KAAKD,GAChCxB,GAAgBuB,OAAQ,EACjBF,EAASI,KAAKD,GACvB,MAAO6B,OAGL,MAFAjD,GAAU,2BAA6BiD,MAAMH,QAC7ClD,GAAgBuB,OAAQ,EAClB8B,QAOPkM,GAAuB,CAAC1G,EAAMb,KAEjC5E,QAAQyE,IAAI,sBAAsB3G,GAAoBK,OACtD6M,GAAyB7M,MAAQ,EACjC4M,GAA6B5M,MAAQ,KAGrC4L,GAAwB5L,MAAQsH,EAAKrH,GACrC+L,GAAchM,MAAQsH,EAAKrJ,KAC3BgO,GAAcjM,MAAQsH,EAAKtJ,KAC3BmO,GAAkBnM,MAAQsH,EAAKpJ,SAAWoJ,EAAKnJ,WAC/CiO,GAAepM,MAAQsH,EAAK/I,MAC5BwN,GAAc/L,OAAQ,EACtBkM,GAAmBlM,MAAQsH,EAAKpJ,SAAWoJ,EAAKnJ,WAGhD8P,MAGEA,GAAWpO,UACb6M,GAAQ1M,OAAQ,EAChB,IACI,MAAMF,QAAiBiN,GAAe1G,IAAK,gBAAe7J,EAAawD,SACnEF,EAASI,MAAQC,MAAMC,QAAQN,EAASI,OACxCyM,GAAa3M,MAAQF,EAASI,KAAKgL,QAAO,CAACC,EAAK7K,IACrC6K,EAAO7K,EAAMpC,SAAWoC,EAAM4N,MACtC,GAEH1B,GAAUxM,MAAQF,EAASI,KAAKM,KAAI,CAACF,EAAOG,KAAR,CAChCC,IAAKD,EAAQ,EACb0N,SAAU7N,EAAM6N,SAChBlO,GAAIK,EAAML,GACV2E,YAAatE,EAAMsE,YACnBrG,MAAO+B,EAAM8N,aACblQ,SAAUoC,EAAMpC,SAASmK,iBACzB6F,KAAM9F,OAAO9H,EAAM4N,MAAM7F,iBACzBgG,QAAS/N,EAAMpC,SAAWoC,EAAM4N,MAAM7F,oBAAe0C,EAAW,CAAEM,sBAAuB,QAG7FqB,GAAQ1M,OAAQ,IAEhB0M,GAAQ1M,OAAQ,EAChB6B,QAAQC,MAAM,4BAEpB,MAAOA,OACL4K,GAAQ1M,OAAQ,EAChB6B,QAAQC,MAAM,kCAAmCA,SAIlDwM,GAAe,KAClB,IAAI9R,EAAawD,MAEb,YADAnB,GAAU,mBAGd,GAAGsN,GAAkBnM,MAAQkM,GAAmBlM,MAE5C,YADAnB,GAAU,+CAGhB,GAAGsN,GAAkBnM,OAAS,EAE5B,YADAnB,GAAU,0CAIV6N,GAAQ1M,OAAQ,EAEhB,MAAMuO,EAAW,CACbC,SAAUhS,EAAawD,MACvB4E,YAAaqH,GAAcjM,MAC3BoO,aAAchC,IAAgBpM,OAAS,KACvC9B,SAAUiO,GAAkBnM,MAC5ByO,WAAY,EACZP,KAAMlC,GAAchM,MACpB0O,aAActP,GAAeY,MAAMC,GACnCkO,SAAU,UAGdpB,GACKrI,KAAK,SAAU6J,GACf9I,MAAM3F,IACHiH,GAAU/G,OAAQ,EAClB0M,GAAQ1M,OAAQ,EAEQ,MAApBF,EAAS6B,QACTsM,KACAtP,GAAY,kCAEZE,GAAU,0BACVgD,QAAQC,MAAM,2BAA4BhC,EAASI,KAAK+E,aAG/D0J,OAAO7M,IACJ4K,GAAQ1M,OAAQ,EAChB6B,QAAQC,MAAM,2BAA4BA,EAAMmD,aAYrD2J,GAAwB,KAC3B7C,GAAc/L,OAAO,EACrB6L,GAAkB7L,OAAQ,EAC1B6M,GAAyB7M,MAAQ,GAG9B6O,GAAiB5O,IAChByM,GAAQ1M,OAAQ,EACjBwI,QAAQ,+CACGuE,GACL+B,OAAQ,UAAS7O,KACjBwF,MAAM3F,IACHmO,KACAvB,GAAQ1M,OAAQ,EACQ,MAApBF,EAAS6B,OACVhD,GAAY,8BAEXE,GAAU,uBACVgD,QAAQC,MAAM,2BAA4BhC,EAASI,KAAK+E,aAG/D0J,OAAO7M,IACH4K,GAAQ1M,OAAQ,EACjB6B,QAAQC,MAAM,2BAA4BA,EAAMmD,aAyC1D8J,GAAwB,KACtB,MAAMC,EAAiB,CACnBzO,YAAa,aACbsN,aAAc,aAEdrF,QAAQ,+CACRuE,GACKkC,IAAK,mBAAkBzS,EAAawD,QAASgP,GAC7CvJ,MAAM3F,IACgB,KAAnBA,EAAS6B,QACRhD,GAAY,sDACZgB,GAAoBK,MAAM,aAC1BJ,MAGDf,GAAU,uBAIb8P,OAAO7M,IACJD,QAAQC,MAAM,0BAA2BA,EAAMmD,aAQ7DiK,GAAoB,KACtB,MAAM9E,EAAcC,OAAOC,KAAK,GAAI,sBACpCF,EAAYG,SAASC,MAAO,wuDA4DbpL,GAAeY,MAAMoE,WAAYqG,uIAIjC1L,GAAaiB,oHAIbiH,GAAcjH,2HAId4E,GAAY5E,+HAIZgH,GAAYhH,MAAOqI,whBAiBpBnB,GAAalH,MAAMQ,KAAI,CAACiG,EAAKuB,IAAO,2DAExBA,EAAI,uCACJvB,EAAKyB,+CACLzB,EAAKtF,0CACLsF,EAAK7B,iDACL6B,EAAK0B,2CACL1B,EAAK6B,4CACL7B,EAAKsB,wCACLtB,EAAKyB,WAAazB,EAAKyB,UAAUtG,OAAS,EAAK,iCAC7C,2GAGboJ,KAAK,uEAMpBZ,EAAYG,SAASiB,QACrBpB,EAAYqB,S,u6xBC9oFhB,MAAM0D,IAA2B,QAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://cork-vue3/./src/views/report/item_budget.vue","webpack://cork-vue3/./src/views/report/item_budget.vue?4d7f"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">\r\n        <ul class=\"navbar-nav flex-row\">\r\n            <li>\r\n                <div class=\"page-header\">\r\n                    <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                        <ol class=\"breadcrumb\">\r\n                            <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Items Budget</a></li>\r\n                        </ol>\r\n                    </nav>\r\n                </div>\r\n            </li>\r\n        </ul>  \r\n<!--notification starts  -->\r\n    <div class=\"d-flex\" v-if=\"amendment_request_count!= 0\">\r\n        <div class=\"ms-auto\" >\r\n      <div class=\"dropdown nav-item notification-dropdown btn-group\" >\r\n <a href=\"javascript:;\" id=\"ddlnotify\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\"\r\n   class=\"btn dropdown-toggle nav-link position-relative p-0 shadow\" >\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\"\r\n       viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"\r\n       stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\r\n       class=\"feather feather-bell text-danger\"\r\n       style=\"transform:scale(2)\"\r\n       >\r\n    <path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\"></path>\r\n    <path d=\"M13.73 21a2 2 0 0 1-3.46 0\"></path>\r\n  </svg>\r\n  <span class=\"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\">\r\n    {{ amendment_request_count}}\r\n  </span>\r\n</a>\r\n\r\n\r\n  <ul class=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"ddlnotify\">\r\n    <li v-for=\"amendment in amendmentRequests \"  class=\"dropdown-item\">\r\n      <div class=\"media\">\r\n        <div class=\"media-aside align-self-start\" >\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"\r\n               fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"\r\n               stroke-linecap=\"round\" stroke-linejoin=\"round\"\r\n               class=\"feather feather-server\">\r\n            <rect x=\"2\" y=\"2\" width=\"20\" height=\"8\" rx=\"2\" ry=\"2\"></rect>\r\n            <rect x=\"2\" y=\"14\" width=\"20\" height=\"8\" rx=\"2\" ry=\"2\"></rect>\r\n            <line x1=\"6\" y1=\"6\" x2=\"6\" y2=\"6\"></line>\r\n            <line x1=\"6\" y1=\"18\" x2=\"6\" y2=\"18\"></line>\r\n          </svg>\r\n        </div>\r\n        <div class=\"media-body\" >\r\n          <div class=\"data-info\" >\r\n            <h6 class=\"mb-0\">From : {{ amendment.sender_name }}</h6>\r\n            <p class=\"mb-0 \"> {{amendment.description}}    \r\n            \r\n            <button\r\n            v-if=\"user_permissions.includes('can_check_budget_remark')\" \r\n             class=\"btn btn-success p-1 btn-sm me-1\" style=\"cursor:pointer\" @click=\"readRemark()\"\r\n             >✔</button></p>\r\n         \r\n          </div><br>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  </ul>\r\n</div>\r\n        </div>\r\n    </div>        \r\n<!-- notification ends -->\r\n\r\n\r\n        <div>\r\n\r\n<!-- loading spinner starts -->\r\n<div v-if=\"loading_spinner\" class=\"d-flex justify-content-center align-items-center\" style=\"block-size: 100px;\">\r\n            <span class=\"text-primary spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-arrow-repeat\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z\"/>\r\n                    <path d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z\"/>\r\n                    <path d=\"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z\"/>\r\n                </svg>\r\n                Loading...\r\n     </span>\r\n</div>\r\n <!-- loading spinner ends -->  \r\n<div>\r\n\r\n\r\n<!-- project description -->\r\n<div class=\"table-responsive\">\r\n    <table class=\"table table-striped\">\r\n        <thead>\r\n            <tr>\r\n                <th>PROJECT DETAILS</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr>\r\n                <td><strong>PROJECT NAME:</strong></td>\r\n                <td>{{ budget_project.project_name }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td><strong>SHORT NAME:</strong></td>\r\n                <td>{{ budget_project.short_name }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td><strong>CONTRACT NUMBER:</strong></td>\r\n                <td>{{ budget_project.contract_number }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td><strong>FINANCIAL YEAR:</strong></td>\r\n                <td>{{ budget_project.financial_year }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td><strong>PROJECT COST:</strong></td>\r\n                <td>{{ budget_project.project_cost?.toLocaleString() }} Tsh</td>\r\n            </tr>\r\n            <tr>\r\n                <td><strong>CLIENT:</strong></td>\r\n                <td>{{ budget_project.client }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>BUDGET FOR:</td>\r\n                <td @click=\"project_status === 'open' ?(budget_name =project_name, edit_budget_name = true) : showError('Budget is closed') \"> {{ budget.name }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"2\" >\r\n                                  <table class=\"shadow table table-bordered table-responsive table-striped\">\r\n                        <thead>\r\n                            <tr >\r\n                                <th class=\"text-dark fw-bold\">ALLOCATED AMOUNT</th>\r\n                                <th class=\"text-success\">ALLOCATED BALANCE</th>\r\n                                 <th class=\"text-danger\">UNALLOCATED AMOUNT</th>\r\n                                 <th class=\"text-dark\">BUDGET COST</th> \r\n                            </tr>\r\n                            <tr>\r\n                                <td @click=\"add_fund =! add_fund\"  style=\"cursor:pointer\">\r\n                                   {{ funded_amount.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) }} Tsh\r\n                                </td>\r\n                                <td  class=\"text-success fw-bolder\">\r\n                                     {{\r\n            (\r\n                funded_amount -\r\n                items.reduce(\r\n                (grandTotal, item) =>\r\n                    grandTotal +\r\n                    item.item_description.reduce(\r\n                    (itemTotal, desc) => itemTotal + (Number(desc.budget_remark_sum_cost) || 0),\r\n                    0\r\n                    ),\r\n                0\r\n                )\r\n            ).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n            }} Tsh\r\n                                </td>\r\n\r\n                                <td class=\"text-danger fw-bolder\">\r\n                                    {{\r\n                                        (\r\n                                            // Unfunded Amount: budget cost - funded amount\r\n                                            items.reduce(\r\n                                                (grandTotal, item) =>\r\n                                                    grandTotal +\r\n                                                    item.item_description.reduce(\r\n                                                        (itemTotal, desc) =>\r\n                                                            itemTotal +\r\n                                                            ((desc.quantity || 0) * (desc.cost || 0) * (desc.quantity_2 || 0)),\r\n                                                        0\r\n                                                    ),\r\n                                                0\r\n                                            ) - funded_amount\r\n                                        ).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n                                    }} Tsh\r\n                                </td>\r\n                                  <td>\r\n                                    {{\r\n                                        // Budget Cost: grand total without any deduction from description remark\r\n                                        items.reduce(\r\n                                            (grandTotal, item) =>\r\n                                                grandTotal +\r\n                                                item.item_description.reduce(\r\n                                                    (itemTotal, desc) =>\r\n                                                        itemTotal +\r\n                                                        ((desc.quantity || 0) * (desc.cost || 0) * (desc.quantity_2 || 0)),\r\n                                                    0\r\n                                                ),\r\n                                            0\r\n                                        ).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n                                    }} Tsh\r\n                                </td>\r\n                            </tr>\r\n                        </thead>\r\n    </table> \r\n                    <!-- <table class=\"table table-bordered mb-0\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Allocated Amount</th>\r\n                                <th>Budget Cost</th>\r\n                                <th>UnAllocated Amount</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td  @click=\"add_fund = true\">\r\n                                    {{ funded_amount.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) }}\r\n                                </td>\r\n                                   <td>\r\n                                    {{\r\n                                        // Budget Cost: grand total without any deduction from description remark\r\n                                        items.reduce(\r\n                                            (grandTotal, item) =>\r\n                                                grandTotal +\r\n                                                item.item_description.reduce(\r\n                                                    (itemTotal, desc) =>\r\n                                                        itemTotal +\r\n                                                        ((desc.quantity || 0) * (desc.cost || 0) * (desc.quantity_2 || 0)),\r\n                                                    0\r\n                                                ),\r\n                                            0\r\n                                        ).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n                                    }}\r\n                                </td>\r\n                                 <td>\r\n                                    {{\r\n                                        (\r\n                                            // Unfunded Amount: budget cost - funded amount\r\n                                            items.reduce(\r\n                                                (grandTotal, item) =>\r\n                                                    grandTotal +\r\n                                                    item.item_description.reduce(\r\n                                                        (itemTotal, desc) =>\r\n                                                            itemTotal +\r\n                                                            ((desc.quantity || 0) * (desc.cost || 0) * (desc.quantity_2 || 0)),\r\n                                                        0\r\n                                                    ),\r\n                                                0\r\n                                            ) - funded_amount\r\n                                        ).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n                                    }}\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table> -->\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <h4 class=\"mb-0  mb-2\">\r\n    <div v-if =\"edit_budget_name\" class=\"d-flex align-items-center gap-2\">\r\n    <input type=\"text\" class=\"form-control w-50 \" v-model=\"budget_name\" :placeholder=\"project_name\">\r\n    <button class=\"btn btn-primary\" @click=\"editBudget()\">Save</button>\r\n    <button class=\"btn btn-danger r-2\" @click=\"edit_budget_name=!edit_budget_name\">X</button>\r\n    </div>\r\n    </h4>\r\n    <h4 class=\"mb-0  mb-2\">\r\n    <div v-if =\"add_fund\" class=\"d-flex align-items-center gap-2\">\r\n    <input type=\"number\" class=\"form-control w-25 \" v-model=\"new_fund\" placeholder=\"Enter additional fund\" step=\"any\">\r\n     <input type=\"date\" class=\"form-control w-25 \" v-model=\"fund_date\"  >\r\n    <button class=\"btn btn-primary\" @click=\"addFund()\">Save</button>\r\n    <button class=\"btn btn-danger r-2\" @click=\"add_fund=!add_fund\">X</button>\r\n    </div>\r\n</h4>\r\n</div>\r\n <!-- project description ends -->\r\n\r\n              \r\n         <div class=\"d-flex flex-wrap gap-2 mt-4 justify-content-end align-items-center\">\r\n            <div class=\"btn-group flex-wrap\" style=\"gap: 8px;\">\r\n                <button \r\n                    class=\"btn btn-success mx-2 mt-2\" \r\n                    @click=\"printReport\" \r\n                    title=\"Print Report\"\r\n                    :disabled=\"in_process\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n                        <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n                    </svg>\r\n                    &nbsp;Print\r\n                </button>\r\n\r\n                <button \r\n                    v-if=\"budget.status === 'open' && user_permissions.includes('can_create_budget') && !add_item\"\r\n                    class=\"btn btn-primary mt-2\" \r\n                    @click=\"add_item =!add_item\" \r\n                    title=\"Add Item\"\r\n                    :disabled=\"in_process\">\r\n                    &nbsp;Add Item\r\n                    \r\n                </button>\r\n                <button \r\n                    v-if=\"budget.status === 'open' && user_permissions.includes('can_create_budget') && add_item\"\r\n                    class=\"btn btn-danger mt-2\" \r\n                    @click=\"add_item =!add_item\" \r\n                    title=\"Add Item\"\r\n                    :disabled=\"in_process\">\r\n                    &nbsp;Close Item\r\n                </button>\r\n\r\n                <button \r\n                    v-if=\" user_permissions.includes('can_create_lpo_from_budget') && !hide_lpo\"\r\n                    class=\"btn btn-dark mt-2\"           \r\n                    title=\"Add Item\"\r\n                    :disabled=\"in_process\"\r\n                    @click=\"hide_lpo = true \"\r\n                   >\r\n                    <!-- <span class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span> -->        \r\n                    <span v-if=\"!lpo_list\"  @click= \"order_registration = true , getVendors(),setEnvForLpoCreation()\"> \r\n                        &nbsp;Create LPO \r\n                    </span>\r\n                     <span v-else @click=\"view_lpo_list = true, order_registration = false\"> \r\n                        &nbsp;Fill Lpo \r\n                    </span>          \r\n                </button>        \r\n                <button \r\n                    v-if=\" user_permissions.includes('can_create_lpo_from_budget') && lpo_creation_window && !un_finished \"\r\n                    class=\"btn btn-danger mt-2\" \r\n                    @click=\"showMessage('Please wait while Activating LPO'); activatePurchaseOrder();\"\r\n                    title=\"\"\r\n                    :disabled=\"in_process\">\r\n                    <span v-if=\"lpo_window\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n                    <span v-else > &nbsp;Close Lpo Creation Window</span>\r\n                </button>\r\n\r\n                <button  \r\n                    v-if=\"budget.status === 'open' && user_permissions.includes('can_close_budget')\"         \r\n                    class=\"btn btn-warning mt-2\" \r\n                    @click=\"closeBudget\" \r\n                    title=\"Add Item\"\r\n                    :disabled=\"in_process\">\r\n                     <span v-if=\"closing\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n                     <span v-else>&nbsp;Close Budget </span>\r\n                </button>\r\n                <button  \r\n                    v-if=\"budget.status === 'closed' && user_permissions.includes('can_open_budget')\"         \r\n                    class=\"btn btn-success mt-2\" \r\n                    @click=\"openBudget\" \r\n                    title=\"Add Item\"\r\n                    :disabled=\"in_process\">\r\n                     <span v-if=\"closing\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n                     <span v-else>&nbsp;Open Budget </span>\r\n                </button>\r\n                  <button  \r\n                    v-if=\"budget.status === 'closed'\"         \r\n                    class=\"btn btn-info mt-2\" \r\n                    @click=\"amendment_form=!amendment_form\">\r\n              Request Amendment \r\n                </button>\r\n\r\n                <button  \r\n                    v-if=\"budget.status === 'open' && user_permissions.includes('can_alert_budget_for_review')\"         \r\n                    class=\"btn btn-secondary mt-2\" \r\n                    @click=\"triggerNotification('255698267662','Dozzaer','check','baba salama');\" \r\n                    title=\"Add Item\"\r\n                    :disabled=\"in_process\">\r\n                  <span v-if=\"submit\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n                     <span v-else>&nbsp;Submit For Review </span>\r\n                </button>  \r\n            </div>\r\n        </div>\r\n<form v-if=\"amendment_form\" class=\"text-center mt-3\" @submit.prevent=\"requestAmendment()\">\r\n  <h4 class=\"text-center\">REQUEST FOR AMENDMENT</h4>\r\n  <div class=\"d-flex flex-column align-items-center\">\r\n    <textarea class=\"form-control w-75 mb-3\" v-model=\"amendment_description\" placeholder=\"Amendment Description\"></textarea>\r\n    <button type=\"submit\" class=\"btn btn-primary\" >Submit</button>\r\n  </div>\r\n</form>\r\n\r\n<!-- lpo list starts -->\r\n  <div class=\"d-flex mt-3\">\r\n    <div class=\"ms-auto\">\r\n                 <button v-if=\"hide_lpo\" class=\"btn btn-danger btn-sm \" @click=\"hide_lpo=false,order_registration=false,view_lpo_list=false\">\r\n                    X\r\n                </button>  \r\n    </div>\r\n  </div>\r\n\r\n\r\n         <div v-if=\"lpo_list && view_lpo_list\" class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table \r\n                            :data=\"purchaseOrders\" \r\n                            :columns=\"columns\" \r\n                            :options=\"table_option\" \r\n                           \r\n                        >\r\n                           \r\n                            <template #actions=\"props\">\r\n<span class=\"me-2\">\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"text-primary bi bi-eye\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z\"/>\r\n  <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0\"/>\r\n</svg>\r\n</span>\r\n\r\n<span class=\"me-2\">\r\n<svg v-if=\"selected_lpo == props.row.id\" \r\n@click=\"selected_lpo = 0,showMessage('Lpo Unselected')\"\r\nxmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"text-success bi bi-check-circle\"  viewBox=\"0 0 16 16\">\r\n  <path d=\"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0\"/>\r\n  <path d=\"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z\"/>\r\n</svg>\r\n\r\n\r\n\r\n<svg v-else\r\n@click=\"selected_lpo = props.row.id, selected_lpo_status = props.row.status, showMessage('LPO selected')\"\r\nxmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-circle\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16\"/>\r\n</svg>\r\n\r\n</span>\r\n\r\n                            </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n <!-- lpo list ends -->\r\n        <!-- order registration starts -->\r\n  \r\n           <form v-if=\"order_registration\" class=\"mt-1 p-3 border rounded bg-white shadow\" @submit.prevent=\"registerPurchaseOrder\">\r\n            <h4 class=\"text-center\">LOCAL PURCHASE ORDER REGISTRATION</h4>\r\n            <div class=\"row mb-2\">\r\n                <div v-if=\"!add_vendor\" class=\"col-md-3\">\r\n                    <label class=\"form-label\">Select A Supplier</label>\r\n                    <select class=\"form-select\" v-model=\"vendor_id\" required @change=\"handleVendorChange\">\r\n    <option value=\"\">Select Supplier</option>\r\n    <option v-for=\"vendor in vendors\" :key=\"vendor.id\" :value=\"vendor.id\">{{ vendor.name }}</option>\r\n    <option value=\"NEW_VENDOR\">New Supplier</option>\r\n</select>\r\n                 \r\n\r\n\r\n                </div>\r\n                <!-- new vendor  starts-->\r\n                <div  v-if=\"add_vendor\" class=\"col-md-3\">\r\n              <label class=\"form-label\">Supplier Name</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_name\" name=\"Vendor_name\" required>\r\n          </div>\r\n       \r\n          <div  v-if=\"add_vendor\" class=\"col-md-3\">\r\n              <label class=\"form-label\">Supplier Email</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_email\" name=\"Vendor_name\" required>\r\n          </div>\r\n\r\n          <div  v-if=\"add_vendor\" class=\"col-md-3\">\r\n              <label class=\"form-label\">Supplier Phone</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_phone\" name=\"Vendor_name\" required>\r\n          </div>\r\n\r\n          <div  v-if=\"add_vendor\" class=\"col-md-3\">\r\n              <label class=\"form-label\">Supplier Address</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_address\" name=\"Vendor_name\" required>\r\n          </div>\r\n\r\n          <div  v-if=\"add_vendor\" class=\"col-md-3\">\r\n              <label class=\"form-label\">Supplier Location</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_location\" name=\"Vendor_name\" required>\r\n          </div>\r\n                <div class=\"col-md-3\">\r\n                    <label class=\"form-label\">Payment Terms</label>\r\n                    \r\n                    <multiselect\r\n                    v-model=\"payment_terms\"\r\n                    :options=\"['Bank /TT ', 'Cash', 'Cheque', 'M-Pesa', 'On-Account', 'Wakala']\"\r\n                    :multiple=\"false\"\r\n                    :searchable=\"true\"\r\n                    required \r\n                    :placeholder=\"'Select Payment Terms'\"\r\n                    ></multiselect>\r\n                </div>\r\n        \r\n           \r\n            </div>\r\n         \r\n         \r\n\r\n            <div class=\"text-center gap-2 justify-content-end\">\r\n                <button v-if=\"add_vendor\" type=\"button\" class=\"btn btn-dark me-3\" @click=\"add_vendor=false\">Back</button>\r\n                <button type=\"button\" class=\"btn btn-danger me-3\" @click=\"order_registration = false;add_vendor=false;is_closed=true\">Cancel</button>\r\n                <button type=\"submit\" class=\"btn btn-primary\">Register</button>\r\n            </div>\r\n        </form>\r\n\r\n         <!-- order registration ends -->\r\n        <!--Item form starts  -->\r\n<div v-if=\"add_item \" class=\"mt-3 p-3 border rounded bg-light mb-2\">\r\n    <h5 class=\"mb-3\">Add Item</h5>\r\n    <div class=\"form-group mb-3 d-flex align-items-center col-12\">\r\n        <div class=\"row d-flex align-items-center col-12\">\r\n            <div class=\"col-md-10 col-10\">\r\n                <input type=\"text\" class=\"form-control\" id=\"item_name\" v-model=\"item_name\" placeholder=\"Enter item name\">\r\n            </div>\r\n            <div class=\"col-md-2 col-2\">\r\n                <button type=\"button\" class=\"btn btn-primary w-100\" @click=\"addItem\">Submit</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<!-- item form ends -->\r\n<div class=\"table-responsive shadow-lg\">    \r\n\r\n<table class=\"table table-bordered table-responsive mt-5\">\r\n    <thead class=\"thead-light table-reponsive\">\r\n        <tr>\r\n            <th>Sno:</th>\r\n            <th>Item</th>\r\n            <th>Description\r\n                <div class=\"d-flex\">\r\n                    <div v-if=\"budget.status == 'open'\" class=\"ms-auto\">\r\n                            <button class=\"btn btn-dark mx-2 p-1 btn-sm\" @click=\"unlocked=!unlocked, edit_description=''\">\r\n                                        <svg v-if=\"unlocked\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-lock\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2m3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2M5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1\"/>\r\n</svg>\r\n                                       <svg v-else xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-unlock\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M11 1a2 2 0 0 0-2 2v4a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5V3a3 3 0 0 1 6 0v4a.5.5 0 0 1-1 0V3a2 2 0 0 0-2-2M3 8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1z\"/>\r\n</svg>\r\n\r\n                            </button>\r\n                    </div>\r\n                </div>\r\n            </th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr v-for=\"item,i in items\" :key=\"item.SNo\">\r\n            <td>{{ i + 1 }}</td>\r\n            <td >\r\n            <span  @click =\"editItemRow(item.id)\" v-if=\"edit_item !== item.id \">  {{ item.name }}\r\n            </span>\r\n            <div v-if=\"edit_item === item.id \"  >\r\n            <input type=\"text\" class=\"form-control\" v-model=\"item.name\">\r\n            <button class=\"btn btn-white md-2 \" @click=\"closeItemEdition()\">❌</button>\r\n            <button class=\"btn btn-white md-2 \" @click=\"updateItem(item)\">\r\n                ✅\r\n            </button>\r\n          </div>         \r\n            \r\n            </td>\r\n            <td>\r\n                <div>\r\n                    <table class=\"table table-bordered table-responsive table-striped\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>Name</th>\r\n                                <th>Units</th>\r\n                                <th>Quantity</th>\r\n                                <th>Total</th>\r\n                                <th>Cost</th>\r\n                                <th>Amount</th>\r\n                                <!-- <th>Paid By</th> -->\r\n                                <th>Remark</th>\r\n                                <th>\r\n                                    <div class=\"d-flex\">\r\n                                        <div v-if =\"project_status =='open' && user_permissions.includes('can_create_budget')\" class=\"ms-auto\" >\r\n                                        <button v-if=\"add_item_list === item.id \" class=\"btn btn-danger btn-sm p-2\" @click=\"add_item_list = '' \">X</button>\r\n                                        <button v-else  class=\"btn btn-primary\" @click=\"add_item_list = item.id \">add</button>\r\n                                    </div>\r\n                                    </div>\r\n                                    <button v-if=\"!unlocked && item.item_description  == '' && user_permissions.includes('can_delete_budget') \" class=\"btn btn-danger btn-sm p-1 mx-1\" @click=\"deleteItem(item.id)\">\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z\"/>\r\n  <path d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z\"/>\r\n</svg>\r\n                                    </button>\r\n                                </th>\r\n                            </tr>\r\n                        </thead>\r\n                 <tbody>\r\n                            <tr  v-for=\"desc,i in item.item_description\" :key=\"desc.name\">\r\n                                <td  >{{ i+1 }}</td>\r\n     <td @click =\"editRow(desc.id)\">\r\n      <span v-if=\"edit_description  !== desc.id \">\r\n        {{ desc.name }}\r\n      </span>        \r\n        <div v-if=\"edit_description === desc.id \">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"desc.name\">\r\n        </div>\r\n    </td>\r\n    <td @click =\"editRow(desc.id)\" > \r\n        <span v-if=\"edit_description  !== desc.id \">\r\n        {{ desc.units}}\r\n      </span> \r\n        <div v-if=\"edit_description === desc.id \"  >\r\n            <input type=\"text\" class=\"form-control\" v-model=\"desc.units\">\r\n        </div>\r\n    </td>\r\n    <td @click =\"editRow(desc.id)\" >\r\n        <span v-if=\"edit_description  !== desc.id \">\r\n        {{ (desc.quantity).toLocaleString() }} x {{ (desc.quantity_2) }}\r\n      </span>       \r\n        <div class=\"row\" v-if=\"edit_description === desc.id \"  >\r\n            <input type=\"text\" class=\"form-control w-25\" v-model=\"desc.quantity\"> <span class=\"w-25 mt-2 text-center\">X</span> <input type=\"text\" class=\"form-control w-25\" v-model=\"desc.quantity_2\">\r\n        </div>\r\n    </td>\r\n      <td @click =\"editRow(desc.id)\" >\r\n  <div class=\"d-flex justify-content-between text-dark\" >\r\n    <span>Budgeted :</span>\r\n    <span>\r\n       {{(desc.quantity *desc.quantity_2).toLocaleString()}} \r\n    </span>\r\n  </div>\r\n\r\n    <div class=\"d-flex justify-content-between text-dark\" >\r\n    <span>Used :</span>\r\n   <span>\r\n    {{ \r\n  isNaN(((desc.budget_remark_sum_cost || 0) / (desc.quantity * desc.cost * desc.quantity_2)) * (desc.quantity * desc.quantity_2)) \r\n    ? 0 \r\n    : (((desc.budget_remark_sum_cost || 0) / (desc.quantity * desc.cost * desc.quantity_2)) * (desc.quantity * desc.quantity_2)).toLocaleString() \r\n}}\r\n\r\n   </span>\r\n  </div>\r\n    <hr class=\"bg-danger\">\r\n    <div class=\"d-flex justify-content-between text-dark\" >\r\n    <span>Balance :</span>\r\n   <span>\r\n     {{(\r\n        (desc.quantity *desc.quantity_2) -\r\n        ((desc.budget_remark_sum_cost || 0) /(desc.quantity * desc.cost * desc.quantity_2)) * ( desc.quantity * desc.quantity_2) \r\n        || 0\r\n        ).toLocaleString()}} \r\n   </span>\r\n  </div>\r\n\r\n        <div v-if=\"edit_description === desc.id \"  >\r\n        <input type=\"text\" class=\"form-control\" :value=\"desc.quantity * desc.quantity_2\" disabled>\r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n    </td>\r\n    <td @click =\"editRow(desc.id)\" >\r\n        <span v-if=\"edit_description  !== desc.id \">\r\n        {{ desc.cost.toLocaleString() }}/=\r\n      </span> \r\n        <div v-if=\"edit_description === desc.id \"  >\r\n        <input type=\"text\" class=\"form-control\" v-model=\"desc.cost\">\r\n        </div>\r\n    </td>\r\n <td @click=\"editRow(desc.id)\">\r\n  <div class=\"d-flex justify-content-between text-dark\" >\r\n    <span>Budgeted :</span>\r\n    <span>{{ ((desc.quantity * desc.cost * desc.quantity_2)).toLocaleString() }} Tsh</span>\r\n  </div>\r\n\r\n    <div class=\"d-flex justify-content-between text-dark\" >\r\n    <span>Used :</span>\r\n   <span>{{ Number(desc.budget_remark_sum_cost || 0).toLocaleString() }} Tsh</span>\r\n\r\n  </div>\r\n  <hr class=\"bg-danger\">\r\n  <div\r\n  v-if=\"((desc.quantity * desc.cost * desc.quantity_2) - desc.budget_remark_sum_cost)<0\"\r\n  class=\"d-flex justify-content-between fw-bolder text-danger\" >\r\n    <span>Balance :</span>\r\n    <span>{{ ((desc.quantity * desc.cost * desc.quantity_2) - desc.budget_remark_sum_cost).toLocaleString() }} Tsh</span>\r\n  </div>\r\n\r\n    <div\r\n  v-else\r\n  class=\"d-flex justify-content-between fw-bolder\" style=\"color:#158c5b\">\r\n    <span>Balance :</span>\r\n    <span>{{ ((desc.quantity * desc.cost * desc.quantity_2) - desc.budget_remark_sum_cost).toLocaleString() }} Tsh</span>\r\n  </div>\r\n\r\n</td>\r\n\r\n    <!-- <td>{{  desc.paid_by }}<br>\r\n        <sub>{{ desc.ref_number }}</sub>\r\n    </td> -->\r\n    <!-- <td>{{ desc.notice }}</td> -->\r\n\r\n    <td>\r\n        <span  v-if=\"edit_description  !== desc.id \" class=\"mx-2\">\r\n            <svg \r\n                                     xmlns=\"http://www.w3.org/2000/svg\" \r\n                                     width=\"28\" height=\"28\" \r\n                                     fill=\"currentColor\"\r\n                                      class=\"bi bi-eye text-secondary\" \r\n                                      viewBox=\"0 0 16 16\"\r\n                                      @click=\"openRemarkModal(desc,item)\">\r\n                                      <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z\"/>\r\n                                      <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0\"/>\r\n            </svg>\r\n        </span> \r\n\r\n         <span v-if= \"selected_lpo != 0\" class=\"mx-2\">\r\n            <svg \r\n                xmlns=\"http://www.w3.org/2000/svg\" \r\n                width=\"28\" height=\"28\" \r\n                fill=\"currentColor\"\r\n                class=\"bi bi-plus text-success\" \r\n                viewBox=\"0 0 16 16\"\r\n                @click=\"openLpoCreationModal(desc,item)\">\r\n                <path d=\"M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0z\"/>\r\n                <path d=\"M4 8a.5.5 0 0 1 .5-.5h3v-3a.5.5 0 0 1 1 0v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3A.5.5 0 0 1 4 8z\"/>\r\n            </svg>\r\n        </span>        \r\n        <div v-if=\"edit_description === desc.id \" class=\"d-flex gap-2\">\r\n            <button class=\"btn btn-white md-2 \" @click=\"closeEdition()\">❌</button>\r\n            <button class=\"btn btn-white md-2 \" @click=\"updateItemDescription(desc)\">\r\n                ✅\r\n            </button>\r\n        </div>\r\n        <button v-if=\"!unlocked && user_permissions.includes('can_delete_budget')\" class=\"btn btn-danger btn-sm p-1\" @click=\"deleteItemDescription(desc.id)\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z\"/>\r\n                <path d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z\"/>\r\n            </svg>\r\n        </button>\r\n        <br><span v-if=\"((desc.quantity * desc.cost * desc.quantity_2) - desc.budget_remark_sum_cost)<0\" class=\"text-danger\">overBudget</span>\r\n    </td>\r\n</tr>\r\n<tr>\r\n    <td></td>\r\n    <td class=\"fw-bolder\">Total Budget</td>\r\n    <td></td>\r\n     <td></td>\r\n    <td class=\"fw-bold\">{{ item.item_description.reduce((sum, desc) => sum + (desc.quantity *desc.quantity_2), 0).toLocaleString() }}</td>   \r\n    <td class=\"fw-bold\">{{ item.item_description.reduce((sum, desc) => sum + desc.cost, 0).toLocaleString() }}</td>\r\n    <td class=\"fw-bold\">{{ item.item_description.reduce((sum, desc) => sum + (desc.quantity * desc.quantity_2 * desc.cost) - desc.budget_remark_sum_cost, 0).toLocaleString() }} Tsh</td>\r\n</tr>\r\n\r\n                            <tr v-if=\"add_item_list === item.id \">\r\n                                <td></td>\r\n                                <td>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"name\" placeholder=\"Item\">\r\n                                </td>\r\n                                <td>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"units\" placeholder=\"Units\">\r\n                                </td>\r\n                \r\n                                <td>\r\n    <div style=\"display: flex; align-items: center; gap: 5px;\">\r\n        <input type=\"number\" class=\"form-control\" v-model=\"quantity\" placeholder=\"qty1\"> \r\n        <span>X</span>\r\n        <input type=\"number\" class=\"form-control\" v-model=\"quantity_2\" placeholder=\"qty2\">\r\n    </div>\r\n</td>\r\n                                <td>\r\n                                    <input type=\"number\" class=\"form-control\" v-model=\"cost\" placeholder=\"cost\">\r\n                                </td>\r\n                                <td>\r\n                                    <label >{{ (cost * quantity * quantity_2).toLocaleString() }}</label>\r\n                                </td>\r\n                                <!-- <td>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"paid_by\" placeholder=\"paid by\"><br>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"ref_no\" placeholder=\"ref no\"><br>\r\n                                </td> -->\r\n                                <td>\r\n                                    <input type=\"text\" class=\"form-control\" v-model=\"notice\" placeholder=\"Any Remark\">\r\n                                </td>\r\n                                <td>\r\n                                    <button type=\"submit\" class=\"btn btn-primary\" @click=\"addItemDescription(item.id)\">Submit</button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n    <tfoot>\r\n    \r\n    <tr>\r\n        <td colspan=\"2\" class=\"text-start fw-bold\">\r\n            SUMMARY \r\n        </td>\r\n        <td>\r\n              <table class=\"table table-bordered table-responsive table-striped\">\r\n                        <thead>\r\n                            <tr >\r\n                                <th class=\"text-dark fw-bold\">ALLOCATED AMOUNT</th>\r\n                                <th class=\"text-success\">ALLOCATED BALANCE</th>\r\n                                <!-- <th class=\"text-dark\">GRAND TOTAL</th> -->\r\n                                 <th class=\"text-danger\">UNALLOCATED AMOUNT</th>\r\n                                 <th class=\"text-dark\">BUDGET COST</th> \r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                   {{ funded_amount.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) }} Tsh\r\n                                </td>\r\n                                <td  class=\"text-success fw-bolder\">\r\n                                     {{\r\n            (\r\n                funded_amount -\r\n                items.reduce(\r\n                (grandTotal, item) =>\r\n                    grandTotal +\r\n                    item.item_description.reduce(\r\n                    (itemTotal, desc) => itemTotal + (Number(desc.budget_remark_sum_cost) || 0),\r\n                    0\r\n                    ),\r\n                0\r\n                )\r\n            ).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n            }} Tsh\r\n                                </td>\r\n                                <!-- <td>\r\n                                    {{\r\n                items.reduce(\r\n                    (grandTotal, item) =>\r\n                        grandTotal +\r\n                        item.item_description.reduce(\r\n                            (itemTotal, desc) =>\r\n                                itemTotal +\r\n                                ((desc.quantity || 0) * (desc.cost || 0) * (desc.quantity_2 || 0)) -\r\n                                (desc.budget_remark_sum_cost || 0),\r\n                            0\r\n                        ),\r\n                    0\r\n                ).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n            }} Tsh \r\n                                </td> -->\r\n                                <td class=\"text-danger fw-bolder\">\r\n                                    {{\r\n                                        (\r\n                                            // Unfunded Amount: budget cost - funded amount\r\n                                            items.reduce(\r\n                                                (grandTotal, item) =>\r\n                                                    grandTotal +\r\n                                                    item.item_description.reduce(\r\n                                                        (itemTotal, desc) =>\r\n                                                            itemTotal +\r\n                                                            ((desc.quantity || 0) * (desc.cost || 0) * (desc.quantity_2 || 0)),\r\n                                                        0\r\n                                                    ),\r\n                                                0\r\n                                            ) - funded_amount\r\n                                        ).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n                                    }} Tsh\r\n                                </td>\r\n                                  <td>\r\n                                    {{\r\n                                        // Budget Cost: grand total without any deduction from description remark\r\n                                        items.reduce(\r\n                                            (grandTotal, item) =>\r\n                                                grandTotal +\r\n                                                item.item_description.reduce(\r\n                                                    (itemTotal, desc) =>\r\n                                                        itemTotal +\r\n                                                        ((desc.quantity || 0) * (desc.cost || 0) * (desc.quantity_2 || 0)),\r\n                                                    0\r\n                                                ),\r\n                                            0\r\n                                        ).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n                                    }} Tsh\r\n                                </td>\r\n                            </tr>\r\n                        </thead>\r\n    </table> \r\n        </td>\r\n     \r\n\r\n    </tr>\r\n  \r\n</tfoot>\r\n</table>\r\n</div>\r\n</div>\r\n        </div>\r\n       \r\n    </div>\r\n\r\n\r\n<!-- remark modal -->\r\n <!-- Modal -->\r\n <teleport to=\"body\">\r\n<div v-if=\"showRemarkModal\"  class=\"modal fade show d-block\" role=\"dialog\" @click.self=\"closeRemarkModal\">\r\n  <div class=\"modal-dialog modal-dialog modal-xl\" >\r\n    <div class=\"modal-content d-flex flex-column\" style=\"block-size: 90vh;\">\r\n  <div class=\"modal-header flex-column align-items-center\">\r\n  <h3 class=\"text-center\">Transaction Remarks</h3>\r\n  <button type=\"button\" class=\"btn-close\" @click=\"closeRemarkModal\"></button>\r\n</div>\r\n\r\n\r\n      <!-- <div class=\"d-flex\">\r\n        <div class=\"ms-auto\">\r\n            <button \r\n            class=\"btn btn-success mx-2 mt-2\" \r\n            @click=\"printRemarkReport\" \r\n            title=\"Print Report\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n            <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n            </svg>\r\n            &nbsp;Print\r\n            </button>\r\n        </div>\r\n      </div> -->\r\n      <div class=\"d-flex flex-column\">\r\n            <table class=\"table table-bordered\">\r\n                <tbody>\r\n                    <tr>\r\n                        <th>BUDGET </th>\r\n                        <th>ITEM</th>\r\n                        <th>DESCRIPTION</th>\r\n                        <th>BUDGET COST</th>\r\n                        <th class=\"text-center\">ACTION</th>\r\n                    </tr>\r\n                    <tr>\r\n                        \r\n                        <td><strong>{{ project_name }}</strong></td>\r\n                        <td><strong>{{ items_project }}</strong></td>\r\n                        <td><strong>{{ description }}</strong></td>\r\n                        <td><strong>{{ (remark_cost).toLocaleString() }}Tsh</strong></td>\r\n                        <td class=\"text-center\">\r\n                            <button \r\n      class=\"btn btn-success\" \r\n      @click=\"printRemarkReport\" \r\n      title=\"Print Report\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n        <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n        <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n      </svg>\r\n      &nbsp;Print\r\n    </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            </div>\r\n      <div class=\"modal-body flex-grow-1\" style=\"overflow-y: auto;\">\r\n        <div v-if=\"isfetching\" class=\"d-flex justify-content-center align-items-center\" style=\"block-size: 100px;\">\r\n          <span class=\"text-primary spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n        </div>\r\n        <div v-else>\r\n            <div class=\"panel br-6 p-0\">\r\n                    <div class=\"custom-table\">                       \r\n                        <v-client-table :data=\"budgetRemaks\" :columns=\"remarkcolumns\" :options=\"table_option\">\r\n                        <template v-if=\"user_permissions.includes('can_delete_budget_description_remark')\"  #actions=\"props\">                        \r\n                             <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n                                 width=\"16\"\r\n                                  height=\"16\"                                 \r\n                                   fill=\"currentColor\"\r\n                                    class=\"bi bi-trash text-danger\"\r\n                                     @click=\"deleteBudgetRemark(props.row.id)\"\r\n                                     viewBox=\"0 0 16 16\">\r\n                                    <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z\"/>\r\n                                    <path d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z\"/>\r\n                                </svg>\r\n                            \r\n                        </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Form for adding a new remark - fixed at bottom -->\r\n<div class=\"p-3 border-top\" style=\"background-color: #f8f9fa;\">\r\n  <form @submit.prevent=\"saveRemark\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <input\r\n          v-model=\"description_cost\"\r\n          class=\"form-control mb-2\"\r\n          type=\"number\"\r\n          placeholder=\"Enter cost spent\"\r\n          name=\"cost_onremark\"\r\n        />\r\n      </div>\r\n      <div class=\"col-md-6\">\r\n        <select class=\"form-control mb-2\" v-model=\"status\" required>\r\n          <option value=\"\">Select Transaction Type</option>\r\n          <option value=\"debit\">Debit</option>\r\n          <option value=\"credit\">Credit</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n\r\n    <textarea\r\n      v-model=\"newremark\"\r\n      class=\"form-control mb-2\"\r\n      rows=\"1\"\r\n      placeholder=\"Enter remarks\"\r\n    ></textarea>\r\n\r\n    <div class=\"d-flex justify-content-end gap-2\">\r\n      <button type=\"button\" class=\"btn btn-secondary\" @click=\"closeRemarkModal\">\r\n        Close\r\n      </button>\r\n      <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isSending\">\r\n        <span v-if=\"isSending && is_debit\">\r\n          <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n        </span>\r\n        <span v-else>Save</span>\r\n      </button>\r\n    </div>\r\n  </form>\r\n</div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n</teleport>\r\n\r\n  <!-- Modal Background Overlay -->\r\n  <div v-if=\"showRemarkModal\" class=\"modal-backdrop fade show\"></div>\r\n<!-- remark modal end -->\r\n\r\n<!-- creating lpo modal strt -->\r\n <teleport to=\"body\">\r\n<div v-if=\"is_create_lpo\"  class=\"modal fade show d-block\" role=\"dialog\" @click.self=\"closeLpoCreationModal\">\r\n  <div class=\"modal-dialog modal-dialog modal-xl\" >\r\n    <div class=\"modal-content d-flex flex-column\" style=\"block-size:auto;\">\r\n      <div class=\"modal-header\">\r\n           \r\n   \r\n        <button type=\"button\" class=\"btn-close\" @click=\"closeLpoCreationModal\"></button>\r\n      </div>          \r\n      <div class=\"modal-body flex-grow-1\" style=\"overflow-y: auto;\">\r\n\r\n                               <div v-if=\"selected_lpo_status ==='Inactive'\"  class=\"mt-2 mb-2\" >\r\n  <button class=\"btn btn-warning\" @click=\"activatePurchaseOrder()\">\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"34\" height=\"34\" fill=\"currentColor\" class=\"bi bi-check2-square\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z\"/>\r\n                                        <path d=\"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0\"/>\r\n                                    </svg>\r\n                               Ready \r\n </button>\r\n        </div>\r\n         \r\n         <form v-if=\"selected_lpo_status ==='Inactive'\" @submit.prevent=\"registerItem\">   \r\n                      <h4>Form For Adding {{ lpo_item_name }} to LOCAL PURCHASSE ORDER </h4>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n                <label for=\"unit\" class=\"form-label\">Unit</label>\r\n                <input type=\"text\" id=\"unit\" class=\"form-control\" v-model=\"lpo_item_units\" placeholder=\"Units\">\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <label for=\"item\" class=\"form-label\">Item</label>\r\n                <input type=\"text\" id=\"item\" class=\"form-control\" v-model=\"lpo_item_name\" placeholder=\"Item\">\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <label for=\"quantity\" class=\"form-label\">Quantity (available: {{ Math.max(0, lpo_total_quantity - itemQuantitydFromStorage) }})</label>\r\n                <input\r\n                    type=\"number\"\r\n                    id=\"quantity\"\r\n                    class=\"form-control\"\r\n                    v-model=\"lpo_item_quantity\"\r\n                    placeholder=\"Quantity\"\r\n                    min=\"1\"                   \r\n                />\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <label for=\"price\" class=\"form-label\">Price</label>\r\n                <input type=\"number\" id=\"price\" class=\"form-control\" v-model=\"lpo_item_cost\" placeholder=\"Price\"  disabled >\r\n            </div>\r\n            <div class=\"col-md-4 \">\r\n                <label for=\"amount\" class=\"form-label\">Amount</label>\r\n                <input type=\"text\" id=\"amount\" class=\"form-control\" :value=\"(lpo_item_cost * lpo_item_quantity).toLocaleString()\" readonly>\r\n            </div>\r\n            <div class=\"col-md-4 \">\r\n                <label for=\"remark\" class=\"form-label\">Remark</label>\r\n                <input type=\"text\" id=\"remark\" class=\"form-control\" v-model=\"lpo_item_notice\" placeholder=\"Remark\">\r\n            </div>\r\n        </div>\r\n          <div class=\"d-flex justify-content-end gap-4 mt-4\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" @click=\"closeLpoCreationModal\">Close</button>\r\n            <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isSending\"> \r\n              <span v-if=\"isSending && is_debit \">\r\n                <span class=\"spinner-border spinner-border-xs\" role=\"status\" aria-hidden=\"true\"></span>            \r\n                </span>\r\n              <span v-else>Submit</span>\r\n            </button>\r\n          </div>\r\n        </form>\r\n        <v-else>\r\n               <h4>LOCAL PURCHASSE ORDER  LIST</h4>\r\n        </v-else>   \r\n            <div class=\"row layout-top-spacing\">\r\n           <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n               <div class=\"panel p-0\">  \r\n                     <div v-if=\"loading\" class=\"d-flex justify-content-center align-items-center\" style=\"block-size: 100px;\">\r\n        <span class=\"text-primary spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-arrow-repeat\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z\"/>\r\n                <path d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z\"/>\r\n                <path d=\"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z\"/>\r\n            </svg>\r\n           \r\n        </span>\r\n    </div>\r\n\r\n                   <div class=\"custom-table table3 \">           \r\n                           <v-client-table :data=\"lpo_items\" :columns=\"item_columns\" :options=\"table_option\" >\r\n                           <template #status=\"props\">\r\n                               <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.class\">{{ props.row.status.key }} </span>\r\n                           </template>\r\n                           <template  #actions=\"props\">                              \r\n                               <a v-if=\"selected_lpo_status ==='Inactive'\"  @click=\" deleteLpoItem(props.row.id)\"  href=\"javascript:void(0);\" title=\"Delete\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" >\r\n                                   <svg\r\n                                       xmlns=\"http://www.w3.org/2000/svg\"\r\n                                       width=\"24\"\r\n                                       height=\"24\"\r\n                                       viewBox=\"0 0 24 24\"\r\n                                       fill=\"none\"\r\n                                       stroke=\"currentColor\"\r\n                                       stroke-width=\"1.5\"\r\n                                       stroke-linecap=\"round\"\r\n                                       stroke-linejoin=\"round\"\r\n                                       class=\"text-danger\"\r\n                                   >\r\n                                       <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n                                       <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                                   </svg>\r\n                               </a>\r\n                             \r\n\r\n                               \r\n                           </template>\r\n                          \r\n                       </v-client-table>\r\n                   </div>\r\n               </div>\r\n           </div>\r\n       </div>     \r\n      </div>      \r\n     \r\n    </div>\r\n  </div>\r\n</div>\r\n</teleport>\r\n  <!-- Modal Background Overlay -->\r\n  <div v-if=\"is_create_lpo\" class=\"modal-backdrop fade show\"></div>\r\n<!-- creating lpo modal end -->\r\n\r\n\r\n<!-- unfinished lpo start -->\r\n\r\n <teleport to=\"body\">\r\n<div v-if=\"is_unfinished_lpo\"  class=\"modal fade show d-block\" role=\"dialog\" @click.self=\"closeLpoCreationModal\">\r\n  <div class=\"modal-dialog modal-dialog modal-xl\" >\r\n    <div class=\"modal-content d-flex flex-column\" style=\"block-size:auto;\">\r\n      <div class=\"modal-header\">           \r\n   \r\n        <button type=\"button\" class=\"btn-close\" @click=\"closeLpoCreationModal\"></button>\r\n      </div>          \r\n      <div class=\"modal-body flex-grow-1\" style=\"overflow-y: auto;\">\r\n          <h4>Items For Unfisnished LOCAL PURCHASSE ORDER </h4>        \r\n            <div class=\"row layout-top-spacing\">\r\n              <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n               <div class=\"panel p-0\"> \r\n                     <div v-if=\"loading\" class=\"d-flex justify-content-center align-items-center\" style=\"block-size: 100px;\">\r\n        <span class=\"text-primary spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-arrow-repeat\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z\"/>\r\n                <path d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z\"/>\r\n                <path d=\"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z\"/>\r\n            </svg>\r\n           \r\n        </span>\r\n                          </div>\r\n                   <div class=\"custom-table table3 \">           \r\n                           <v-client-table :data=\"lpo_items\" :columns=\"item_columns\" :options=\"table_option\" >\r\n                           <template #status=\"props\">\r\n                               <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.class\">{{ props.row.status.key }} </span>\r\n                           </template>\r\n                           <template #actions=\"props\">\r\n                              \r\n                               <a @click=\" deleteLpoItem(props.row.id)\"  href=\"javascript:void(0);\" title=\"Delete\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" >\r\n                                   <svg\r\n                                       xmlns=\"http://www.w3.org/2000/svg\"\r\n                                       width=\"24\"\r\n                                       height=\"24\"\r\n                                       viewBox=\"0 0 24 24\"\r\n                                       fill=\"none\"\r\n                                       stroke=\"currentColor\"\r\n                                       stroke-width=\"1.5\"\r\n                                       stroke-linecap=\"round\"\r\n                                       stroke-linejoin=\"round\"\r\n                                       class=\"text-danger\"\r\n                                   >\r\n                                       <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n                                       <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                                   </svg>\r\n                               </a>\r\n                             \r\n\r\n                               \r\n                           </template>\r\n                          \r\n                       </v-client-table>\r\n                   </div>\r\n               </div>\r\n            <div class=\"d-flex justify-content-end gap-3 mt-3\">\r\n                <button class=\"btn btn-primary\" @click=\"un_finished = false; lpo_creation_window = true; lpo_number = lpoNumberFromStorage; closeLpoCreationModal();\">\r\n                    Continue With This LPO\r\n                </button>\r\n                <button class=\"btn btn-danger\" @click=\" closeLpoCreationModal(); closeLpoCreationWindow(); registerPurchaseOrder(); is_unfinished_lpo = false;\">\r\n                    Start New LPO\r\n                </button>\r\n            </div>\r\n           </div>\r\n\r\n       </div>     \r\n      </div>      \r\n     \r\n    </div>\r\n  </div>\r\n</div>\r\n</teleport>\r\n  <!-- Modal Background Overlay -->\r\n  <div v-if=\"is_unfinished_lpo\" class=\"modal-backdrop fade show\"></div>\r\n\r\n<!-- unfinished lpo end -->\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</template>\r\n\r\n\r\n\r\n<script setup>\r\n    import axios from 'axios';    \r\n    import { onMounted, ref,inject,watch, computed } from 'vue';\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    import '@/assets/sass/elements/tooltip.scss';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    import { useRoute } from 'vue-router';\r\n    const hide_lpo = ref(false);\r\n    const selected_lpo = ref(0);\r\n    const view_lpo_list = ref(false);\r\n    const columns = ref(['SNo','LPO_number','requested_by', 'supplier','date','payment', 'actions']);\r\n    const company_id = ref(6);\r\n    const amendment_form = ref(false);\r\n    const user_permissions = JSON.parse(localStorage.getItem(\"user\")).permissions;\r\n    useMeta({ title:'Purchase Order'});\r\n    const add_vendor= ref(false);\r\n    const edit_description = ref('');\r\n    const is_description_edit= ref(false);\r\n    const is_debit = ref('');\r\n    const budget_name = ref('');\r\n    const edit_budget_name = ref(false);\r\n    const add_fund= ref(false);\r\n    const budget_project_id = ref(0);\r\n    const budgetProjects = ref([]);\r\n    const project_status = ref ('');\r\n    const newProject= ref('');\r\n    const projects = ref(['']);\r\n    const unlocked = ref(true);\r\n    const add_item = ref(false);\r\n    const item_name = ref('');\r\n    const name = ref('');\r\n    const cost = ref('');\r\n    const quantity = ref(1);\r\n    const quantity_2 = ref(1);\r\n    const paid_by = ref('');\r\n    const ref_no = ref('');\r\n    const notice = ref('');\r\n    const units = ref('');\r\n    const add_item_list = ref ('me');\r\n    const loading_spinner = ref(false);\r\n    const base_url = \"https://construction.trustdigital.space/api/v1/\";\r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n    const recordLog = inject('recordLog');\r\n    const project_name = ref('');\r\n    const funded_amount = ref(0);\r\n    const new_fund = ref('');\r\n    const project_id = ref(0);\r\n    const items = ref([]);\r\n    const budget_project = ref('');\r\n    const fund_date = ref(new Date().toISOString().slice(0, 10));\r\n    const lpo_list = ref(false);\r\n    const purchaseOrders = ref(['']);\r\n    const selected_lpo_status = ref('');\r\n    const getPurchaseOrders = async () => {\r\n         try {\r\n            const response = await    \r\n            axios.get(`https://bcftrack.trustdigital.space/api/v1/budget-purchase-orders?project_id=${budget_project.value.id}&budget_name=budget${project_id.value}`);\r\n            if (response.data && Array.isArray(response.data)) {\r\n                   purchaseOrders.value = response.data\r\n  .filter(order => order.status_name === \"Inactive\" )\r\n  .map((order, index) => ({\r\n    SNo: index + 1,\r\n    id: order.id,\r\n    LPO_number: `${String(order.id).padStart(4, '0')}/${order.date_created.slice(5, 7)}/${order.date_created.slice(2, 4)}`,\r\n    company_id: order.company_id,\r\n    supplier: order.vendor.name,\r\n    address: order.address,\r\n    requested_by: order.requested_by,\r\n    date: order.date_created,\r\n    project: order.project_aka,\r\n    payment: order.payment_terms,\r\n    location: order.location,\r\n    requester: order.user_id,\r\n    status: order.status_name,\r\n  }));\r\n\r\n\r\n             if (purchaseOrders.value.length > 0) {\r\n                lpo_list.value = true;\r\n            }else{\r\n                lpo_list.value = false;\r\n            }\r\n                    loading_spinner.value = false;\r\n                } else {\r\n                    console.error(\"Invalid response format\");\r\n                }\r\n        } catch (error) {\r\n            console.error(\"Error fetching  vendors : \", error);\r\n        }\r\n     }\r\n\r\n    const vendors= ref(['']);\r\n       const getVendors = async () => {\r\n        loading_spinner.value = true;\r\n        try {\r\n            const response = await    \r\n            axios.get(`https://bcftrack.trustdigital.space/api/v1/vendors`);\r\n            if (response.data && Array.isArray(response.data)) {\r\n                    vendors.value = response.data;\r\n                    loading_spinner.value = false;\r\n                \r\n\r\n                } else {\r\n                    console.error(\"Invalid response format\");\r\n                }\r\n        } catch (error) {\r\n            console.error(\"Error fetching  vendors : \", error);\r\n        }\r\n    };\r\n  \r\n    // Watch for changes in budget_project and fetch projects accordingly\r\n    watch(budget_project, (newVal) => {\r\n        if (newVal && newVal.id) {\r\n            project_id.value = 0;\r\n            getProjects();\r\n        }\r\n    });\r\n    const table_option = ref({\r\n    perPage: 10,\r\n    perPageValues: [5, 10, 20, 50],\r\n    skin: 'table table-hover',\r\n    columnsClasses: { actions: 'actions text-center' },\r\n    pagination: { nav: 'scroll', chunk: 5 },\r\n    texts: {\r\n        count: 'Showing {from} to {to} of {count}',\r\n        filter: '',\r\n        filterPlaceholder: 'Search...',\r\n        limit: 'Results:',\r\n    },\r\n    sortable: ['SNo', 'date_issued', 'fuel_issued'],\r\n    sortIcon: {\r\n        base: 'sort-icon-none',\r\n        up: 'sort-icon-asc',\r\n        down: 'sort-icon-desc',\r\n    },\r\n    resizableColumns: false,\r\n    searchable: true,\r\n\r\n});\r\n\r\n  const handleVendorChange = (event) => {\r\n    if (event.target.value === 'NEW_VENDOR') {\r\n        addVendor();\r\n        vendor_id.value = ''; // Reset the selection\r\n    }\r\n}\r\n\r\nconst addVendor = () => {\r\n    add_vendor.value =! add_vendor.value;\r\n}\r\n\r\nconst editRow = async (id) => {\r\n    if (budget.value.status == \"closed\") {\r\n        showError(\"Budget Is Closed \");\r\n          return;        \r\n    } else {       \r\n        unlocked.value=true;\r\n    is_description_edit.value = true;\r\n     edit_description.value= id;\r\n    };\r\n}\r\n\r\n    const editBudget = async () => {\r\n         if (project_status.value == \"closed\") {\r\n        showError(\"Budget Is Closed \");\r\n          return;        \r\n    } else{\r\n    project_name.value = budget_name.value;\r\n    edit_budget_name.value = false;\r\n    const data = {\r\n        'name': budget_name.value,\r\n    }\r\n    try {\r\n        const response = await axios.put(`${base_url}projects/${project_id.value}`, data);\r\n        if (response.status == 200) {\r\n            getProjects();\r\n        } else {\r\n            showError(\"Fail to Edit Budget\");\r\n        }                    \r\n    } catch (error) {\r\n        console.error('Error Editing Budget:', error);\r\n        showError(\"Fail to Edit Budget\");\r\n    }\r\n     }\r\n    }\r\n\r\n    const user_name = JSON.parse(localStorage.getItem(\"user\")).name;\r\n    const user_id = JSON.parse(localStorage.getItem(\"user\")).id;\r\n    const total_fund = ref(0);\r\n    const addFund = async () => {\r\n          total_fund.value =  parseFloat(funded_amount.value) + parseFloat(new_fund.value);\r\n        if (parseFloat(new_fund.value) < 0) {\r\n            showError(\"Fund can't be less than 0\");\r\n            new_fund.value = 0;\r\n            return;\r\n        }\r\n        \r\n        const data = {\r\n            'funded_amount': total_fund.value,\r\n        }\r\n        try {\r\n            const response = await axios.put(`${base_url}projects/${project_id.value}`, data);\r\n            if (response.status == 200) {\r\n                 add_fund.value=false;\r\n                funded_amount.value = total_fund.value,\r\n                getProjects();\r\n                recordLog(user_id,user_name,'funding '+budget_project.value.short_name,project_name.value,project_id.value,'',new_fund.value)\r\n                showMessage('Fund added Successfully');\r\n                new_fund.value = 0;\r\n            } else {\r\n                showError(\"Fail to Add fund\");\r\n            }                    \r\n        } catch (error) {\r\n            console.error('Error Adding fund:', error);\r\n            showError(\"Fail to Add fund\");\r\n        }\r\n    }\r\n        \r\n        const amendment_description = ref('');\r\n         const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n        const requestAmendment = async () => {\r\n        amendment_form.value =! amendment_form.value;\r\n        try {\r\n            const response = await  axiosInstance.post(\"/remark\", {   \r\n                remarker_id: JSON.parse(localStorage.getItem(\"user\")).id,\r\n                description: amendment_description.value,\r\n                type_id:project_id.value,\r\n                remark_type:\"amendment\"  \r\n            });\r\n\r\n            remarks.value.push(response.data); // Add new remark to the list\r\n            amendment_description.value = \"\"; // Clear input field\r\n            showMessage(\"Remark added \");\r\n        } catch (error) {\r\n            showError(\"Error adding remark:\", error.message);\r\n        }\r\n    }\r\n\r\n    const route = useRoute();\r\n    const budget = ref('');\r\n    const getProjects = async () => {\r\n    loading_spinner.value = true;\r\n    try {\r\n        const response = await axios.get(`${base_url}projects?budget_id=${route.params.budget_id}`);\r\n            budget.value = response.data;\r\n            funded_amount.value= budget.value.funded_amount;\r\n            \r\n            loading_spinner.value=false;\r\n    } catch (error) {\r\n        loading_spinner.value=false;\r\n        showError(error.message);\r\n       \r\n    }\r\n}\r\nconst getBudgetProjects = async () => {\r\n    try {\r\n        const response = await axios.get(`https://bcftrack.trustdigital.space/api/v1/projects/${route.params.project_id}`);\r\n        budget_project.value = response.data;\r\n        getProjects();\r\n    } catch (error) {\r\n        showError(error.message);\r\n      \r\n    }\r\n};\r\n\r\n\r\nconst addProject= async () => {\r\n    newProject.value =! newProject.value;\r\n    loading_spinner.value=true;\r\n        const data = {\r\n            'name':project_name.value,\r\n            'project_id':budget_project.value.id\r\n        }\r\n        try {\r\n            const response = await axios.post(`${base_url}projects`,data);\r\n                loading_spinner.value=false;\r\n                getProjects();\r\n                project_id.value= 0;\r\n                if (response.status == 201) {\r\n                    project_name.value = \"\";\r\n                    showMessage(\"Project Added Sussesfully\");\r\n                }\r\n                else{\r\n                    console.error(error);\r\n                    showError(\"Fail to Add Project\");\r\n                      }                    \r\n                }\r\n                catch(error){\r\n            console.error('Error Adding projects:', error);\r\n            loading_spinner.value=false;\r\n        }\r\n    };    \r\n    const deleteItem = async (id) => {\r\n        in_process.value= true;\r\n   \r\n  loading_spinner.value = true;\r\n   const response = await axios.delete(`${base_url}item/${id}`)\r\n      .then((response) => {\r\n          fetchItems();\r\n          getProjects();\r\n          showMessage(\"Item  deleted\");\r\n          loading_spinner.value = false;\r\n          in_process.value= false;      \r\n      });\r\n};\r\nconst deleteBudget = async (id) => {\r\n  project_name.value = \"\";\r\n  loading_spinner.value = true;\r\n   const response = await axios.delete(`${base_url}projects/${id}`)\r\n      .then((response) => {\r\n          getProjects();\r\n          project_id.value= 0;\r\n          showMessage(\"Budget  deleted\");\r\n          loading_spinner.value = false;\r\n      });\r\n};\r\n\r\n    const deleteItemDescription = async (id) => {\r\n        loading_spinner.value = true;\r\n         const response = await axios.delete(`${base_url}item-descriptions/${id}`)\r\n            .then((response) => {\r\n                fetchItems();\r\n                showMessage(\"Description  deleted\");\r\n                loading_spinner.value = false;\r\n            });\r\n    };\r\n    const addItem = async () => {\r\n      in_process.value= true;\r\n      loading_spinner.value= true;\r\n      add_item.value =! add_item.value;\r\n      const itemdata={\r\n            'name':item_name.value, \r\n            'project_id':project_id.value \r\n              }\r\n        try {\r\n            const response = await axios.post(`${base_url}item`,itemdata);\r\n             in_process.value= false;\r\n            loading_spinner.value= false;\r\n              fetchItems();\r\n             if (response.status == 201) {\r\n                item_name.value = \"\";\r\n                showMessage(\"item added Succesfully\");\r\n                getProjects();\r\n             }\r\n             else{\r\n                showError(\"Failed to Add Item\");\r\n                console.error(error);\r\n                \r\n             }\r\n        } catch (error) {\r\n             in_process.value= false;\r\n      loading_spinner.value= false;\r\n            console.error('Error fetching items:', error);\r\n            showError(error.message);\r\n        }\r\n    };      \r\n    const addItemDescription = async (id) => {\r\n      add_item_list.value = '';\r\n      if( quantity.value === '' || quantity_2.value === '' || cost.value === '' ){\r\n         showError(\"Please fill in all the fields\");\r\n      }else{\r\n      const itemDescriptiondata={\r\n            'name':name.value,\r\n            'units':units.value,\r\n            'item_id':id,\r\n            'ref_number':ref_no.value,\r\n            'paid_by': paid_by.value,\r\n            'quantity':quantity.value || 1,\r\n            'quantity_2':quantity_2.value || 1,               \r\n            'cost':cost.value || 0,\r\n            'notice':notice.value\r\n              }\r\n        try {\r\n            const response = await axios.post(`${base_url}item-descriptions`,itemDescriptiondata);\r\n              fetchItems();\r\n             if (response.status == 201) {\r\n                item_name.value = \"\";\r\n                units.value =\"\",\r\n                quantity.value=1,\r\n                notice.value=\"\",\r\n                cost.value = 0,\r\n                name.value = \"\",\r\n                quantity_2.value=1,\r\n                showMessage(\"Description added Succesfully\");\r\n\r\n             }\r\n             else{\r\n                showError(\"Failed to Add Item\");\r\n                console.error(error);\r\n                \r\n             }\r\n        } catch (error) {\r\n            console.error('Error fetching items:', error);\r\n        }\r\n    }\r\n    };      \r\n   \r\nconst setParam =  (data)=> { \r\n     selected_lpo.value = 0;\r\n     hide_lpo.value= false; \r\n     un_finished.value= false;        \r\n     lpo_creation_window.value = false;    \r\n     project_id.value = data.id;\r\n     project_name.value = data.name;\r\n     funded_amount.value = data.funded_amount;\r\n     project_status.value = data.status;\r\n    getPurchaseOrders();\r\n     fetchItems();\r\n}\r\n\r\nconst user = ref(null);\r\n \r\n onMounted(() => {\r\n        const storedUser = localStorage.getItem(\"user\");\r\n        user.value = JSON.parse(storedUser);      \r\n        fetchItems();\r\n        getProjects();\r\n        getBudgetProjects();   \r\n        fetchAmendmentRequests();\r\n    });\r\n\r\n    \r\nconst readRemark = async () => {\r\n    try {\r\n        const response = await axiosInstance.get(`/check-remark`, {\r\n            params: {\r\n                remark_type: 'amendment',\r\n            }\r\n        });\r\n    } catch (error) {\r\n        console.error('Error:', error);\r\n    }\r\n};\r\n\r\n\r\n    const fetchItems = async () => {\r\n    purchaseOrders.value = [''];\r\n    loading_spinner.value=true;\r\n        try {\r\n            const response = await axios.get(`${base_url}item/${route.params.budget_id}`);\r\n            items.value = response.data;\r\n            loading_spinner.value=false;\r\n            console.log('items',items.value);\r\n        } catch (error) {\r\n            console.error('Error fetching items:', error);\r\n            loading_spinner.value=false;\r\n        }\r\n    };        \r\n\r\n\r\n    const amendmentRequests = ref(['']);\r\n    const amendment_request_count = ref(0);\r\nconst fetchAmendmentRequests = async () => {\r\n    try {\r\n        const response = await axiosInstance.get(`remark?remark_type=amendment`);\r\n        amendmentRequests.value = response.data.data.filter(item => item.status === \"unchecked\");\r\n        amendment_request_count.value = response.data.unchecked_count;\r\n    } catch (error) {\r\n        console.error('Error fetching amendment request:', error);\r\n        showError(\"Failed to load amendment request \" + (error.response?.data?.message || error.message));\r\n    } finally {\r\n        isfetching.value = false;\r\n    }\r\n}    \r\n \r\n// start remarks code \r\nconst in_process = ref(false) \r\nconst isfetching = ref(false);   \r\nconst status = ref(\"\");\r\nconst newremark = ref();\r\nconst description_cost = ref('');\r\nconst remarks = ref([]);\r\nconst showRemarkModal = ref(false);\r\nconst isSending = ref(false);\r\nconst description = ref('');\r\nconst remark_cost = ref('');\r\nconst items_project = ref('');\r\nconst budgetRemaks = ref([]);\r\nconst budget_item_description_id = ref('');\r\nconst remarkcolumns = [ 'sno','filled_by','date' ,'description','debit','credit','balance','actions'];\r\n  \r\n   const openRemarkModal= (desc,item) => {     \r\n        fetchRemarks(desc.id); // Fetch remarks for the selected item\r\n        description.value = desc.name;             \r\n        items_project.value = item.name;\r\n        remark_cost.value = (desc.cost * desc.quantity * desc.quantity_2);\r\n        showRemarkModal.value = true;\r\n        budget_item_description_id.value = desc.id;\r\n    }\r\n  const  closeRemarkModal = () => {\r\n    showRemarkModal.value = false;\r\n    newremark.value = ''; // Clear the remark input\r\n    remarks.value = []; // Reset the remarks list\r\n    description.value = ''; // Clear the machine name\r\n    items_project.value = ''; // Clear the item name\r\n    budget_item_description_id.value = ''; // Clear the item description ID\r\n    description_cost.value = ''; // Clear the cost input \r\n    fetchItems(); // Refresh the items list\r\n    }\r\n    const saveRemark = async () => {\r\n        if (!newremark.value.trim()) {\r\n            showError(\"Remark cannot be empty!\");\r\n            return;\r\n        }\r\n      isSending.value= true;\r\n        try {\r\n            if (status.value === 'credit') {\r\n                description_cost.value = -Math.abs(description_cost.value);\r\n            } else if( status.value == 'debit' ) {\r\n                description_cost.value = Math.abs(description_cost.value);\r\n            }\r\n            const response = await  axios.post(`${base_url}budget-remarks`, {   \r\n                date: new Date().toISOString().split('T')[0],\r\n                remarker_id: JSON.parse(localStorage.getItem(\"user\")).id,\r\n                description: newremark.value,\r\n                remarker: JSON.parse(localStorage.getItem(\"user\")).name,\r\n                budget_item_description_id: budget_item_description_id.value,\r\n                cost: description_cost.value,\r\n                status: status.value, // Default to unchecked                     \r\n            });\r\n            remarks.value.push(response.data); // Add new remark to the list\r\n            newremark.value = \"\"; // Clear input field\r\n            description_cost.value = \"\";\r\n            showMessage(\"Remark added successfully\");\r\n            fetchRemarks(budget_item_description_id.value); // Refresh remarks\r\n        } catch (error) {\r\n            showError(\"Error adding remark:\", error);\r\n        }\r\n        isSending.value= false;\r\n    };\r\n\r\nconst fetchRemarks = async (id) => {\r\n    isfetching.value = true;\r\n    try {\r\n        const response = await axios.get(`${base_url}budget-item-description-remarks/${id}`);\r\n        let balance = parseFloat(remark_cost.value); // Initialize balance with remark_cost\r\n        budgetRemaks.value = response.data.map((data, i) => {\r\n            balance -= parseFloat(data.cost); // Update balance by subtracting cost\r\n            return {\r\n            sno: i + 1,\r\n            id: data.id,\r\n            filled_by: data.remarker,\r\n            date: data.date,\r\n            debit: data.cost > 0 ? Number(data.cost).toLocaleString() + \"Tsh\" : \"--\",\r\n            credit: data.cost < 0 ? Number(Math.abs(data.cost)).toLocaleString() + \"Tsh\" : \"--\",\r\n            description: data.description,\r\n            balance: balance.toLocaleString() + \"Tsh\", // Add balance field\r\n            };\r\n        }); // Store response data\r\n             \r\n    } catch (error) {\r\n       showError(error.message);\r\n        console.error(\"Error fetching remarks:\", error);\r\n    }\r\n    isfetching.value = false;\r\n};\r\n    \r\nconst deleteBudgetRemark = async (id) => {\r\n        loading_spinner.value = true;\r\n        if (confirm(\"Are you sure you want to delete this remark?\")) {\r\n            loading_spinner.value = true;\r\n            const response = await axios.delete(`${base_url}budget-remarks/${id}`);\r\n\r\n             if (response.status == 200) {\r\n                fetchRemarks(budget_item_description_id.value);               \r\n                loading_spinner.value = false;\r\n                showMessage(response.data.message);\r\n               \r\n            } else {\r\n                showError(\"Failed to delete remark\", error);\r\n                   }         \r\n        } else {\r\n            loading_spinner.value = false;\r\n            return; // Exit if the user cancels\r\n     }                 \r\n};\r\n\r\n\r\n// end of remark code\r\n\r\n//for edit item description\r\nconst updateItemDescription = async (desc) => {\r\n    closeEdition();  \r\n      add_item_list.value = '';\r\n\r\n      const itemDescriptiondata={\r\n            'name':desc.name,\r\n            'units':desc.units,           \r\n            'ref_number':desc.ref_no,\r\n            'paid_by':desc.paid_by,\r\n            'quantity':desc.quantity || 1,\r\n            'quantity_2':desc.quantity_2 || 1,               \r\n            'cost': desc.cost || 0,\r\n            'notice':desc.notice\r\n              }\r\n        try {\r\n            const response = await axios.patch(`${base_url}item-descriptions/${desc.id}`,itemDescriptiondata);\r\n              fetchItems();\r\n             if (response.status == 200) {             \r\n                showMessage(\"Description Updated Succesfully\");\r\n             }\r\n             else{\r\n                showError(\"Failed to Update Item\");\r\n                console.error(error);  \r\n             }\r\n        } catch (error) {\r\n            console.error('Error fetching items:', error);\r\n        }\r\n    }; \r\n\r\nconst closeEdition = () => {   \r\n   edit_description.value='';\r\n}\r\n//editon fro item\r\nconst edit_item = ref('');\r\nconst editItemRow = async (id) => {\r\n     if (project_status.value == \"closed\") {\r\n        showError(\"Budget Is Closed \");\r\n          return;        \r\n    } else{\r\n    edit_item.value=id;\r\n    unlocked.value=true; \r\n    }\r\n    };\r\n    \r\nconst closeItemEdition = () => {\r\n    edit_item.value='';\r\n    unlocked.value=true;\r\n   \r\n}\r\n\r\nconst updateItem = async (item) => {\r\n    closeItemEdition();\r\n      add_item.value =! add_item.value;\r\n      const itemdata={\r\n            'name':item.name,             \r\n              }\r\n        try {\r\n            const response = await axios.patch(`${base_url}item/${item.id}`,itemdata);\r\n             \r\n             if (response.status == 200) {\r\n                item_name.value = \"\";\r\n                showMessage(\"item Updated Succesfully\");\r\n                fetchItems();\r\n             }\r\n             else{\r\n                showError(\"Failed to updaet Item\");\r\n                console.error(error);\r\n                \r\n             }\r\n        } catch (error) {\r\n            console.error('Error Update items:', error);\r\n            showError(error.message);\r\n        }\r\n    };  \r\n\r\n//code for closeing budget\r\n  const closing = ref(false);\r\n  const closeBudget = async () => {    \r\n    const data = {\r\n        'status': \"closed\"\r\n    }\r\n    in_process.value= true;\r\n      closing.value= true;\r\n    try {\r\n        const response = await axios.put(`${base_url}projects/${project_id.value}`, data);\r\n        if (response.status == 200) {\r\n            showMessage(\"Budget Closed Succesfully\");\r\n            project_status.value= response.data.status;\r\n            getProjects();\r\n             in_process.value= false;\r\n              closing.value= false;\r\n        } else {\r\n             in_process.value= false;\r\n              closing.value= false;\r\n            showError(\"Fail to Close Budget\");\r\n        }                    \r\n    } catch (error) {\r\n         in_process.value= false;\r\n          closing.value= false;\r\n        console.error('Error close Budget:', error);\r\n        showError(\"Fail to close Budget\");\r\n    }\r\n     }\r\n      const openBudget = async () => {    \r\n    const data = {\r\n        'status': \"open\"\r\n    }\r\n     in_process.value= true;\r\n      closing.value= true;\r\n    try {\r\n        const response = await axios.put(`${base_url}projects/${project_id.value}`, data);\r\n        if (response.status == 200) {\r\n             in_process.value= false;\r\n              closing.value= false;\r\n            showMessage(\"Budget Open Succesfully\");\r\n            project_status.value= response.data.status;\r\n            getProjects();\r\n        } else {\r\n             in_process.value= false;\r\n              closing.value= false;\r\n            showError(\"Fail to open Budget\");\r\n        }                    \r\n    } catch (error) {\r\n         closing.value= false;\r\n         in_process.value= false;\r\n        console.error('Error open Budget:', error);\r\n        showError(\"Fail to open Budget\");\r\n    }\r\n     }\r\n\r\n//whatsub trigger for budget review\r\n   // whatsapp notification\r\n  const triggerNotification = async (phone,sender,action,next_designation) => {\r\n  const recipientPhone = phone;\r\n  const endpoint = 'https://graph.facebook.com/v22.0/721816217672551/messages';\r\n  const accessToken = 'EAAXZAN9ZAW4VoBOZBhohedZA7pfKZBfzMghywTumPW7yFY0ZAI7u6Kh9DFtai4usEnmKsOnMZBYisZAQ0ojZBtEpDC72XXNyf6qFmtFtTCX61hv3I2eZCdZAevM9ahsDXGcIhT8stZAoTGstgOsujK4G1pxcSGqwFxiucZBcLr8HUoRxTLlB0IdVlLLlRGQ7n831T93WGUQZDZD';\r\n\r\n  const requestData = {\r\n    \"messaging_product\": \"whatsapp\",\r\n    \"recipient_type\": \"individual\",\r\n    \"to\": recipientPhone,\r\n    \"type\": \"template\",\r\n    \"template\": {\r\n        \"name\": \"copex_lpo\",\r\n        \"language\": {\r\n            \"code\": \"en\"\r\n        },\r\n        \"components\": [\r\n            {\r\n                \"type\": \"header\",\r\n                \"parameters\": [\r\n                    {\r\n                        \"type\": \"image\",\r\n                        \"image\": {\r\n                            \"link\": \"https://copexcontractors.co.tz/assets/img/copex-about-img.jpg\"\r\n                        }\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"type\": \"body\",\r\n                \"parameters\": [\r\n                    {\r\n                        \"type\": \"text\",\r\n                        \"text\": sender // Replaced \"Engineer\" with sender variable\r\n                    },\r\n                    {\r\n                        \"type\": \"text\",\r\n                        \"text\": action // Replaced first \"check\" with action variable\r\n                    },\r\n                    {\r\n                        \"type\": \"text\",\r\n                        \"text\": next_designation // Replaced \"Senior Accountant\" with next_designation\r\n                    },\r\n                    {\r\n                        \"type\": \"text\",\r\n                        \"text\": action // Kept second \"check\" or replaced with action if needed\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n};\r\n submit.value= true;\r\n  try {\r\n    const response = await fetch(endpoint, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${accessToken}`,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(requestData)\r\n    });\r\n    const data = await response.json();\r\n    showMessage(\"Messange Sent Succesfully\")\r\n    submit.value= false;\r\n  } catch (error) {\r\n    submit.value= false;\r\n    console.error('Error:', error);\r\n  }\r\n};\r\n\r\nconst printReport = () => {\r\n    company_id.value= budget_project.value.company_id;\r\n    let role;\r\n    if (company_id.value == 5) {\r\n        role= \"Project manager\"\r\n    } else {\r\n        role = \"Engineer\"\r\n    }\r\n    const printWindow = window.open('', 'DailyActivityReport');\r\n    printWindow.document.write(`\r\n<html>\r\n    <head>\r\n        <title>Print Item Budget Report</title>\r\n        <style>\r\n            table {\r\n                width: 100%;\r\n                border-collapse: collapse;\r\n                margin-bottom: 10px;\r\n            }\r\n            th, td {\r\n                border: 1px solid black;\r\n                padding: 8px;\r\n                text-align: left;\r\n            }\r\n            th {\r\n                background-color: #f2f2f2;\r\n            }\r\n            .nested-table {\r\n                width: 100%;\r\n                margin: 0;\r\n                border: none;\r\n            }\r\n            .nested-table th, .nested-table td {\r\n                padding: 5px;\r\n            }\r\n            .total-row {\r\n                font-weight: bold;\r\n                background-color: #f0f0f0;\r\n            }\r\n            .grand-total-row {\r\n                font-weight: bold;\r\n                background-color: #e0e0e0;\r\n                font-size: 1.1em;\r\n            }\r\n            .signature-section {\r\n                page-break-inside: avoid; /* Prevents splitting */\r\n                margin-top: 50px; /* Adds space before signatures */\r\n            }\r\n            .signature-table {\r\n                width: 100%;\r\n                border-collapse: collapse;\r\n            }\r\n            .signature-cell {\r\n                height: 2cm;\r\n                vertical-align: bottom;\r\n                border: 1px solid black;\r\n            }\r\n            \r\n            .fw-bold{\r\n             font-weight:bolder;\r\n            }\r\n        </style>\r\n    </head>\r\n    <body>\r\n\r\n        <table>\r\n          <tr>\r\n            <td class=\"fw-bold\">PROJECT&nbsp;NAME&nbsp;: </td>\r\n            <td>${(budget_project.value.project_name).toUpperCase()}</td>\r\n          </tr>\r\n           <tr>\r\n            <td class=\"fw-bold\">SHORT&nbsp;NAME&nbsp;: </td>\r\n            <td>${(budget_project.value.short_name).toUpperCase()}</td>\r\n          </tr>\r\n           <tr>\r\n            <td class=\"fw-bold\">CLIENT&nbsp;: </td>\r\n            <td>${(budget_project.value.client).toUpperCase()}</td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"fw-bold\">CONTRACT&nbsp;NUMBER&nbsp;: </td>\r\n            <td>${(budget_project.value.contract_number).toUpperCase()} </td>\r\n          </tr>\r\n           <tr>\r\n            <td class=\"fw-bold\">FINANCIAL&nbsp;YEAR&nbsp;: </td>\r\n            <td>${(budget_project.value.financial_year).toUpperCase()} </td>\r\n          </tr>\r\n\r\n            <tr>\r\n            <td class=\"fw-bold\">BUDGET&nbsp;FOR&nbsp;: </td>\r\n            <td> ${(budget.value.name).toUpperCase()}</td>\r\n          </tr>\r\n\r\n        </table>\r\n\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th>#</th>\r\n                    <th>Item</th>\r\n                    <th>Description</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                ${items.value.map((item,i) => `\r\n                    <tr>\r\n                        <td>${i + 1}</td>\r\n                        <td>${item.name}</td>\r\n                        <td>\r\n                            ${item.item_description && item.item_description.length > 0 ? `\r\n                            <table class=\"nested-table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Name</th>\r\n                                        <th>Units</th>\r\n                                        <th>Cost</th>\r\n                                        <th>Quantity</th>\r\n                                        <th>Total</th>\r\n                                        <th>Amount</th>\r\n                                        <th>Remarks</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    ${item.item_description.map(desc => `\r\n                                        <tr>\r\n                                            <td>${desc.name || '-'}</td>\r\n                                            <td>${desc.units || '-'}</td>\r\n                                            <td>${(desc.cost || 0).toLocaleString()}Tsh</td>\r\n                                            <td>${(desc.quantity || 0).toLocaleString()} x ${(desc.quantity_2 || 0).toLocaleString()}</td>\r\n                                            <td>${((desc.quantity || 0).toLocaleString() * (desc.quantity_2 || 0).toLocaleString())}</td>\r\n                                            <td>   \r\n                                              ${desc.budget_remark_sum_cost !== null && desc.budget_remark_sum_cost !== undefined ? `\r\n    <span style=\"text-decoration: line-through;\" class=\"text-danger\">\r\n        ${(desc.quantity * desc.cost * desc.quantity_2).toLocaleString()}Tsh\r\n    </span><br>` : ''}\r\n<span>\r\n    ${desc.budget_remark_sum_cost !== null && desc.budget_remark_sum_cost !== undefined ? \r\n        ((desc.quantity * desc.cost * desc.quantity_2) - desc.budget_remark_sum_cost).toLocaleString() :\r\n        (desc.quantity * desc.cost * desc.quantity_2).toLocaleString()}Tsh\r\n</span>\r\n\r\n                                            </td>\r\n\r\n                                            <td>${desc.notice || '-'}</td>\r\n                                        </tr>\r\n                                    `).join('')}\r\n                                </tbody>\r\n                            </table>\r\n                            ` : 'No description available'}\r\n                        </td>\r\n                    </tr>\r\n                    ${item.item_description && item.item_description.length > 0 ? `\r\n                    <tr class=\"total-row\">\r\n                        <td colspan=\"2\">Budget</td>\r\n                        <td>\r\n                            <table class=\"nested-table\">\r\n                                <tr>\r\n                                    <td>Total Balance :</td>\r\n                                    <td>\r\n                                          ${item.item_description.some(desc => desc.budget_remark_sum_cost !== null && desc.budget_remark_sum_cost !== undefined) ? `\r\n                                          <span style=\"text-decoration: line-through;\" class=\"text-danger\">\r\n                                              ${item.item_description.reduce((sum, desc) => sum + ((desc.quantity || 0) * (desc.quantity_2 || 0) * (desc.cost || 0)) , 0).toLocaleString()} Tsh\r\n                                           </span><br>` : ''}\r\n                                           <span>\r\n                                              ${item.item_description.reduce((sum, desc) => sum + ((desc.quantity || 0) * (desc.quantity_2 || 0) * (desc.cost || 0)) - (desc.budget_remark_sum_cost || 0), 0).toLocaleString()} Tsh\r\n                                           </span>\r\n                                        </td>\r\n                                </tr>\r\n                            </table>\r\n                        </td>\r\n                    </tr>\r\n                    ` : ''}\r\n                `).join('')}\r\n            </tbody>\r\n        </table>\r\n\r\n        <!-- GRAND TOTAL SECTION (AFTER MAIN TABLE) -->\r\n        <table style=\"margin-top: 20px; width: 50%; float: right;\">\r\n            <tr class=\"grand-total-row\">\r\n            <td><strong>ALLOCATED AMOUNT</strong></td>\r\n            <td><strong>${funded_amount.value.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })} Tsh</strong></td>\r\n            </tr>\r\n            <tr class=\"grand-total-row\">\r\n            <td><strong>ALLOCATED BALANCE</strong></td>\r\n            <td><strong>${\r\n                (\r\n                funded_amount.value -\r\n                items.value.reduce(\r\n                    (grandTotal, item) =>\r\n                    grandTotal +\r\n                    (item.item_description?.reduce(\r\n                        (itemTotal, desc) =>\r\n                        itemTotal + (Number(desc.budget_remark_sum_cost) || 0),\r\n                        0\r\n                    ) || 0),\r\n                    0\r\n                )\r\n                ).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n            } Tsh</strong></td>\r\n            </tr>\r\n            <tr class=\"grand-total-row\">\r\n            <td><strong>GRAND TOTAL</strong></td>\r\n            <td><strong>${\r\n                items.value.reduce(\r\n                (grandTotal, item) =>\r\n                    grandTotal +\r\n                    (item.item_description?.reduce(\r\n                    (itemTotal, desc) =>\r\n                        itemTotal +\r\n                        ((desc.quantity || 0) * (desc.cost || 0) * (desc.quantity_2 || 0)) -\r\n                        (desc.budget_remark_sum_cost || 0),\r\n                    0\r\n                    ) || 0),\r\n                0\r\n                ).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n            } Tsh</strong></td>\r\n            </tr>\r\n        </table>\r\n        <div style=\"clear: both;\"></div>\r\n\r\n        <!-- Signatures Section (Ensured to stay intact) -->\r\n        <div class=\"signature-section\">\r\n            <h3>Signatures</h3>\r\n            <table class=\"signature-table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Operation's Sign</th>\r\n                        <th>${role}'s Sign</th>\r\n                        <th>Sr Accountant's sign</th>\r\n                        <th>MD's Sign</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td class=\"signature-cell\"></td>\r\n                        <td class=\"signature-cell\"></td>\r\n                        <td class=\"signature-cell\"></td>\r\n                        <td class=\"signature-cell\"></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </body>\r\n</html>\r\n`);\r\n    printWindow.document.close();\r\n    printWindow.print();\r\n    \r\n};\r\n\r\n\r\n //code for creating lpo_items wit all logiks\r\n const submit = ref(false);\r\n const isAccordionOpen = ref(true);\r\nconst lpoNumberFromStorage = ref('');\r\nconst projectIdFromStorage = ref('');\r\nconst un_finished = ref(false);\r\n const lpo_item_description_id = ref('')\r\n const is_unfinished_lpo =ref(false);\r\n const   lpo_window = ref(false);\r\n const is_create_lpo =  ref(false);\r\n const lpo_item_cost = ref('');\r\n const lpo_item_name = ref('');\r\n const lpo_total_quantity= ref('')\r\n const lpo_item_quantity= ref('');\r\n const lpo_item_units = ref('');\r\n const lpo_item_notice =  ref('');\r\n const lpo_number = ref('');\r\n const lpo_creation_window = ref(false);\r\n const lpo_items = ref([]);\r\nconst item_columns = ref(['SNo','description', 'units', 'quantity', 'rate', 'amount','actions',]);\r\nconst loading = ref('');\r\nconst total_amount= ref();\r\nconst itemDescriptionIdFromStorage = ref('');\r\nconst itemQuantitydFromStorage = ref('');\r\nconst order_registration = ref(false);\r\n const axiosInstance2 = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n\r\nconst setEnvForLpoCreation = () => {\r\n         order_registration.value=true;\r\n};\r\n\r\n\r\n  const clearForm = ()=>{\r\n       supplier_name.value='';\r\n       project_name.value='';\r\n       payment_terms.value='';\r\n       supplier_address.value='';\r\n       supplier_location.value='';\r\n       vendor_id.value='';\r\n       Vendor_name.value = '';\r\n    Vendor_phone.value= '';\r\n    Vendor_email.value ='';\r\n    Vendor_address.value ='';\r\n    Vendor_location.value ='';\r\n    order_registration.value = false;\r\n    add_vendor.value = false\r\n    };\r\n\r\n\r\n const supplier_name = ref('');\r\n    const supplier_address = ref('');\r\n    const supplier_location = ref('');\r\n       const Vendor_name = ref('');\r\n    const Vendor_phone= ref('');\r\n    const Vendor_email = ref('');\r\n  const Vendor_address =ref ('');\r\n  const Vendor_location=ref('');\r\n    const payment_terms = ref('');\r\n    const vendor_id = ref('');\r\n    const registerPurchaseOrder = async () => {\r\n    try {\r\n        order_registration.value = false;\r\n        loading_spinner.value = true;\r\n        \r\n        // First register vendor if needed\r\n        if (add_vendor.value === true) {\r\n            await registerVendor(); // Wait for vendor registration to complete\r\n        }\r\n\r\n        const purchaseOrderData = {\r\n            name: 'budget'+project_id.value,\r\n            company_id: company_id.value,\r\n            vendor_id: vendor_id.value,\r\n            supplier: \"none\",\r\n            address: \"none\",\r\n            project_id: budget_project.value.id,\r\n            project: 'empty',\r\n            payment_terms: payment_terms.value,\r\n            location: \"none\",\r\n            user_id: JSON.parse(localStorage.getItem(\"user\")).id,\r\n            requested_by: JSON.parse(localStorage.getItem(\"user\")).name,\r\n            status_name: 'Inactive',\r\n            status_color: 'dark',\r\n        };\r\n\r\n        const response = await axiosInstance2.post('/purchase-order', purchaseOrderData);\r\n        getPurchaseOrders();\r\n        clearForm();\r\n        loading_spinner.value = false;\r\n      if (response.status === 201) {   \r\n            view_lpo_list.value=true;   \r\n            showMessage(\"Purchase Order Registered Successfully\");\r\n        } else {\r\n            showError(\"Failed to register Purchase Order\"); \r\n            console.error(error);\r\n            \r\n        }\r\n       \r\n    } catch (error) {\r\n        showError(\"Error code \" + error.status);\r\n        console.error(\"Error registering Order:\", error);\r\n        loading_spinner.value = false;\r\n    }\r\n};\r\n\r\nconst registerVendor = async () => {\r\n    try {\r\n        loading_spinner.value = true;\r\n        const VendorData = {\r\n            name: Vendor_name.value,\r\n            phone: Vendor_phone.value,\r\n            email: Vendor_email.value,\r\n            address: Vendor_address.value,\r\n            location: Vendor_location.value,\r\n        };\r\n\r\n        const response = await axiosInstance.post('/vendors', VendorData);\r\n        vendor_id.value = response.data.id;\r\n        loading_spinner.value = false;\r\n        return response.data.id; // Return the vendor ID\r\n    } catch (error) {\r\n        showError(\"Error registering Vendor\" + error.status);\r\n        loading_spinner.value = false;\r\n        throw error; // Re-throw the error to be caught in registerPurchaseOrder\r\n    }\r\n};\r\n \r\n// When saving LPO data\r\n\r\n\r\n const openLpoCreationModal = (desc, item) => {\r\n    // Reset stored quantity when opening a new item\r\n    console.log('selected LPO status',selected_lpo_status.value);\r\n    itemQuantitydFromStorage.value = 0;\r\n    itemDescriptionIdFromStorage.value = null;\r\n    \r\n    // Set new item values\r\n    lpo_item_description_id.value = desc.id;\r\n    lpo_item_cost.value = desc.cost;\r\n    lpo_item_name.value = desc.name;\r\n    lpo_item_quantity.value = desc.quantity * desc.quantity_2;\r\n    lpo_item_units.value = desc.units;\r\n    is_create_lpo.value = true;\r\n    lpo_total_quantity.value = desc.quantity * desc.quantity_2;\r\n    \r\n    // Now get items (including stored quantities)\r\n    getItems();\r\n}\r\n\r\nconst getItems = async () => {\r\n    loading.value = true;\r\n    try { \r\n        const response = await axiosInstance2.get(`/order-items/${selected_lpo.value}`);\r\n        if (response.data && Array.isArray(response.data)) {\r\n            total_amount.value = response.data.reduce((sum, order) => {\r\n                return sum + (order.quantity * order.rate);\r\n            }, 0);                    \r\n            \r\n            lpo_items.value = response.data.map((order, index) => ({\r\n                SNo: index + 1,\r\n                category: order.category,\r\n                id: order.id,\r\n                description: order.description,\r\n                units: order.unit_measure,\r\n                quantity: order.quantity.toLocaleString(),\r\n                rate: Number(order.rate).toLocaleString(),\r\n                amount: (order.quantity * order.rate).toLocaleString(undefined, { maximumFractionDigits: 3})\r\n            }));\r\n            \r\n            loading.value = false;\r\n        } else {\r\n            loading.value = false;\r\n            console.error(\"Invalid response format\");\r\n        }\r\n    } catch (error) {\r\n        loading.value = false;\r\n        console.error(\"Error fetching purchase order: \", error);\r\n    }\r\n};\r\n\r\n const registerItem = () => {\r\n    if(!selected_lpo.value){\r\n        showError(\"No LPO selected\");\r\n        return;\r\n    }\r\n    if(lpo_item_quantity.value > lpo_total_quantity.value  ){\r\n        showError(\"The Quantity exceeds The Quantity Available\");\r\n        return;\r\n    } \r\n  if(lpo_item_quantity.value <= 0) {\r\n    showError(\"The Quantity Can't be zero or negative\");\r\n    return;\r\n}  \r\n\r\n    loading.value = true;   \r\n    \r\n    const itemData = {\r\n        order_id: selected_lpo.value,\r\n        description: lpo_item_name.value,\r\n        unit_measure: lpo_item_units?.value || \"NO\",\r\n        quantity: lpo_item_quantity.value,\r\n        machine_id: 0,\r\n        rate: lpo_item_cost.value,\r\n        item_list_id: budget_project.value.id,\r\n        category: \"budget\",\r\n    };\r\n    \r\n    axiosInstance2\r\n        .post('/items', itemData)\r\n        .then((response) => {              \r\n            isSending.value = false;   \r\n            loading.value = false;          \r\n            \r\n            if (response.status === 201) {               \r\n                getItems();\r\n                showMessage('Item registered successfully');\r\n            } else {\r\n                showError('Error registering item');\r\n                console.error(\"Error registering Order:\", response.data.message);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            loading.value = false;\r\n            console.error(\"Error registering Order:\", error.message);\r\n        });\r\n};\r\n\r\n const clearItemForm = () =>{\r\n     lpo_item_cost.value = \" \";\r\n    lpo_item_name.value= \" \";\r\n    lpo_item_quantity.value= \" \";\r\n    lpo_item_units.value= \" \";\r\n    lpo_total_quantity.value='';\r\n }\r\n\r\n const closeLpoCreationModal = () =>{   \r\n    is_create_lpo.value= false;\r\n    is_unfinished_lpo.value = false;\r\n    itemQuantitydFromStorage.value = 0;\r\n }\r\n\r\n const deleteLpoItem = (id) => {\r\n        loading.value = true;\r\n   if (confirm(\"Are you sure you want to delete this item?\")) {\r\n                  axiosInstance2\r\n            .delete(`/items/${id}`)\r\n            .then((response) => {\r\n                getItems();\r\n                loading.value = false;\r\n                if (response.status === 200) {\r\n                   showMessage('Item Deleted successfully');\r\n                } else {\r\n                    showError('Fail to Delete item');\r\n                    console.error(\"Error registering Order:\", response.data.message);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                 loading.value = false;\r\n                console.error(\"Error registering Order:\", error.message);\r\n            });  \r\n    \r\n   }\r\n}\r\n\r\n\r\n\r\nconst clearLpoStorage = () => {\r\n    // Option 1: Clear completely\r\n    localStorage.removeItem('current_lpo_data');\r\n    \r\n    // Option 2: Clear only current project's LPO\r\n    const storedData = localStorage.getItem('current_lpo_data');\r\n    if (storedData) {\r\n        try {\r\n            const parsed = JSON.parse(storedData);\r\n            let lpoArray = Array.isArray(parsed) ? parsed : [parsed];\r\n            \r\n            // Filter out current project's LPOs\r\n            lpoArray = lpoArray.filter(lpo => \r\n                String(lpo.project_id) !== String(project_id.value)\r\n            );\r\n            \r\n            // Save back if array not empty\r\n            if (lpoArray.length > 0) {\r\n                localStorage.setItem('current_lpo_data', JSON.stringify(lpoArray));\r\n            } else {\r\n                localStorage.removeItem('current_lpo_data');\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error clearing LPO data:\", error);\r\n            localStorage.removeItem('current_lpo_data');\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\nconst activatePurchaseOrder = () => {\r\n        const activationData = {\r\n            status_name: 'Unapproved',\r\n            status_color: 'secondary',\r\n        };        \r\n        if (confirm(\"Are you sure you want to Close this Order?\")) {\r\n            axiosInstance2\r\n                .put(`/purchase-order/${selected_lpo.value}`, activationData)\r\n                .then((response) => {\r\n                if (response.status == 200) {                  \r\n                     showMessage(\" Activation Successfuly! Now Waiting for Approvals\");\r\n                     selected_lpo_status.value=\"Unapproved\";\r\n                     getPurchaseOrders();\r\n                }\r\n                else{\r\n                    showError(\"activation Fails\");\r\n                }\r\n                })\r\n \r\n                .catch((error) => {\r\n                    console.error(\"Error activating order:\", error.message);\r\n                });   \r\n        } else {\r\n           \r\n        }\r\n    };\r\n\r\n\r\nconst printRemarkReport = () => {\r\n    const printWindow = window.open('', 'BudgetRemarkReport');\r\n    printWindow.document.write(`\r\n<html>\r\n    <head>\r\n        <title>Print Item Remark Report</title>\r\n        <style>\r\n            table {\r\n                width: 100%;\r\n                border-collapse: collapse;\r\n                margin-bottom: 10px;\r\n            }\r\n            th, td {\r\n                border: 1px solid black;\r\n                padding: 8px;\r\n                text-align: left;\r\n            }\r\n            th {\r\n                background-color: #f2f2f2;\r\n            }\r\n            .nested-table {\r\n                width: 100%;\r\n                margin: 0;\r\n                border: none;\r\n            }\r\n            .nested-table th, .nested-table td {\r\n                padding: 5px;\r\n            }\r\n            .total-row {\r\n                font-weight: bold;\r\n                background-color: #f0f0f0;\r\n            }\r\n            .grand-total-row {\r\n                font-weight: bold;\r\n                background-color: #e0e0e0;\r\n                font-size: 1.1em;\r\n            }\r\n            .signature-section {\r\n                page-break-inside: avoid; /* Prevents splitting */\r\n                margin-top: 50px; /* Adds space before signatures */\r\n            }\r\n            .signature-table {\r\n                width: 100%;\r\n                border-collapse: collapse;\r\n            }\r\n            .signature-cell {\r\n                height: 2cm;\r\n                vertical-align: bottom;\r\n                border: 1px solid black;\r\n            }\r\n            \r\n            .fw-bold{\r\n             font-weight:bolder;\r\n            }\r\n\r\n        </style>\r\n    </head>\r\n    <body>\r\n        <h3 style=\"text-align: center;\">BUDGET ITEM TRANSACTION SUMMARY REPORT</h3>\r\n        <table>\r\n         <tr>\r\n            <td class=\"fw-bold\">PROJECT&nbsp;NAME&nbsp;: </td>\r\n            <td>${(budget_project.value.short_name).toUpperCase()}</td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"fw-bold\">BUDGET&nbsp;NAME&nbsp;: </td>\r\n            <td>${(project_name.value)}</td>\r\n          </tr>\r\n           <tr>\r\n            <td class=\"fw-bold\">ITEM&nbsp;: </td>\r\n            <td>${(items_project.value)}</td>\r\n          </tr>\r\n           <tr>\r\n            <td class=\"fw-bold\">DESCRIPTION&nbsp;: </td>\r\n            <td>${(description.value)}</td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"fw-bold\">BUDGET&nbsp;COST&nbsp;: </td>\r\n            <td>${(remark_cost.value).toLocaleString()} Tsh</td>\r\n          </tr>\r\n        </table>\r\n <h4 style=\"text-align: center;\">TRANSACTION RECORD</h4>\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th>#</th>\r\n                    <th>Filled&nbsp;by</th>\r\n                    <th>Date&nbsp;</th>\r\n                    <th>Description</th>\r\n                    <th>Debit</th>\r\n                    <th>Credit</th>\r\n                    <th>Balance</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                ${budgetRemaks.value.map((item,i) => `\r\n                    <tr>\r\n                        <td>${i + 1}</td>\r\n                        <td>${item.filled_by}</td>\r\n                        <td>${item.date}</td>\r\n                        <td>${item.description}</td>\r\n                        <td>${item.debit}</td>\r\n                        <td>${item.credit}</td>\r\n                        <td>${item.balance}\r\n                            ${item.filled_by && item.filled_by.length > 0 ? `\r\n                            ` : 'No description available'}\r\n                        </td>\r\n                    </tr>\r\n                `).join('')}\r\n            </tbody>\r\n        </table>\r\n    </body>\r\n</html>\r\n`);\r\n    printWindow.document.close();\r\n    printWindow.print();\r\n    \r\n};\r\n\r\n</script>\r\n<style scoped>\r\n.nav-link.active {\r\n    background-color: #007bff !important;\r\n    color: white !important;\r\n}\r\n\r\n.nav-item {\r\n    margin-right: 12px;\r\n    margin-left:5px;\r\n}\r\n\r\n.budgets-container {\r\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n    max-width: 800px;\r\n    margin: 20px auto;\r\n    padding: 20px;\r\n    background: #f8f9fa;\r\n    border-radius: 10px;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.budgets-title {\r\n    color: #2c3e50;\r\n    margin-bottom: 15px;\r\n    font-weight: 600;\r\n    text-align: center;\r\n}\r\n\r\n.budgets-buttons {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 10px;\r\n}\r\n\r\n.budget-button {\r\n    display: inline-block;\r\n    padding: 10px 20px;\r\n    border-radius: 20px;\r\n    font-weight: 500;\r\n    cursor: pointer;\r\n    transition: all 0.2s ease;\r\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n    text-align: center;\r\n    min-width: 120px;\r\n    border: none;\r\n    color: white;\r\n}\r\n\r\n.project-button {\r\n    background: linear-gradient(135deg, #2ecc71, #27ae60);\r\n}\r\n\r\n.project-button:hover {\r\n    background: linear-gradient(135deg, #27ae60, #219653);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 3px 6px rgba(0,0,0,0.15);\r\n}\r\n\r\n.new-project-button {\r\n    background: linear-gradient(135deg, #3498db, #2980b9);\r\n}\r\n\r\n.new-project-button:hover {\r\n    background: linear-gradient(135deg, #2980b9, #1a6ea8);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 3px 6px rgba(0,0,0,0.15);\r\n}\r\n.budget-button.project-button {\r\n  position: relative;\r\n  padding-right: 20px; /* Make space for the cross mark */\r\n}\r\n\r\n.close-mark {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.close-mark:hover {\r\n  color: red;\r\n}\r\n\r\n.accordion {\r\n  position: relative;\r\n}\r\n.accordion-toggle {\r\n  text-align: center;\r\n  cursor: pointer;\r\n  padding: 5px;\r\n  background: #f5f5f5;\r\n  color: red;\r\n}\r\n.toggle-arrow {\r\n  font-size: 16px;\r\n}\r\n.budget-button {\r\n  margin: 2px;\r\n}\r\n</style>","import script from \"./item_budget.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./item_budget.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./item_budget.vue?vue&type=style&index=0&id=5f0e9f80&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\copexErp\\\\frontEnd\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5f0e9f80\"]])\n\nexport default __exports__"],"names":["hide_lpo","ref","selected_lpo","view_lpo_list","columns","company_id","amendment_form","user_permissions","JSON","parse","localStorage","getItem","permissions","useMeta","title","add_vendor","edit_description","is_description_edit","is_debit","budget_name","edit_budget_name","add_fund","project_status","unlocked","add_item","item_name","name","cost","quantity","quantity_2","paid_by","ref_no","notice","units","add_item_list","loading_spinner","base_url","showMessage","inject","showError","recordLog","project_name","funded_amount","new_fund","project_id","items","budget_project","fund_date","Date","toISOString","slice","lpo_list","purchaseOrders","selected_lpo_status","getPurchaseOrders","async","response","axios","value","id","data","Array","isArray","filter","order","status_name","map","index","SNo","LPO_number","String","padStart","date_created","supplier","vendor","address","requested_by","date","project","project_aka","payment","payment_terms","location","requester","user_id","status","length","console","error","vendors","getVendors","watch","newVal","getProjects","table_option","perPage","perPageValues","skin","columnsClasses","actions","pagination","nav","chunk","texts","count","filterPlaceholder","limit","sortable","sortIcon","base","up","down","resizableColumns","searchable","handleVendorChange","event","target","addVendor","vendor_id","editRow","budget","editBudget","user_name","total_fund","addFund","parseFloat","short_name","amendment_description","axiosInstance","baseURL","process","requestAmendment","post","remarker_id","description","type_id","remark_type","remarks","push","message","route","useRoute","params","budget_id","getBudgetProjects","deleteItem","in_process","then","fetchItems","deleteItemDescription","addItem","itemdata","addItemDescription","itemDescriptiondata","user","onMounted","storedUser","fetchAmendmentRequests","readRemark","get","log","amendmentRequests","amendment_request_count","item","unchecked_count","isfetching","newremark","description_cost","showRemarkModal","isSending","remark_cost","items_project","budgetRemaks","budget_item_description_id","remarkcolumns","openRemarkModal","desc","fetchRemarks","closeRemarkModal","saveRemark","trim","Math","abs","split","remarker","balance","i","sno","filled_by","debit","Number","toLocaleString","credit","deleteBudgetRemark","confirm","updateItemDescription","closeEdition","edit_item","editItemRow","closeItemEdition","updateItem","closing","closeBudget","openBudget","triggerNotification","phone","sender","action","next_designation","recipientPhone","endpoint","accessToken","requestData","submit","fetch","method","headers","body","stringify","json","printReport","role","printWindow","window","open","document","write","toUpperCase","client","contract_number","financial_year","item_description","budget_remark_sum_cost","undefined","join","some","reduce","sum","minimumFractionDigits","maximumFractionDigits","grandTotal","itemTotal","close","print","lpoNumberFromStorage","un_finished","lpo_item_description_id","is_unfinished_lpo","lpo_window","is_create_lpo","lpo_item_cost","lpo_item_name","lpo_total_quantity","lpo_item_quantity","lpo_item_units","lpo_item_notice","lpo_number","lpo_creation_window","lpo_items","item_columns","loading","total_amount","itemDescriptionIdFromStorage","itemQuantitydFromStorage","order_registration","axiosInstance2","setEnvForLpoCreation","clearForm","supplier_name","supplier_address","supplier_location","Vendor_name","Vendor_phone","Vendor_email","Vendor_address","Vendor_location","registerPurchaseOrder","registerVendor","purchaseOrderData","status_color","VendorData","email","openLpoCreationModal","getItems","rate","category","unit_measure","amount","registerItem","itemData","order_id","machine_id","item_list_id","catch","closeLpoCreationModal","deleteLpoItem","delete","activatePurchaseOrder","activationData","put","printRemarkReport","__exports__"],"sourceRoot":""}