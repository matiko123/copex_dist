{"version":3,"file":"js/3006.0bdfb7e4.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/vendors/index.vue","webpack://cork-vue3/./src/views/vendors/index.vue?7cd5"],"sourcesContent":["<template>\r\n  <div class=\"w-100 px-0\">\r\n    <teleport to=\"#breadcrumb\">\r\n      <ul class=\"navbar-nav flex-row\">\r\n        <li>\r\n          <div class=\"page-header\">\r\n            <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n              <ol class=\"breadcrumb\">\r\n                <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Charts</a></li>\r\n                <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Apex</span></li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </teleport>\r\n\r\n    <div v-scroll-spy class=\"row g-0 my-4\">\r\n      <!-- Key Metrics Section -->\r\n      <div class=\"col-12 mb-4\">\r\n        <div class=\"row ms-0 me-0\">\r\n          <!-- Total Tasks -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox2 panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h6 class=\"mb-1\">Total Vendors</h6>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Total Approved Budget -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox2 panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h6 class=\"mb-1\">Total Vendor Purchases</h6>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Budget Consumed -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox2 panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h6 class=\"mb-1\">Received Material Cost</h6>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Remaining Budget -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox2 panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h6 class=\"mb-1\">Pending Received</h6>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Amount Paid -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox2 panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h6 class=\"mb-1\">Delayed Materials</h6>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Amount Due -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"bg-danger panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h6 class=\"mb-1\"  >Vendor Leading Delay</h6>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"row ms-0 me-0\">\r\n          <!-- Total Tasks Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h3 class=\"mb-0\">{{ analysis.total_vendors || 0 }}</h3>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Total Approved Budget Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h3 class=\"mb-0\">{{ formatNumber(analysis.total_purchases || 0) }}</h3>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Budget Consumed Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h3 class=\"mb-0\">{{ formatNumber(analysis.received_grn_purchase_cost || 0) }}</h3>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Remaining Budget Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h3 class=\"mb-0\">{{ formatNumber(analysis.pending_grn_purchase_cost|| 0) }}</h3>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Amount Paid Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h3 class=\"mb-0\">{{ formatNumber(analysis.delayed_grn_purchase_cost || 0) }}</h3>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Amount Due Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h3 class=\"mb-0\"  style=\"font-size: 18px;\">{{ analysis?.vendor_leading_delay?.name || 'no one' }}</h3>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Row 1: Task Breakdown & Approved Budget Charts -->\r\n      <div class=\"col-12 mb-4\">\r\n        <div class=\"row ms-0 me-0\">\r\n          <!-- Task Breakdown by Status -->\r\n       <div class=\"col-lg-6 col-md-12 mb-4\">\r\n            <div class=\"statbox panel box box-shadow h-100\">\r\n              <div class=\"panel-heading\">\r\n                <h5 class=\"text-center mb-0\">Vendor Analysis: Timely Product Delivery </h5>\r\n              </div>\r\n              <div class=\"panel-body\">\r\n                <apexchart\r\n                  v-if=\"vendors\"\r\n                  height=\"450\"\r\n                  type=\"bar\"\r\n                  :options=\"vendors\"\r\n                  :series=\"vendorSales\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Approved Budget For Each Category -->\r\n        <div class=\"col-lg-6 col-md-12 mb-4\">\r\n            <div class=\"statbox panel box box-shadow h-100\">\r\n              <div class=\"panel-heading\">\r\n                <h5 class=\"text-center mb-0\">Overall Materials Pending to be Received</h5>\r\n              </div>\r\n              <div class=\"panel-body\">\r\n                <div class=\"text-center\">\r\n                  <apexchart\r\n                    v-if=\"grnChart\"\r\n                    height=\"450\"\r\n                    type=\"pie\"\r\n                    :options=\"grnChart\"\r\n                    :series=\"grnData\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, inject } from 'vue';\r\nimport '@/assets/sass/scrollspyNav.scss';\r\nimport apexchart from 'vue3-apexcharts';\r\nimport { useStore } from 'vuex';\r\nimport { useMeta } from '@/composables/use-meta';\r\nimport axios from 'axios';\r\nimport Multiselect from '@suadelabs/vue3-multiselect';\r\nimport '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\nuseMeta({ title: 'Vendor Analysis' });\r\nconst formatNumber = inject('formatNumber');\r\nconst showMessage = inject('showMessage');\r\nconst showError = inject('showError');\r\nconst store = useStore();\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst vendorSales = computed(() => {\r\n  const vendorsData = analysis.value?.top_vendors || [];\r\n\r\n  return [\r\n    {\r\n      name: 'Delivered',\r\n      data: vendorsData.map(v => v.received_grn_cost)\r\n    },\r\n    {\r\n      name: 'Pending',\r\n      data: vendorsData.map(v => v.pending_grn_cost)\r\n    },\r\n    {\r\n      name: 'Delayed',\r\n      data: vendorsData.map(v => v.delayed_grn_cost)\r\n    }\r\n  ];\r\n});\r\n\r\n\r\n\r\n\r\n\r\nconst grnData = ref([0, 50]); \r\nconst grnChart = computed(() => {\r\n  const is_dark = store.state.is_dark_mode;\r\n  return {\r\n    chart: {\r\n      type: 'pie',\r\n      fontFamily: 'inherit'\r\n    },\r\n    labels: ['Timely Pending', 'Delayed'],\r\n    colors: ['#FF9E06' , '#fc284f'],\r\n    legend: {\r\n      position: 'bottom',\r\n      fontSize: '18px',\r\n      labels: {\r\n        colors: is_dark ? '#000000' : '#000000'\r\n      }\r\n    },\r\n    dataLabels: {\r\n      enabled: true,\r\n      formatter: function(val) {\r\n        return val.toFixed(1) + '%';\r\n      },\r\n      style: {\r\n        fontSize: '18px',\r\n        colors: ['#fff'] \r\n      }\r\n    },\r\n    tooltip: {\r\n      theme: 'dark',\r\n      y: {\r\n        formatter: function(val) {\r\n          return val.toFixed(1) + '%';\r\n        }\r\n      }\r\n    },\r\n    plotOptions: {\r\n      pie: {\r\n        donut: {\r\n          size: '0%'\r\n        },\r\n        expandOnClick: true\r\n      }\r\n    },\r\n    responsive: [{\r\n      breakpoint: 480,\r\n      options: {\r\n        chart: {\r\n          width: 200\r\n        },\r\n        legend: {\r\n          position: 'bottom'\r\n        }\r\n      }\r\n    }]\r\n  };\r\n});\r\n\r\n// Budget Analysis: Approved vs. Consumed by Category (Grouped Bar Chart)\r\nconst vendors = computed(() => {\r\n  const is_dark = store.state.is_dark_mode;\r\n  const vendorNames = analysis.value?.top_vendors?.map(v => v.name) || [];\r\n  return {\r\n    chart: {\r\n      type: 'bar',\r\n      toolbar: { show: false },\r\n      fontFamily: 'inherit',\r\n      height: 350\r\n    },\r\n    plotOptions: {\r\n      bar: {\r\n        horizontal: false,\r\n        columnWidth: '55%',\r\n        borderRadius: 4\r\n      }\r\n    },\r\n    colors: ['#3c967b', '#FF9E06' , '#fc284f' ],\r\n    xaxis: {\r\n      categories: vendorNames,\r\n      labels: {\r\n        style: {\r\n          colors: is_dark ? '#888ea8' : '#3b3f5c',\r\n          fontSize: '12px'\r\n        }\r\n      }\r\n    },\r\n    yaxis: {\r\n      labels: {\r\n        style: {\r\n          colors: is_dark ? '#888ea8' : '#3b3f5c',\r\n          fontSize: '12px'\r\n        },\r\n        formatter: function(val) {\r\n          return formatNumber(val);\r\n        }\r\n      }\r\n    },\r\n    legend: {\r\n      position: 'bottom',\r\n      fontSize: '12px',\r\n      labels: {\r\n        colors: is_dark ? '#888ea8' : '#3b3f5c'\r\n      }\r\n    },\r\n    tooltip: {\r\n      theme: is_dark ? 'dark' : 'light',\r\n      y: {\r\n        formatter: function(val) {\r\n          return formatNumber(val);\r\n        }\r\n      }\r\n    },\r\n    grid: {\r\n      borderColor: is_dark ? '#191e3a' : '#e0e6ed',\r\n      strokeDashArray: 3\r\n    },\r\n    dataLabels: {\r\n      enabled: false\r\n    }\r\n  };\r\n});\r\n\r\n    const analysis = ref('')\r\n    const getVendorSummary = async ()=>{\r\n      try {\r\n         const response = await axiosInstance.get('vendor-summaries')\r\n         analysis.value = response.data\r\n\r\n         grnData.value = [\r\n           response.data.pending_grn_purchase_cost , response.data.delayed_grn_purchase_cost\r\n         ]\r\n          \r\n      }catch(error){\r\n        showError(error.message)\r\n        console.log(error)\r\n      }finally{\r\n    \r\n      }\r\n    }\r\n\r\n    onMounted(() => {\r\n        getVendorSummary();\r\n    });\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.statbox {\r\n  border-radius: 8px;\r\n  border: 1px solid #e0e6ed;\r\n}\r\n\r\n.statbox2 {\r\n  background-color: #1b2e4b;\r\n  border-radius: 8px;\r\n  border: 1px solid #e0e6ed;\r\n}\r\n\r\n.panel-heading {\r\n  padding: 1rem;\r\n  border-bottom: 1px solid #e0e6ed;\r\n}\r\n\r\n.panel-body {\r\n  padding: 1rem;\r\n}\r\n\r\nh3 {\r\n  font-weight: 600;\r\n}\r\n\r\nh5 {\r\n  font-weight: 600;\r\n}\r\n\r\nh6 {\r\n  font-size: 0.875rem;\r\n  font-weight: 600;\r\n  color: white;\r\n}\r\n\r\n.small {\r\n  font-size: 0.875rem;\r\n  color: #6c757d;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Dark mode support */\r\n:deep(.apexcharts-tooltip) {\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n:deep(.apexcharts-text) {\r\n  font-family: inherit !important;\r\n}\r\n\r\n/* Ensure consistent chart heights */\r\n:deep(.apexcharts-canvas) {\r\n  margin: 0 auto;\r\n}\r\n\r\n/* Additional styles for horizontal bar charts */\r\n:deep(.horizontal-bar-chart .apexcharts-bar-area) {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n:deep(.horizontal-bar-chart .apexcharts-bar-area:hover) {\r\n  filter: brightness(1.1);\r\n}\r\n\r\n/* Ensure proper spacing for long category names */\r\n:deep(.apexcharts-yaxis-texts-g text) {\r\n  dominant-baseline: middle;\r\n}\r\n\r\n/* Custom styling for horizontal bars */\r\n:deep(.apexcharts-bar-series.apexcharts-plot-series .apexcharts-bar-area) {\r\n  stroke-width: 0;\r\n}\r\n\r\n:deep(.apexcharts-bar-series.apexcharts-plot-series .apexcharts-bar-area:hover) {\r\n  stroke-width: 1;\r\n  stroke: #ffffff;\r\n}\r\n\r\n/* Responsive adjustments */\r\n@media (max-width: 768px) {\r\n  .col-lg-2, .col-md-4, .col-sm-6 {\r\n    margin-bottom: 1rem;\r\n  }\r\n  \r\n  h3 {\r\n    font-size: 1.5rem;\r\n  }\r\n  \r\n  h6 {\r\n    font-size: 0.8rem;\r\n  }\r\n}\r\n\r\n/* Add subtle animation to bars */\r\n@keyframes barGrow {\r\n  from {\r\n    transform: scaleX(0);\r\n    transform-origin: left;\r\n  }\r\n  to {\r\n    transform: scaleX(1);\r\n    transform-origin: left;\r\n  }\r\n}\r\n\r\n:deep(.apexcharts-bar-area) {\r\n  animation: barGrow 0.8s ease-out;\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=0c4f185a&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\copexErp\\\\frontEnd\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0c4f185a\"]])\n\nexport default __exports__"],"names":["axiosInstance","axios","baseURL","process","useMeta","title","formatNumber","inject","showError","store","useStore","vendorSales","computed","vendorsData","analysis","value","top_vendors","name","data","map","v","received_grn_cost","pending_grn_cost","delayed_grn_cost","grnData","ref","grnChart","state","is_dark_mode","chart","type","fontFamily","labels","colors","legend","position","fontSize","dataLabels","enabled","formatter","val","toFixed","style","tooltip","theme","y","plotOptions","pie","donut","size","expandOnClick","responsive","breakpoint","options","width","vendors","is_dark","vendorNames","toolbar","show","height","bar","horizontal","columnWidth","borderRadius","xaxis","categories","yaxis","grid","borderColor","strokeDashArray","getVendorSummary","async","response","get","pending_grn_purchase_cost","delayed_grn_purchase_cost","error","message","console","log","onMounted","__exports__"],"sourceRoot":""}