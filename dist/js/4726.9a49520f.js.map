{"version":3,"file":"js/4726.9a49520f.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/labours/labour_request.vue","webpack://cork-vue3/./src/views/labours/labour_request.vue?06cf"],"sourcesContent":["<template>   \r\n    <div class=\"layout-px-spacing\">\r\n        <!-- Breadcrumb -->\r\n        <ul class=\"navbar-nav flex-row\">\r\n            <li>\r\n                <div class=\"page-header\">\r\n                    <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                        <ol class=\"breadcrumb\">\r\n                            <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Labour Request</a></li>\r\n                        </ol>\r\n                    </nav>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n\r\n        <!-- Filters Section -->      \r\n        <div>\r\n        <button  class=\"btn btn-dark me-2 px-3\" @click=\"$router.go(-1)\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\r\n                <path fill-rule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8\"/>\r\n            </svg>\r\n        </button>\r\n        \r\n        <div v-if=\"user_permissions.includes('can_request_labours')\" class=\"d-flex me-4 gap-3\">\r\n            <div  class=\"ms-auto\">\r\n                <button v-if=\"is_closed\" class=\"btn btn-primary\" @click=\"payment_registration= true; is_closed = false; \">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n                        <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/>\r\n                    </svg>\r\n                </button>\r\n                <button v-else class=\"btn btn-danger\" @click=\"payment_registration = false; is_closed = true\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-x-square\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n                        <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <form v-if=\"payment_registration\" class=\"mt-1 p-3 border rounded bg-white shadow\" @submit.prevent=\"registerLabourRequest\">\r\n           <h4 class=\"text-center\">LABOUR REQUEST FORM </h4>                  \r\n           <div class=\"row mb-2\">\r\n\r\n         <div class=\"col-md-4\">\r\n              <label class=\"form-label\">Select Project</label>\r\n           <multiselect \r\n                    v-model=\"selected_project\"\r\n                    track-by=\"id\"\r\n                    :options= \"projects\"\r\n                    label = \"short_name\"\r\n                    placeholder=\"Select Project\"\r\n                    :required = \"true\"\r\n                    :searchable = \"true\"        \r\n                    multple=\"false\"\r\n                    ></multiselect>\r\n          </div>  \r\n\r\n            <div class=\"col-md-4\">\r\n              <label class=\"form-label\">Date</label>\r\n              <input type=\"date\" class=\"form-control\" v-model=\"selected_date\" name=\"date\" required>\r\n            </div>     \r\n    \r\n           <div class=\"col-md-4\">\r\n              <label class=\"form-label\">Working Days</label>\r\n              <input type=\"number\" placeholder=\"Enter Working Days\" class=\"form-control\" v-model=\"labour_days\" name=\"Vendor_name\" required>\r\n          </div> \r\n\r\n           <div class=\"col-md-12\">\r\n              <label class=\"form-label\">Task </label>\r\n             <textarea class=\"form-control\" placeholder=\"Enter Task\" required v-model=\"labour_task\"></textarea>\r\n          </div>      \r\n\r\n            </div>\r\n            <div class=\"text-center gap-2 justify-content-end\">\r\n                <button type=\"button\" class=\"btn btn-danger me-3\" @click=\"payment_registration = false;is_closed=true\">Cancel</button>\r\n                <button type=\"submit\" class=\"btn btn-primary\">Register</button>\r\n            </div>\r\n        \r\n        </form>\r\n\r\n   <div>\r\n        <div  class=\"text-center\"><h4>LABOUR REQUESTS LIST</h4></div>\r\n        <!-- loading starts -->\r\n            <div v-if=\"loading_spinner\" v-html=\"loadingIndicator()\"></div>\r\n         <!-- loading ends -->\r\n        <div v-else class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"row mb-3 d-flex justify-content-center align-items-center\">\r\n                </div>\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table \r\n                            :data=\"items\" \r\n                            :columns=\"columns\" \r\n                            :options=\"table_option\"                            \r\n                        >\r\n                           <template #status=\"props\">\r\n                               <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.class\">{{ props.row.status.key }} </span>\r\n                           </template>\r\n                            <template #actions=\"props\" >\r\n                                <svg \r\n                                 style=\"cursor:pointer\"\r\n                                  @click=\"openModal(props.row)\" \r\n                                  data-bs-toggle=\"modal\"  data-bs-target=\"#view_modal\"\r\n                                xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"text-primary bi bi-eye\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z\"/>\r\n  <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0\"/>\r\n</svg>\r\n\r\n                                <svg\r\n\r\n                                v-if=\"props.row.stat== 'Inactive'\"  \r\n                                class=\"w-6 h-6 text-gray-800 dark:text-white\" \r\n                                aria-hidden=\"true\"\r\n                                 xmlns=\"http://www.w3.org/2000/svg\" \r\n                                 width=\"24\" height=\"24\" fill=\"none\" \r\n                                 viewBox=\"0 0 24 24\"\r\n                                 @click=\"prepareLabourRequestEdit(props.row)\"\r\n                                 data-bs-toggle=\"modal\"  data-bs-target=\"#view_modal\"\r\n                              >\r\n                                    <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z\"/>\r\n                                </svg>\r\n\r\n                <svg\r\n                v-if=\"labour_request.stat ==! 'Inactive'\"\r\n                    @click=\"prepareTable(props.row)\"\r\n                    style=\"cursor:pointer\"\r\n                xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-printer text-success\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n                        <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n                </svg>\r\n\r\n                <svg\r\n                v-if=\"user_permissions.includes('can_delete_labour_request') && props.row.stat === 'Inactive'\"\r\n                @click=\"deleteLabourRequest(props.row.id)\"\r\n                style=\"cursor:pointer\"\r\n                xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-trash text-danger\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z\"/>\r\n  <path d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z\"/>\r\n</svg>\r\n<Router-link :to=\"'/report/allowance-approved/'+props.row.project_id +'/' +props.row.id +'/' + props.row.date\" >\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-box-arrow-right\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z\"/>\r\n  <path fill-rule=\"evenodd\" d=\"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z\"/>\r\n</svg>\r\n</Router-link>\r\n\r\n                            </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- view modal starts -->\r\n         <div class=\"modal fade mymodal\" id=\"view_modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header position-relative\">\r\n  <h1 v-if=\"!edit_modal\" class=\"modal-title fs-5 position-absolute start-50 translate-middle-x\" id=\"staticBackdropLabel\">\r\n    Labour Registration\r\n  </h1>\r\n  <h1 v-else class=\"modal-title fs-5 position-absolute start-50 translate-middle-x\" id=\"staticBackdropLabel\">\r\n    Edit Labour Request\r\n  </h1>\r\n  <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"dismiss\" @click=\"closeModal()\"></button>\r\n</div>\r\n\r\n      <div>\r\n        \r\n      </div>\r\n<!-- status checking starts -->\r\n<div class=\"mx-auto mt-2 \">\r\n<!-- <button\r\n v-if=\"user_permissions.includes('can_verify_hr') \"\r\n  :class=\"{\r\n    'btn': true,\r\n    'btn-primary': approval_status_data.human_resources === 0,\r\n    'btn-dark': approval_status_data.human_resources === 1\r\n  }\"\r\n  @click=\"approveCheck(approval_check_id, 'human_resources', approval_status_data.human_resources === 0 ? 1 : 0),inactivateLabourRequest(labour_request_id,approval_status_data.human_resources)\"\r\n>\r\n<div v-if=\"loading_activation\" class=\"spinner-border text-white\" role=\"status\">\r\n          <span class=\"sr-only\"></span>\r\n  </div>\r\n  <span v-else>\r\n  {{ approval_status_data.human_resources === 0 ? 'Check' : 'Uncheck' }}\r\n  </span>\r\n</button> -->\r\n\r\n<button\r\n v-if=\"user_permissions.includes('can_verify_copex_operator') && approval_status_data.human_resources === 1\"\r\n  :class=\"{\r\n    'btn': true,\r\n    'btn-primary': approval_status_data.operation_department === 0,\r\n    'btn-dark': approval_status_data.operation_department === 1\r\n  }\"\r\n  @click=\"approveCheck(approval_check_id, 'operation_department', approval_status_data.operation_department === 0 ? 1 : 0)\"\r\n>\r\n  <div v-if=\"loading_activation\" class=\"spinner-border text-white\" role=\"status\">\r\n          <span class=\"sr-only\"></span>\r\n  </div>\r\n  <span v-else>\r\n  {{ approval_status_data.operation_department === 0 ? 'Check' : 'Uncheck' }}\r\n  </span>\r\n</button>\r\n\r\n<button\r\n v-if=\"user_permissions.includes('can_verify_engineer') && approval_status_data.operation_department === 1\"\r\n  :class=\"{\r\n    'btn': true,\r\n    'btn-primary': approval_status_data.engineer === 0,\r\n    'btn-dark': approval_status_data.engineer === 1\r\n  }\"\r\n  @click=\"approveCheck(approval_check_id, 'engineer', approval_status_data.engineer === 0 ? 1 : 0)\"\r\n>\r\n  <div v-if=\"loading_activation\" class=\"spinner-border text-white\" role=\"status\">\r\n          <span class=\"sr-only\"></span>\r\n  </div>\r\n  <span v-else>\r\n   {{ approval_status_data.engineer === 0 ? 'Check' : 'Uncheck' }}\r\n  </span>\r\n</button>\r\n\r\n<button\r\n v-if=\"user_permissions.includes('can_verify_sr_accountant') && approval_status_data.engineer === 1\"\r\n  :class=\"{\r\n    'btn': true,\r\n    'btn-primary': approval_status_data.senior_accountant === 0,\r\n    'btn-dark': approval_status_data.senior_accountant === 1\r\n  }\"\r\n  @click=\"approveCheck(approval_check_id, 'senior_accountant', approval_status_data.senior_accountant === 0 ? 1 : 0)\"\r\n>\r\n  <div v-if=\"loading_activation\" class=\"spinner-border text-white\" role=\"status\">\r\n          <span class=\"sr-only\"></span>\r\n  </div>\r\n  <span v-else>\r\n  {{ approval_status_data.senior_accountant === 0 ? 'Check' : 'Uncheck' }}\r\n  </span>\r\n</button>\r\n\r\n<button\r\n v-if=\"user_permissions.includes('is_md') && approval_status_data.senior_accountant === 1\"\r\n  :class=\"{\r\n    'btn': true,\r\n    'btn-primary': approval_status_data.managing_director === 0,\r\n    'btn-dark': approval_status_data.managing_director === 1\r\n  }\"\r\n  @click=\"approveCheck(approval_check_id, 'managing_director', approval_status_data.managing_director === 0 ? 1 : 0),approveLabourRequest(labour_request_id,approval_status_data.managing_director)\"\r\n>\r\n  <div v-if=\"loading_activation\" class=\"spinner-border text-white\" role=\"status\">\r\n          <span class=\"sr-only\"></span>\r\n  </div>\r\n<span v-else>\r\n  {{ approval_status_data.managing_director === 0 ? 'Check' : 'Uncheck' }}\r\n</span>\r\n</button>\r\n\r\n</div>\r\n\r\n<!-- status checking en -->\r\n      <div v-if=\"!edit_modal\" class=\"d-flex mt-2\">\r\n       \r\n        <div class=\"mx-3 mb-2\">\r\n        <button\r\n v-if=\"user_permissions.includes('can_verify_hr') \"\r\n  :class=\"{\r\n    'btn': true,\r\n    'btn-primary': approval_status_data.human_resources === 0,\r\n    'btn-dark': approval_status_data.human_resources === 1\r\n  }\"\r\n  @click=\"approveCheck(approval_check_id, 'human_resources', approval_status_data.human_resources === 0 ? 1 : 0),inactivateLabourRequest(labour_request_id,approval_status_data.human_resources)\"\r\n>\r\n<div v-if=\"loading_activation\" class=\"spinner-border text-white\" role=\"status\">\r\n          <span class=\"sr-only\"></span>\r\n  </div>\r\n  <span v-else>\r\n         \r\n  {{ approval_status_data.human_resources === 0 ? 'Activate' : 'Inactivate' }}\r\n  </span>\r\n        </button>\r\n        </div>\r\n\r\n\r\n        <div class=\"mx-3\" v-if=\"user_role != 15\">\r\n\r\n           <button v-if=\" labour_request.stat == 'Inactive' &&  !activated && labourType.length > 0 \" class=\"btn btn-warning\" @click=\"activateLabourRequest(labour_request_id)\">\r\n                                <svg  xmlns=\"http://www.w3.org/2000/svg\" width=\"34\" height=\"34\" fill=\"currentColor\" class=\"bi bi-check2-square\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z\"/>\r\n                                        <path d=\"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0\"/>\r\n                                    </svg>\r\n                               Ready \r\n           </button>\r\n        </div>\r\n    \r\n                           \r\n        <div class=\"ms-auto me-2\">\r\n             <button v-if=\"labour_request.stat == 'Inactive' &&  !activated \" type=\"button\" class=\"btn btn-primary  me-2\" @click=\"labour_type_registration =! labour_type_registration\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n                        <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/>\r\n                    </svg>\r\n             </button>\r\n                         <button \r\n                         v-if=\"!labourType.length == 0 \" \r\n                class=\"btn btn-success\"\r\n                @click=\"printTable()\"\r\n            >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n                        <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n                </svg>\r\n               \r\n            </button>\r\n        </div>\r\n      </div>\r\n<!-- approvals starts -->\r\n \r\n<div v-if=\" check_status\" class=\"custom-table table3 table-responsive\">\r\n    <table class=\"table\">\r\n        <thead>\r\n            <tr>\r\n                <th>HR</th>\r\n                <th>Operation</th> \r\n                <th>Engineer</th>                              \r\n                <th>Sr.Accountant</th>\r\n                <th>MD</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr>\r\n                <td :class=\"{'text-danger': approval_status_data.human_resources === 0, 'text-success': approval_status_data.human_resources === 1}\">\r\n                    {{ approval_status_data.human_resources === 0 ? 'unchecked' : 'checked' }}\r\n                </td>\r\n                <td :class=\"{'text-danger': approval_status_data.operation_department === 0, 'text-success': approval_status_data.operation_department === 1}\">\r\n                    {{ approval_status_data.operation_department === 0 ? 'unchecked' : 'checked' }}\r\n                </td>\r\n                 <td :class=\"{'text-danger': approval_status_data.engineer === 0, 'text-success': approval_status_data.operation_department === 1}\">\r\n                    {{ approval_status_data.engineer === 0 ? 'unchecked' : 'checked' }}\r\n                </td>\r\n                <td :class=\"{'text-danger': approval_status_data.senior_accountant === 0, 'text-success': approval_status_data.senior_accountant === 1}\">\r\n                    {{ approval_status_data.senior_accountant === 0 ? 'unchecked' : 'checked' }}\r\n                </td>\r\n                <td :class=\"{'text-danger': approval_status_data.managing_director === 0, 'text-success': approval_status_data.managing_director === 1}\">\r\n                    {{ approval_status_data.managing_director === 0 ? 'unchecked' : 'checked' }}\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n        <table v-if=\"!user_permissions.includes('can_verify_hr')\" class=\"table\">\r\n        <thead>\r\n            <tr>\r\n              <th>SNo</th>\r\n                <th>Type</th>\r\n                <th>Task</th> \r\n                <th>Quantity</th>                              \r\n                <th>Rate</th>\r\n                <th>Total</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr v-for=\"labour,i in labourType\">\r\n              <td>{{ i + 1 }}</td>\r\n              <td> {{ labour.labour_type }}</td>\r\n              <td> {{ labour.task }}</td>\r\n              <td> {{ labour.quantity }}</td>\r\n              <td> {{ labour.rate }}</td>\r\n              <td> {{ labour.total }}</td>\r\n            </tr>\r\n        </tbody>\r\n        </table>\r\n</div>\r\n<!-- approvals ends -->\r\n      <!-- labour type registration form starts -->\r\n           <form v-if=\"labour_type_registration\"  @submit.prevent=\"registerLabourType()\">\r\n            <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-4\">\r\n                     <multiselect \r\n                    v-model=\"labour_type\"\r\n                    track-by=\"id\"\r\n                    :options= \"labourTypeSelection\"\r\n                    label = \"name\"\r\n                    placeholder=\"Select Labour Type\"\r\n                    :required = \"true\"\r\n                    :searchable = \"true\"        \r\n                    multple=\"false\"\r\n                    ></multiselect>\r\n                </div>\r\n                 <div class=\"col-md-4\">\r\n                    <input type=\"number\" class=\"form-control\" v-model=\"labour_quantity\" placeholder=\"Enter Quantity\" required>\r\n                </div>\r\n                 <div class=\"col-md-4\">\r\n                    <input type=\"text\" class=\"form-control\" v-model=\"labour_task\" placeholder=\"Enter Task\" required>\r\n                </div>\r\n                 \r\n            </div>\r\n          </div>\r\n            <div class=\"modal-footer\">\r\n                <button  type=\"button\" class=\"btn btn-danger\"   @click=\"labour_type_registration=false\">Cancel</button>\r\n                  <button type=\"submit\" class=\"btn btn-primary\">Save</button>\r\n            </div>\r\n          </form>\r\n      <!-- labour type registration form ends -->\r\n\r\n            <!-- loader starts -->\r\n     <div v-if=\"loading_labour_types\" v-html=\"loadingIndicator()\" class=\"mt-5\"></div>\r\n             <!-- loader ends -->\r\n      <!-- labours registered list starts -->\r\n      <div v-else class=\"row layout-top-spacing\">\r\n  <div v-if=\"!edit_modal\" class=\"col-12 layout-spacing\">\r\n    <div v-if=\"user_permissions.includes('can_verify_hr')\"  class=\"d-flex flex-wrap gap-3 justify-content-center\">\r\n      <div\r\n        v-for=\"item in labourType\"\r\n        :key=\"item.id\"\r\n        class=\"d-flex align-items-center justify-content-between px-3 py-2 rounded-pill shadow-sm\"\r\n        :class=\"selected_labour_list.id === item.id ? 'bg-success text-white' : 'bg-white border'\"\r\n        style=\"min-width: 120px; max-width: 180px; cursor: pointer; transition: all 0.3s ease;\"\r\n        @click=\"selectLabourType(item)\"\r\n      >\r\n        <span  class=\"text-truncate\">{{ item.labour_type }}</span>\r\n        <svg\r\n          v-if=\"selected_labour_list.id === item.id\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"18\"\r\n          height=\"18\"\r\n          fill=\"currentColor\"\r\n          class=\"bi bi-check-circle ms-2\"\r\n          viewBox=\"0 0 16 16\"\r\n        >\r\n          <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14\" />\r\n          <path\r\n            d=\"m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05\"\r\n          />\r\n        </svg>\r\n        <svg\r\n          v-else\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"18\"\r\n          height=\"18\"\r\n          fill=\"currentColor\"\r\n          class=\"bi bi-circle ms-2 text-muted\"\r\n          viewBox=\"0 0 16 16\"\r\n        >\r\n          <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14\" />\r\n        </svg>\r\n      </div>\r\n    </div>\r\n    <div  v-if=\"labourType.length == 0 \" class=\"d-flex flex-wrap gap-3 justify-content-center\">\r\n        No labour list registered yet\r\n    </div>\r\n  </div>\r\n  <div v-else>\r\n    <div v-if=\"updating_request\" v-html=\"loadingIndicator()\"></div>\r\n    <div v-else class=\"container\">\r\n        <form @submit.prevent=\"updateLabourRequest(request_id)\">\r\n <div class=\"row\">\r\n          <div class=\"col-md-4\">\r\n              <label class=\"form-label\">Select Project</label>\r\n          <multiselect \r\n  v-model=\"selected_project\"\r\n  track-by=\"id\"\r\n  :options=\"projects\"\r\n  label=\"short_name\"\r\n  placeholder=\"Select Project\"\r\n  :required=\"true\"\r\n  :searchable=\"true\"\r\n  :multiple=\"false\"\r\n/>\r\n\r\n          </div>  \r\n\r\n            <div class=\"col-md-4\">\r\n              <label class=\"form-label\">Date</label>\r\n              <input type=\"date\" class=\"form-control\" v-model=\"selected_date\" name=\"date\" required>\r\n            </div>     \r\n    \r\n           <div class=\"col-md-4\">\r\n              <label class=\"form-label\">Working Days</label>\r\n              <input type=\"number\" placeholder=\"Enter Working Days\" class=\"form-control\" v-model=\"labour_days\" name=\"Vendor_name\" required>\r\n          </div> \r\n\r\n           <div class=\"col-md-12\">\r\n              <label class=\"form-label\">Task </label>\r\n             <textarea class=\"form-control\" placeholder=\"Enter Task\" required v-model=\"labour_task\"></textarea>\r\n          </div>      \r\n          </div>\r\n           <div class=\"text-end gap-2 justify-content-end mt-2 mb-2\">\r\n                <button type=\"button\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"closeModal\" class=\"btn btn-danger me-3\">Cancel</button>\r\n                <button type=\"submit\" class=\"btn btn-primary\">Update</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n      <!-- Labour registered List ends -->\r\n      <!-- selected labour type card starts -->\r\n       <div v-if=\"selected_labour_list !== ''\" class=\"row mb-3\">\r\n        <div class=\"col-md-6\">\r\n<div class=\"d-flex\">\r\n  <div class=\"ms-auto mb-1\"> <button \r\n        v-if=\"labourRequestList.length == 0 && labour_request.stat == 'Inactive' && !activated\"\r\n        class=\"btn btn-danger\" @click=\"deleteRequestedLabourType(selected_labour_list.id)\">\r\n        Delete\r\n      </button>\r\n  </div>\r\n</div>\r\n<table class=\"table container table-bordered table-striped\">\r\n  <tbody>\r\n    <tr>\r\n      <th>Labour Type </th>\r\n      <td>{{ selected_labour_list.labour_type }}</td>\r\n    </tr>\r\n     <tr>\r\n      <th>Task</th>\r\n      <td>{{ selected_labour_list.task }}</td>\r\n    </tr>\r\n    <tr>\r\n      <th>Quantity</th>\r\n      <td>{{ selected_labour_list.quantity }}</td>\r\n    </tr>\r\n    <tr>\r\n      <th>Rate</th>\r\n      <td>{{ selected_labour_list.rate }}</td>\r\n    </tr>\r\n    <tr>\r\n      <th>Total</th>\r\n      <td>{{ selected_labour_list.total }}</td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n        </div>\r\n\r\n        <div class=\"col-md-6\">\r\n<!-- labours form list starts -->\r\n <div v-if=\"loading_labours\" v-html=\"loadingIndicator()\"></div>\r\n<div v-if=\"!loading_labours && labourRequestList.length < selected_labour_list.labour_count \" class=\"row align-items-center mb-1 me-2\">\r\n  <form @submit.prevent=\"addLabourList()\" class=\"d-flex w-100\">\r\n    <div class=\"col-sm-9\">\r\n      <multiselect \r\n        v-model=\"selected_labour\"\r\n        track-by=\"id\"\r\n        :options=\"labourListSelection\"\r\n        label=\"name\"\r\n        placeholder=\"Select A Labour\"\r\n        :required=\"true\"\r\n        :searchable=\"true\"\r\n        :multiple=\"false\"\r\n        required\r\n      ></multiselect>\r\n    </div>\r\n    <div class=\"col-sm-3 text-end\">\r\n      <button class=\"btn btn-primary\" type=\"submit\">Add</button>\r\n    </div>\r\n  </form>\r\n</div>\r\n<!-- labours form list ends -->\r\n\r\n\r\n<ol v-if=\"!loading_labours \" class=\"list-group list-group-numbered me-2 \">\r\n  <li v-for=\"labour in labourRequestList\" class=\"list-group-item d-flex justify-content-between align-items-start\">\r\n    <div class=\"me-auto\">\r\n      <div  class=\"fw-bold\">{{  labour.labour_name }}</div>\r\n    </div>\r\n    <span class=\"btn btn-danger p-2 btn-sm\" @click=\"deleteLabourList(labour.id)\">x</span>\r\n  </li>\r\n</ol>\r\n\r\n        </div>\r\n       </div>\r\n       <!-- selected labour type card ends -->\r\n    </div>\r\n  </div>\r\n</div>\r\n         <!-- view modal ends -->\r\n        </div>\r\n         </div>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n\r\n<script setup>\r\n\r\n    import axios from 'axios';    \r\n    import { onMounted, ref,inject } from 'vue';\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    import '@/assets/sass/elements/tooltip.scss';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    useMeta({ title: 'Labour Request' });\r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n    const loadingIndicator = inject('loadingIndicator');\r\n    const labour_type_registration = ref(false);\r\n    const labour_type = ref('');\r\n    const payment_registration = ref(false);\r\n    const columns = ref(['SNo','project','requested_by','date','days','task','status','awaits','actions']);\r\n    const labourType = ref([]);\r\n    const labour_type_columns = ref(['SNo','labour_type','task','quantity','rate','total','actions']);\r\n    const items = ref([]);\r\n    const labourTypeSelection = ref([]);\r\n    const project = ref('');\r\n\r\n\r\n    const table_option = ref({\r\n        perPage: 10,\r\n        perPageValues: [5, 10, 20, 50],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['SNo','batch_no','beneficiary_name','date','payment_number','purpose_of_payment','budget','unbudget', 'amount'],\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n    const loading_spinner = ref(false);\r\n  const is_closed = ref(true);\r\n    const axiosInstance = axios.create({\r\n      //  baseURL: process.env.VUE_APP_API_BASE_URL\r\n       baseURL: \"https://construction.trustdigital.space/api/v1/\"\r\n    });\r\n    const axiosInstance2 = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n    \r\n    const request_id = ref(0);\r\n    const prepareLabourRequestEdit = (request) => {\r\n      request_id.value = request.id;\r\n      edit_modal.value=true;\r\n      labour_days.value = request.days;\r\n      selected_date.value = request.date;\r\n      labour_task.value = request.task;\r\n      selected_project.value = projects.value.find(p => p.id === request.project_id) || null;\r\n    }\r\n\r\n\r\n   const approval_status_data = ref({\r\n    human_resources: 0,\r\n    operation_department: 0,\r\n    engineer: 0,\r\n    senior_accountant: 0,\r\n    managing_director: 0\r\n});\r\n    const getApprovalStatus = async (request_id) => {\r\n    try {\r\n        const response = await axiosInstance2.get(`/approval-check-status/${request_id}?type=labour_request`);\r\n        if (response.data && typeof response.data === 'object') {\r\n            approval_status_data.value = response.data;\r\n            check_status.value=true;\r\n        } else {\r\n            console.error(\"Invalid response format\");\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error fetching approval status: \", error);\r\n    }\r\n};\r\n\r\nconst deleteLabourRequest = (id) => {\r\n    if (confirm(\"Are you sure you want to delete this request ?\")) {\r\n        loading_spinner.value = true;\r\n            axiosInstance2\r\n            .delete(`/labour-request/${id}`)\r\n            .then((response) => {\r\n                getLabourRequests();\r\n                loading_spinner.value = false;\r\n                if (response.status === 200) {\r\n                   showMessage('Labour Request Deleted successfully');\r\n                } else {\r\n                    showError('Fail to Delete Labour');\r\n                    console.error(\"Error deleteing labour:\", response.data.message);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error deleting labours :\", error.message);\r\n            });  \r\n    \r\n   }\r\n   else{\r\n    return;\r\n   }\r\n    };\r\n\r\n\r\nconst prepareTable = async (labourRequest) => {\r\n    loading_spinner.value=true;\r\n    labour_request.value = labourRequest;\r\n    labour_request_id.value = labourRequest.id;\r\n    await getRequestedLabourTypes(labourRequest.id);\r\n    await getApprovalStatus(labourRequest.id);\r\n    printTable();\r\n    loading_spinner.value=false;\r\n}\r\n\r\nconst edit_modal = ref(false);\r\nconst editModal = (labourRequest) => {\r\n    edit_modal.value=true;\r\n}\r\n\r\nconst labour_request = ref('');\r\nconst approval_check_id = ref (0);\r\nconst openModal = (labourRequest) => {\r\n    approval_check_id.value = labourRequest.approval_check_id,\r\n    labour_request.value = labourRequest;\r\n    labour_request_id.value = labourRequest.id;\r\n    getRequestedLabourTypes(labourRequest.id);\r\n    getApprovalStatus(labourRequest.id);\r\n}\r\n\r\n  const labourListSelection = ref([]);\r\n  const fetchLabours = async () => {\r\n      try {\r\n        const response = await axiosInstance2.get('/labours');\r\n        labourListSelection.value = response.data;\r\n      } catch (error) {\r\n        showError(error.message || \"Failed to fetch data\");\r\n        console.error(\"API error:\", error);\r\n      } finally {\r\n   \r\n      }\r\n    };\r\n\r\n      const labourRequestList = ref([]);\r\n      const loading_labours =ref(false);\r\n      const fetchLabourRequestList = async () => {\r\n      loading_labours.value=true;\r\n      try {\r\n        const response = await axiosInstance2.get(`/labour-request-list?request_type_id=${selected_labour_list.value.labour_type_id}`);\r\n        labourRequestList.value = response.data;\r\n        console.log('fetched data', labourRequestList.value);\r\n      } catch (error) {\r\n        showError(error.message || \"Failed to fetch data\");\r\n        console.error(\"API error:\", error);\r\n      } finally {\r\n        loading_labours.value=false;\r\n      }\r\n    };\r\n\r\n\r\n\r\nconst selected_labour_list = ref('');\r\nconst selectLabourType = (labour) => {\r\n     selected_labour_list.value = labour;\r\n     fetchLabourRequestList(); \r\n}\r\n\r\n    const loading_labour_types = ref(false);\r\n    const getRequestedLabourTypes = async (request_id) => {\r\n    loading_labour_types.value = true;\r\n    try {\r\n        const response = await axiosInstance2.get(`/request-labour-types?request_id=${request_id}`);\r\n            labourType.value = response.data.map((data,index) => ({\r\n                    SNo:  index + 1,\r\n                    id: data.id,\r\n                    labour_type_id: data.labour_type_id,\r\n                    labour_type:data.labour_type.name,\r\n                    rate:data.labour_type.rate.toLocaleString(),\r\n                    quantity: data.quantity.toLocaleString() + \"x \" + labour_request.value.days +\"(days)\",\r\n                    labour_count:data.quantity,\r\n                    total : ((data.labour_type.rate * data.quantity)*labour_request.value.days).toLocaleString(), \r\n                    task: data.task,\r\n              }));\r\n            loading_labour_types.value = false;\r\n    } catch (error) {\r\n         loading_labour_types.value = false;\r\n    }\r\n};\r\n\r\n\r\n    const getLabourRequests = async () => {\r\n    loading_spinner.value = true;\r\n    try {\r\n        const response = await axiosInstance2.get(`/labour-request`);\r\n         items.value = response.data\r\n  .filter(data => data.status_name !== 'Inactive' || data.user_id === user_id || user_role === 1)\r\n  .map((data, index) => ({\r\n    SNo: index + 1,\r\n    id: data.id,\r\n    project: data.project,\r\n    project_id : data.project_id,\r\n    user_id: data.user_id,\r\n    requested_by: data.requested_by,\r\n    project_id: data.project_id,\r\n    date: data.date,\r\n    days: data.days,\r\n    task: data.task,\r\n    approval_check_id: data.approval_check_id,\r\n    stat: data.status_name,\r\n    status: {\r\n      key: data.status_name,\r\n      class: data.status_color\r\n    },\r\n    awaits: data.awaits,\r\n  }));\r\n\r\n            loading_spinner.value = false;\r\n    } catch (error) {\r\n        loading_spinner.value = false;\r\n    }\r\n};\r\n\r\n\r\n\r\n    const projects= ref(['']);\r\n    const getProjects = async () => {\r\n    loading_spinner.value = true;\r\n    try {\r\n        const response = await axiosInstance2.get(`/projects`);\r\n             projects.value = response.data.filter(project =>project.company_id == 6)\r\n            loading_spinner.value = false;\r\n    } catch (error) {\r\n        loading_spinner.value = false;\r\n    }\r\n};\r\n\r\n    const getLabourTypeSelection = async () => {\r\n    loading_spinner.value = true;\r\n    try {\r\n        const response = await axiosInstance2.get(`/labour-types`);\r\n            labourTypeSelection.value = response.data;\r\n            loading_spinner.value = false;\r\n    } catch (error) {\r\n        loading_spinner.value = false;\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\nconst user = ref('');\r\nconst user_permissions = ref([]);\r\n    onMounted(() => {\r\n        const storedUser = localStorage.getItem(\"user\");\r\n        user.value = JSON.parse(storedUser);       \r\n        user_permissions.value = user.value.permissions;\r\n        getLabourRequests();\r\n        getProjects();\r\n        getLabourTypeSelection();\r\n        fetchLabours();\r\n    });\r\n\r\n\r\n    const labour_quantity =ref ('');\r\n    const labour_task = ref('');\r\n    const labour_request_id = ref(0);\r\n    const registerLabourType = async () =>{\r\n        labour_type_registration.value=false;\r\n        loading_labour_types.value = true;\r\n        const newData = {\r\n           labour_type_id:labour_type.value.id,\r\n           quantity:labour_quantity.value,\r\n           task:labour_task.value,\r\n           labour_request_id:labour_request_id.value,\r\n        };\r\n        axiosInstance2\r\n            .post(`/request-labour-types`, newData)\r\n            .then((response) => {\r\n                getRequestedLabourTypes(labour_request_id.value);\r\n                showMessage(\"Saved successfully\");\r\n                labour_type.value ='';\r\n                labour_task.value = '';\r\n                labour_quantity.value ='';\r\n            })\r\n            .catch((error) => {\r\n                showError(error.message);\r\n                console.error(\"Error saving Data\", error);\r\n            });\r\n    }\r\n    \r\n    const check_status = ref(false);\r\n    const closeModal = () =>{\r\n        selected_labour_list.value = '';\r\n        edit_modal.value =false;\r\n        check_status.value= false;\r\n        clearLabourRequestForm();\r\n    }\r\n        const labour_days = ref('');\r\n        const selected_date = ref('');\r\n        const selected_project = ref('');\r\n        const updating_request = ref(false);\r\n\r\n        const clearLabourRequestForm = () => {\r\n             labour_task.value = '',\r\n             labour_days.value= '',\r\n             selected_date.value = '',\r\n             selected_project.value = ''\r\n        }\r\n\r\n    const user_id = JSON.parse(localStorage.getItem(\"user\")).id;\r\n    const user_role = JSON.parse(localStorage.getItem(\"user\")).role;\r\n    const registerLabourRequest = async () =>{\r\n        loading_spinner.value=true;\r\n        payment_registration.value = false;\r\n        is_closed.value =true\r\n        updating_request.value=true;\r\n        const newData = {\r\n          user_id : user_id,\r\n          project_id: selected_project.value.id,\r\n          project_name: selected_project.value.name,\r\n          date:   selected_date.value,\r\n          days:   labour_days.value,\r\n          task : labour_task.value,\r\n        };\r\n\r\n        axiosInstance2\r\n            .post(`/labour-request`, newData)\r\n            .then((response) => {\r\n             getLabourRequests();\r\n             showMessage('Registered successfully');\r\n             updating_request.value=false;\r\n             clearLabourRequestForm();\r\n            })\r\n            .catch((error) => {\r\n                showError(error.message);\r\n                console.error(\"Error registering request Data\", error);\r\n                updating_request.value=false;\r\n            });\r\n    }\r\n\r\n      const activated = ref(false);\r\n      const loading_activation = ref(false);\r\n      const approveCheck = async (id, role ,status) => {\r\n        activated.value = true; \r\n        loading_activation.value = true; \r\n        try {\r\n            const response = await axiosInstance2.put(`/approval-check/${id}`, {\r\n                [role]: status\r\n            });\r\n          getApprovalStatus(labour_request_id.value);  \r\n          getLabourRequests();\r\n        } catch (error) {\r\n            console.error(\"Error approving check:\", error.message);\r\n        }\r\n        loading_activation.value = false;\r\n    };\r\n\r\nconst activateLabourRequest = async (id) => {\r\n  activated.value=true;\r\n    loading_labour_types.value = true;\r\n    const newData = {\r\n        status_name: 'Unapproved',\r\n        status_color: 'secondary',\r\n    };\r\n\r\n    try {\r\n        // First update the labour request status\r\n        await axiosInstance2.put(`/labour-request/${id}`, newData);\r\n        \r\n        // Then update the approval check\r\n        // await approveCheck(approval_check_id.value, 'human_resources',1);\r\n        \r\n        // Then refresh both the requests and approval status\r\n        await getLabourRequests();\r\n        await getApprovalStatus(labour_request.value.id);\r\n        \r\n        showMessage('Activated successfully');\r\n    } catch (error) {\r\n        showError(error.message);\r\n        console.error(\"Error updating request Data\", error);\r\n    } finally {\r\n        loading_labour_types.value = false;\r\n    }\r\n};\r\n\r\n const approveLabourRequest = async (id, status) => {\r\n    updating_request.value = true;\r\n\r\n    const newData = {\r\n        status_name: status === 1 ? 'Unapproved' : 'Approved',\r\n        status_color: status === 1 ? 'secondary' : 'success',\r\n    };\r\n\r\n    axiosInstance2\r\n        .put(`/labour-request/${id}`, newData)\r\n        .then((response) => {\r\n            getLabourRequests();\r\n            if(status === 1){\r\n              showMessage('Request Rejected');\r\n            }else{\r\n              showMessage('Request Approved');\r\n            }\r\n            clearLabourRequestForm();\r\n            updating_request.value = false;\r\n        })\r\n        .catch((error) => {\r\n            showError(error.message);\r\n            console.error(\"Error updating request data\", error);\r\n            updating_request.value = false;\r\n        });\r\n};\r\n\r\n const inactivateLabourRequest = async (id, status) => {\r\n    updating_request.value = true;\r\n    const newData = {\r\n        status_name: status === 1 ? 'Inactive' : 'Unapproved',\r\n        status_color: status === 1 ? 'dark' : 'secondary',\r\n    };\r\n\r\n    axiosInstance2\r\n        .put(`/labour-request/${id}`, newData)\r\n        .then((response) => {\r\n            getLabourRequests();\r\n            if(status === 1){\r\n              showMessage('Request Inactivated');\r\n              activated.value=false;\r\n            }else{\r\n              showMessage('Request Activated');\r\n              \r\n            }\r\n            clearLabourRequestForm();\r\n            updating_request.value = false;\r\n        })\r\n        .catch((error) => {\r\n            showError(error.message);\r\n            console.error(\"Error updating request data\", error);\r\n            updating_request.value = false;\r\n        });\r\n};\r\n          \r\n        const updateLabourRequest = async (id) =>{\r\n        updating_request.value=true;\r\n        const newData = {\r\n          project_id: selected_project.value.id,\r\n          date:   selected_date.value,\r\n          days:   labour_days.value,\r\n          task : labour_task.value,\r\n        };\r\n\r\n        axiosInstance2\r\n            .put(`/labour-request/${id}`, newData)\r\n            .then((response) => {\r\n             getLabourRequests();\r\n             showMessage('updated successfully');\r\n            updating_request.value=false;\r\n            })\r\n            .catch((error) => {\r\n                showError(error.message);\r\n                console.error(\"Error updating request Data\", error);\r\n                updating_request.value=false;\r\n            });\r\n    }\r\n\r\n        const selected_labour = ref('');\r\n        const addLabourList = async () =>{\r\n        loading_labours.value=true;\r\n        const newData = {\r\n           labour_request_id : labour_request_id.value,\r\n           labour_request_type_id:selected_labour_list.value.labour_type_id,\r\n           labour_id: selected_labour.value.id,\r\n           labour_name:selected_labour.value.name,\r\n        };\r\n\r\n        axiosInstance2\r\n            .post(`/labour-request-list`, newData)\r\n            .then((response) => {\r\n                fetchLabourRequestList();\r\n                selected_labour.value='';\r\n            })\r\n            .catch((error) => {\r\n                showError(error.message);\r\n                console.error(\"Error saving Data\", error);\r\n            });\r\n    }\r\n\r\n     const deleteRequestedLabourType = async (id) =>{\r\n     loading_labour_types.value = true;\r\n      selected_labour_list.value = '';\r\n        axiosInstance\r\n            .delete(`/request-labour-types/${id}`)\r\n            .then((response) => {\r\n                getRequestedLabourTypes(labour_request.value.id);\r\n                showMessage(\"Deleted successfully\");\r\n            })\r\n            .catch((error) => {\r\n                showError(error.message);\r\n                console.error(\"Error saving Data\", error);\r\n            });\r\n    }\r\n\r\n\r\n  const deleteLabourList = async (id) =>{\r\n       loading_labours.value=true;\r\n        axiosInstance2\r\n            .delete(`/labour-request-list/${id}`)\r\n            .then((response) => {\r\n                fetchLabourRequestList();\r\n                showMessage(\"Deleted successfully\");\r\n            })\r\n            .catch((error) => {\r\n                showError(error.message);\r\n                console.error(\"Error saving Data\", error);\r\n            });\r\n    }\r\n    \r\nconst selectedTypes = ref('');\r\n\r\nconst printTable = () => {\r\n  const dateParts = labour_request.value.date.split(\"-\");\r\n  const formattedDate = `${dateParts[1]}/${dateParts[2].slice(-2)}`;\r\n\r\n  const iframe = document.createElement('iframe');\r\n  iframe.style.display = 'none';\r\n  document.body.appendChild(iframe);\r\n\r\n  let grandTotal = 0;\r\n\r\n  let labourRows = labourType.value.map(item => {\r\n    const rawTotal = parseFloat(item.total.replace(/,/g, ''));\r\n    grandTotal += rawTotal;\r\n    return `\r\n      <tr>\r\n        <td>${item.labour_type}</td>\r\n        <td>${item.task}</td>\r\n        <td>${item.quantity}</td>\r\n        <td>${item.rate}/=</td>\r\n        <td>${item.total}/=</td>\r\n      </tr>\r\n    `;\r\n  }).join('');\r\n\r\n  const formattedGrandTotal = grandTotal.toLocaleString();\r\n\r\n  let printContent = `\r\n    <!DOCTYPE html>\r\n    <html>\r\n    <head>\r\n      <title>Labour Request Report</title>\r\n      <style>\r\n        body { font-family: Arial, sans-serif; margin: 20px; }\r\n        h1 { text-align: center; margin-bottom: 0; font-size: 22px; font-weight: bold; font-family: \"Times New Roman\", serif; }\r\n        h2 { text-align: center; margin: 0; font-size: 18px; font-family: \"Times New Roman\", serif;font-weight: normal; }\r\n        h3 { margin-top: 30px; font-size: 15px; }\r\n        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\r\n        th, td { border: 1px solid black; padding: 5px; text-align: left; font-size: 15px; }\r\n        th { background-color: #f2f2f2; font-weight: bold; }\r\n        tr:nth-child(even) { background-color: #f9f9f9; }\r\n        .top-section { display: flex; justify-content: space-between; align-items: start; }\r\n        .logo { width: 150px; height: auto; }\r\n        .lpo-box {\r\n          border: 1px solid black;\r\n          border-radius: 5px;\r\n          padding: 5px;\r\n          font-size: 13px;\r\n          width: 120px;\r\n        }\r\n        .company-info { text-align: center; margin-top: 10px; }\r\n        .registration {\r\n          position: absolute;\r\n          top: 100px;\r\n          right: 30px;\r\n          font-size: 14px;\r\n          font-weight: bold;\r\n          text-align: right;\r\n        }\r\n        .section-title {\r\n          text-align: center;\r\n          text-decoration: underline;\r\n          font-family: \"Times New Roman\", serif;\r\n          font-weight: bold;\r\n          font-size: 17px;\r\n          margin-top: 30px;\r\n        }\r\n      </style>\r\n    </head>\r\n    <body>\r\n\r\n      <div class=\"top-section\">\r\n        <img src=\"https://bushman.ink/copex.jpg\" class=\"logo\" alt=\"logo\" />\r\n        <div class=\"lpo-box\">\r\n          <strong>REQUEST NO:</strong><br>\r\n          <span style=\"color:red;\">\r\n            ${(\"0000\" + labour_request.value.id).slice(-4)} /${formattedDate}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"company-info\">\r\n        <h1>COPEX CONTRACTORS CO.LTD</h1>\r\n        <h2>Msamvu, P.O.BOX 678, Morogoro</h2>\r\n        <h2>Mobile, 0713 000 777, 0657 111 555</h2>\r\n      </div>\r\n\r\n      <div class=\"registration\">\r\n        TIN: 103-826-519,<br>\r\n        VRN: 20-01-017530R\r\n      </div>\r\n\r\n      <div class=\"section-title\">LABOUR REQUEST</div>\r\n\r\n      <h3>Request Descriptions</h3>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Project</th>\r\n            <th>Date</th>\r\n            <th>Working Days</th>\r\n            <th>General Task</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>${labour_request.value.project}</td>\r\n            <td>${labour_request.value.date}</td>\r\n            <td>${labour_request.value.days}</td>\r\n            <td>${labour_request.value.task}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <h2 style=\"text-align:left; font-weight: bold;\">Labours Requested</h2>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Labour Type</th>\r\n            <th>Specific Task</th>\r\n            <th>Quantity</th>\r\n            <th>Rate</th>\r\n            <th>Total</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          ${labourRows}\r\n          <tr>\r\n            <td colspan=\"4\" style=\"text-align:right;\"><strong>Grand Total</strong></td>\r\n            <td><strong>${formattedGrandTotal}/=</strong></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <table style=\"width: 100%; margin-top: 50px; font-size: 10px;\">\r\n        <tr>\r\n          <td style=\"text-align: center;\">HR Officer</td>\r\n          <td style=\"text-align: center;\">Operation's Dept</td>\r\n          <td style=\"text-align: center;\">Engineer</td>\r\n          <td style=\"text-align: center;\">Sr Accountant</td>\r\n          <td style=\"text-align: center;\">Managing Director</td>\r\n        </tr>\r\n        <tr>\r\n          <td style=\"text-align: center;height: 50px; color: ${approval_status_data.value.human_resources == 0 ? 'red' : 'green'};\">\r\n            ${approval_status_data.value.human_resources == 0 ? 'Unchecked' : 'Checked'}\r\n          </td>\r\n          <td style=\"text-align: center;height: 50px; color: ${approval_status_data.value.operation_department == 0 ? 'red' : 'green'};\">\r\n            ${approval_status_data.value.operation_department == 0 ? 'Unchecked' : 'Checked'}\r\n          </td>\r\n          <td style=\"text-align: center;eight: 50px; color: ${approval_status_data.value.engineer == 0 ? 'red' : 'green'};\">\r\n            ${approval_status_data.value.engineer == 0 ? 'Unchecked' : 'Checked'}\r\n          </td>\r\n          <td style=\"text-align: center;height: 50px; color: ${approval_status_data.value.senior_accountant == 0 ? 'red' : 'green'};\">\r\n            ${approval_status_data.value.senior_accountant == 0 ? 'Unchecked' : 'Checked'}\r\n          </td>\r\n          <td style=\"text-align: center;height: 50px; color: ${approval_status_data.value.managing_director == 0 ? 'red' : 'green'};\">\r\n            ${approval_status_data.value.managing_director == 0 ? 'Unapproved' : 'Approved'}\r\n          </td>\r\n        </tr>\r\n      </table>\r\n\r\n    </body>\r\n    </html>\r\n  `;\r\n\r\n  const iframeDoc = iframe.contentWindow.document;\r\n  iframeDoc.open();\r\n  iframeDoc.write(printContent);\r\n  iframeDoc.close();\r\n\r\n  iframe.onload = () => {\r\n    iframe.contentWindow.focus();\r\n    iframe.contentWindow.print();\r\n    setTimeout(() => {\r\n      document.body.removeChild(iframe);\r\n    }, 1000);\r\n  };\r\n};\r\n\r\n\r\n</script>;\r\n\r\n<style>\r\n .mymodal{\r\n  background-color: rgba(122, 122, 122, 0.653);\r\n }\r\n\r\n     .progress {\r\n    position: relative;\r\n    height: 4px;\r\n    display: block;\r\n    width: 100%;\r\n    background-color: rgb(5, 197, 255);\r\n    overflow: hidden\r\n}\r\n.progress .determinate {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    background-color: #26a69a;\r\n    -webkit-transition: width .3s linear;\r\n    transition: width .3s linear\r\n}\r\n.progress .indeterminate {\r\n    background-color: #e7eef1;\r\n}\r\n.progress .indeterminate:before {\r\n    content: '';\r\n    position: absolute;\r\n    background-color: inherit;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    will-change: left, right;\r\n    -webkit-animation: indeterminate 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\r\n    animation: indeterminate 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite\r\n}\r\n.progress .indeterminate:after {\r\n    content: '';\r\n    position: absolute;\r\n    background-color: inherit;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    will-change: left, right;\r\n    -webkit-animation: indeterminate-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;\r\n    animation: indeterminate-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;\r\n    -webkit-animation-delay: 1.15s;\r\n    animation-delay: 1.15s\r\n}\r\n@-webkit-keyframes indeterminate {\r\n    0% {\r\n        left: -35%;\r\n        right: 100%\r\n    }\r\n    60% {\r\n        left: 100%;\r\n        right: -90%\r\n    }\r\n    100% {\r\n        left: 100%;\r\n        right: -90%\r\n    }\r\n}\r\n@keyframes indeterminate {\r\n    0% {\r\n        left: -35%;\r\n        right: 100%\r\n    }\r\n    60% {\r\n        left: 100%;\r\n        right: -90%\r\n    }\r\n    100% {\r\n        left: 100%;\r\n        right: -90%\r\n    }\r\n}\r\n@-webkit-keyframes indeterminate-short {\r\n    0% {\r\n        left: -200%;\r\n        right: 100%\r\n    }\r\n    60% {\r\n        left: 107%;\r\n        right: -8%\r\n    }\r\n    100% {\r\n        left: 107%;\r\n        right: -8%\r\n    }\r\n}\r\n@keyframes indeterminate-short {\r\n    0% {\r\n        left: -200%;\r\n        right: 100%\r\n    }\r\n    60% {\r\n        left: 107%;\r\n        right: -8%\r\n    }\r\n    100% {\r\n        left: 107%;\r\n        right: -8%\r\n    }\r\n}\r\n\r\n.text-truncate {\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n</style>","import script from \"./labour_request.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./labour_request.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./labour_request.vue?vue&type=style&index=0&id=37c0d333&lang=css\"\nimport \"./labour_request.vue?vue&type=style&index=1&id=37c0d333&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useMeta","title","showMessage","inject","showError","loadingIndicator","labour_type_registration","ref","labour_type","payment_registration","columns","labourType","items","labourTypeSelection","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","loading_spinner","is_closed","axiosInstance","axios","baseURL","axiosInstance2","process","request_id","prepareLabourRequestEdit","request","value","id","edit_modal","labour_days","days","selected_date","date","labour_task","task","selected_project","projects","find","p","project_id","approval_status_data","human_resources","operation_department","engineer","senior_accountant","managing_director","getApprovalStatus","async","response","get","data","check_status","console","error","deleteLabourRequest","confirm","delete","then","getLabourRequests","status","message","catch","prepareTable","labour_request","labourRequest","labour_request_id","getRequestedLabourTypes","printTable","approval_check_id","openModal","labourListSelection","fetchLabours","labourRequestList","loading_labours","fetchLabourRequestList","selected_labour_list","labour_type_id","log","selectLabourType","labour","loading_labour_types","map","index","SNo","name","rate","toLocaleString","quantity","labour_count","total","status_name","user_id","user_role","project","requested_by","stat","key","class","status_color","awaits","getProjects","company_id","getLabourTypeSelection","user","user_permissions","onMounted","storedUser","localStorage","getItem","JSON","parse","permissions","labour_quantity","registerLabourType","newData","post","closeModal","clearLabourRequestForm","updating_request","role","registerLabourRequest","project_name","activated","loading_activation","approveCheck","put","activateLabourRequest","approveLabourRequest","inactivateLabourRequest","updateLabourRequest","selected_labour","addLabourList","labour_request_type_id","labour_id","labour_name","deleteRequestedLabourType","deleteLabourList","dateParts","split","formattedDate","slice","iframe","document","createElement","style","display","body","appendChild","grandTotal","labourRows","item","rawTotal","parseFloat","replace","join","formattedGrandTotal","printContent","iframeDoc","contentWindow","open","write","close","onload","focus","print","setTimeout","removeChild","__exports__"],"sourceRoot":""}