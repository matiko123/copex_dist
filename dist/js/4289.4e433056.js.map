{"version":3,"file":"js/4289.4e433056.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/hr/leaves/list.vue","webpack://cork-vue3/./src/views/hr/leaves/list.vue?449b"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">  \r\n            <ul class=\"navbar-nav flex-row mt-2\">\r\n                <li>\r\n                    <div class=\"page-header\">\r\n                        <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                            <ol class=\"breadcrumb\">\r\n                                <li class=\"breadcrumb-item\"><a href=\"javascript:;\">HR</a></li>\r\n                                <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Leave</span></li>\r\n                                <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>List</span></li>\r\n                            </ol>\r\n                        </nav>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n\r\n            <div class=\"d-flex me-4 mt-2 \">\r\n                        <div class=\"ms-auto\">\r\n\r\n\r\n                           <button class=\"btn btn-success \"\r\n                             @click=\"printEmployeeLeave()\" \r\n                            >                           \r\n                              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n  <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n</svg>\r\n</button>\r\n \r\n                        </div>\r\n                    </div>  \r\n\r\n<!-- compamy settings starts -->\r\n    <teleport to=\"#breadcrumb\">\r\n         <ul class=\"navbar-nav flex-row ms-auto\">\r\n                <li class=\"nav-item more-dropdown\">\r\n                    <div class=\"dropdown custom-dropdown-icon\">\r\n                        <a href=\"javascript:;\" class=\"nav-link dropdown-toggle\" id=\"ddlSettings\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                            <span>Select a company</span>\r\n                            <svg\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                width=\"24\"\r\n                                height=\"24\"\r\n                                viewBox=\"0 0 24 24\"\r\n                                fill=\"none\"\r\n                                stroke=\"currentColor\"\r\n                                stroke-width=\"2\"\r\n                                stroke-linecap=\"round\"\r\n                                stroke-linejoin=\"round\"\r\n                                class=\"feather feather-chevron-down\"\r\n                            >\r\n                                <polyline points=\"6 9 12 15 18 9\"></polyline>\r\n                            </svg>\r\n                        </a>\r\n                        <ul class=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"ddlSettings\">\r\n                            <li @click=\"getData(5)\"><a class=\"dropdown-item\" data-value=\"Mail\" href=\"javascript:void(0);\">BUSHMAN SAFARI</a></li>\r\n                            <li @click=\"getData(6)\"><a class=\"dropdown-item\" data-value=\"Settings\" href=\"javascript:void(0);\">COPEX CONTRACTORS</a></li>\r\n                        </ul>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n    </teleport>\r\n\r\n <h3 class=\"text-center\">\r\n  {{ company_id == 5 ? 'BUSHMAN SAFARI TRACKERS EMPLOYEES LEAVE LIST' : company_id == 6 ? 'COPEX CONTRACTORS EMPLOYEES LEAVE LIST' : 'EMPLOYEES LEAVE LIST' }}\r\n</h3>\r\n\r\n <!-- company settings ends -->\r\n        <div class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                 <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n                    <div v-else class=\"custom-table table3\">\r\n                        <v-client-table :data=\"leaves\" :columns=\"columns\" :options=\"table_option\">\r\n                            <template #status=\"props\">\r\n                                <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.color\">\r\n                                    {{ props.row.status.name }}\r\n                                </span>\r\n                            </template>\r\n                            <template #actions=\"props\">\r\n\r\n<svg\r\n @click=\"openAttachmentModal(props.row)\" data-bs-toggle=\"modal\" data-bs-target=\"#leave-attachment-modal\"\r\nv-if=\"props.row.status_id == 3 && !props.row.leave_attachment\"\r\nxmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-cloud-upload text-success\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383\"/>\r\n  <path fill-rule=\"evenodd\" d=\"M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708z\"/>\r\n</svg>\r\n\r\n<a :href=\"props.row.attachment\" \r\n   target=\"_blank\" \r\n   rel=\"noopener noreferrer\"\r\n   v-if=\"props.row.leave_attachment\">\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-file-earmark-pdf text-primary\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2M9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z\"/>\r\n  <path d=\"M4.603 14.087a.8.8 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.7 7.7 0 0 1 1.482-.645 20 20 0 0 0 1.062-2.227 7.3 7.3 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.188-.012.396-.047.614-.084.51-.27 1.134-.52 1.794a11 11 0 0 0 .98 1.686 5.8 5.8 0 0 1 1.334.05c.364.066.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.86.86 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.7 5.7 0 0 1-.911-.95 11.7 11.7 0 0 0-1.997.406 11.3 11.3 0 0 1-1.02 1.51c-.292.35-.609.656-.927.787a.8.8 0 0 1-.58.029m1.379-1.901q-.25.115-.459.238c-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361q.016.032.026.044l.035-.012c.137-.056.355-.235.635-.572a8 8 0 0 0 .45-.606m1.64-1.33a13 13 0 0 1 1.01-.193 12 12 0 0 1-.51-.858 21 21 0 0 1-.5 1.05zm2.446.45q.226.245.435.41c.24.19.407.253.498.256a.1.1 0 0 0 .07-.015.3.3 0 0 0 .094-.125.44.44 0 0 0 .059-.2.1.1 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a4 4 0 0 0-.612-.053zM8.078 7.8a7 7 0 0 0 .2-.828q.046-.282.038-.465a.6.6 0 0 0-.032-.198.5.5 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822q.036.167.09.346z\"/>\r\n</svg>\r\n</a>\r\n                              \r\n<!-- modal starts -->\r\n\r\n<!-- Modal -->\r\n<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Service Registration</h5>\r\n                <button type=\"button\" data-dismiss=\"modal\" data-bs-dismiss=\"modal\" aria-label=\"Close\" class=\"btn-close\"></button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n             <input type=\"text\" class=\"form-control\" placeholder=\"Enter Service Name\" v-model=\"name\" />\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n                <button type=\"button\" class=\"btn\" data-dismiss=\"modal\" data-bs-dismiss=\"modal\"><i class=\"flaticon-cancel-12\"></i> Discard</button>\r\n                <button type=\"button\" class=\"btn btn-primary\">Save</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n <!-- modal ends -->\r\n \r\n                                \r\n                            </template>\r\n                           \r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Leave Attachment modal starts -->\r\n<div class=\"modal fade mymodal\" id=\"leave-attachment-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"leaveAttachmentModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"leaveAttachmentModalLabel\">Leave Attachment For {{ selectedLeave?.employee }}</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"closeAttachmentModal()\"></button>\r\n      </div>\r\n      <form @submit.prevent=\"submitLeaveAttachment()\">\r\n        <div class=\"modal-body\">\r\n            <!-- Leave Information -->\r\n              <div class=\"row layout-top-spacing\" v-if=\"selectedLeave\">\r\n          <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\"\r\n          >\r\n            <div           \r\n            class=\"panel p-0\" >\r\n              <div class=\"custom-table table3\" >\r\n        <table class=\"table table-bordered table-striped\">\r\n  <thead>\r\n    <tr class=\"text-dark\">\r\n      <th >Employee</th>\r\n      <th >Start Date</th>\r\n      <th >End Date</th>\r\n      <th >Leave Days</th>\r\n      <th >Status</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr>\r\n      <td>{{ selectedLeave.employee }}</td>\r\n      <td>{{ selectedLeave.start_date }}</td>\r\n      <td>{{ selectedLeave.end_date }}</td>\r\n      <td>{{ selectedLeave.leave_days }}</td>\r\n      <td>\r\n         <span class=\"badge inv-status\" :class=\"'badge-' +selectedLeave?.status?.color\">\r\n            {{ selectedLeave?.status?.name }}\r\n         </span>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n        <td colspan=\"5\" v-if=\"selectedLeave?.remark\">Remark : {{ selectedLeave?.remark }}</td>\r\n    </tr>\r\n\r\n  </tbody>\r\n</table>\r\n</div>\r\n</div>\r\n</div>\r\n</div>\r\n            \r\n            <hr class=\"mb-3\">\r\n            \r\n            <div class=\"row mb-3\">\r\n                <div class=\"col-md-12\">\r\n                          <label class=\"form-label\">Leave Attachment (PDF)</label>\r\n                          <input  class=\"form-control\" type=\"file\"\r\n                            @change=\"handleFileUpload\"\r\n                            accept=\"application/pdf\"\r\n                            required\r\n                          >\r\n                        </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" @click=\"closeAttachmentModal()\" id=\"close_attachment\">Close</button>\r\n          <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"uploadingAttachment\">\r\n            <span v-if=\"uploadingAttachment\" class=\"spinner-border spinner-border-sm text-white me-2\" role=\"status\"></span>\r\n            Upload\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- Leave Attachment modal ends -->\r\n\r\n    </div>\r\n</template>\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n<script setup>\r\n    import { onMounted, ref ,inject } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    useMeta({ title: 'Custom Table' });\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    const axiosInstance = axios.create({\r\n       baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n    const printEmployeeLeave = inject('printEmployeeLeave');\r\n    const showMessage = inject('showMessage')\r\n    const showError = inject('showError')\r\n    const tableShimmer = inject('tableShimmer');\r\n    const loading_spinner = ref(false)\r\n    const name = ref('');\r\n    const columns = ref(['Sno', 'employee','type','start_date','end_date','leave_days','remark', 'status','actions']);\r\n\r\n    const table_option = ref({\r\n        perPage: 20,\r\n        perPageValues: [20, 50 , 100],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['id', 'service_name'],\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n\r\n    const company_id = ref('')\r\n       const getData = (company)=>{\r\n        company_id.value = company\r\n        getLeaves();\r\n        getEmployees()\r\n   }\r\n\r\n\r\n\r\n    const leaves = ref([])\r\nconst getLeaves = async () => {\r\n    loading_spinner.value = true;\r\n   try {\r\n      const response = await axiosInstance.get(`employee-leave?company_id=${company_id.value}`)\r\n      leaves.value = response.data.map((item, index) => {\r\n         const start = new Date(item.start_date)\r\n         const end = new Date(item.end_date)\r\n         const leave_days = Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1\r\n         return {\r\n            ...item,\r\n            Sno: index + 1,\r\n             attachment: process.env.VUE_APP_API_BASE_URL + '../../' + item.attachment,\r\n             leave_attachment:item.attachment,\r\n              employee: item.employee.name,\r\n              type : item.leave_type.name,\r\n            leave_days\r\n         }\r\n      })\r\n   } catch (error) {\r\n      showError(error.message)\r\n      console.log(error)\r\n   }finally{\r\n    loading_spinner.value = false;\r\n   }\r\n}\r\n    const employeesList = ref([])\r\n\r\n  const getEmployees = async () => {\r\n        const response = await axiosInstance.get(`employees?company_id=${company_id.value}`)\r\n        employeesList.value = response.data\r\n    };\r\n\r\n    const selectedLeave = ref(null)\r\n    const openAttachmentModal = (row) => {\r\n        selectedLeave.value = row;\r\n    }\r\n\r\n    const handleFileUpload = (e) => {\r\n  attachment.value = e.target.files[0];\r\n};\r\nconst attachment = ref('')\r\nconst uploadingAttachment = ref(false);\r\nconst submitLeaveAttachment = async () => {\r\n    uploadingAttachment.value = true;\r\n\r\n    const formData = new FormData();\r\n    formData.append('attachment', attachment.value);\r\n\r\n    try {\r\n        const response = await axiosInstance.post(\r\n            `/employee-leave/${selectedLeave.value.id}/attachment`,\r\n            formData,\r\n            { headers: { 'Content-Type': 'multipart/form-data' } }\r\n        );\r\n        getReactiveLeaves();\r\n        showMessage('Leave attached successfully!');\r\n        closeAttachmentModal();\r\n        document.getElementById('close_attachment').click();\r\n    } catch (error) {\r\n        showError(error.message);\r\n        console.log(error);\r\n    } finally {\r\n        uploadingAttachment.value = false;\r\n    }\r\n};\r\n\r\n const closeAttachmentModal = () => {\r\n    selectedLeave.value = null;\r\n    attachment.value = '';\r\n};\r\n\r\nconst getReactiveLeaves = async () => {\r\n   const response = await axiosInstance.get('employee-leave')\r\n      leaves.value = response.data.map((item, index) => {\r\n         const start = new Date(item.start_date)\r\n         const end = new Date(item.end_date)\r\n         const leave_days = Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1\r\n         return {\r\n            ...item,\r\n            Sno: index + 1,\r\n             attachment: process.env.VUE_APP_API_BASE_URL + '../../' + item.attachment,\r\n             leave_attachment:item.attachment,\r\n            employee: item.employee.name,\r\n            leave_days\r\n         }\r\n      })\r\n}\r\n\r\n\r\n    onMounted(() => {\r\n\r\n    });\r\n</script>\r\n","import script from \"./list.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./list.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./list.vue?vue&type=style&index=0&id=0c877b80&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useMeta","title","axiosInstance","axios","baseURL","process","printEmployeeLeave","inject","showMessage","showError","tableShimmer","loading_spinner","ref","name","columns","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","company_id","getData","company","value","getLeaves","getEmployees","leaves","async","response","get","data","map","item","index","start","Date","start_date","end","end_date","leave_days","Math","ceil","Sno","attachment","leave_attachment","employee","type","leave_type","error","message","console","log","employeesList","selectedLeave","openAttachmentModal","row","handleFileUpload","e","target","files","uploadingAttachment","submitLeaveAttachment","formData","FormData","append","post","id","headers","getReactiveLeaves","closeAttachmentModal","document","getElementById","click","onMounted","__exports__"],"sourceRoot":""}