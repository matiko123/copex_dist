{"version":3,"file":"js/2006.6aef1c71.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/accounts/index.vue","webpack://cork-vue3/./src/views/accounts/index.vue?edd1"],"sourcesContent":["<template>\r\n  <div class=\"w-100 px-0\">\r\n    <teleport to=\"#breadcrumb\">\r\n      <ul class=\"navbar-nav flex-row\">\r\n        <li>\r\n          <div class=\"page-header\">\r\n            <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n              <ol class=\"breadcrumb\">\r\n                <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Charts</a></li>\r\n                <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Apex</span></li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </teleport>\r\n\r\n    <div v-scroll-spy class=\"row g-0 my-4\">\r\n      <!-- Key Metrics Section -->\r\n      <div class=\"col-12 mb-4\">\r\n        <div class=\"row ms-0 me-0\">\r\n          <!-- Total Tasks -->\r\n<div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n  <div class=\"statbox2 panel box box-shadow\">\r\n    <div class=\"panel-body p-3\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <div>\r\n          <h6 class=\"mb-0\">Total Requisitions</h6>\r\n        </div>\r\n        <div class=\"ms-auto badge bg-white text-dark fs-6 fw-bold rounded-pill\" >{{report?.all?.count }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n          <!-- Total Approved Budget -->\r\n<div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n  <div class=\"statbox2 panel box box-shadow\">\r\n    <div class=\"panel-body p-3\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <div>\r\n          <h6 class=\"mb-0\">Approved Requisitions</h6>\r\n        </div>\r\n        <div class=\"ms-auto badge bg-white text-dark fs-6 fw-bold rounded-pill\">{{ report?.approved?.count }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n          <!-- Budget Consumed -->\r\n<div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n  <div class=\"statbox2 panel box box-shadow\">\r\n    <div class=\"panel-body p-3\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <div>\r\n          <h6 class=\"mb-0\">Pending Requisitions</h6>\r\n        </div>\r\n        <div class=\"ms-auto badge bg-white text-dark fs-6 fw-bold rounded-pill\">{{ report?.pending?.count }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n          <!-- Remaining Budget -->\r\n<div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n  <div class=\"statbox2 panel box box-shadow\">\r\n    <div class=\"panel-body p-3\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <div>\r\n          <h6 class=\"mb-0\">Paid Requisitions</h6>\r\n        </div>\r\n        <div class=\"ms-auto badge bg-white text-dark fs-6 fw-bold rounded-pill\">{{ report?.paid?.count }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n          <!-- Amount Paid -->\r\n<router-link to=\"/accounts/transaction-points\" class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n  <div class=\"statbox2 panel box box-shadow\">\r\n    <div class=\"panel-body p-3\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <div>\r\n          <h6 class=\"mb-0\">Total Accounts</h6>\r\n        </div>\r\n        <div class=\"ms-auto badge bg-white text-dark fs-6 fw-bold rounded-pill\">{{ accounts?.count || 0 }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</router-link>\r\n\r\n\r\n          <!-- Amount Due -->\r\n<router-link to=\"/accounts/payments\" class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n  <div class=\"statbox2 panel box box-shadow\">\r\n    <div class=\"panel-body p-3\">\r\n      <div class=\"d-flex justify-content-between align-items-center\">\r\n        <div>\r\n          <h6 class=\"mb-0\">Accounts Transactions</h6>\r\n        </div>\r\n        <div class=\"ms-auto badge  text-dark fs-6 fw-bold rounded-pill\">&nbsp;</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</router-link>\r\n\r\n        </div>\r\n        <div class=\"row ms-0 me-0\">\r\n          <!-- Total Tasks Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body \">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h3 class=\"mb-0 cost-body\" >{{ formatNumber(report?.all?.cost || 0) }}</h3>\r\n                  </div>\r\n                  <div style=\"cursor: pointer;\" class=\"ms-auto bg-danger p-2 rounded-pill\">\r\n                    <svg @click=\"printApprovals('all','all','ALL REQUISITIONS ')\" v-if=\"!loadingTotalTasks\" :class=\"{ 'disabled': loadingTotalTasks }\" xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-filetype-pdf\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z\"/>\r\n</svg>\r\n                    <div v-else class=\"spinner-border spinner-border-sm text-white\" role=\"status\">\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Total Approved Budget Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h3 class=\"mb-0 cost-body\">{{ formatNumber(report?.approved?.cost || 0) }}</h3>\r\n                  </div>\r\n                                    <div style=\"cursor: pointer;\" class=\"ms-auto bg-danger p-2 rounded-pill\">\r\n                    <svg  @click=\"printApprovals('all','3','APPROVED REQUISITIONS ')\" v-if=\"!loadingApprovedBudget\" :class=\"{ 'disabled': loadingApprovedBudget }\" xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-filetype-pdf\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z\"/>\r\n</svg>\r\n                    <div v-else class=\"spinner-border spinner-border-sm text-white\" role=\"status\">\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Budget Consumed Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                     <h3 class=\"mb-0 cost-body\">{{ formatNumber(report?.pending?.cost || 0) }}</h3>\r\n                  </div>\r\n                                    <div style=\"cursor: pointer;\" class=\"ms-auto bg-danger p-2 rounded-pill\" >\r\n                    <svg @click=\"printApprovals('all','2','PENDING REQUISITIONS ')\"  v-if=\"!loadingBudgetConsumed\" :class=\"{ 'disabled': loadingBudgetConsumed }\" xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-filetype-pdf\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z\"/>\r\n</svg>\r\n                    <div v-else class=\"spinner-border spinner-border-sm text-white\" role=\"status\">\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Remaining Budget Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                   <h3 class=\"mb-0 cost-body\">{{ formatNumber(report?.paid?.cost || 0) }}</h3>\r\n                  </div>\r\n                                    <div style=\"cursor: pointer;\" class=\"ms-auto bg-danger p-2 rounded-pill\">\r\n                    <svg  @click=\"printApprovals('all','16','PAID APPROVED REQUISITIONS ')\" v-if=\"!loadingRemainingBudget\" :class=\"{ 'disabled': loadingRemainingBudget }\" xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-filetype-pdf\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z\"/>\r\n</svg>\r\n                    <div v-else class=\"spinner-border spinner-border-sm text-white\" role=\"status\">\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Amount Paid Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h3 class=\"mb-0 cost-body\">{{ formatNumber(accounts?.balance || 0) }}</h3>\r\n                  </div>\r\n                                    <div style=\"cursor: pointer;\" class=\"ms-auto bg-danger p-2 rounded-pill\">\r\n                    <svg @click=\"handleAccountsClick\" v-if=\"!loadingAccounts\" :class=\"{ 'disabled': loadingAccounts }\"  xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-filetype-pdf\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z\"/>\r\n</svg>\r\n                    <div v-else class=\"spinner-border spinner-border-sm text-white\" role=\"status\">\r\n                    </div>\r\n                   \r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Amount Due Value -->\r\n          <div class=\"col-lg-2 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3 \">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h3 class=\"mb-0\">{{ accounts?.transactions_count || 0 }}</h3>\r\n                  </div>\r\n                                    <div style=\"cursor: pointer;\" class=\"ms-auto bg-danger p-2 rounded-pill\">\r\n                    <svg @click=\"handleTransactionsClick\" v-if=\"!loadingTransactions\" :class=\"{ 'disabled': loadingTransactions }\" xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-filetype-pdf\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z\"/>\r\n</svg>\r\n                    <div v-else class=\"spinner-border spinner-border-sm text-white\" role=\"status\">\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Row 1: Task Breakdown & Approved Budget Charts -->\r\n      <div class=\"col-12 mb-4\">\r\n        <div class=\"row ms-0 me-0\">\r\n          <!-- Task Breakdown by Status -->\r\n       <div class=\"col-lg-6 col-md-12 mb-4\">\r\n            <div class=\"statbox panel box box-shadow h-100\">\r\n              <div class=\"panel-heading\">\r\n                <h5 class=\"text-center mb-0\">Payment Requisition Analysis</h5>\r\n              </div>\r\n              <div class=\"panel-body\">\r\n                <apexchart\r\n                  v-if=\"budgetVsConsumedOptions\"\r\n                  height=\"450\"\r\n                  type=\"bar\"\r\n                  :options=\"budgetVsConsumedOptions\"\r\n                  :series=\"accountsReport\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Approved Budget For Each Category -->\r\n        <div class=\"col-lg-6 col-md-12 mb-4\">\r\n            <div class=\"statbox panel box box-shadow h-100\">\r\n              <div class=\"panel-heading\">\r\n                <h5 class=\"text-center mb-0\">Accounts Payment Comparison</h5>\r\n              </div>\r\n              <div class=\"panel-body\">\r\n                <div class=\"text-center\">\r\n                  <apexchart\r\n                    v-if=\"accountsPaymentsOptions\"\r\n                    height=\"450\"\r\n                    type=\"pie\"\r\n                    :options=\"accountsPaymentsOptions\"\r\n                    :series=\"accountsPayments.costs\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, inject } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\nimport '@/assets/sass/scrollspyNav.scss';\r\nimport apexchart from 'vue3-apexcharts';\r\nimport { useStore } from 'vuex';\r\nimport { useMeta } from '@/composables/use-meta';\r\nimport axios from 'axios';\r\nimport Multiselect from '@suadelabs/vue3-multiselect';\r\nimport '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\nconst printApprovalReport = inject('printApprovalReport');\r\nconst formatDate = inject('formatDate');\r\nconst route = useRoute();\r\nconst user_id_role = JSON.parse(localStorage.getItem(\"user\")).role;\r\nconst approvalGroup = ref('')\r\nconst loadingTotalTasks = ref(false);\r\nconst loadingApprovedBudget = ref(false);\r\nconst loadingBudgetConsumed = ref(false);\r\nconst loadingRemainingBudget = ref(false);\r\n\r\nuseMeta({ title: 'Accounts Analysis' });\r\nconst formatNumber = inject('formatNumber');\r\nconst showMessage = inject('showMessage');\r\nconst showError = inject('showError');\r\nconst store = useStore();\r\n   const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n\r\nconst printApprovals = inject('printApprovals')\r\n\r\nconst accountsPayments = ref([]); \r\n\r\nconst accountsReport = ref([\r\n  { name: 'Cost : ', data: [0, 0, 0, 0, 0] }\r\n]);\r\n\r\n\r\n\r\n\r\n\r\n// Overall Project Progress (Pie Chart)\r\nconst accountsPaymentsOptions = computed(() => {\r\n\r\n  return {\r\n    chart: {\r\n      type: 'pie',\r\n      fontFamily: 'inherit'\r\n    },\r\n    labels: accountsPayments.value.labels,\r\n    colors: accountsPayments.value.colors,\r\n    legend: {\r\n      position: 'bottom',\r\n      fontSize: '12px',\r\n      labels: {\r\n        colors:'#000'\r\n      }\r\n    },\r\n    dataLabels: {\r\n      enabled: true,\r\n      formatter: function(val) {\r\n        return val.toFixed(1) + '%';\r\n      },\r\n      style: {\r\n        fontSize: '12px',\r\n        colors: ['#000'] \r\n      }\r\n    },\r\n    tooltip: {\r\n      theme:  'dark',\r\n      y: {\r\n        formatter: function(val) {\r\n          return formatNumber(val);\r\n        }\r\n      }\r\n    },\r\n    plotOptions: {\r\n      pie: {\r\n        donut: {\r\n          size: '0%'\r\n        },\r\n        expandOnClick: true\r\n      }\r\n    },\r\n    responsive: [{\r\n      breakpoint: 480,\r\n      options: {\r\n        chart: {\r\n          width: 200\r\n        },\r\n        legend: {\r\n          position: 'bottom'\r\n        }\r\n      }\r\n    }]\r\n  };\r\n});\r\n\r\n// Budget Analysis: Approved vs. Consumed by Category (Grouped Bar Chart)\r\nconst budgetVsConsumedOptions = computed(() => {\r\n  const is_dark = store.state.is_dark_mode;\r\n  return {\r\n    chart: {\r\n      type: 'bar',\r\n      toolbar: { show: false },\r\n      fontFamily: 'inherit',\r\n      height: 350\r\n    },\r\n    plotOptions: {\r\n      bar: {\r\n        horizontal: false,\r\n        columnWidth: '55%',\r\n        borderRadius: 4,\r\n        distributed: true\r\n      }\r\n    },\r\n    colors: ['#6f20f7','#00e68a', '#B9001A', '#02c3e0', '#025696' ],\r\n    xaxis: {\r\n      categories: ['Pending', 'Approved', 'Rejected', 'Remarked', 'Paid'],\r\n      labels: {\r\n        style: {\r\n          colors: is_dark ? '#888ea8' : '#3b3f5c',\r\n          fontSize: '12px'\r\n        }\r\n      }\r\n    },\r\n    yaxis: {\r\n      labels: {\r\n        style: {\r\n          colors: is_dark ? '#888ea8' : '#3b3f5c',\r\n          fontSize: '12px'\r\n        },\r\n        formatter: function(val) {\r\n          return formatNumber(val);\r\n        }\r\n      }\r\n    },\r\n    legend: {\r\n      show: false\r\n    },\r\n    tooltip: {\r\n      theme: is_dark ? 'dark' : 'light',\r\n      y: {\r\n        formatter: function(val) {\r\n          return formatNumber(val);\r\n        }\r\n      }\r\n    },\r\n    grid: {\r\n      borderColor: is_dark ? '#191e3a' : '#e0e6ed',\r\n      strokeDashArray: 3\r\n    },\r\n    dataLabels: {\r\n      enabled: false\r\n    }\r\n  };\r\n});\r\n\r\n\r\n    const report = ref('')\r\n    const accounts = ref('')\r\n    const accountsPayment = ref([])\r\n    const getAccountsReport = async()=>{\r\n      try{\r\n          const response = await axiosInstance.get('accounts-report')\r\n          accounts.value = response.data.accounts\r\n          report.value = response.data.requisitions  \r\n          const data = response.data.requisitions  \r\n          accountsReport.value = [\r\n      {\r\n        name: 'Cost : ',\r\n        data: [\r\n          // data.all.cost,\r\n          data.pending.cost,\r\n          data.approved.cost,\r\n          data.rejected.cost,\r\n          data.remarked.cost,\r\n          data.paid.cost\r\n        ]\r\n      }\r\n    ]\r\n\r\naccountsPayments.value.costs = accounts.value.accounts_list.map(item => Number(item.total_cost??0))\r\naccountsPayment.value.labels = accounts.value.accounts_list.map(item => {\r\n  const mobileName = item?.mobile_money?.name ?? 'CASH';\r\n  return (item?.name ?? '') + ' ' + mobileName;\r\n});\r\n\r\naccountsPayments.value.labels = accounts.value.accounts_list.map(item => {\r\n  const mobileName = item?.mobile_money?.name ?? 'CASH';\r\n  return (item?.name ?? '') + ' ' + mobileName;\r\n});\r\n\r\naccountsPayments.value.colors = accounts.value.accounts_list.map(item => item.color);\r\n\r\n\r\n      }catch(error){\r\n        showError(error.message)\r\n        console.log(error)\r\n      }finally{\r\n\r\n      }\r\n    }\r\n\r\n\r\nconst loadingTransactions = ref(false);\r\n\r\nconst handleTransactionsClick = async () => {\r\n  loadingTransactions.value = true;\r\n  try {\r\n    await getAccountPayments(); \r\n    printReportTransactions();\r\n  } finally {\r\n    loadingTransactions.value = false;\r\n  }\r\n};\r\n\r\nconst payments = ref([])\r\nconst getAccountPayments = async()=>{\r\ntry{\r\n  const response = await axiosInstance.get(`account-transactions`)\r\n  payments.value = response.data.map((item,index)=>({\r\n    ...item,\r\n    Sno : index + 1,\r\n    attachment :  process.env.VUE_APP_API_BASE_URL+'../../'+ item.attachment,\r\n    amount : formatNumber(item.amount),\r\n    receiver : item.host,\r\n    date : formatDate(item.date),\r\n    source_account :  (item?.transaction_point?.name ?? '') + ' ' +\r\n  (item?.transaction_point?.mobile_money?.name ?? '') + ' ' +\r\n  (item?.transaction_point?.mobile_money?.category ?? 'CASH')\r\n  }))\r\n}catch(error){\r\n    showError(error.message)\r\n    console.log(error)\r\n}\r\n\r\n}\r\n\r\nconst printReportTransactions = async () => {\r\n  try {\r\n    const iframe = document.createElement(\"iframe\");\r\n    iframe.style.display = \"none\";\r\n    document.body.appendChild(iframe);\r\n\r\n    const printContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>Account Transaction Payments Report</title>\r\n<style>\r\n  body { font-family: 'Courier New', monospace; margin: 40px; font-size: 13px; }\r\n  .text-style { font-family: 'Courier New', monospace; }\r\n  .company-title { text-align: center; }\r\n  .title { text-align: center; font-size: 20px; margin: 10px 0; }\r\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; }\r\n  th, td { border: 0.5px solid #000; padding: 6px; }\r\n  th { background-color: #f8f8f8; font-weight: bold; }\r\n  .text-right { text-align: right; }\r\n  .text-center { text-align: center; }\r\n  hr { border: 0; border-top: 0.5px solid #000; margin: 0px 0; }\r\n  @media print { body { margin: 10mm; } }\r\n</style>\r\n</head>\r\n<body>\r\n\r\n<div class=\"company-title text-style\">\r\n  <i>\r\n  <h1>COPEX CONTRACTORS CO.LTD</h1>\r\n  <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\r\n  <div><b>Tel:</b> 0713 000 777, 0657 111 555</div>\r\n  <div><b>Email:</b> info@copexcontractors.co.tz</div>\r\n  <div><b>TIN:</b> 135-489-247 &nbsp;&nbsp; <b>VRN:</b> 40-032826C</div>\r\n  </i>\r\n</div>\r\n\r\n<hr style=\"margin-top:20px\">\r\n\r\n<div class=\"title text-style\">\r\n  ACCOUNT TRANSACTION PAYMENTS REPORT\r\n</div>\r\n\r\n<hr>\r\n\r\n<table>\r\n  <thead>\r\n    <tr>\r\n      <th>No.</th>\r\n      <th>Reference</th>\r\n      <th>Receiver</th>\r\n      <th>Source Account</th>\r\n      <th>Date</th>\r\n      <th class=\"text-right\">Amount</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    ${payments.value.map((payment, index) => `\r\n    <tr>\r\n      <td>${index + 1}</td>\r\n      <td>${payment.reference_number || 'N/A'}</td>\r\n      <td>${payment.receiver || 'N/A'}</td>\r\n      <td>${payment.source_account || 'N/A'}</td>\r\n      <td>${payment.date || 'N/A'}</td>\r\n      <td class=\"text-right\">${payment.amount || '0'}</td>\r\n    </tr>\r\n    `).join('')}\r\n    <tr>\r\n      <td colspan=\"5\" class=\"text-right\"><strong>TOTAL:</strong></td>\r\n      <td class=\"text-right\"><strong>${formatNumber(payments.value.reduce((sum, payment) => {\r\n        const amount = typeof payment.amount === 'string' ? parseFloat(payment.amount.replace(/,/g, '')) : payment.amount;\r\n        return sum + (isNaN(amount) ? 0 : amount);\r\n      }, 0))}</strong></td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n</body>\r\n</html>\r\n`;\r\n\r\n    const iframeDoc = iframe.contentWindow.document;\r\n    iframeDoc.open();\r\n    iframeDoc.write(printContent);\r\n    iframeDoc.close();\r\n\r\n    iframe.onload = () => {\r\n      iframe.contentWindow.focus();\r\n      iframe.contentWindow.print();\r\n      setTimeout(() => {\r\n        document.body.removeChild(iframe);\r\n      }, 1000);\r\n    };\r\n  } catch (error) {\r\n    showError(`Failed to print report: ${error.message}`);\r\n  }\r\n};\r\n\r\n\r\n\r\nconst loadingAccounts = ref(false);\r\n\r\nconst handleAccountsClick = async () => {\r\n  loadingAccounts.value = true;\r\n  try {\r\n    await getaccounts(); \r\n    printAccountsReport();\r\n  } finally {\r\n    loadingAccounts.value = false;\r\n  }\r\n};\r\n\r\nconst account = ref([])\r\n  const getaccounts = async () => {\r\n        try {\r\n            const response = await axiosInstance.get('account-transaction-points');\r\n            account.value = response.data.map((item, index) => ({\r\n                ...item,\r\n                SNo: index + 1,\r\n                account_name:item.name,\r\n                type:item?.mobile_money?.category ?? 'CASH',\r\n                amount: formatNumber(item.transactions_sum ?? 0),\r\n                debit: 0 < item.transactions_sum ? formatNumber(item.transactions_sum ?? 0) : '--',\r\n                credit: 0 > item.transactions_sum ? formatNumber(Math.abs(item.transactions_sum) ?? 0) : '--',\r\n                provider :item?.mobile_money?.name,\r\n                status : item.status              \r\n            }));\r\n        } catch (error) {\r\n            showError(error.message);\r\n        }\r\n    };\r\n\r\nconst printAccountsReport = async () => {\r\n  try {\r\n    const iframe = document.createElement(\"iframe\");\r\n    iframe.style.display = \"none\";\r\n    document.body.appendChild(iframe);\r\n\r\n    const printContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>Accounts Report</title>\r\n<style>\r\n  body { font-family: 'Courier New', monospace; margin: 40px; font-size: 13px; }\r\n  .text-style { font-family: 'Courier New', monospace; }\r\n  .company-title { text-align: center; }\r\n  .title { text-align: center; font-size: 20px; margin: 10px 0; }\r\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; }\r\n  th, td { border: 0.5px solid #000; padding: 6px; }\r\n  th { background-color: #f8f8f8; font-weight: bold; }\r\n  .text-right { text-align: right; }\r\n  .text-center { text-align: center; }\r\n  hr { border: 0; border-top: 0.5px solid #000; margin: 0px 0; }\r\n  @media print { body { margin: 10mm; } }\r\n</style>\r\n</head>\r\n<body>\r\n\r\n<div class=\"company-title text-style\">\r\n  <i>\r\n  <h1>COPEX CONTRACTORS CO.LTD</h1>\r\n  <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\r\n  <div><b>Tel:</b> 0713 000 777, 0657 111 555</div>\r\n  <div><b>Email:</b> info@copexcontractors.co.tz</div>\r\n  <div><b>TIN:</b> 135-489-247 &nbsp;&nbsp; <b>VRN:</b> 40-032826C</div>\r\n  </i>\r\n</div>\r\n\r\n<hr style=\"margin-top:20px\">\r\n\r\n<div class=\"title text-style\">\r\n  ACCOUNTS REPORT\r\n</div>\r\n\r\n<hr>\r\n\r\n<table>\r\n  <thead>\r\n    <tr>\r\n      <th>No.</th>\r\n      <th>Account Name</th>\r\n      <th>Type</th>\r\n      <th>Provider</th>\r\n      <th class=\"text-right\">Debit</th>\r\n      <th class=\"text-right\">Credit</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    ${account.value.map((item, index) => `\r\n    <tr>\r\n      <td>${index + 1}</td>\r\n      <td>${item.account_name}</td>\r\n      <td>${item.type}</td>\r\n      <td>${item.provider || 'N/A'}</td>\r\n      <td class=\"text-right\">${item.debit}</td>\r\n      <td class=\"text-right\">${item.credit}</td>\r\n    </tr>\r\n    `).join('')}\r\n    <tr>\r\n      <td colspan=\"4\" class=\"text-right\"><strong>TOTAL:</strong></td>\r\n      <td class=\"text-right\"><strong>${formatNumber(account.value.reduce((sum, item) => {\r\n        const debit = typeof item.debit === 'string' ? parseFloat(item.debit.replace(/,/g, '')) : item.debit;\r\n        return sum + (isNaN(debit) || item.debit === '--' ? 0 : debit);\r\n      }, 0))}</strong></td>\r\n      <td class=\"text-right\"><strong>${formatNumber(account.value.reduce((sum, item) => {\r\n        const credit = typeof item.credit === 'string' ? parseFloat(item.credit.replace(/,/g, '')) : item.credit;\r\n        return sum + (isNaN(credit) || item.credit === '--' ? 0 : Math.abs(credit));\r\n      }, 0))}</strong></td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n</body>\r\n</html>\r\n`;\r\n\r\n    const iframeDoc = iframe.contentWindow.document;\r\n    iframeDoc.open();\r\n    iframeDoc.write(printContent);\r\n    iframeDoc.close();\r\n\r\n    iframe.onload = () => {\r\n      iframe.contentWindow.focus();\r\n      iframe.contentWindow.print();\r\n      setTimeout(() => {\r\n        document.body.removeChild(iframe);\r\n      }, 1000);\r\n    };\r\n  } catch (error) {\r\n    showError(`Failed to print report: ${error.message}`);\r\n  }\r\n};\r\n\r\n  \r\n    onMounted(() => {\r\n        getAccountsReport();\r\n    });\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.statbox {\r\n  border-radius: 8px;\r\n  border: 1px solid #e0e6ed;\r\n}\r\n\r\n.statbox2 {\r\n  background-color: #1b2e4b;\r\n  border-radius: 8px;\r\n  border: 1px solid #e0e6ed;\r\n}\r\n\r\n.panel-heading {\r\n  padding: 1rem;\r\n  border-bottom: 1px solid #e0e6ed;\r\n}\r\n\r\n.panel-body {\r\n  padding: 1rem;\r\n}\r\n\r\nh3 {\r\n  font-weight: 600;\r\n}\r\n\r\nh5 {\r\n  font-weight: 600;\r\n}\r\n\r\nh6 {\r\n  font-size: 0.875rem;\r\n  font-weight: 600;\r\n  color: white;\r\n}\r\n\r\n.small {\r\n  font-size: 0.875rem;\r\n  color: #6c757d;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Dark mode support */\r\n:deep(.apexcharts-tooltip) {\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n:deep(.apexcharts-text) {\r\n  font-family: inherit !important;\r\n}\r\n\r\n/* Ensure consistent chart heights */\r\n:deep(.apexcharts-canvas) {\r\n  margin: 0 auto;\r\n}\r\n\r\n/* Additional styles for horizontal bar charts */\r\n:deep(.horizontal-bar-chart .apexcharts-bar-area) {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n:deep(.horizontal-bar-chart .apexcharts-bar-area:hover) {\r\n  filter: brightness(1.1);\r\n}\r\n\r\n/* Ensure proper spacing for long category names */\r\n:deep(.apexcharts-yaxis-texts-g text) {\r\n  dominant-baseline: middle;\r\n}\r\n\r\n/* Custom styling for horizontal bars */\r\n:deep(.apexcharts-bar-series.apexcharts-plot-series .apexcharts-bar-area) {\r\n  stroke-width: 0;\r\n}\r\n\r\n:deep(.apexcharts-bar-series.apexcharts-plot-series .apexcharts-bar-area:hover) {\r\n  stroke-width: 1;\r\n  stroke: #ffffff;\r\n}\r\n\r\n/* Responsive adjustments */\r\n@media (max-width: 768px) {\r\n  .col-lg-2, .col-md-4, .col-sm-6 {\r\n    margin-bottom: 1rem;\r\n  }\r\n  \r\n  h3 {\r\n    font-size: 1.5rem;\r\n  }\r\n  \r\n  h6 {\r\n    font-size: 0.8rem;\r\n  }\r\n}\r\n\r\n/* Add subtle animation to bars */\r\n@keyframes barGrow {\r\n  from {\r\n    transform: scaleX(0);\r\n    transform-origin: left;\r\n  }\r\n  to {\r\n    transform: scaleX(1);\r\n    transform-origin: left;\r\n  }\r\n}\r\n\r\n:deep(.apexcharts-bar-area) {\r\n  animation: barGrow 0.8s ease-out;\r\n}\r\n\r\n.cost-body{\r\n  font-size: 18px!important;\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=b2bdfb8a&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\copexErp\\\\frontEnd\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b2bdfb8a\"]])\n\nexport default __exports__"],"names":["inject","formatDate","loadingTotalTasks","useRoute","JSON","parse","localStorage","getItem","role","ref","loadingApprovedBudget","loadingBudgetConsumed","loadingRemainingBudget","useMeta","title","formatNumber","showError","store","useStore","axiosInstance","axios","baseURL","process","printApprovals","accountsPayments","accountsReport","name","data","accountsPaymentsOptions","computed","chart","type","fontFamily","labels","value","colors","legend","position","fontSize","dataLabels","enabled","formatter","val","toFixed","style","tooltip","theme","y","plotOptions","pie","donut","size","expandOnClick","responsive","breakpoint","options","width","budgetVsConsumedOptions","is_dark","state","is_dark_mode","toolbar","show","height","bar","horizontal","columnWidth","borderRadius","distributed","xaxis","categories","yaxis","grid","borderColor","strokeDashArray","report","accounts","accountsPayment","getAccountsReport","async","response","get","requisitions","pending","cost","approved","rejected","remarked","paid","costs","accounts_list","map","item","Number","total_cost","mobileName","mobile_money","color","error","message","console","log","loadingTransactions","handleTransactionsClick","getAccountPayments","printReportTransactions","payments","index","Sno","attachment","amount","receiver","host","date","source_account","transaction_point","category","iframe","document","createElement","display","body","appendChild","printContent","payment","reference_number","join","reduce","sum","parseFloat","replace","isNaN","iframeDoc","contentWindow","open","write","close","onload","focus","print","setTimeout","removeChild","loadingAccounts","handleAccountsClick","getaccounts","printAccountsReport","account","SNo","account_name","transactions_sum","debit","credit","Math","abs","provider","status","onMounted","__exports__"],"sourceRoot":""}