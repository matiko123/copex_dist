"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[3960],{13960:function(e,a,t){t.r(a),t.d(a,{default:function(){return de}});var l=t(66252),s=t(49963),o=t(3577),n=t(2262),i=t(56296),r=t(87066);const c={class:"layout-px-spacing"},d=(0,l._)("ul",{class:"navbar-nav flex-row"},[(0,l._)("li",null,[(0,l._)("div",{class:"page-header"},[(0,l._)("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[(0,l._)("ol",{class:"breadcrumb"},[(0,l._)("li",{class:"breadcrumb-item"},[(0,l._)("a",{href:"javascript:;"},"DataTables")]),(0,l._)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,l._)("span",null,"Totaly Machines types")])])])])])],-1),u={class:"seperator-header layout-top-spacing"},m={class:"d-flex justify-content-between mt-3"},p=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"})],-1),v=[p],b=(0,l._)("i",{class:"bi bi-plus"},null,-1),_=(0,l.Uk)("Add "),h=[b,_],y={class:"mt-3 mx-2"},g=["onSubmit"],w=(0,l._)("h3",{class:"text-center"},"MACHINE TYPE REGISTRATION ",-1),f={class:"row mb-2"},k={class:"col-md-6"},x=(0,l._)("label",{class:"form-label"},"Machine Type",-1),C={class:"col-md-6"},M=(0,l._)("label",{class:"form-label"},"Consuption Type",-1),S=(0,l._)("option",{value:""},"Select Option",-1),H=(0,l._)("option",{value:"km/Litre"},"Km/Litre",-1),L=(0,l._)("option",{value:"Litre/hr"},"Litre/hr",-1),T=[S,H,L],j=(0,l._)("div",{class:"d-flex gap-2 justify-content-end"},[(0,l._)("button",{type:"button",class:"btn btn-danger",onclick:"document.getElementById('consumer').style.display='none'"},"Cancel"),(0,l._)("button",{type:"submit",class:"btn btn-primary"},"Register")],-1),U={key:1,class:"text-center text-primary mt-2 mb-2"},D=(0,l._)("span",{class:"text-lg"},[(0,l._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})],-1),E=[D],I={class:"row layout-top-spacing"},A={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},V={class:"panel br-6 p-0"},N={class:"custom-table"},R={class:"actions text-center"},B=["onClick","data-bs-target"],P=(0,l._)("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[(0,l._)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"})],-1),$=[P],q=["onClick"],K=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger"},[(0,l._)("polyline",{points:"3 6 5 6 21 6"}),(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),O=[K],z=["id"],Z={class:"modal-dialog modal-lg"},G={class:"modal-content"},W=(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Update Machine Details"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Y={class:"modal-body"},F={class:"row"},J={class:"col-md-6"},Q=(0,l._)("label",{class:"form-label"},"Name",-1),X={class:"col-md-6"},ee=(0,l._)("label",{class:"form-label"},"Consumption Type",-1),ae=(0,l._)("option",{value:""},"Select Consumption Type",-1),te=(0,l._)("option",{value:"Km/Litre"},"Km/Litre",-1),le=(0,l._)("option",{value:"Litre/hr"},"Litre/hr",-1),se=[ae,te,le],oe={class:"modal-footer d-flex"},ne=(0,l._)("button",{type:"button",class:"btn btn-outline-danger","data-bs-dismiss":"modal"}," Close ",-1),ie=["onClick"];var re={setup(e){const a=(0,l.f3)("showMessage"),t=(0,l.f3)("showError");(0,i.j)({title:"Default Order Sorting Table"});const p=(0,n.iH)(["SNo","name","consuption_type","actions"]),b=(0,n.iH)([]),_=(0,n.iH)(!1),S=(0,n.iH)(!1),H=(0,n.iH)(""),L=(0,n.iH)({perPage:10,perPageValues:[5,10,20,50],skin:"table table-hover",columnsClasses:{actions:"actions text-center"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},sortable:["SNo","name","consuption_type"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},resizableColumns:!1}),D=r.Z.create({baseURL:"https://bushman.ink/api/v1/"}),P=async()=>{_.value=!0,D.get("/machine-types").then((e=>{Array.isArray(e.data)?b.value=e.data.map(((e,a)=>({SNo:a+1,id:e.id,name:e.name,consuption_type:e.consuption_type}))):console.error("Invalid response format")})).catch((e=>{console.error("Error fetching machine data:",e.message)})).finally((()=>{_.value=!1}))},K=(0,n.iH)(""),ae=(0,n.iH)(""),te=()=>{S.value=!1,_.value=!0;const e={name:K.value,consuption_type:H.value};D.post("/machine-types",e).then((e=>{ce(),a(" Machine type Added Succesfully"),P(),_.value=!1,console.log("type name",ae.value.name)})).catch((e=>{t(e),console.error("Error registering machine",e)}))},le=e=>{_.value=!0;const l={name:K.value,consuption_type:H.value};D.put(`/machine-types/${e}`,l).then((e=>{ce(),a("Machine Type Update"),P(),_.value=!1})).catch((e=>{t(e),console.error("Error updating machine..",e),_.value=!1}))},re=e=>{try{_.value=!0,D.delete(`/machine-types/${e}`).then((e=>{a("Machine type Deleted Succesfully"),P(),_.value=!1}))}catch(l){t(l)}},ce=()=>{K.value="",ae.value=""},de=e=>{K.value=e.name};(0,l.bv)((()=>{P()}));(0,n.iH)(null);return(e,a)=>{const t=(0,l.up)("v-client-table");return(0,l.wg)(),(0,l.iD)("div",c,[((0,l.wg)(),(0,l.j4)(l.lR,{to:"#breadcrumb"},[d])),(0,l._)("div",u,[(0,l._)("div",m,[(0,l._)("button",{class:"btn btn-dark me-2 px-3",onClick:a[0]||(a[0]=a=>e.$router.go(-1))},v),(0,l._)("button",{class:"btn btn-primary me-2",onClick:a[1]||(a[1]=e=>S.value=!S.value)},h)])]),(0,l._)("div",y,[S.value?((0,l.wg)(),(0,l.iD)("form",{key:0,class:"p-3 border rounded bg-white shadow",id:"consumer",onSubmit:(0,s.iM)(te,["prevent"])},[w,(0,l._)("div",f,[(0,l._)("div",k,[x,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=e=>K.value=e),name:"machine_type_name",required:""},null,512),[[s.nr,K.value]])]),(0,l._)("div",C,[M,(0,l.wy)((0,l._)("select",{class:"form-control","onUpdate:modelValue":a[3]||(a[3]=e=>H.value=e)},T,512),[[s.bM,H.value]])])]),j],40,g)):(0,l.kq)("",!0),_.value?((0,l.wg)(),(0,l.iD)("div",U,E)):(0,l.kq)("",!0)]),(0,l._)("div",I,[(0,l._)("div",A,[(0,l._)("div",V,[(0,l._)("div",N,[(0,l.Wm)(t,{data:b.value,columns:p.value,options:L.value},{actions:(0,l.w5)((t=>[(0,l._)("div",R,[(0,l._)("a",{href:"javascript:;",onClick:e=>de(t.row),"data-bs-toggle":"modal","data-bs-target":"#modal-"+t.row.id},$,8,B),(0,l._)("a",{href:"javascript:void(0);",title:"Delete",onClick:e=>re(t.row.id)},O,8,q)]),(0,l._)("div",{class:"modal fade mymodal","data-bs-backdrop":"false",id:"modal-"+t.row.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[(0,l._)("div",Z,[(0,l._)("div",G,[W,(0,l._)("form",{onSubmit:a[6]||(a[6]=(0,s.iM)((a=>le(e.selectedId)),["prevent"]))},[(0,l._)("div",Y,[(0,l._)("div",F,[(0,l._)("div",J,[Q,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=e=>K.value=e)},null,512),[[s.nr,K.value]])]),(0,l._)("div",X,[ee,(0,l.wy)((0,l._)("select",{class:"form-control","onUpdate:modelValue":a[5]||(a[5]=e=>H.value=e)},se,512),[[s.bM,H.value]])])])]),(0,l._)("div",oe,[ne,(0,l._)("button",{type:"submit",class:"btn btn-outline-success","data-bs-dismiss":"modal",onClick:a=>e.selectedId=t.row.id}," Save Changes ",8,ie)])],32)])])],8,z)])),salary:(0,l.w5)((e=>[(0,l.Uk)(" $"+(0,o.zw)(e.row.salary),1)])),_:1},8,["data","columns","options"])])])])])])}}};const ce=re;var de=ce}}]);
//# sourceMappingURL=3960.148f5a49.js.map