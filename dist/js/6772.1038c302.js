"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[6772],{86772:function(e,a,s){s.r(a),s.d(a,{default:function(){return S}});var t=s(66252),r=s(49963),i=s(3577),l=s(2262),o=s(87066),n=s(56296);const c={class:"layout-px-spacing"},u=(0,t.uE)('<ul class="navbar-nav flex-row mt-2"><li><div class="page-header"><nav class="breadcrumb-one" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="javascript:;">Masters</a></li><li class="breadcrumb-item active" aria-current="page"><span>Permissions</span></li></ol></nav></div></li></ul>',1),v={class:"d-flex me-4 mt-2"},d={class:"ms-auto"},m=(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,t._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})],-1),p=[m],h=["onSubmit"],b=(0,t._)("h4",{class:"text-center"},"Permission REGISTRATION FORM",-1),g={class:"row mb-2"},w={class:"col-md-12"},_=(0,t._)("label",{class:"form-label"},"Permission Name",-1),f={class:"text-center gap-2 justify-content-end"},k=(0,t._)("button",{type:"submit",class:"btn btn-primary"},"Register",-1),x={key:1,class:"d-flex justify-content-center align-items-center",style:{height:"100px"}},y=(0,t._)("span",{class:"text-primary spinner-border spinner-border-sm",Permission:"status","aria-hidden":"true"},[(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z"}),(0,t._)("path",{d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z"}),(0,t._)("path",{d:"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z"})]),(0,t.Uk)(" Loading... ")],-1),C=[y],P={class:"row layout-top-spacing"},M={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},H={class:"panel p-0"},z={class:"custom-table table3"},A=(0,t._)("a",{href:"javascript:void(0)",class:"text-success",title:"Approve"},[(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-check2-square",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z"}),(0,t._)("path",{d:"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0"})])],-1),V=["onClick"],j=(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger"},[(0,t._)("polyline",{points:"3 6 5 6 21 6"}),(0,t._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),E=[j];var R={setup(e){(0,n.j)({title:"Custom Table"});const a=o.Z.create({baseURL:"https://bushman.ink/api/v1/"}),s=(0,l.iH)([]),m=(0,l.iH)(""),y=(0,l.iH)(!1),j=(0,l.iH)(["id","name"]),R=(0,l.iH)([]),q=(0,l.iH)(!1),S=(0,l.iH)(""),B=(0,t.f3)("showMessage"),D=(0,t.f3)("showError"),I=(0,l.iH)({perPage:100,perPageValues:[100,200,500],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:["id","Permission_name"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),L=()=>{y.value=!0,a.get("/permission").then((e=>{s.value=e.data,R.value=e.data,y.value=!1})).catch((e=>{D(e.message),y.value=!1,console.error("Error fetching Permissions:",e.message)}))},N=e=>{confirm("Are you sure you want to delete this Permission? "+e)&&(y.value=!0,a.delete(`/permission/${e}`).then((e=>{L(),B(e.data.message),y.value=!1})).catch((e=>{D(e.message),y.value=!1,console.error("Error deleting Permission:",e)})))},T=()=>{q.value=!1,y.value=!0;const e={name:m.value};a.post("/permission",e).then((e=>{L(),y.value=!1,B("Permission registered successfully!"),m.value="",S.value=""})).catch((e=>{D(e.message),y.value=!1,console.error("Error registering Permission:",e.message)}))};return(0,t.bv)((()=>{L()})),(e,a)=>{const s=(0,t.up)("v-client-table");return(0,t.wg)(),(0,t.iD)("div",c,[u,(0,t._)("div",v,[(0,t._)("div",d,[(0,t._)("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=e=>q.value=!q.value)},p)])]),q.value?((0,t.wg)(),(0,t.iD)("form",{key:0,class:"mt-3 p-3 border rounded bg-white shadow",onSubmit:(0,r.iM)(T,["prevent"])},[b,(0,t._)("div",g,[(0,t._)("div",w,[_,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Enter Permission Name","onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),required:""},null,512),[[r.nr,m.value]])])]),(0,t._)("div",f,[(0,t._)("button",{type:"button",class:"btn btn-danger me-3",onClick:a[2]||(a[2]=e=>q.value=!1)},"Cancel"),k])],40,h)):(0,t.kq)("",!0),y.value?((0,t.wg)(),(0,t.iD)("div",x,C)):(0,t.kq)("",!0),(0,t._)("div",P,[(0,t._)("div",M,[(0,t._)("div",H,[(0,t._)("div",z,[(0,t.Wm)(s,{data:R.value,columns:j.value,options:I.value},{status:(0,t.w5)((e=>[(0,t._)("span",{class:(0,i.C_)(["badge inv-status","badge-"+e.row.status.class])},(0,i.zw)(e.row.status.key),3)])),actions:(0,t.w5)((e=>[A,(0,t._)("a",{href:"javascript:void(0);",title:"Delete",onClick:a=>N(e.row.id)},E,8,V)])),_:1},8,["data","columns","options"])])])])])])}}};const q=R;var S=q}}]);
//# sourceMappingURL=6772.1038c302.js.map