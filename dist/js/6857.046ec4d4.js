"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[6857],{96857:function(t,e,a){a.r(e),a.d(e,{default:function(){return Wl}});a(26699);var l=a(66252),s=a(3577),i=a(2262),o=a(49963),n=a(87066),c=a(56296),r=a(26212),d=a.n(r);const u=t=>((0,l.dD)("data-v-423795c4"),t=t(),(0,l.Cn)(),t),_={class:"layout-px-spacing"},p=(0,l.uE)('<ul class="navbar-nav flex-row mt-2" data-v-423795c4><li data-v-423795c4><div class="page-header" data-v-423795c4><nav class="breadcrumb-one" aria-label="breadcrumb" data-v-423795c4><ol class="breadcrumb" data-v-423795c4><li class="breadcrumb-item" data-v-423795c4><a href="javascript:;" data-v-423795c4>Projects</a></li><li class="breadcrumb-item active" aria-current="page" data-v-423795c4><span data-v-423795c4>Overview</span></li></ol></nav></div></li></ul>',1),v={class:"offcanvas offcanvas-start","data-bs-scroll":"true",tabindex:"-1",id:"offcanvasWithBothOptions","aria-labelledby":"offcanvasWithBothOptionsLabel"},m=u((()=>(0,l._)("div",{class:"offcanvas-header"},[(0,l._)("h5",{class:"offcanvas-title",id:"offcanvasWithBothOptionsLabel"},"PROJECT LISTS"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1))),b={class:"offcanvas-body"},g={class:"row"},w={class:"col-12"},y={class:"list-group",id:"list-tab",role:"tablist"},h=["innerHTML"],f=["id","href","aria-controls","onClick"],k={key:0,class:"btn","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasWithBothOptions","aria-controls":"offcanvasWithBothOptions"},x=u((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-list-ul",viewBox:"0 0 16 16"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"})],-1))),z=[x],S={key:1,class:"btn btn-outline-primary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasWithBothOptions","aria-controls":"offcanvasWithBothOptions",id:"project-list"},D={key:2,class:"tab-pane mt-5"},q=u((()=>(0,l._)("h5",null,"No project selected",-1))),C=[q],H={class:"tab-content",id:"nav-tabContent"},j=["id","aria-labelledby"],L={class:"panel-body pill-justify-centered tabs"},U=u((()=>(0,l._)("ul",{class:"nav nav-pills mb-3 mt-3 justify-content-center",id:"justify-center-pills-tab",role:"tablist"},[(0,l._)("li",{class:"nav-item"},[(0,l._)("a",{class:"nav-link active",id:"justify-center-pills-details-tab","data-bs-toggle":"pill",href:"#justify-center-pills-details",role:"tab","aria-controls":"justify-center-pills-details","aria-selected":"true"}," PROJECT DETAILS ")]),(0,l._)("li",{class:"nav-item"},[(0,l._)("a",{class:"nav-link",id:"justify-center-pills-boq-tab","data-bs-toggle":"pill",href:"#justify-center-pills-boq",role:"tab","aria-controls":"justify-center-pills-boq","aria-selected":"false"}," BILL OF QUANTITY ")]),(0,l._)("li",{class:"nav-item"},[(0,l._)("a",{class:"nav-link",id:"justify-center-pills-planning-tab","data-bs-toggle":"pill",href:"#justify-center-pills-planning",role:"tab","aria-controls":"justify-center-pills-planning","aria-selected":"false"}," BUDGETS ")]),(0,l._)("li",{class:"nav-item"},[(0,l._)("a",{class:"nav-link",id:"ipc-tab","data-bs-toggle":"pill",href:"#ipc",role:"tab","aria-controls":"ipc","aria-selected":"false"}," PROVISIONAL IPC ")]),(0,l._)("li",{class:"nav-item"},[(0,l._)("a",{class:"nav-link",id:"activities-tab","data-bs-toggle":"pill",href:"#activities",role:"tab","aria-controls":"activities","aria-selected":"false"}," SITE ACTIVITIES ")]),(0,l._)("li",{class:"nav-item"},[(0,l._)("a",{class:"nav-link",id:"analysis-tab","data-bs-toggle":"pill",href:"#analysis",role:"tab","aria-controls":"analysis","aria-selected":"false"}," PROJECT ANALYSIS ")])],-1))),N={class:"tab-content",id:"justify-center-pills-tabContent"},T={class:"tab-pane fade show active",id:"justify-center-pills-details",role:"tabpanel","aria-labelledby":"justify-center-pills-details-tab"},B=u((()=>(0,l._)("h4",{class:"mb-4"},"Project Details!",-1))),M={class:"list-group list-group-flush mb-4"},A={class:"list-group-item"},I={class:"list-group-item"},Y={class:"list-group-item"},P={class:"list-group-item"},O={class:"list-group-item"},E={class:"list-group-item"},$={class:"list-group-item"},R={class:"list-group-item"},K=u((()=>(0,l._)("li",{class:"list-group-item"},[(0,l.Uk)("Project Progress : 0% "),(0,l._)("div",{class:"progress br-30 mt-2",min:"0",style:{height:"30px"}},[(0,l._)("div",{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"90",class:"progress-bar bg-primary",style:{width:"0%"}},[(0,l._)("div",{class:"progress-title"},[(0,l._)("span"),(0,l._)("span",null,"0%")])])])],-1))),V={class:"tab-pane fade",id:"justify-center-pills-boq",role:"tabpanel","aria-labelledby":"justify-center-pills-boq-tab"},W={key:0,style:{"max-height":"600px","overflow-y":"auto"}},Q={class:"table table-bordered mt-4"},F=u((()=>(0,l._)("thead",{class:"thead-light",style:{position:"sticky",top:"0",background:"white","z-index":"5"}},[(0,l._)("tr",null,[(0,l._)("th",{scope:"col",class:"text-dark"},"Code/SN"),(0,l._)("th",{scope:"col",class:"text-dark"},"Description"),(0,l._)("th",{scope:"col",class:"text-dark"},"Unit"),(0,l._)("th",{scope:"col",class:"text-dark"},"Quantity"),(0,l._)("th",{scope:"col",class:"text-dark"},"Rate"),(0,l._)("th",{scope:"col",class:"text-dark"},"Total")])],-1))),J={colspan:"6",class:"bg-dark text-white"},G={colspan:"1",class:"text-center"},Z={colspan:"5",class:"text-start"},X={colspan:"1",class:"text-center"},tt={colspan:"5",class:"text-start"},et={class:"text-center"},at={class:"text-start"},lt={class:"text-end"},st={class:"text-end"},it={colspan:"1",class:"text-center"},ot={colspan:"5",class:"text-start"},nt={class:"text-center"},ct={class:"text-start"},rt={class:"text-end"},dt={class:"text-end"},ut={key:0},_t={key:0,class:"text-center"},pt={class:"mx-4"},vt={key:0,class:"text-center bg-dark"},mt={class:"col-md-9 fw-bold"},bt={class:"fw-bold"},gt={class:"col-md-3 text-end"},wt={class:"row"},yt=u((()=>(0,l._)("div",{class:"col-md-9 fw-bold"},[(0,l._)("p",{class:"fw-bold"},"A Total of Bills")],-1))),ht={class:"col-md-3 text-end"},ft={key:1},kt=["innerHTML"],xt={key:1},zt={class:"tab-pane fade",id:"justify-center-pills-planning",role:"tabpanel","aria-labelledby":"justify-center-pills-planning-tab"},St=u((()=>(0,l._)("h4",{class:"mb-4"},"Project Planning ",-1))),Dt={class:"accordion accordion-flush",id:"accordionFlushExample"},qt={class:"accordion-item"},Ct={class:"accordion-header"},Ht=["data-bs-target"],jt=["id"],Lt={class:"accordion-body"},Ut=["id"],Nt={class:"accordion-item",style:{border:"1px solid green"}},Tt={class:"accordion-header"},Bt=["data-bs-target"],Mt=["id","data-bs-parent"],At={class:"accordion-body"},It={class:"panel p-0"},Yt={class:"custom-table"},Pt=["onClick"],Ot=u((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-primary"},[(0,l._)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,l._)("circle",{cx:"12",cy:"12",r:"3"})],-1))),Et=[Ot],$t={class:"accordion-item"},Rt={class:"accordion-header"},Kt={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#unbudgeted","aria-expanded":"false","aria-controls":"flush-collapseOne"},Vt={id:"unbudgeted",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},Wt={class:"accordion-body"},Qt={class:"custom-table"},Ft=["onClick"],Jt=["innerHTML"],Gt={key:0},Zt={class:"tab-pane fade",id:"ipc",role:"tabpanel","aria-labelledby":"ipc-tab"},Xt={class:"d-flex flex-column align-items-center mb-4"},te={"aria-label":"Page navigation"},ee={class:"pagination justify-content-center",style:{cursor:"pointer"}},ae=u((()=>(0,l._)("li",{class:"page-item disabled"},[(0,l._)("a",{class:"page-link",href:"#","aria-label":"Previous"},[(0,l._)("span",{"aria-hidden":"true"},"«")])],-1))),le=["onClick"],se={class:"page-link"},ie=u((()=>(0,l._)("li",{class:"page-item disabled"},[(0,l._)("a",{class:"page-link",href:"#","aria-label":"Next"},[(0,l._)("span",{"aria-hidden":"true"},"»")])],-1))),oe=["innerHTML"],ne={class:"table-responsive",style:{"max-height":"600px","overflow-y":"auto"}},ce={class:"table table-bordered mt-4"},re=u((()=>(0,l._)("thead",{class:"thead-light",style:{position:"sticky",top:"0",background:"white","z-index":"5"}},[(0,l._)("tr",null,[(0,l._)("th",{colspan:"6",class:"text-dark text-center"},"Original BoQ"),(0,l._)("th",{colspan:"2",class:"text-dark text-nowrap text-center"},"Previous IPC"),(0,l._)("th",{colspan:"2",class:"text-dark text-nowrap text-center",style:{"background-color":"beige",border:"1px solid black"}},"This IPC"),(0,l._)("th",{colspan:"2",class:"text-dark text-nowrap text-center"},"Remaining Balance")]),(0,l._)("tr",null,[(0,l._)("th",{scope:"col",class:"text-dark"},"Code/SN"),(0,l._)("th",{scope:"col",class:"text-dark"},"Description"),(0,l._)("th",{scope:"col",class:"text-dark"},"Unit"),(0,l._)("th",{scope:"col",class:"text-dark"},"Qty"),(0,l._)("th",{scope:"col",class:"text-dark"},"Rate"),(0,l._)("th",{scope:"col",class:"text-dark"},"Total"),(0,l._)("th",{scope:"col",class:"text-dark"},"Qty"),(0,l._)("th",{scope:"col",class:"text-dark"},"Total"),(0,l._)("th",{scope:"col",class:"text-dark",style:{"background-color":"beige",border:"1px solid black"}},"Qty"),(0,l._)("th",{scope:"col",class:"text-dark",style:{"background-color":"beige",border:"1px solid black"}},"Total"),(0,l._)("th",{scope:"col",class:"text-dark"},"Qty"),(0,l._)("th",{scope:"col",class:"text-dark"},"Total")])],-1))),de={colspan:"1",class:"text-center"},ue={colspan:"5",class:"text-start"},_e={colspan:"1",class:"text-center"},pe={colspan:"5",class:"text-start"},ve={class:"text-center"},me={class:"text-start"},be={class:"text-end"},ge={class:"text-end"},we={style:{cursor:"pointer","background-color":"beige",border:"3px solid white"}},ye={colspan:"1",class:"text-center"},he={colspan:"5",class:"text-start"},fe={class:"text-center"},ke={class:"text-start"},xe={class:"text-end"},ze={class:"text-end"},Se=["onClick"],De={key:0},qe={class:"thead-light",style:{position:"sticky",top:"0",background:"white","z-index":"5"}},Ce=u((()=>(0,l._)("th",{colspan:"5",class:"text-dark text-end"},"GRAND TOTAL",-1))),He={scope:"col",class:"text-dark"},je=u((()=>(0,l._)("th",{scope:"col",class:"text-dark"}," ",-1))),Le={scope:"col",class:"text-dark"},Ue=u((()=>(0,l._)("th",{scope:"col",class:"text-dark"}," ",-1))),Ne={scope:"col",class:"text-dark"},Te=u((()=>(0,l._)("th",{scope:"col",class:"text-dark"}," ",-1))),Be={scope:"col",class:"text-dark"},Me={key:0,class:"text-center"},Ae={class:"tab-pane fade",id:"activities",role:"tabpanel","aria-labelledby":"activities-tab"},Ie={class:"panel p-0 mt-3"},Ye=["innerHTML"],Pe={key:1,class:"text-center"},Oe={class:"d-flex me-5"},Ee={class:"ms-auto d-flex gap-5"},$e={class:"row mt-4"},Re={class:"card shadow"},Ke={class:"card-body"},Ve={class:"d-flex justify-content-between align-items-center"},We={class:"card-title text-dark fw-bold text-start mb-0"},Qe={class:"my-4"},Fe={class:"text-muted mb-1 text-start"},Je=u((()=>(0,l._)("strong",null,"Supervisor:",-1))),Ge={key:0,class:"text-muted mb-1 text-start mt-3"},Ze=u((()=>(0,l._)("strong",null,"Remark:",-1))),Xe={class:"panel p-0 mt-3"},ta={class:"custom-table table3 mt-3"},ea={key:0,class:"row mt-3"},aa={class:"col-12"},la=u((()=>(0,l._)("h6",{class:"text-start fw-bold mb-3"},"Activity Attachments",-1))),sa={class:"row g-3"},ia={class:"card shadow-sm h-100"},oa={class:"card-body p-2"},na={class:"attachment-preview mb-2",style:{height:"150px",overflow:"hidden","border-radius":"9px",display:"flex","align-items":"center","justify-content":"center","background-color":"#f8f9fa"}},ca=["src","alt","onClick"],ra={class:"d-flex justify-content-between align-items-center"},da={class:"mb-1 small text-muted"},ua=u((()=>(0,l._)("div",{class:"card-footer bg-transparent border-0 d-flex justify-content-between"},null,-1))),_a={class:"tab-pane fade",id:"analysis",role:"tabpanel","aria-labelledby":"analysis-tab"},pa={class:"d-flex flex-column align-items-center mb-4"},va={class:"nav nav-tabs",id:"nav-tab",role:"tablist"},ma=["onClick"],ba={class:"tab-content",id:"nav-tabContent"},ga=["id","aria-labelledby"],wa={class:"mt-3"},ya=["innerHTML"],ha={class:"row layout-top-spacing"},fa={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},ka={class:"panel p-0"},xa={class:"custom-table table3",style:{"max-height":"600px","overflow-y":"auto"}},za=["innerHTML"],Sa=["onClick"],Da=u((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-primary"},[(0,l._)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,l._)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1))),qa=[Da],Ca={class:"modal fade mymodal",id:"view-attachment-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"attachmentModalLabel","aria-hidden":"true"},Ha={class:"modal-dialog modal-fullscreen"},ja={class:"modal-content"},La=u((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"attachmentModalLabel"},"Attachment"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Ua={class:"modal-body p-0"},Na={class:"attachment-wrapper"},Ta=["src"],Ba=u((()=>(0,l._)("path",{d:"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"},null,-1))),Ma=[Ba],Aa=u((()=>(0,l._)("button",{type:"button",class:"btn btn-danger ms-4","data-bs-dismiss":"modal"},"Close",-1))),Ia=["innerHTML"],Ya={class:"modal fade mymodal",id:"assign-budget-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"assignBudgetModalLabel","aria-hidden":"true"},Pa={class:"modal-dialog modal-xl"},Oa={class:"modal-content"},Ea={class:"modal-header"},$a={class:"modal-title fs-5",id:"assignBudgetModalLabel"},Ra={class:"modal-body"},Ka={key:0,class:"mb-4"},Va=u((()=>(0,l._)("h5",{class:"mb-3"},"Item Information",-1))),Wa={class:"row"},Qa={class:"col-md-4 mt-3"},Fa={class:"mb-3",style:{"font-size":"1.05rem"}},Ja=u((()=>(0,l._)("strong",null,"Item:",-1))),Ga={class:"mb-3",style:{"font-size":"1.05rem"}},Za=u((()=>(0,l._)("strong",null,"Cost:",-1))),Xa={class:"col-md-4 mt-3"},tl={class:"mb-3",style:{"font-size":"1.05rem"}},el=u((()=>(0,l._)("strong",null,"Quantity:",-1))),al={class:"mb-3",style:{"font-size":"1.05rem"}},ll=u((()=>(0,l._)("strong",null,"Description:",-1))),sl={class:"col-md-4 mt-3"},il={class:"mb-3",style:{"font-size":"1.05rem"}},ol=u((()=>(0,l._)("strong",null,"Rate:",-1))),nl={class:"row mb-3"},cl={class:"col-md-6"},rl=u((()=>(0,l._)("label",{class:"form-label small"},"Select A Budget",-1))),dl={key:0,class:"col-md-6"},ul=u((()=>(0,l._)("label",{class:"form-label small"},"Select An Item",-1))),_l={key:1,class:"col-md-12"},pl=u((()=>(0,l._)("label",{class:"form-label small"},"Select Description",-1))),vl={class:"modal-footer"},ml=["disabled"],bl={key:0,class:"spinner-border spinner-border-sm text-white me-2",role:"status"},gl=(0,l.Uk)(" Assign "),wl={class:"modal fade mymodal",id:"view-description-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"viewDescriptionModalLabel","aria-hidden":"true"},yl={class:"modal-dialog modal-fullscreen"},hl={class:"modal-content"},fl={class:"modal-header"},kl={class:"modal-title fs-5",id:"viewDescriptionModalLabel"},xl=u((()=>(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))),zl={class:"modal-body"},Sl={class:"table table-bordered table-responsive mb-3"},Dl=u((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{colspan:"8",class:"bg-light text-center text-dark fs-6"},"Budget Details")])],-1))),ql=u((()=>(0,l._)("th",null,"Project:",-1))),Cl=u((()=>(0,l._)("th",null,"Budget Name:",-1))),Hl=u((()=>(0,l._)("th",null,"Budget Item:",-1))),jl=u((()=>(0,l._)("th",null,"Description:",-1))),Ll=u((()=>(0,l._)("th",null,"Unit:",-1))),Ul=u((()=>(0,l._)("th",null,"Quantity:",-1))),Nl=u((()=>(0,l._)("th",null,"Rate:",-1))),Tl=u((()=>(0,l._)("th",null,"Total Cost:",-1))),Bl=u((()=>(0,l._)("th",null,"Used Quantity:",-1))),Ml=u((()=>(0,l._)("th",null,"Used Cost:",-1))),Al=u((()=>(0,l._)("th",null,"Balance:",-1))),Il={colspan:"3"},Yl={class:"panel p-0"},Pl={class:"custom-table table3"},Ol=["innerHTML"],El=u((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-arrow-right",style:{cursor:"pointer"},viewBox:"0 0 16 16"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"})],-1))),$l={class:"modal-footer"};var Rl={setup(t){(0,c.j)({title:"Custom Table"});const e=n.Z.create({baseURL:"https://bushman.ink/api/v1/"}),a=(0,l.f3)("showMessage"),r=(0,l.f3)("showError"),u=(0,l.f3)("tableShimmer"),x=(0,l.f3)("loadingIndicator"),q=(0,l.f3)("formatNumber"),Ot=(0,l.f3)("waitIndicator"),Da=(0,l.f3)("formatDate"),Ba=JSON.parse(localStorage.getItem("user")).permissions,Rl=(0,i.iH)(!1),Kl=(0,i.iH)(["Sno","item","description","quantity","rate","cost","approval_id","actions"]),Vl=(0,i.iH)(["Sno","activity","unit","quantity"]),Wl=(0,i.iH)(["Sno","name","units","quantity","quantity_2","rate","cost","used_cost","balance","actions"]),Ql=(0,i.iH)(["SNo","approved_by","description","cost","date","actions"]),Fl=(0,i.iH)([]),Jl=(0,i.iH)(null),Gl="https://bushman.ink",Zl=(0,i.iH)(""),Xl=t=>{Jl.value=t,ds(t.id),ps(),ss()},ts=(0,i.iH)(0),es=()=>{ts.value+=90},as=(0,i.iH)({perPage:100,perPageValues:[100,200,500],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:["id","service_name"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),ls=(0,i.iH)([]),ss=async()=>{ls.value=[],us.value=!0;try{const t=await e.get(`work-carried-outs?project_id=${Jl.value.id}`);ls.value=t.data.map(((t,e)=>({...t,Sno:e+1,date:Da(t.date||t.created_at),raw_date:t.created_at,activities:t.activities.map(((t,e)=>({...t,Sno:e+1,unit:t.unit?.short_name||"N/A"})))})))}catch(t){console.log(t),r(t.message)}finally{us.value=!1}},is=(0,l.Fl)((()=>Zl.value?ls.value.filter((t=>{const e=Zl.value.toLowerCase();return t.report_name?.toLowerCase().includes(e)||t.description?.toLowerCase().includes(e)||t.supervisor?.name?.toLowerCase().includes(e)||t.date?.includes(e)||t.remark?.toLowerCase().includes(e)||t.activities?.some((t=>t.activity?.toLowerCase().includes(e)||t.unit?.short_name?.toLowerCase().includes(e)))})):ls.value)),os=()=>{Rl.value=!0,e.get("/projects").then((t=>{Fl.value=t.data.filter((t=>"YES"===t.contracted)).map(((t,e)=>({...t,SNo:e+1,id:t.id,project_cost:t.project_cost.toLocaleString()+"/="}))),Rl.value=!1}))},ns=(0,i.iH)(1),cs=(0,i.iH)([]),rs=(0,i.iH)(""),ds=async t=>{us.value=!0;try{const a=await e.get(`/boq?project_id=${t}&ipc_no=${ns.value}`);cs.value=a.data.data,rs.value=a.data.ipc_count}catch(a){r(a.message),console.log(a)}finally{us.value=!1}},us=(0,i.iH)(""),_s=(0,i.iH)([]),ps=async()=>{bs(),_s.value=[],us.value=!0;try{const t=await e.get(`budgets?project_id=${Jl.value.id}`);_s.value=t.data}catch(t){r(t.message),console.log(t)}finally{us.value=!1}Rs(0)},vs=(0,i.iH)([]),ms=(0,i.iH)([]),bs=async()=>{vs.value=[],console.log(vs.value),us.value=!0;try{const t=await e.get(`unbudgeted-costs?project_id=${Jl.value.id}`);vs.value=t.data,ms.value=t.data.items.map(((t,e)=>({...t,Sno:e+1,requisition_item_id:t.requisition_item_id,item_id:t.item_id,item:t.remark,rate:q(t.rate),cost:q(t.cost)})))}catch(t){r(t.message),console.log(t)}finally{us.value=!1}},gs=(0,i.iH)(!1),ws=()=>{window.innerWidth<991&&(gs.value=!0)};(0,l.YP)(ns,(t=>{t&&ds(Jl.value.id)}));const ys=(0,i.iH)(""),hs=(0,i.iH)(null),fs=(t,e)=>{ys.value=t,hs.value=e},ks=(0,i.iH)(""),xs=(0,i.iH)([]),zs=(0,i.iH)(""),Ss=(0,i.iH)([]),Ds=(0,i.iH)("");(0,l.YP)(ks,(t=>{t&&(xs.value=t.items)})),(0,l.YP)(zs,(t=>{t&&(Ss.value=t.descriptions)}));const qs=(0,i.iH)(!1),Cs=async()=>{qs.value=!0;const t={item_id:Ds.value.id,remarker_id:JSON.parse(localStorage.getItem("user")).id,description:"From LPO No. "+Hs.value.approval_id+" for "+Hs.value.description,date:(new Date).toISOString().split("T")[0],cost:parseFloat(Hs.value.cost.replace(/[,/=]/g,""))};try{await e.put(`/assign-requisition-type-items/${Hs.value.requisition_item_id}`,t),document.getElementById("close_assign_budget").click(),a("Budget assigned successfully"),Us(),Ns(),Ls()}catch(l){r(l.message),console.log(l)}finally{qs.value=!1}},Hs=(0,i.iH)(""),js=t=>{Hs.value=t},Ls=()=>{ks.value="",zs.value="",Ds.value=""},Us=async()=>{vs.value=[];try{const t=await e.get(`unbudgeted-costs?project_id=${Jl.value.id}`);vs.value=t.data,ms.value=t.data.items.map(((t,e)=>({...t,Sno:e+1,requisition_item_id:t.requisition_item_id,item_id:t.item_id,item:t.remark,rate:q(t.rate),cost:q(t.cost)})))}catch(t){r(t.message),console.log(t)}},Ns=async()=>{_s.value=[];try{const t=await e.get(`budgets?project_id=${Jl.value.id}`);_s.value=t.data}catch(t){r(t.message),console.log(t)}},Ts=(0,i.iH)([]),Bs=async()=>{Rl.value=!0;try{const t=await e.get(`budget-remarks?budget_item_description_id=${Ms.value.id}`);Ts.value=t.data.map(((t,e)=>({...t,SNo:e+1,date:Da(t.date),description:t.description,cost:q(t.cost),approved_by:t.remarker?.name,remarker_email:t.remarker?.email})))}catch(t){r(t.message)}finally{Rl.value=!1}},Ms=(0,i.iH)(null),As=t=>{const e=_s.value.find((e=>e.items?.some((e=>e.descriptions?.some((e=>e.id===t.id)))))),a=e?.items?.find((e=>e.descriptions?.some((e=>e.id===t.id))));Ms.value={...t,budget_item:{...a,budget:e}},Bs(t)},Is=()=>{Ms.value=null},Ys=(0,i.iH)([]),Ps=async()=>{const t=await e.get("cost-categories");Ys.value=t.data},Os=(0,i.iH)(0),Es=(0,i.iH)([]),$s=(0,i.iH)(["Sno","item","quantity","rate","cost","used_cost"]),Rs=t=>{t=Number(t),Es.value=_s.value.flatMap((e=>e.items.flatMap((e=>e.descriptions.filter((e=>0===t||e.cost_category_id===t)).map(((t,e)=>({...t,Sno:e+1,item:t.name,quantity:(t.quantity*t.quantity_2).toLocaleString(),rate:q(t.cost),cost:q(t.quantity*t.quantity_2*t.cost),used_cost:q(t.used_cost)})))))))};return(0,l.bv)((()=>{os(),ws(),Ps(),document.getElementById("project-list").click()})),(t,e)=>{const a=(0,l.up)("v-client-table"),n=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",_,[p,(0,l._)("h5",{class:"text-center",style:(0,s.j5)(gs.value?"font-size:15px":"")},"PROJECT OVERVIEW "+(0,s.zw)(Jl.value?" FOR "+Jl.value.short_name:""),5),(0,l._)("div",v,[m,(0,l._)("div",b,[(0,l._)("div",g,[(0,l._)("div",w,[(0,l._)("div",y,[Rl.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,i.SU)(Ot)()},null,8,h)):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Fl.value,(t=>((0,l.wg)(),(0,l.iD)("a",{key:t.id,class:"list-group-item list-group-item-action",id:"project-link-"+t.id,"data-bs-toggle":"list",href:"#project-"+t.id,role:"tab","aria-controls":"project-"+t.id,onClick:(0,o.iM)((e=>Xl(t)),["prevent"]),"data-bs-dismiss":"offcanvas"},(0,s.zw)(t.short_name),9,f)))),128))])])])])]),gs.value?((0,l.wg)(),(0,l.iD)("button",k,z)):((0,l.wg)(),(0,l.iD)("button",S,"Select Project from the lists")),Jl.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",D,C)),(0,l._)("div",H,[Jl.value?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"tab-pane fade show active",id:"project-"+Jl.value.id,role:"tabpanel","aria-labelledby":"project-link-"+Jl.value.id},[(0,l._)("div",L,[U,(0,l._)("div",N,[(0,l._)("div",T,[B,(0,l._)("ul",M,[(0,l._)("li",A,"Project Short Name : "+(0,s.zw)(Jl.value.short_name),1),(0,l._)("li",I,"Project Full Name : "+(0,s.zw)(Jl.value.project_name),1),(0,l._)("li",Y,"Contract Number : "+(0,s.zw)(Jl.value.contract_number),1),(0,l._)("li",P,"Financial Year : "+(0,s.zw)(Jl.value.financial_year),1),(0,l._)("li",O,"Project Cost : "+(0,s.zw)(Jl.value.project_cost),1),(0,l._)("li",E,"Client : "+(0,s.zw)(Jl.value.project_cost),1),(0,l._)("li",$,"Start Date : "+(0,s.zw)(Jl.value.start_date),1),(0,l._)("li",R,"End Date : "+(0,s.zw)(Jl.value.end_date),1),K])]),(0,l._)("div",V,[cs.value.length>0?((0,l.wg)(),(0,l.iD)("div",W,[(0,l._)("table",Q,[F,(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",J," Bill of Quantity "+(0,s.zw)(Jl.value.project_name),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(cs.value,((t,e)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:"series-"+e},[(0,l._)("tr",null,[(0,l._)("th",G,"SERIES "+(0,s.zw)(e+1),1),(0,l._)("th",Z,(0,s.zw)(t.name),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.sections,((t,a)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:"section-"+a},[(0,l._)("tr",null,[(0,l._)("th",X,"Section "+(0,s.zw)(e+1)+"."+(0,s.zw)(a+1),1),(0,l._)("th",tt,(0,s.zw)(t.name),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.lines,((t,e)=>((0,l.wg)(),(0,l.iD)("tr",{key:"line-"+e},[(0,l._)("td",et,(0,s.zw)(String.fromCharCode(97+e)),1),(0,l._)("td",at,(0,s.zw)(t.name),1),(0,l._)("td",null,(0,s.zw)(t.unit),1),(0,l._)("td",null,(0,s.zw)(Number(t.quantity).toLocaleString()),1),(0,l._)("td",lt,(0,s.zw)(Number(t.rate).toLocaleString()),1),(0,l._)("td",st,(0,s.zw)((t.rate*t.quantity).toLocaleString()),1)])))),128)),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.sub_sections,((t,i)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:"sub-"+i},[(0,l._)("tr",null,[(0,l._)("th",it,(0,s.zw)(e+1)+"."+(0,s.zw)(a+1)+"."+(0,s.zw)(i+1),1),(0,l._)("th",ot,(0,s.zw)(t.name),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.lines,((t,e)=>((0,l.wg)(),(0,l.iD)("tr",{key:"subline-"+e},[(0,l._)("td",nt,(0,s.zw)(String.fromCharCode(97+e)),1),(0,l._)("td",ct,(0,s.zw)(t.name),1),(0,l._)("td",null,(0,s.zw)(t.unit),1),(0,l._)("td",null,(0,s.zw)(t.quantity),1),(0,l._)("td",rt,(0,s.zw)(t.rate.toLocaleString()),1),(0,l._)("td",dt,(0,s.zw)((t.rate*t.quantity).toLocaleString()),1)])))),128))],64)))),128))],64)))),128))],64)))),128)),0==cs.value.lenght?((0,l.wg)(),(0,l.iD)("div",ut,"No Series Set for this project")):(0,l.kq)("",!0)])]),0===cs.value.length&&Jl.value?((0,l.wg)(),(0,l.iD)("div",_t,"No BoQ set for this project")):(0,l.kq)("",!0),(0,l._)("div",pt,[t.project?((0,l.wg)(),(0,l.iD)("h5",vt,"Summary")):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(cs.value,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"row",key:t.id},[(0,l._)("div",mt,[(0,l._)("p",bt,"Series "+(0,s.zw)(t.name),1)]),(0,l._)("div",gt,(0,s.zw)(t.sections.reduce(((t,e)=>{const a=e.lines.reduce(((t,e)=>t+e.quantity*e.rate),0),l=e.sub_sections.reduce(((t,e)=>t+e.lines.reduce(((t,e)=>t+e.quantity*e.rate),0)),0);return t+a+l}),0).toLocaleString()),1)])))),128)),(0,l._)("div",wt,[yt,(0,l._)("div",ht,(0,s.zw)(cs.value.reduce(((t,e)=>t+e.sections.reduce(((t,e)=>{const a=e.lines.reduce(((t,e)=>t+e.quantity*e.rate),0),l=e.sub_sections.reduce(((t,e)=>t+e.lines.reduce(((t,e)=>t+e.quantity*e.rate),0)),0);return t+a+l}),0)),0).toLocaleString()),1)])])])):((0,l.wg)(),(0,l.iD)("div",ft,[us.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,i.SU)(x)()},null,8,kt)):((0,l.wg)(),(0,l.iD)("span",xt," No BOQ for this project! "))]))]),(0,l._)("div",zt,[St,(0,l._)("div",Dt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(_s.value,(t=>((0,l.wg)(),(0,l.iD)("div",qt,[(0,l._)("h2",Ct,[(0,l._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#budget-${t.id}`,"aria-expanded":"false","aria-controls":"flush-collapseOne"},(0,s.zw)(t.name)+" : "+(0,s.zw)((0,i.SU)(q)(t.total_used_cost)),9,Ht)]),(0,l._)("div",{id:`budget-${t.id}`,class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},[(0,l._)("div",Lt,[(0,l._)("div",{class:"accordion accordion-flush",id:`itemsAccordion-${t.id}`},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.items,((e,o)=>((0,l.wg)(),(0,l.iD)("div",Nt,[(0,l._)("h2",Tt,[(0,l._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#item-${e.id}`,"aria-expanded":"false"},(0,s.zw)(o+1)+". "+(0,s.zw)(e.name)+"     Budgeted: "+(0,s.zw)((0,i.SU)(q)(e.total_budget_items_cost))+"     Used: "+(0,s.zw)((0,i.SU)(q)(e.total_used_cost))+"     Balance: "+(0,s.zw)((0,i.SU)(q)(Number(e.total_budget_items_cost)-Number(e.total_used_cost))),9,Bt)]),(0,l._)("div",{id:`item-${e.id}`,class:"accordion-collapse collapse","data-bs-parent":`#itemsAccordion-${t.id}`},[(0,l._)("div",At,[(0,l._)("div",It,[(0,l._)("div",Yt,[(0,l.Wm)(a,{data:e.descriptions,columns:Wl.value,options:as.value},{Sno:(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)(t.index+0),1)])),actions:(0,l.w5)((t=>[(0,l._)("a",{href:"javascript:void(0);",title:"View Details","data-bs-toggle":"modal","data-bs-target":"#view-description-modal",onClick:e=>{As(t.row)}},Et,8,Pt)])),rate:(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)((0,i.SU)(q)(t.row.cost)),1)])),cost:(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)((0,i.SU)(q)(t.row.total_budget_item_description_cost)),1)])),used_cost:(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)((0,i.SU)(q)(t.row.used_cost)),1)])),balance:(0,l.w5)((t=>[(0,l.Uk)((0,s.zw)((0,i.SU)(q)(t.row.total_budget_item_description_cost-parseFloat(t.row.used_cost||0))),1)])),_:2},1032,["data","columns","options"])])])])],8,Mt)])))),256))],8,Ut)])],8,jt)])))),256)),(0,l._)("div",$t,[(0,l._)("h2",Rt,[(0,l._)("button",Kt," UNBUDGETED COSTS : "+(0,s.zw)((0,i.SU)(q)(vs.value?.total_cost??0)),1)]),(0,l._)("div",Vt,[(0,l._)("div",Wt,[(0,l._)("div",Qt,[(0,l.Wm)(a,{data:ms.value,columns:Kl.value,options:as.value},{actions:(0,l.w5)((t=>[(0,i.SU)(Ba).includes("can_add_budget_consumption")?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-outline-secondary ms-2",title:"Assign Budget","data-bs-toggle":"modal","data-bs-target":"#assign-budget-modal",onClick:e=>js(t.row)}," Assign Budget ",8,Ft)):(0,l.kq)("",!0)])),_:1},8,["data","columns","options"])])])])]),us.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,i.SU)(x)()},null,8,Jt)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[0==_s.value.length?((0,l.wg)(),(0,l.iD)("div",Gt,"No planned Budget For this project")):(0,l.kq)("",!0)],64))])]),(0,l._)("div",Zt,[(0,l._)("div",Xt,[(0,l._)("nav",te,[(0,l._)("ul",ee,[ae,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(rs.value+1,(t=>((0,l.wg)(),(0,l.iD)("li",{class:(0,s.C_)(["page-item",{active:ns.value===t}]),onClick:e=>ns.value=t},[(0,l._)("span",se,"IPC.0"+(0,s.zw)(t),1)],10,le)))),256)),ie])]),us.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,i.SU)(Ot)()},null,8,oe)):(0,l.kq)("",!0)]),(0,l._)("div",ne,[(0,l._)("table",ce,[re,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(cs.value,((a,o)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:"series-"+o},[(0,l._)("tr",null,[(0,l._)("th",de,"SERIES "+(0,s.zw)(o+1),1),(0,l._)("th",ue,(0,s.zw)(a.name),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.sections,((a,n)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:"section-"+n},[(0,l._)("tr",null,[(0,l._)("th",_e,"Section "+(0,s.zw)(o+1)+"."+(0,s.zw)(n+1),1),(0,l._)("th",pe,(0,s.zw)(a.name),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.lines,((t,a)=>((0,l.wg)(),(0,l.iD)("tr",{key:"line-"+a},[(0,l._)("td",ve,(0,s.zw)(String.fromCharCode(97+a)),1),(0,l._)("td",me,(0,s.zw)(t.name),1),(0,l._)("td",null,(0,s.zw)(t.unit),1),(0,l._)("td",null,(0,s.zw)(t.quantity),1),(0,l._)("td",be,(0,s.zw)(Number(t.rate).toLocaleString()),1),(0,l._)("td",ge,(0,s.zw)((t.rate*t.quantity).toLocaleString()),1),(0,l._)("td",{onClick:e[0]||(e[0]=t=>(0,i.SU)(r)("You Can't edit previous IPC"))},(0,s.zw)(t?.previous_progress?.quantity??0),1),(0,l._)("td",null,(0,s.zw)(((t?.previous_progress?.quantity??0)*t.rate).toLocaleString()),1),(0,l._)("td",we,[(0,l._)("span",null,(0,s.zw)(t?.progress?.quantity??0),1)]),(0,l._)("td",null,(0,s.zw)(((t?.progress?.quantity??0)*t.rate).toLocaleString()),1),(0,l._)("td",null,(0,s.zw)(Number(t.quantity)-(Number(t?.progress?.quantity??0)+Number(t?.previous_progress?.quantity??0))),1),(0,l._)("td",null,(0,s.zw)(((t.quantity-(Number(t?.progress?.quantity??0)+Number(t?.previous_progress?.quantity??0)))*t.rate).toLocaleString()),1)])))),128)),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.sub_sections,((e,a)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:"sub-"+a},[(0,l._)("tr",null,[(0,l._)("th",ye,(0,s.zw)(o+1)+"."+(0,s.zw)(n+1)+"."+(0,s.zw)(a+1),1),(0,l._)("th",he,(0,s.zw)(e?.name),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.lines,((e,a)=>((0,l.wg)(),(0,l.iD)("tr",{key:"subline-"+a},[(0,l._)("td",fe,(0,s.zw)(String.fromCharCode(97+a)),1),(0,l._)("td",ke,(0,s.zw)(e?.name),1),(0,l._)("td",null,(0,s.zw)(e.unit),1),(0,l._)("td",null,(0,s.zw)(e.quantity),1),(0,l._)("td",xe,(0,s.zw)(e.rate.toLocaleString()),1),(0,l._)("td",ze,(0,s.zw)((e.rate*e.quantity).toLocaleString()),1),(0,l._)("td",null,(0,s.zw)(e?.progress?.quantity??0),1),(0,l._)("td",null,(0,s.zw)(((e?.progress?.quantity??0)*e.rate).toLocaleString()),1),(0,l._)("td",{style:{cursor:"pointer","background-color":"beige",border:"3px solid white"},onClick:a=>t.fillEdit(e.id,e?.progress?.quantity??0)},[(0,l._)("span",null,(0,s.zw)(e?.progress?.quantity??0),1)],8,Se),(0,l._)("td",null,(0,s.zw)(((e?.progress?.quantity??0)*e.rate).toLocaleString()),1),(0,l._)("td",null,(0,s.zw)(e.quantity-((e?.progress?.quantity??0)+(e?.previous_progress?.quantity??0))),1),(0,l._)("td",null,(0,s.zw)(((e.quantity-((e?.progress?.quantity??0)+(e?.previous_progress?.quantity??0)))*e.rate).toLocaleString()),1)])))),128))],64)))),128))],64)))),128))],64)))),128)),0==cs.value.lenght?((0,l.wg)(),(0,l.iD)("div",De,"No Series Set for this project")):(0,l.kq)("",!0)]),(0,l._)("tfoot",qe,[(0,l._)("tr",null,[Ce,(0,l._)("th",He,(0,s.zw)(cs.value.reduce(((t,e)=>t+e.sections.reduce(((t,e)=>{const a=e.lines.reduce(((t,e)=>t+e.quantity*e.rate),0),l=e.sub_sections.reduce(((t,e)=>t+e.lines.reduce(((t,e)=>t+e.quantity*e.rate),0)),0);return t+a+l}),0)),0).toLocaleString()),1),je,(0,l._)("th",Le,(0,s.zw)(cs.value.reduce(((t,e)=>t+e.sections.reduce(((t,e)=>t+e.lines.reduce(((t,e)=>t+(e?.previous_progress?.quantity??0)*e.rate),0)+e.sub_sections.reduce(((t,e)=>t+e.lines.reduce(((t,e)=>t+(e?.previous_progress?.quantity??0)*e.rate),0)),0)),0)),0).toLocaleString()),1),Ue,(0,l._)("th",Ne,(0,s.zw)(cs.value.reduce(((t,e)=>t+e.sections.reduce(((t,e)=>t+e.lines.reduce(((t,e)=>t+(e?.progress?.quantity??0)*e.rate),0)+e.sub_sections.reduce(((t,e)=>t+e.lines.reduce(((t,e)=>t+(e?.progress?.quantity??0)*e.rate),0)),0)),0)),0).toLocaleString()),1),Te,(0,l._)("th",Be,(0,s.zw)(cs.value.reduce(((t,e)=>t+e.sections.reduce(((t,e)=>t+e.lines.reduce(((t,e)=>{const a=Number(e.quantity)||0,l=Number(e.rate)||0,s=Number(e?.previous_progress?.quantity)||0,i=Number(e?.progress?.quantity)||0;return t+(a-(s+i))*l}),0)+e.sub_sections.reduce(((t,e)=>t+e.lines.reduce(((t,e)=>{const a=Number(e.quantity)||0,l=Number(e.rate)||0,s=Number(e?.previous_progress?.quantity)||0,i=Number(e?.progress?.quantity)||0;return t+(a-(s+i))*l}),0)),0)),0)),0).toLocaleString()),1)])])])]),0===cs.value.length&&Jl.value?((0,l.wg)(),(0,l.iD)("div",Me,"No BoQ set for this project")):(0,l.kq)("",!0)]),(0,l._)("div",Ae,[(0,l._)("div",Ie,[us.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,i.SU)(Ot)()},null,8,Ye)):(0,l.kq)("",!0),0!=ls.value.length||us.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Pe,"No Report Made for this site")),(0,l._)("div",Oe,[(0,l._)("div",Ee,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>Zl.value=t),class:"form-control form-control-sm",style:{width:"250px"},placeholder:"Search work carried out..."},null,512),[[o.nr,Zl.value]])])]),(0,l._)("div",$e,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,i.SU)(is),(t=>((0,l.wg)(),(0,l.iD)("div",{key:t.id,class:"col-12 col-md-6 mb-4"},[(0,l._)("div",Re,[(0,l._)("div",Ke,[(0,l._)("div",Ve,[(0,l._)("h5",We,(0,s.zw)(t?.report_name||"Untitled Report")+(0,s.zw)(t?.description?`(${t?.description})`:"")+" "+(0,s.zw)(t?.date),1)]),(0,l._)("div",Qe,[(0,l._)("p",Fe,[Je,(0,l.Uk)(" "+(0,s.zw)(t.supervisor?.name),1)]),t.remark?((0,l.wg)(),(0,l.iD)("p",Ge,[Ze,(0,l.Uk)(" "+(0,s.zw)(t.remark),1)])):(0,l.kq)("",!0),(0,l._)("div",Xe,[(0,l._)("div",ta,[(0,l.Wm)(a,{data:t.activities,columns:Vl.value,options:as.value},null,8,["data","columns","options"])])])]),t.attachments&&t.attachments.length>0?((0,l.wg)(),(0,l.iD)("div",ea,[(0,l._)("div",aa,[la,(0,l._)("div",sa,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.attachments,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:(0,s.C_)(t.attachments.length>6?"col-md-3 col-sm-6":t.attachments.length>4?"col-md-4 col-sm-6":"col-md-6 col-sm-6")},[(0,l._)("div",ia,[(0,l._)("div",oa,[(0,l._)("div",na,[(0,l._)("img",{src:`${Gl}/${e.file_path}`,alt:e.description,style:{"max-width":"100%","max-height":"100%","object-fit":"contain",cursor:"pointer"},onClick:t=>fs(`${Gl}/${e.file_path}`,e),"data-bs-toggle":"modal","data-bs-target":"#view-attachment-modal"},null,8,ca)]),(0,l._)("div",ra,[(0,l._)("p",da,[(0,l._)("strong",null,(0,s.zw)(e.description||" "),1)])])])])],2)))),128))])])])):(0,l.kq)("",!0),ua])])])))),128))])])]),(0,l._)("div",_a,[(0,l._)("div",pa,[(0,l._)("nav",null,[(0,l._)("div",va,[(0,l._)("button",{class:(0,s.C_)(["nav-link cost-nav",{active:0===Os.value}]),onClick:e[2]||(e[2]=t=>{Os.value=0,Rs(0)})}," ALL COSTS ",2),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Ys.value,(t=>((0,l.wg)(),(0,l.iD)("button",{key:t.id,class:(0,s.C_)(["nav-link cost-nav",{active:Os.value===t.id}]),onClick:e=>{Os.value=t.id,Rs(t.id)}},(0,s.zw)(t.name),11,ma)))),128))])]),(0,l._)("div",ba,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Ys.value,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{key:t.id,class:(0,s.C_)(["tab-pane fade",{"show active":0===e}]),id:`nav-category-${t.id}`,role:"tabpanel","aria-labelledby":`nav-category-${t.id}-tab`,tabindex:"0"},[(0,l._)("h5",wa,(0,s.zw)(0===Os.value?"ALL COSTS":Ys.value.find((t=>t.id===Os.value))?.name),1)],10,ga)))),128))]),us.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,i.SU)(Ot)()},null,8,ya)):(0,l.kq)("",!0)]),(0,l._)("div",ha,[(0,l._)("div",fa,[(0,l._)("div",ka,[(0,l._)("div",xa,[Rl.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,i.SU)(u)()},null,8,za)):((0,l.wg)(),(0,l.j4)(a,{key:1,data:Es.value,columns:$s.value,options:as.value},{status:(0,l.w5)((t=>[(0,l._)("span",{class:(0,s.C_)(["badge inv-status","badge-"+t.row.status.class])},(0,s.zw)(t.row.status.key),3)])),actions:(0,l.w5)((e=>[(0,l._)("a",{href:"javascript:void(0)",class:"text-success",title:"Edit",onClick:a=>t.openEditModal(e.row),"data-bs-toggle":"modal","data-bs-target":"#edit-user-modal"},qa,8,Sa)])),_:1},8,["data","columns","options"]))])])])])])])])],8,j)):(0,l.kq)("",!0)]),(0,l._)("div",Ca,[(0,l._)("div",Ha,[(0,l._)("div",ja,[La,(0,l._)("div",Ua,[(0,l._)("div",Na,[ys.value?((0,l.wg)(),(0,l.iD)("img",{key:0,src:ys.value,alt:"Attachment",class:"attachment-img",style:(0,s.j5)({transform:`rotate(${ts.value}deg)`})},null,12,Ta)):(0,l.kq)("",!0)])]),(0,l._)("div",{class:"modal-footer"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-repeat",viewBox:"0 0 16 16",onClick:es},Ma),Aa])])])]),Rl.value?((0,l.wg)(),(0,l.iD)("div",{key:3,innerHTML:(0,i.SU)(u)()},null,8,Ia)):(0,l.kq)("",!0)]),(0,l._)("div",Ya,[(0,l._)("div",Pa,[(0,l._)("div",Oa,[(0,l._)("div",Ea,[(0,l._)("h1",$a,"Assign Budget for Ref no.: "+(0,s.zw)(Hs.value.approval_id),1),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:e[3]||(e[3]=t=>Ls())})]),(0,l._)("form",{onSubmit:e[8]||(e[8]=(0,o.iM)((t=>Cs()),["prevent"]))},[(0,l._)("div",Ra,[Hs.value?((0,l.wg)(),(0,l.iD)("div",Ka,[Va,(0,l._)("div",Wa,[(0,l._)("div",Qa,[(0,l._)("p",Fa,[Ja,(0,l.Uk)(" "+(0,s.zw)(Hs.value.item||"N/A"),1)]),(0,l._)("p",Ga,[Za,(0,l.Uk)(" "+(0,s.zw)(Hs.value.cost||"N/A"),1)])]),(0,l._)("div",Xa,[(0,l._)("p",tl,[el,(0,l.Uk)(" "+(0,s.zw)(Hs.value.quantity||"N/A"),1)]),(0,l._)("p",al,[ll,(0,l.Uk)(" "+(0,s.zw)(Hs.value.description||"--"),1)])]),(0,l._)("div",sl,[(0,l._)("p",il,[ol,(0,l.Uk)(" "+(0,s.zw)(Hs.value.rate||"N/A"),1)])])])])):(0,l.kq)("",!0),(0,l._)("div",nl,[(0,l._)("div",cl,[rl,(0,l.Wm)((0,i.SU)(d()),{modelValue:ks.value,"onUpdate:modelValue":e[4]||(e[4]=t=>ks.value=t),options:_s.value,placeholder:"Select A Budget",searchable:!0,label:"name","allow-empty":!1},null,8,["modelValue","options"])]),ks.value?((0,l.wg)(),(0,l.iD)("div",dl,[ul,(0,l.Wm)((0,i.SU)(d()),{modelValue:zs.value,"onUpdate:modelValue":e[5]||(e[5]=t=>zs.value=t),options:xs.value,placeholder:"Select An Item",searchable:!0,label:"name","allow-empty":!1},null,8,["modelValue","options"])])):(0,l.kq)("",!0),zs.value?((0,l.wg)(),(0,l.iD)("div",_l,[pl,(0,l.Wm)((0,i.SU)(d()),{modelValue:Ds.value,"onUpdate:modelValue":e[6]||(e[6]=t=>Ds.value=t),options:Ss.value,placeholder:"Select An Option",searchable:!0,label:"name","allow-empty":!1},null,8,["modelValue","options"])])):(0,l.kq)("",!0)])]),(0,l._)("div",vl,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:e[7]||(e[7]=t=>Ls()),id:"close_assign_budget"},"Close"),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:qs.value},[qs.value?((0,l.wg)(),(0,l.iD)("span",bl)):(0,l.kq)("",!0),gl],8,ml)])],32)])])]),(0,l._)("div",wl,[(0,l._)("div",yl,[(0,l._)("div",hl,[(0,l._)("div",fl,[(0,l._)("h1",kl," Budget Item Description Consumption for "+(0,s.zw)(Ms.value?.name||"N/A"),1),xl]),(0,l._)("div",zl,[(0,l._)("table",Sl,[Dl,(0,l._)("tbody",null,[(0,l._)("tr",null,[ql,(0,l._)("td",null,(0,s.zw)(Jl.value?.short_name||"--"),1),Cl,(0,l._)("td",null,(0,s.zw)(Ms.value?.budget_item?.budget?.name||"--"),1),Hl,(0,l._)("td",null,(0,s.zw)(Ms.value?.budget_item?.name||"--"),1),jl,(0,l._)("td",null,(0,s.zw)(Ms.value?.name||"--"),1)]),(0,l._)("tr",null,[Ll,(0,l._)("td",null,(0,s.zw)(Ms.value?.units||"--"),1),Ul,(0,l._)("td",null,(0,s.zw)((0,i.SU)(q)(Ms.value?.quantity)||"--"),1),Nl,(0,l._)("td",null,(0,s.zw)((0,i.SU)(q)(Ms.value?.cost)||"--"),1),Tl,(0,l._)("td",null,(0,s.zw)((0,i.SU)(q)(Ms.value?.total_budget_item_description_cost)||"--"),1)]),(0,l._)("tr",null,[Bl,(0,l._)("td",null,(0,s.zw)(Ms.value?.cost&&Ms.value?.used_cost?(Ms.value.used_cost/Ms.value.cost).toFixed(2):"--"),1),Ml,(0,l._)("td",null,(0,s.zw)((0,i.SU)(q)(Ms.value?.used_cost)||"--"),1),Al,(0,l._)("td",Il,(0,s.zw)((0,i.SU)(q)((Ms.value?.total_budget_item_description_cost||0)-(Ms.value?.used_cost||0))||"--"),1)])])]),(0,l._)("div",Yl,[(0,l._)("div",Pl,[Rl.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,i.SU)(u)()},null,8,Ol)):((0,l.wg)(),(0,l.j4)(a,{key:1,data:Ts.value,columns:Ql.value,options:as.value},{actions:(0,l.w5)((t=>[(0,l.Wm)(n,{to:`/approval/${t.row.approval_id}`},{default:(0,l.w5)((()=>[El])),_:2},1032,["to"])])),_:1},8,["data","columns","options"]))])])]),(0,l._)("div",$l,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:e[9]||(e[9]=t=>Is())},"Close")])])])])],64)}}},Kl=a(83744);const Vl=(0,Kl.Z)(Rl,[["__scopeId","data-v-423795c4"]]);var Wl=Vl}}]);
//# sourceMappingURL=6857.046ec4d4.js.map