{"version":3,"file":"js/1270.b969dc0e.js","mappings":"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","sources":["webpack://cork-vue3/./src/components/reusables/globalSearch.js","webpack://cork-vue3/./src/views/goodIssueNotes/index.vue","webpack://cork-vue3/./src/views/goodIssueNotes/index.vue?a227"],"sourcesContent":["export function globalSearch(data, keyword) {\r\n  const lowerKeyword = keyword.toLowerCase().trim()\r\n  if (!lowerKeyword) return data\r\n\r\n  const containsKeyword = obj => {\r\n    if (obj == null) return false\r\n    if (typeof obj === 'string') return obj.toLowerCase().includes(lowerKeyword)\r\n    if (Array.isArray(obj)) return obj.some(containsKeyword)\r\n    if (typeof obj === 'object')\r\n      return Object.values(obj).some(containsKeyword)\r\n    return false\r\n  }\r\n\r\n  return data.filter(item => containsKeyword(item))\r\n}","<template>\r\n    <div class=\"layout-px-spacing\">  \r\n            <ul class=\"navbar-nav flex-row mt-2\">\r\n                <li>\r\n                    <div class=\"page-header\">\r\n                        <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                            <ol class=\"breadcrumb\">\r\n                                <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Masters</a></li>\r\n                                <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Good Issue Notes</span></li>\r\n                            </ol>\r\n                        </nav>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n\r\n <div class=\"d-flex justify-content-between align-items-center mb-3\">\r\n  \r\n  <h4 class=\"text-center flex-grow-1\">GOOD ISSUE NOTES</h4>\r\n  <router-link to=\"/good-delivery-notes\" class=\"btn btn-primary me-2\">Delivery Notes</router-link>\r\n    <router-link to=\"/gate-Passes\" class=\"btn btn-primary\">Gate Passes</router-link>\r\n</div>\r\n <form @submit.prevent class=\"input-group container\">\r\n    <input\r\n      type=\"text\"\r\n      class=\"form-control border-end-0\"\r\n      placeholder=\"Search a word...\"\r\n      v-model=\"filter\"\r\n    >\r\n    <span class=\"input-group-text bg-white border-start-0\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-search\" viewBox=\"0 0 16 16\">\r\n        <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.415l-3.85-3.85zm-5.442.656a5 5 0 1 1 \r\n        0-10 5 5 0 0 1 0 10z\"/>\r\n      </svg>\r\n    </span>\r\n  </form>\r\n\r\n                    <!-- loading spinner starts -->\r\n                 <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n        <!-- Loading spinner ends -->\r\n\r\n      \r\n        <div v-else class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table :data=\"filteredNotes\" :columns=\"columns\" :options=\"table_option\">\r\n                            <template #status=\"props\">\r\n                                <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.color\">{{ props.row.status.name }} </span>\r\n                            </template>\r\n                            <template #actions=\"props\">\r\n                                \r\n                                   <svg\r\n                                   @click=\"fillModal(props.row)\"\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        width=\"24\"\r\n                                        height=\"24\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                        fill=\"none\"\r\n                                        stroke=\"currentColor\"\r\n                                        stroke-width=\"1.5\"\r\n                                        stroke-linecap=\"round\"\r\n                                        stroke-linejoin=\"round\"\r\n                                        class=\"text-info\"\r\n                                        data-bs-toggle=\"modal\" data-bs-target=\"#issuedItems\"\r\n                                        \r\n                                    >\r\n                                        <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\r\n                                        <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\r\n                                    </svg>\r\n\r\n                              \r\n\r\n                                                                          <svg \r\n                                                                            v-if =\"user_permissions.includes('can_view_gate_pass') \"\r\n                                                                            @click=\"fillModal(props.row)\"\r\n                                                                            data-bs-toggle=\"modal\" data-bs-target=\"#gate-pass-modal\"\r\n                                                                          xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-door-open\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M8.5 10c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1\"/>\r\n  <path d=\"M10.828.122A.5.5 0 0 1 11 .5V1h.5A1.5 1.5 0 0 1 13 2.5V15h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V1.5a.5.5 0 0 1 .43-.495l7-1a.5.5 0 0 1 .398.117M11.5 2H11v13h1V2.5a.5.5 0 0 0-.5-.5M4 1.934V15h6V1.077z\"/>\r\n</svg>\r\n\r\n    <svg \r\n   data-bs-toggle=\"modal\" data-bs-target=\"#edit\"\r\n    v-if=\"user_permissions.includes('can_edit_issue_note')\"\r\n    xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-pencil-square\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"/>\r\n  <path fill-rule=\"evenodd\" d=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z\"/>\r\n</svg>\r\n \r\n                                \r\n                            </template>\r\n                           <template #footer>\r\n                               <div class=\"modal-footer\">\r\n                                   <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                                   <button type=\"button\" class=\"btn btn-primary\" @click=\"save_edit\" :disabled=\"isSaving\" >Save changes</button>\r\n                               </div>\r\n                           </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n<!-- Issued Items Modal Starts -->\r\n <div class=\"modal fade mymodal\" id=\"issuedItems\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-fullscreen\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"staticBackdropLabel\">GOODS DELIVERY NOTE</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"clearForm()\" id=\"close\"></button>\r\n      </div>\r\n\r\n <form \r\n @submit.prevent=\"submitDeiveryNote()\">\r\n       <div class=\"modal-body\">        \r\n          <div class=\"row layout-top-spacing\">\r\n<div class=\"d-flex align-items-center justify-content-between\">\r\n  <h4>\r\n    Status : \r\n    <span class=\"mb-2 badge\" :class=\"`badge-${issue.status?.color}`\">\r\n      {{ issue.status?.name }}\r\n    </span>\r\n  </h4>\r\n\r\n <div v-if=\"issue.status?.id == 9 && user_permissions.includes('can_issue_goods')\" class=\"d-flex justify-content-end gap-2\">\r\n      <multiselect \r\n      class=\"me-2\"\r\n    v-model=\"purpose\"\r\n    :options=\"purposes\"\r\n    placeholder=\"Select Purpose\"\r\n    :searchable=\"true\"\r\n     label=\"name\"\r\n    :multiple=\"false\"\r\n    :required=\"true\"\r\n    :allow-empty=\"false\"\r\n     style=\"width: 300px;\"\r\n  >\r\n  </multiselect>\r\n\r\n\r\n  <multiselect \r\n  v-if=\"purpose\"\r\n    v-model=\"store\"\r\n    :options=\"stores\"\r\n    placeholder=\"Select A Store\"\r\n    :searchable=\"true\"\r\n    label=\"name\"\r\n    :multiple=\"false\"\r\n    :required=\"true\"\r\n    :allow-empty=\"true\"\r\n     style=\"width: 300px;\"\r\n  >\r\n  </multiselect>\r\n\r\n</div>\r\n\r\n</div>\r\n\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3 \">\r\n<table \r\n v-if=\"issue.status?.id == 9\"\r\nclass=\"table table-bordered table-striped\">\r\n      <thead >\r\n        <tr>\r\n          <th>Item Requested</th>\r\n          <th>Item Issued</th>\r\n          <th>Quantity Requested</th>\r\n          <th>Quantity Issued</th>\r\n          <th>Quantity Delivered</th>\r\n          <!-- <th>Unit Measure</th> -->\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item in issuedItems\">\r\n          <td>{{ item.item_requested }}</td>\r\n          <td>{{ item.item_issued }}</td>\r\n          <td>{{ item.quantity_requested }}</td>\r\n          <td>{{ item.quantity_issued }}</td>\r\n          <td\r\n          v-if=\"store && user_permissions.includes('can_issue_goods')\"\r\n          ><input type=\"number\" class=\"form-control\" placeholder=\"Enter Received Quantity\" v-model=\"item.received\" required></td>\r\n          <td v-else>{{ item.received }}</td>\r\n\r\n\r\n        </tr> \r\n\r\n      </tbody>\r\n    </table>\r\n                        <v-client-table \r\n                        v-else\r\n                        :data=\"issuedItems\" :columns=\"issuedItemColumns\" :options=\"table_option\" >\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n      \r\n            </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\"\r\n        @click=\"clearForm\"\r\n        >Close</button>\r\n\r\n         <button type=\"submit\" class=\"btn btn-success\" :disabled=\"!store | loading\" >\r\n            <span v-if=\"loading\" v-html=\"loadingSpinner()\"></span>\r\n            <span v-else>Save</span>\r\n        </button>\r\n      </div>\r\n </form> \r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n <!-- issued ITems Modal ends -->\r\n\r\n    <!-- create Gate Pass Modal -->\r\n  <div class=\"modal fade mymodal\" id=\"gate-pass-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"gatePassModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-xl\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h1 class=\"modal-title fs-5\" id=\"gatePassModalLabel\">\r\n            {{ issue.gate_pass ? ` Gate Pass No.00${issue.gate_pass.id} - Date: ${issue.gate_pass.date}` : 'GATE PASS DETAILS' }}\r\n          </h1> \r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"closeEditModal()\" id=\"close_modal\"></button>\r\n        </div>\r\n <div class=\"d-flex me-5 mt-2\" >\r\n              <div v-if=\"!issue.gate_pass\">\r\n              <p class=\"badge badge-warning text-white mb-5 mx-3\">\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-info-circle\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16\"/>\r\n  <path d=\"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0\"/>\r\n</svg>\r\n                No Gate Pass Created</p>\r\n            </div>\r\n<div class=\"ms-auto\">\r\n        <button class=\"btn btn-success\" @click=\"printGatePass(issue)\" v-if=\"issue.gate_pass\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            stroke-width=\"1.5\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n            class=\"text-white\"\r\n          >\r\n            <polyline points=\"6 9 6 2 18 2 18 9\"></polyline>\r\n            <path d=\"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2\"></path>\r\n            <rect x=\"6\" y=\"14\" width=\"12\" height=\"8\"></rect>\r\n          </svg>\r\n        </button>\r\n\r\n                <button class=\"btn btn-primary\" @click=\"create_gate_pass =! create_gate_pass\" v-if=\"user_permissions.includes('can_create_gate_pass') && !issue.gate_pass\">\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n  <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/>\r\n</svg>\r\n        </button>\r\n</div>  \r\n</div>\r\n\r\n\r\n        <form @submit.prevent=\"CreateGatePass(issue.id)\">\r\n          <div class=\"modal-body\">\r\n            <div v-if=\"issue.gate_pass\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-4\">\r\n                  <label class=\"form-label fw-bold\">Asset : &nbsp;</label>\r\n                  <label class=\"form-label \">{{ issue.gate_pass.asset?.name }}</label>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                  <label class=\"form-label fw-bold\">Asset Type : &nbsp;</label>\r\n                  <label class=\"form-label \">{{ issue.gate_pass.asset?.type_name }}</label>\r\n                </div>\r\n\r\n                <div class=\"col-md-4\">\r\n                  <label class=\"form-label fw-bold\">Current Reading : &nbsp;</label>\r\n                  <label class=\"form-label \">{{ issue.gate_pass.current_reading }}</label>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                  <label class=\"form-label fw-bold \">Return Reading : &nbsp;</label>\r\n                  <label class=\"form-label \">{{ issue.gate_pass.return_reading }}</label>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                  <label class=\"form-label fw-bold\">Driver Name : &nbsp;</label>\r\n                  <label class=\"form-label \">{{ issue.gate_pass.driver_name }}</label>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                  <label class=\"form-label fw-bold\">Security Name : &nbsp;</label>\r\n                  <label class=\"form-label \">{{ issue.gate_pass.security_name }}</label>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                  <label class=\"form-label fw-bold\">Source Store : &nbsp;</label>\r\n                  <label class=\"form-label \">{{ issue.source_store.project.short_name}}-{{ issue.source_store.name}}</label>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                  <label class=\"form-label fw-bold\">Destination Store : &nbsp;</label>\r\n                  <label class=\"form-label \">{{ issue.destination_store.project.short_name}}-{{ issue.destination_store.name}}</label>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n            <div\r\n             v-else \r\n             v-if=\"create_gate_pass\"\r\n            class=\"row mb-3\">\r\n              <div class=\"col-md-4\">\r\n                <label class=\"form-label small\">Select An Asset </label>\r\n                <multiselect \r\n                  v-model=\"asset\"\r\n                  :options=\"assets\"\r\n                  placeholder=\"Select An Asset\"\r\n                  label=\"name\"\r\n                  :searchable=\"true\"        \r\n                  :multiple=\"false\"\r\n                  :required=\"true\"\r\n                  :allow-empty=\"false\"\r\n                ></multiselect>\r\n              </div>\r\n              <div class=\"col-md-4\">\r\n                <label for=\"current_reading\">Current Reading</label>\r\n                <input type=\"number\" v-model=\"current_reading\" class=\"form-control\" placeholder=\"Enter Current Reading\" min=\"1\">\r\n              </div>\r\n              <div class=\"col-md-4\">\r\n                <label for=\"return_reading\">Return Reading</label>\r\n                <input type=\"number\" v-model=\"return_reading\" class=\"form-control\" placeholder=\"Enter Return Reading\" min=\"1\">\r\n              </div>\r\n              <div class=\"col-md-4\">\r\n                <label for=\"driver_name\">Driver Name</label>\r\n                <input type=\"text\" v-model=\"driver_name\" class=\"form-control\" placeholder=\"Enter Driver Name\" required>\r\n              </div>\r\n              <div class=\"col-md-4\">\r\n                <label for=\"security_name\">Security Name</label>\r\n                <input type=\"text\" v-model=\"security_name\" class=\"form-control\" placeholder=\"Enter Security Name\" required>\r\n              </div> \r\n              <div class=\"col-md-4\">\r\n                <label for=\"date\">Date</label>\r\n                <input type=\"date\" v-model=\"date\" class=\"form-control\" placeholder=\"Enter Date\" required>\r\n              </div>\r\n            </div>\r\n\r\n            \r\n            <h5 class=\"mb-3\">Issued Items</h5>\r\n            <div class=\"panel p-0\">\r\n              <div class=\"custom-table table3\">\r\n                <v-client-table \r\n                  :data=\"items\" \r\n                  :columns=\"Itemscolumn\" \r\n                  :options=\"table_option\"\r\n                >\r\n                </v-client-table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" @click=\"closeEditModal()\">Close</button>\r\n            <div v-if=\"create_gate_pass\">\r\n            <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">\r\n              <span v-if=\"loading\" class=\"spinner-border spinner-border-sm text-white me-2\" role=\"status\"></span>\r\n              Create Gate Pass\r\n            </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n   </div>\r\n</template>\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n<script setup>\r\n    import { onMounted, ref,inject,computed } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\nimport Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    import { globalSearch } from '@/components/reusables/globalSearch';\r\n    useMeta({ title: 'Good Issue Note' });\r\n\r\n\r\n    const filteredNotes = computed(() => {\r\n  return globalSearch(allNotes.value, filter.value);\r\n});\r\n\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n\r\n\r\n    const filter = ref('')\r\n    //dozzer\r\n\r\n\r\n         const create_gate_pass = ref(false)\r\n         const asset = ref('')\r\n         const current_reading = ref('')\r\n         const return_reading = ref('')\r\n         const driver_name = ref('')\r\n         const security_name = ref('')\r\n         const date = ref('')\r\n         \r\n\r\n    const user_permissions = JSON.parse(localStorage.getItem(\"user\")).permissions;\r\n    const formatDate = inject('formatDate');\r\n    const tableShimmer = inject('tableShimmer');\r\n    const loadingSpinner = inject('loadingSpinner'); \r\n    const purpose = ref( {\r\n            id: 1,\r\n            name: \"Warehouse Storage\"\r\n        })\r\n    const purposes = ref([\r\n        {\r\n            id: 1,\r\n            name: \"Warehouse Storage\"\r\n        }\r\n        ,\r\n        // {\r\n        //     id:2,\r\n        //     name: \"Direct Consumption\"\r\n        // }\r\n    ])\r\n\r\n    const clearForm = () =>{\r\n      store.value = ''\r\n    }\r\n    const loading_spinner = ref(false);\r\n    const columns = ref(['SNo','requisition_id','issue_no','from','to', 'requester','issuer','date_issued','items_count', 'status', 'actions']);\r\n    const Itemscolumn = ref(['SNo','item','category','unit','quantity']); \r\n    const notes = ref([]);\r\n    const items = ref([]);\r\n    const table_option = ref({\r\n        perPage: 20,\r\n        perPageValues: [20, 50 ,100],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['SNo', 'name','short_name','status'],\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n    const loading = ref(false)\r\n    const submitDeiveryNote = async ()=>{\r\n       loading.value = true\r\n              const payload ={\r\n          deliveryData : {\r\n            gin_id:issue.value.id,\r\n            receiver_id: JSON.parse(localStorage.getItem(\"user\")).id,\r\n         },\r\n         deliveryItems : issuedItems.value.map((item)=>({\r\n          gin_item_id : item.id,\r\n          item_id : item.store_item.item_id,\r\n          store_item_id : item.store_item.id,\r\n          item_condition : item.store_item.item_condition,\r\n          quantity :item.received,\r\n          purpose : purpose.value.id,\r\n          store_id :store.value.id ,\r\n          unit:item.unit.short_name \r\n         }))\r\n       }\r\n\r\n       \r\n       try{\r\n         const response = await axiosInstance.post('good-delivery-notes',payload)\r\n         getIssueNotes()\r\n        showMessage('Data Saved Successfully')\r\n        document.getElementById('close').click()\r\n        issue.value.status = {\r\n            id:10,\r\n            name: \"Delivered\",\r\n            color : \"success\"\r\n        };\r\n       }catch(error){\r\n        showError(error.message)\r\n         console.log(error)\r\n       }finally{\r\n        loading.value = false\r\n       }\r\n\r\n      \r\n\r\n    }\r\n\r\n    const issuedItems = ref([])\r\n    const issuedItemColumns =  ref(['Sno', 'item_requested','category','item_issued','quantity_requested','quantity_issued','received']);\r\n    const issue = ref('')\r\nconst fillModal = (row) => {\r\n  issue.value = row\r\n\r\n  if(row.destination_store){\r\n  store.value = {\r\n    id: row.destination_store?.id ,\r\n    name: row.destination_store \r\n            ? (row.destination_store.project?.short_name ) + ' - ' + (row.destination_store.name) \r\n            : ''\r\n  }\r\n  }\r\n\r\n\r\n  issuedItems.value = row.items.map((data, index) => {\r\n    const delivered = data.delivered_items || {}\r\n    return {\r\n      ...data,\r\n      Sno: index + 1,\r\n      item_requested: data.requisition_item.remark,\r\n      category: data.store_item.item.category?.name,\r\n      item_issued: data.store_item.item.name,\r\n      quantity_requested: data.requisition_item.quantity,\r\n      quantity_issued: data.quantity,\r\n      received: delivered.quantity ?? '',\r\n      unit: delivered.unit ?? ''\r\n    }\r\n  })\r\n  items.value = row.items.map((data, index) => {\r\n    return {\r\n      SNo: index + 1,\r\n      item: data.store_item.item.name,\r\n      category: data.store_item.item.category?.name,\r\n      unit: data.store_item.item.unit?.short_name || '---',\r\n      quantity: data.quantity\r\n    }\r\n  })\r\n}\r\n    const allNotes = ref([])\r\n    const getIssueNotes = () => {\r\n        loading_spinner.value = true;\r\n        axiosInstance.get('/good-issue-notes').then((response) => {\r\n            \r\n            notes.value = response.data.map((item, index) => {\r\n                return {\r\n                    ...item,\r\n                    SNo: index + 1,\r\n                    id: item.id,\r\n                    issue_no: item.id,\r\n                    from : item.source_store?.project?.short_name + ' - '+ item?.source_store?.name ,\r\n                    to : item?.destination_store?.project?.short_name + ' - '+ item?.destination_store?.name,\r\n                    issuer: item?.issuer?.name,\r\n                    requester : item?.requisition?.requester?.name ?? '---',\r\n                    source_store_id: item.source_store_id,\r\n                    destination_store_id: item.destination_store_id,\r\n                    items_count : item.items?.length,\r\n                    date_issued: formatDate(item.created_at)\r\n                };\r\n              \r\n            });\r\n            allNotes.value = notes.value\r\n            loading_spinner.value = false;\r\n        }).catch(error => {\r\n            showError(error.message || \"Failed to fetch units\");\r\n            loading_spinner.value = false;\r\n        });\r\n    };\r\n\r\n    const stores = ref([])\r\n    const store = ref('')\r\n    const getStores = async () =>{\r\n        const response = await axiosInstance.get('stores')\r\n        stores.value = response.data.map((store)=>({\r\n            ...store,\r\n          name:store.project + ' : '+store.name\r\n        }))\r\n    }\r\n\r\n       const assets= ref([])\r\n    const getAssets = async ()=>{\r\n      const response = await axiosInstance.get('machines')\r\n      assets.value = response.data.map((item)=>({\r\n      ...item,\r\n      name : item.name + ' - ' + item.type_name,\r\n      AssetNo: item.name,\r\n      AssetType: item.type_name\r\n      }))\r\n    }\r\n    \r\n\r\n    const units = ref([])\r\n     const getUnits = async () =>{\r\n        const response = await axiosInstance.get('units')\r\n        units.value = response.data\r\n    }\r\n\r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n\r\n     const CreateGatePass = async (id) => {\r\n           loading.value = true;\r\n                        const payload = {\r\n               good_issue_note_id: id,\r\n               asset_id: asset.value.id,\r\n               current_reading: current_reading.value,\r\n               return_reading: return_reading.value,\r\n               destination_store_id: issue.value.destination_store_id,\r\n               source_store_id: issue.value.source_store_id,\r\n               driver_name: driver_name.value,\r\n               security_name: security_name.value,\r\n               date: date.value,\r\n     \r\n             };\r\n            \r\n           try {             \r\n             const response = await axiosInstance.post('gate-passes', payload);\r\n             showMessage('Gate Pass created successfully!');\r\n             getIssueNotes()\r\n             document.getElementById(\"close_modal\").click();\r\n           } catch (error) {\r\n             showError(`Failed to create gate pass: ${error.message}`);\r\n           }finally{\r\n             loading.value = false;\r\n           }\r\n         };\r\n     \r\n         const closeEditModal = () => {\r\n         asset.value = '';\r\n         current_reading.value = '';\r\n         return_reading.value = '';\r\n         driver_name.value = '';\r\n         security_name.value = '';\r\n         date.value = '';\r\n       };\r\n\r\n       const printGatePass = async (row) => {\r\n        try {\r\n            const iframe = document.createElement(\"iframe\");\r\n            iframe.style.display = \"none\";\r\n            document.body.appendChild(iframe);\r\n\r\n            const gatePass = row.gate_pass || {};\r\n            const assetName = gatePass.asset?.name || 'N/A';\r\n            const assetType = gatePass.asset?.type_name || 'N/A';\r\n            const sourceStore = row.source_store ? `${row.source_store.project?.short_name || ''} - ${row.source_store.name || ''}` : 'N/A';\r\n            const destinationStore = row.destination_store ? `${row.destination_store.project?.short_name || ''} - ${row.destination_store.name || ''}` : 'N/A';\r\n\r\nconst printContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>Print Gate Pass</title>\r\n<style>\r\n  body { font-family: 'Segoe UI', Arial, sans-serif; margin: 40px; font-size: 13px; color: #222; }\r\n  .header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #000; padding-bottom: 10px; }\r\n  .logo { width: 150px; height: auto; }\r\n  .gatepass-box { border: 2px solid #000; padding: 6px 14px; font-weight: bold; font-size: 14px; border-radius: 6px; background: #f9f9f9; box-shadow: 0 0 3px rgba(0,0,0,0.2); }\r\n  .company-title { text-align: center; margin: 25px 0 15px 0; }\r\n  .company-title h2 { margin: 0; font-size: 18px; text-transform: uppercase;  }\r\n  .details { margin-top: 15px; line-height: 2; }\r\n  .line-field { display: flex; justify-content: space-between; margin-bottom: 6px; }\r\n  .label { width: 35%; font-weight: bold; }\r\n  .value { flex: 1; border-bottom: 1px solid #000; text-align: center; padding-bottom: 2px; }\r\n  table { width: 100%; border-collapse: collapse; margin-top: 15px; border-radius: 6px; overflow: hidden; }\r\n  table.items thead th { background: #f0f0f0; border: 1px solid #000; font-weight: bold; text-align: center; }\r\n  table.items td { border: 1px solid #000; padding: 6px; vertical-align: middle; text-align: center; }\r\n  .signatures { margin-top: 40px; display: flex; justify-content: space-between; align-items: center; }\r\n  .signature-box { text-align: center; width: 45%; }\r\n  .signature-line { margin-top: 50px; border-top: 1px solid #000; width: 80%; margin-left: auto; margin-right: auto; }\r\n.check-square {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 1px solid #000;\r\n  display: inline-block;\r\n}\r\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\r\n</style>\r\n</head>\r\n<body>\r\n\r\n<div class=\"header\">\r\n  <img src=\"https://bushman.ink/copex.jpg\" class=\"logo\" />\r\n  <div class=\"gatepass-box\">\r\n    PASS NO: <span style=\"color:red;\">${\"00\" + (gatePass.id || '')}</span><br>\r\n    GIN NO: ${row.id || ''}<br>\r\n    Date : ${formatDate(gatePass.date || gatePass.created_at)}\r\n  </div>\r\n</div>\r\n\r\n<div class=\"company-title\">\r\n  <h2>Gate Pass for Construction Equipment / Vehicles</h2>\r\n</div>\r\n\r\n<table style=\"width:100%; border-collapse:separate; border-spacing:0 8px; margin-top:15px; font-size:13px;\">\r\n  <tr>\r\n    <td style=\"font-weight:bold; width:20%;\">Driver Name:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px;\">${gatePass.driver_name || ''}</td>\r\n     <td style=\"font-weight:bold; padding-left:20px;\">Security Name:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px;\">${gatePass.security_name || ''}</td>\r\n  </tr>\r\n  <tr>\r\n    <td style=\"font-weight:bold;\">Reg No:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px;\">${assetName}</td>\r\n    <td style=\"font-weight:bold; padding-left:20px;\">Type:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px;\">${assetType}</td>\r\n  </tr>\r\n  <tr>\r\n    <td style=\"font-weight:bold;\">Start Kms/Hrs:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px;\">${gatePass.current_reading || ''}</td>\r\n    <td style=\"font-weight:bold; padding-left:20px;\">Return&nbsp;Kms/Hrs:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px; white-space:nowrap;\">${gatePass.return_reading || ''}</td>\r\n  </tr>\r\n  <tr>\r\n    <td style=\"font-weight:bold;\">Destination:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px;\">${destinationStore}</td>\r\n    <td style=\"font-weight:bold; padding-left:20px;\">Source Location:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px;\">${sourceStore}</td>\r\n  </tr>\r\n\r\n</table>\r\n\r\n\r\n<h4 style=\"margin-top:25px;\">CARRIED ITEMS:</h4>\r\n<table class=\"items\">\r\n  <thead>\r\n    <tr>\r\n      <th>SN</th>\r\n      <th>Item</th>\r\n      <th>Description</th>\r\n      <th>Quantity</th>\r\n        <th>Check</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    ${(row.items || []).map((item, index) => `\r\n    <tr>\r\n      <td>${index + 1}</td>\r\n      <td>${item.store_item?.item?.name || 'N/A'}</td>\r\n      <td>${item.store_item?.item?.description || '--'}</td>\r\n      <td style=\"text-align: right;\">${item.quantity || '0'}</td>\r\n        <td><div class=\"check-square\"></div></td>\r\n    </tr>`).join(\"\")}\r\n    ${(!row.items || row.items.length === 0) ? `<tr><td colspan=\"4\">No items found</td></tr>` : ''}\r\n  </tbody>\r\n</table>\r\n\r\n<div class=\"signatures\">\r\n  <div class=\"signature-box\">\r\n    <div class=\"signature-line\"></div>\r\n    <p>Driver's Signature</p>\r\n  </div>\r\n  <div class=\"signature-box\">\r\n    <div class=\"signature-line\"></div>\r\n    <p>Security Signature</p>\r\n  </div>\r\n</div>\r\n\r\n</body>\r\n</html>\r\n`;\r\n\r\n            const iframeDoc = iframe.contentWindow.document;\r\n            iframeDoc.open();\r\n            iframeDoc.write(printContent);\r\n            iframeDoc.close();\r\n\r\n            iframe.onload = () => {\r\n                iframe.contentWindow.focus();\r\n                iframe.contentWindow.print();\r\n                setTimeout(() => {\r\n                    document.body.removeChild(iframe);\r\n                }, 1000);\r\n            };\r\n        } catch (error) {\r\n            console.error('Print error:', error);\r\n            showError(`Failed to print gate pass: ${error.message}`);\r\n        }\r\n    };\r\n\r\n\r\n    onMounted(() => {\r\n        getIssueNotes();\r\n        getStores()\r\n        getUnits()\r\n        getAssets()\r\n    });\r\n</script>\r\n\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=5fb8a4cd&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["globalSearch","data","keyword","lowerKeyword","toLowerCase","trim","containsKeyword","obj","includes","Array","isArray","some","Object","values","filter","item","useMeta","title","filteredNotes","computed","allNotes","value","axiosInstance","axios","baseURL","process","ref","create_gate_pass","asset","current_reading","return_reading","driver_name","security_name","date","user_permissions","JSON","parse","localStorage","getItem","permissions","formatDate","inject","tableShimmer","loadingSpinner","purpose","id","name","purposes","clearForm","store","loading_spinner","columns","Itemscolumn","notes","items","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filterPlaceholder","limit","resizableColumns","loading","submitDeiveryNote","async","payload","deliveryData","gin_id","issue","receiver_id","deliveryItems","issuedItems","map","gin_item_id","item_id","store_item","store_item_id","item_condition","quantity","received","store_id","unit","short_name","post","getIssueNotes","showMessage","document","getElementById","click","status","color","error","showError","message","console","log","issuedItemColumns","fillModal","row","destination_store","project","index","delivered","delivered_items","Sno","item_requested","requisition_item","remark","category","item_issued","quantity_requested","quantity_issued","SNo","get","then","response","issue_no","from","source_store","to","issuer","requester","requisition","source_store_id","destination_store_id","items_count","length","date_issued","created_at","catch","stores","getStores","assets","getAssets","type_name","AssetNo","AssetType","units","getUnits","CreateGatePass","good_issue_note_id","asset_id","closeEditModal","printGatePass","iframe","createElement","style","display","body","appendChild","gatePass","gate_pass","assetName","assetType","sourceStore","destinationStore","printContent","description","join","iframeDoc","contentWindow","open","write","close","onload","focus","print","setTimeout","removeChild","onMounted","__exports__"],"sourceRoot":""}