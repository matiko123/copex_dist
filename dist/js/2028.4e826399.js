"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[2028],{52028:function(e,a,s){s.r(a),s.d(a,{default:function(){return oa}});var l=s(66252),t=s(3577),o=s(2262),i=s(42127),n=s(33907),d=s(56296),r=s(87066),c=s(26212),v=s.n(c);const u=e=>((0,l.dD)("data-v-0305f6a0"),e=e(),(0,l.Cn)(),e),b={class:"w-100 px-0"},m=u((()=>(0,l._)("ul",{class:"navbar-nav flex-row"},[(0,l._)("li",null,[(0,l._)("div",{class:"page-header"},[(0,l._)("nav",{class:"breadcrumb-one","aria-label":"breadcrumb"},[(0,l._)("ol",{class:"breadcrumb"},[(0,l._)("li",{class:"breadcrumb-item"},[(0,l._)("a",{href:"javascript:;"},"Charts")]),(0,l._)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,l._)("span",null,"Apex")])])])])])],-1))),h={class:"row g-0 my-4"},p={class:"col-12 mb-4"},w={class:"row ms-0 me-0"},_={class:"col-lg-2 col-md-4 col-sm-6 mb-3"},g={class:"statbox2 panel box box-shadow"},f={class:"panel-body p-3"},x={class:"d-flex justify-content-between align-items-center"},y=u((()=>(0,l._)("div",null,[(0,l._)("h6",{class:"mb-0"},"Total Stores")],-1))),S={class:"ms-auto badge bg-white text-dark fs-6 fw-bold rounded-pill"},k={class:"col-lg-2 col-md-4 col-sm-6 mb-3"},q={class:"statbox2 panel box box-shadow"},H={class:"panel-body p-3"},V={class:"d-flex justify-content-between align-items-center"},z=u((()=>(0,l._)("div",null,[(0,l._)("h6",{class:"mb-0"},"Main Stores")],-1))),D={class:"ms-auto badge bg-white text-dark fs-6 fw-bold rounded-pill"},U={class:"col-lg-2 col-md-4 col-sm-6 mb-3"},M={class:"statbox2 panel box box-shadow"},C={class:"panel-body p-3"},T={class:"d-flex justify-content-between align-items-center"},A=u((()=>(0,l._)("div",null,[(0,l._)("h6",{class:"mb-0"},"Sub Stores")],-1))),L={class:"ms-auto badge bg-white text-dark fs-6 fw-bold rounded-pill"},j={class:"col-lg-2 col-md-4 col-sm-6 mb-3"},E={class:"statbox2 panel box box-shadow"},B={class:"panel-body p-3"},I={class:"d-flex justify-content-between align-items-center"},O=u((()=>(0,l._)("div",null,[(0,l._)("h6",{class:"mb-0"},"Selected Store")],-1))),F={class:"ms-auto badge bg-white text-dark fs-6 fw-bold rounded-pill"},R={key:0},K={key:1},N=u((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-question-circle",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),(0,l._)("path",{d:"M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94"})],-1))),Y=[N],Z=(0,l.uE)('<div class="col-lg-4 col-md-4 col-sm-6 mb-3" data-v-0305f6a0><div class="statbox2 panel box box-shadow" data-v-0305f6a0><div class="panel-body bg-info p-3" data-v-0305f6a0><div class="d-flex justify-content-between align-items-center" data-v-0305f6a0><div data-v-0305f6a0><h6 class="mb-1" data-v-0305f6a0>Select A Store From the list Below</h6></div></div></div></div></div>',1),P={class:"row ms-0 me-0"},W={class:"col-lg-2 col-md-4 col-sm-6 mb-3"},G={class:"statbox panel box box-shadow"},Q={class:"panel-body p-3"},$={class:"d-flex justify-content-between align-items-center"},J={class:"mb-0"},X=["innerHTML"],ee={key:1},ae={style:{cursor:"pointer"},class:"ms-auto bg-danger p-2 rounded-pill"},se={key:0,class:"spinner-border spinner-border-sm text-white",role:"status"},le=u((()=>(0,l._)("path",{"fill-rule":"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"},null,-1))),te=[le],oe={class:"col-lg-2 col-md-4 col-sm-6 mb-3"},ie={class:"statbox panel box box-shadow"},ne={class:"panel-body p-3"},de={class:"d-flex justify-content-between align-items-center"},re={class:"mb-0"},ce=["innerHTML"],ve={key:1},ue={style:{cursor:"pointer"},class:"ms-auto bg-danger p-2 rounded-pill"},be={key:0,class:"spinner-border spinner-border-sm text-white",role:"status"},me=u((()=>(0,l._)("path",{"fill-rule":"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"},null,-1))),he=[me],pe={class:"col-lg-2 col-md-4 col-sm-6 mb-3"},we={class:"statbox panel box box-shadow"},_e={class:"panel-body p-3"},ge={class:"d-flex justify-content-between align-items-center"},fe={class:"mb-0"},xe=["innerHTML"],ye={key:1},Se={style:{cursor:"pointer"},class:"ms-auto bg-danger p-2 rounded-pill"},ke={key:0,class:"spinner-border spinner-border-sm text-white",role:"status"},qe=u((()=>(0,l._)("path",{"fill-rule":"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"},null,-1))),He=[qe],Ve={class:"col-lg-2 col-md-4 col-sm-6 mb-3"},ze={class:"statbox panel box box-shadow"},De={class:"panel-body p-3"},Ue={class:"d-flex justify-content-between align-items-center"},Me={class:"mb-0"},Ce={key:0,style:{cursor:"pointer"},class:"ms-auto bg-danger p-2 rounded-pill"},Te={key:0,class:"spinner-border spinner-border-sm text-white",role:"status"},Ae=u((()=>(0,l._)("path",{"fill-rule":"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"},null,-1))),Le=[Ae],je={class:"col-lg-4 col-md-4 col-sm-6 mb-3"},Ee={class:"statbox panel box box-shadow"},Be={class:"panel-body p-3"},Ie={class:"text-center"},Oe={class:"col-12 mb-4"},Fe={class:"row ms-0 me-0"},Re={class:"col-lg-6 col-md-12 mb-4"},Ke={class:"statbox panel box box-shadow h-100"},Ne={class:"panel-heading"},Ye={class:"text-center mb-0"},Ze=["innerHTML"],Pe={key:1},We={class:"panel-body"},Ge={class:"col-lg-6 col-md-12 mb-4"},Qe={class:"statbox panel box box-shadow h-100"},$e={class:"panel-heading"},Je={class:"text-center mb-0"},Xe=["innerHTML"],ea={key:1},aa={class:"panel-body"};var sa={setup(e){(0,d.j)({title:"Stores Analysis"});const a=(0,l.f3)("formatNumber"),s=((0,l.f3)("showMessage"),(0,l.f3)("showError"),(0,l.f3)("waitIndicator")),c=(0,l.f3)("printStores"),u=(0,l.f3)("printStoreItems"),N=(0,n.oR)(),le=r.Z.create({baseURL:"https://bushman.ink/api/v1/"}),me=(0,o.iH)([{name:"STOCK AVAILABLE",data:[0,0,0,0,0]},{name:"STOCK USED",data:[0,0,0,0,0]}]),qe=(0,l.Fl)((()=>{const e=sa.value.name,s=N.state.is_dark_mode;return{chart:{type:"bar",toolbar:{show:!1},fontFamily:"inherit",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:4}},colors:["#30691C","#FDD459"],xaxis:{categories:e,labels:{style:{colors:s?"#888ea8":"#3b3f5c",fontSize:"12px"}}},yaxis:{labels:{style:{colors:s?"#888ea8":"#3b3f5c",fontSize:"12px"},formatter:function(e){return a(e)}}},legend:{position:"bottom",fontSize:"12px",labels:{colors:s?"#888ea8":"#3b3f5c"}},tooltip:{theme:s?"dark":"light",y:{formatter:function(e){return a(e)}}},grid:{borderColor:s?"#191e3a":"#e0e6ed",strokeDashArray:3},dataLabels:{enabled:!1}}})),Ae=(0,l.Fl)((()=>{const e=N.state.is_dark_mode;return{chart:{type:"donut",fontFamily:"inherit"},labels:sa.value.name,colors:sa.value.color,legend:{position:"bottom",fontSize:"12px",labels:{colors:e?"#888ea8":"#3b3f5c"}},dataLabels:{enabled:!0,formatter:function(e){return e.toFixed(1)+"%"},style:{fontSize:"12px",colors:["#fff"]}},tooltip:{theme:"dark",y:{formatter:function(e){return a(e)}}},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}})),sa=(0,o.iH)([]),la=async()=>{let e="store-items-report";ta&&ta.value&&ta.value.id&&(e+=`?store_id=${ta.value.id}`);const a=await le.get(e);sa.value.name=a.data.map((e=>e.category)),sa.value.color=a.data.map((e=>e.color)),sa.value.balance_cost=a.data.map((e=>e.balance_cost)),me.value=[{name:"STOCK AVAILABLE",data:a.data.map((e=>e.balance_cost))},{name:"STOCK USED",data:a.data.map((e=>e.used_cost))}],na.value=!1},ta=(0,o.iH)(""),oa=(0,o.iH)([]),ia=(0,o.iH)({stores:{},main_stores:{},sub_stores:{}}),na=(0,o.iH)(!1),da=async()=>{na.value=!0;const e=await le.get("get-stores");oa.value=e.data;const a=e.data.filter((e=>"main"===e.type)),s=e.data.filter((e=>"substore"===e.type));ia.value.stores={count:e.data.length,cost:e.data.reduce(((e,a)=>e+Number(a.cost)),0)},ia.value.main_stores={count:a.length,cost:a.reduce(((e,a)=>e+Number(a.cost)),0)},ia.value.sub_stores={count:s.length,cost:s.reduce(((e,a)=>e+Number(a.cost)),0)},na.value=!1};(0,l.YP)(ta,(e=>{e&&(na.value=!0,la())})),(0,l.YP)(na,(e=>{!0!==e&&!1!==e&&setTimeout((()=>{na.value=!1}),2e3)}));const ra=(0,o.iH)(!1);return(0,l.bv)((async()=>{ra.value=!0,la(),await da(),ra.value=!1})),(e,n)=>{const d=(0,l.Q2)("scroll-spy");return(0,l.wg)(),(0,l.iD)("div",b,[((0,l.wg)(),(0,l.j4)(l.lR,{to:"#breadcrumb"},[m])),(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",h,[(0,l._)("div",p,[(0,l._)("div",w,[(0,l._)("div",_,[(0,l._)("div",g,[(0,l._)("div",f,[(0,l._)("div",x,[y,(0,l._)("div",S,(0,t.zw)(ia.value?.stores?.count??0),1)])])])]),(0,l._)("div",k,[(0,l._)("div",q,[(0,l._)("div",H,[(0,l._)("div",V,[z,(0,l._)("div",D,(0,t.zw)(ia.value?.main_stores?.count??0),1)])])])]),(0,l._)("div",U,[(0,l._)("div",M,[(0,l._)("div",C,[(0,l._)("div",T,[A,(0,l._)("div",L,(0,t.zw)(ia.value?.sub_stores?.count??0),1)])])])]),(0,l._)("div",j,[(0,l._)("div",E,[(0,l._)("div",B,[(0,l._)("div",I,[O,(0,l._)("div",F,[ta.value?((0,l.wg)(),(0,l.iD)("span",R,"1")):((0,l.wg)(),(0,l.iD)("span",K,Y))])])])])]),Z]),(0,l._)("div",P,[(0,l._)("div",W,[(0,l._)("div",G,[(0,l._)("div",Q,[(0,l._)("div",$,[(0,l._)("div",null,[(0,l._)("h3",J,[ra.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(s)()},null,8,X)):((0,l.wg)(),(0,l.iD)("span",ee,(0,t.zw)((0,o.SU)(a)(ia.value?.stores?.cost)||0),1))])]),(0,l._)("div",ae,["all"===na.value?((0,l.wg)(),(0,l.iD)("div",se)):((0,l.wg)(),(0,l.iD)("svg",{key:1,onClick:n[0]||(n[0]=e=>{(0,o.SU)(c)("all"),na.value="all"}),xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-filetype-pdf",viewBox:"0 0 16 16"},te))])])])])]),(0,l._)("div",oe,[(0,l._)("div",ie,[(0,l._)("div",ne,[(0,l._)("div",de,[(0,l._)("div",null,[(0,l._)("h3",re,[ra.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(s)()},null,8,ce)):((0,l.wg)(),(0,l.iD)("span",ve,(0,t.zw)((0,o.SU)(a)(ia.value?.main_stores?.cost)||0),1))])]),(0,l._)("div",ue,["main"===na.value?((0,l.wg)(),(0,l.iD)("div",be)):((0,l.wg)(),(0,l.iD)("svg",{key:1,onClick:n[1]||(n[1]=e=>{(0,o.SU)(c)("main"),na.value="main"}),xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-filetype-pdf",viewBox:"0 0 16 16"},he))])])])])]),(0,l._)("div",pe,[(0,l._)("div",we,[(0,l._)("div",_e,[(0,l._)("div",ge,[(0,l._)("div",null,[(0,l._)("h3",fe,[ra.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(s)()},null,8,xe)):((0,l.wg)(),(0,l.iD)("span",ye,(0,t.zw)((0,o.SU)(a)(ia.value?.sub_stores?.cost)),1))])]),(0,l._)("div",Se,["substore"===na.value?((0,l.wg)(),(0,l.iD)("div",ke)):((0,l.wg)(),(0,l.iD)("svg",{key:1,onClick:n[2]||(n[2]=e=>{(0,o.SU)(c)("substore"),na.value="substore"}),xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-filetype-pdf",viewBox:"0 0 16 16"},He))])])])])]),(0,l._)("div",Ve,[(0,l._)("div",ze,[(0,l._)("div",De,[(0,l._)("div",Ue,[(0,l._)("div",null,[(0,l._)("h3",Me,(0,t.zw)((0,o.SU)(a)(ta.value?.cost||0)),1)]),ta.value?((0,l.wg)(),(0,l.iD)("div",Ce,["store_items"===na.value?((0,l.wg)(),(0,l.iD)("div",Te)):((0,l.wg)(),(0,l.iD)("svg",{key:1,onClick:n[3]||(n[3]=e=>{(0,o.SU)(u)(ta.value.id,ta.value.name),na.value="store_items"}),xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-filetype-pdf",viewBox:"0 0 16 16"},Le))])):(0,l.kq)("",!0)])])])]),(0,l._)("div",je,[(0,l._)("div",Ee,[(0,l._)("div",Be,[(0,l.Wm)((0,o.SU)(v()),{modelValue:ta.value,"onUpdate:modelValue":n[4]||(n[4]=e=>ta.value=e),options:oa.value,label:"name",placeholder:"Select Store",required:!0,searchable:!0,multiple:!1,"allow-empty":!1,class:"w-100"},null,8,["modelValue","options"])])])])])]),(0,l._)("h3",Ie,(0,t.zw)(ta.value?.name?.toUpperCase()??""),1),(0,l._)("div",Oe,[(0,l._)("div",Fe,[(0,l._)("div",Re,[(0,l._)("div",Ke,[(0,l._)("div",Ne,[(0,l._)("h5",Ye,[ra.value||na.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(s)()},null,8,Ze)):((0,l.wg)(),(0,l.iD)("span",Pe,"STORE ITEMS BY CATEGORY"))])]),(0,l._)("div",We,[(0,o.SU)(Ae)?((0,l.wg)(),(0,l.j4)((0,o.SU)(i.Z),{key:0,height:"450",type:"donut",options:(0,o.SU)(Ae),series:sa.value.balance_cost},null,8,["options","series"])):(0,l.kq)("",!0)])])]),(0,l._)("div",Ge,[(0,l._)("div",Qe,[(0,l._)("div",$e,[(0,l._)("h5",Je,[na.value||ra.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,o.SU)(s)()},null,8,Xe)):((0,l.wg)(),(0,l.iD)("span",ea,"STORE ITEMS AVAILABLE VS USED"))])]),(0,l._)("div",aa,[(0,o.SU)(qe)?((0,l.wg)(),(0,l.j4)((0,o.SU)(i.Z),{key:0,height:"450",type:"bar",options:(0,o.SU)(qe),series:me.value},null,8,["options","series"])):(0,l.kq)("",!0)])])])])])])),[[d]])])}}},la=s(83744);const ta=(0,la.Z)(sa,[["__scopeId","data-v-0305f6a0"]]);var oa=ta}}]);
//# sourceMappingURL=2028.4e826399.js.map