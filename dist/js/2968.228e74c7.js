"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[2968],{2968:function(e,a,l){l.r(a),l.d(a,{default:function(){return _a}});l(26699);var t=l(66252),n=l(49963),o=l(2262),r=l(3577),s=l(87066),u=l(26212),d=l.n(u),i=l(56296);const c={class:"layout-px-spacing"},m=(0,t.uE)('<ul class="navbar-nav flex-row"><li><div class="page-header"><nav class="breadcrumb-one" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="javascript:;">On Account Payment</a></li></ol></nav></div></li></ul>',1),v={class:"row mb-4 justify-content-center align-items-center"},p={class:"col-md-4"},b={class:"form-group"},_=(0,t._)("label",null,"Company",-1),g=(0,t._)("option",{value:""},"All Companies",-1),h=(0,t._)("option",{value:6},"COPEX",-1),y=(0,t._)("option",{value:5},"BUSHMAN",-1),w=[g,h,y],f={class:"col-md-4"},x={class:"form-group"},k=(0,t._)("label",null,"Budget Type",-1),V=(0,t._)("option",{value:""},"All Types",-1),S=(0,t._)("option",{value:"budgeted"},"Budgeted",-1),H=(0,t._)("option",{value:"un_budgeted"},"Unbudgeted",-1),C=[V,S,H],A=(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"},[(0,t._)("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"})],-1),N=[A],M={key:0,class:"d-flex me-4 gap-3"},U={class:"ms-auto"},P=(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,t._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})],-1),q=[P],z=(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-x-square",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,t._)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1),O=[z],B={class:"text-right mb-3"},E=["disabled"],j=(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,t._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1),D=[j],T=["onSubmit"],L=(0,t._)("h4",{class:"text-center"},"M-PESA PAYMENT TRANSCTION REGISTRATION FORM ",-1),$={class:"row mb-2"},R={class:"col-md-3"},I=(0,t._)("label",{class:"form-label"},"Date",-1),F={class:"col-md-3"},Y=(0,t._)("label",{class:"form-label"},"Batch NO",-1),W={class:"col-md-3"},J=(0,t._)("label",{class:"form-label"},"Beneficiary Name",-1),X={class:"col-md-3"},G=(0,t._)("label",{class:"form-label"},"LPO Number / Document Number",-1),Z={class:"col-md-3"},K=(0,t._)("label",{class:"form-label"},"Project",-1),Q={class:"col-md-3"},ee=(0,t._)("label",{class:"form-label"},"Amount",-1),ae={class:"col-md-3"},le=(0,t._)("label",{class:"form-label"},"Account/Phone",-1),te={class:"col-md-3"},ne=(0,t._)("label",{class:"form-label"},"Budget Type",-1),oe={class:"col-md-12"},re=(0,t._)("label",{class:"form-label"},"Purpose Of Payment",-1),se={class:"text-center gap-2 justify-content-end"},ue=(0,t._)("button",{type:"submit",class:"btn btn-primary"},"Register",-1),de={key:2,class:"d-flex justify-content-center align-items-center",style:{"block-size":"100px"}},ie=(0,t._)("span",{class:"text-primary spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},[(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z"}),(0,t._)("path",{d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z"}),(0,t._)("path",{d:"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z"})]),(0,t.Uk)(" Loading... ")],-1),ce=[ie],me={class:"text-center"},ve=(0,t.Uk)("M-PESA PAYMENT TRANSACTION RECORDS FOR "),pe={key:0},be={key:1},_e={key:2},ge={class:"row layout-top-spacing"},he={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},ye={class:"row mb-3 d-flex justify-content-center align-items-center"},we={key:0,class:"col-md-5"},fe={class:"card"},xe={class:"card-body d-flex align-items-center"},ke=(0,t._)("h5",{class:"card-title"},"Total Budgeted",-1),Ve={class:"card-text text-success fw-4"},Se={key:1,class:"col-md-5"},He={class:"card"},Ce={class:"card-body d-flex align-items-center"},Ae=(0,t._)("h5",{class:"card-title"},"Total Unbudgeted",-1),Ne={class:"card-text text-warning fw-3"},Me={class:"panel p-0"},Ue={class:"custom-table table3"},Pe=["onClick"],qe=(0,t._)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"},null,-1),ze=[qe],Oe={key:0,class:"modal fade show d-block",role:"dialog"},Be={class:"modal-dialog modal-dialog modal-xl"},Ee={class:"modal-content d-flex flex-column",style:{"block-size":"auto"}},je={class:"modal-header"},De={class:"modal-title"},Te={key:0,class:"d-flex justify-content-center align-items-center",style:{"block-size":"100px"}},Le=(0,t._)("span",{class:"text-primary spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},[(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z"}),(0,t._)("path",{d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z"}),(0,t._)("path",{d:"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z"})]),(0,t.Uk)(" Loading... ")],-1),$e=[Le],Re=["onSubmit"],Ie={class:"row mb-2"},Fe={class:"col-md-3"},Ye=(0,t._)("label",{class:"form-label"},"Date",-1),We={class:"col-md-3"},Je=(0,t._)("label",{class:"form-label"},"Batch NO",-1),Xe={class:"col-md-3"},Ge=(0,t._)("label",{class:"form-label"},"beneficiary_name",-1),Ze={class:"col-md-3"},Ke=(0,t._)("label",{class:"form-label"},"LPO Number",-1),Qe={class:"col-md-3"},ea=(0,t._)("label",{class:"form-label"},"Project",-1),aa={class:"col-md-3"},la=(0,t._)("label",{class:"form-label"},"Amount",-1),ta={class:"col-md-3"},na=(0,t._)("label",{class:"form-label"},"Payment Number",-1),oa={class:"col-md-3"},ra=(0,t._)("label",{class:"form-label"},"Budget Type",-1),sa={class:"col-md-12"},ua=(0,t._)("label",{class:"form-label"},"Purpose Of Payment",-1),da=(0,t._)("button",{type:"submit",class:"btn btn-primary"},"Update",-1),ia={key:1,class:"modal-backdrop fade show",style:{"background-color":"rgba(0, 0, 0.5, 0.5)"}},ca=["onClick"],ma=(0,t._)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 7h12M9 7V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2m2 0v12a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V7h12z"},null,-1),va=[ma];var pa={setup(e){(0,i.j)({title:"Purchase Order"});const a=(0,t.f3)("showMessage"),l=(0,t.f3)("showError"),u=(0,o.iH)(!1),g=(0,o.iH)(!1),h=(0,o.iH)(["SNo","batch_no","beneficiary_name","date","payment_number","purpose_of_payment","budget","unbudget","project","actions"]),y=(0,o.iH)([]),V=((0,o.iH)(""),(0,o.iH)(!1)),S=(0,o.iH)({perPage:10,perPageValues:[5,10,20,50],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:["SNo","batch_no","beneficiary_name","date","payment_number","purpose_of_payment","budget","unbudget","amount"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),H=(0,o.iH)(""),A=(0,o.iH)(""),P=(0,o.iH)(!1),z=(0,o.iH)(""),j=(0,o.iH)(""),ie=(0,o.iH)(""),qe=(0,o.iH)(""),Le=(0,o.iH)(""),ma=(0,o.iH)(""),pa=(0,o.iH)(""),ba=(0,o.iH)(""),_a=(0,o.iH)("");_a.value||(_a.value=(new Date).toISOString().substr(0,10));const ga=(0,o.iH)(!0),ha=(0,o.iH)(""),ya=(JSON.parse(localStorage.getItem("user")).role,JSON.parse(localStorage.getItem("user")).id,(0,o.iH)("https://bushman.ink/api/v1/"),s.Z.create({baseURL:"https://construction.trustdigital.space/api/v1/"})),wa=()=>{ba.value="",qe.value="",ma.value="",pa.value="",Va.value="",Le.value="",z.value="",j.value="",ie.value=""},fa=async()=>{if(ha.value)try{g.value=!1,P.value=!0;const e={batch_no:qe.value,beneficiary_name:ie.value,description:ba.value,payment_number:j.value,date_created:_a.value,budget_type:ma.value,amount:pa.value,lpo_number:Le.value,project:z.value,company_id:ha.value},t=await ya.post("/on-account-payment",e);201==t.status?(wa(),xa(),P.value=!1,ga.value=!0,a("Voucher Requested Successfully")):(l("Faild to Add record",error),ga.value=!0,P.value=!1)}catch(error){l("Error code "+error.status),console.error("Error registering Order:",error),P.value=!1,ga.value=!0}else l("Please Select Company")},xa=async()=>{V.value=!0,P.value=!0;try{const e=await ya.get("/on-account-payment");if(e.data&&Array.isArray(e.data)){let a=e.data;ha.value&&(a=a.filter((e=>e.company_id===ha.value))),qa.value&&(a=a.filter((e=>e.budget_type===qa.value))),H.value=a.filter((e=>"budgeted"===e.budget_type)).reduce(((e,a)=>e+parseFloat(a.amount||0)),0),A.value=a.filter((e=>"un_budgeted"===e.budget_type)).reduce(((e,a)=>e+parseFloat(a.amount||0)),0),y.value=a.map(((e,a)=>({SNo:a+1,id:e.id,lpo_number:e.lpo_number,date:e.date_created,amount:e.amount,batch_no:e.batch_no,beneficiary_name:e.beneficiary_name,purpose_of_payment:e.description,project:e.project,budget:"budgeted"===e.budget_type?Number(e.amount).toLocaleString():"---",unbudget:"un_budgeted"===e.budget_type?Number(e.amount).toLocaleString():"---",payment_number:e.payment_number})))}else console.error("Invalid response format")}catch(error){l(error.message)}finally{P.value=!1}},ka=(0,o.iH)(!1),Va=(0,o.iH)(""),Sa=(0,o.iH)(),Ha=e=>{Va.value=e.id,z.value=e.project,Le.value=e.lpo_number,ie.value=e.beneficiary_name,pa.value=e.amount,j.value=e.payment_number,"Budgeted"===e.budget?ma.value=e.budget:ma.value=e.unbudget,ma.value=e.budget_type,ba.value=e.purpose_of_payment,qe.value=e.batch_no,ka.value=!0},Ca=()=>{wa(),ka.value=!1},Aa=(0,o.iH)(!1),Na=async()=>{try{g.value=!1,Aa.value=!0;const e={batch_no:qe.value,beneficiary_name:ie.value,description:ba.value,payment_number:j.value,date_created:_a.value,budget_type:ma.value,amount:pa.value,lpo_number:Le.value,project:z.value},t=await ya.patch(`/on-account-payment/${Va.value}`,e);200==t.status?(wa(),xa(),Aa.value=!1,ga.value=!0,Ca(),a("Voucher Updated Successfully")):(l("Faild to update record",error),ga.value=!0,Aa.value=!1)}catch(error){l("Error code "+error.status),console.error("Error update Order:",error),Aa.value=!1,ga.value=!0}},Ma=async e=>{if(confirm("are sure u want to delete this record!")){P.value=!0;const t=await ya.delete(`on-account-payment/${e}`);200==t.status?(xa(),a("deleted Successfully")):l("fail to delete record")}},Ua=(0,o.iH)(""),Pa=(0,o.iH)([]);(0,t.bv)((()=>{const e=localStorage.getItem("user");Ua.value=JSON.parse(e),Pa.value=Ua.value.permissions,xa()}));const qa=(0,o.iH)(""),za=(e,a)=>{Array.isArray(e)||(console.error("filteredItems is not an array:",e),e=[]);const l={5:"BUSHMAN",6:"COPEX"}[ha.value]||"ALL COMPANY",t=["S/N","Batch No","Beneficiary","Date","Payment No","Purpose","Amount","Project"],n=e=>{const a=Number(e);return isNaN(a)?"-":a.toLocaleString("en-US")+" Tsh"},o=e.map(((e,a)=>`\n        <tr class="${a%2===0?"even":"odd"}">\n            <td class="center">${a+1}</td>\n            <td>${e.batch_no||"-"}</td>\n            <td>${e.beneficiary_name||"-"}</td>\n            <td class="nowrap">${e.date||"-"}</td>\n            <td>${e.payment_number||"-"}</td>\n            <td>${e.purpose_of_payment||"-"}</td>\n            <td class="right bold">${n(e.amount)}</td>\n            <td>${e.project||"-"}</td>\n        </tr>\n    `)).join(""),r=e.reduce(((e,a)=>e+Number(a.amount||0)),0),s=window.open("","_blank","width=1200,height=800");s.document.write(`\n        <html>\n        <head>\n            <title>Payment Records - ${l}</title>\n            <style>\n                @page { size: A4 landscape; margin: 0.5cm; }\n                body { \n                    font-family: Arial, sans-serif; \n                    margin: 0; \n                    padding: 15px; \n                    font-size: 10px;\n                }\n                .header { text-align: center; margin-bottom: 15px; }\n                .summary { text-align: center; margin: 10px 0; font-size: 13px; }\n                table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }\n                th { background: #0066cc; color: white; padding: 8px; text-align: left; }\n                td { padding: 6px; border: 1px solid #ddd; }\n                .center { text-align: center; }\n                .right { text-align: right; }\n                .bold { font-weight: bold; }\n                .nowrap { white-space: nowrap; }\n            </style>\n        </head>\n        <body>\n            <div class="header">\n                <h2>${a?a.toUpperCase():"ALL"} M-PESA PAYMENT RECORDS FOR ${l}</h2>\n            </div>\n            \n            <div class="summary">\n                <div>Total ${a||""} Amount: ${n(r)}</div>\n                <div>Total Records: ${e.length}</div>\n            </div>\n            \n            <table>\n                <thead><tr>${t.map((e=>`<th>${e}</th>`)).join("")}</tr></thead>\n                <tbody>${o}</tbody>\n            </table>\n            \n            <script>\n                // Wait for content to load before printing\n                setTimeout(function() {\n                    window.print();\n                    // Give time for print dialog to appear before closing\n                    setTimeout(function() {\n                        window.close();\n                    }, 500);\n                }, 200);\n            <\/script>\n        </body>\n        </html>\n    `),s.document.close()};return(e,a)=>{const l=(0,t.up)("v-client-table");return(0,t.wg)(),(0,t.iD)("div",c,[m,(0,t._)("div",v,[(0,t._)("div",p,[(0,t._)("div",b,[_,(0,t.wy)((0,t._)("select",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=e=>ha.value=e),onChange:a[1]||(a[1]=e=>xa())},w,544),[[n.bM,ha.value]])])]),(0,t._)("div",f,[(0,t._)("div",x,[k,(0,t.wy)((0,t._)("select",{class:"form-control","onUpdate:modelValue":a[2]||(a[2]=e=>qa.value=e),onChange:a[3]||(a[3]=e=>xa())},C,544),[[n.bM,qa.value]])])])]),(0,t._)("div",null,[(0,t._)("button",{class:"btn btn-dark me-2 px-3",onClick:a[4]||(a[4]=a=>e.$router.go(-1))},N),Pa.value.includes("can_add_payment_record")?((0,t.wg)(),(0,t.iD)("div",M,[(0,t._)("div",U,[ga.value?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"btn btn-primary",onClick:a[5]||(a[5]=e=>{g.value=!0,ga.value=!1})},q)):((0,t.wg)(),(0,t.iD)("button",{key:1,class:"btn btn-danger",onClick:a[6]||(a[6]=e=>{g.value=!1,ga.value=!0})},O))]),(0,t._)("div",B,[(0,t._)("button",{class:"btn btn-success",onClick:a[7]||(a[7]=e=>{za(y.value,qa.value)}),disabled:P.value||""===qa.value},D,8,E)])])):(0,t.kq)("",!0),g.value?((0,t.wg)(),(0,t.iD)("form",{key:1,class:"mt-1 p-3 border rounded bg-white shadow",onSubmit:(0,n.iM)(fa,["prevent"])},[L,(0,t._)("div",$,[(0,t._)("div",R,[I,(0,t.wy)((0,t._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=e=>_a.value=e),name:"date",required:""},null,512),[[n.nr,_a.value]])]),(0,t._)("div",F,[Y,(0,t.wy)((0,t._)("input",{type:"text",placeholder:"Enter Batch Number",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=e=>qe.value=e),name:"Vendor_name",required:""},null,512),[[n.nr,qe.value]])]),(0,t._)("div",W,[J,(0,t.wy)((0,t._)("input",{type:"text",placeholder:"Enter Beneficiary Name",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=e=>ie.value=e),name:"Vendor_name",required:""},null,512),[[n.nr,ie.value]])]),(0,t._)("div",X,[G,(0,t.wy)((0,t._)("input",{type:"text",placeholder:"Enter lpo/document number ",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=e=>Le.value=e),name:"Vendor_name",required:""},null,512),[[n.nr,Le.value]])]),(0,t._)("div",Z,[K,(0,t.wy)((0,t._)("input",{type:"text",placeholder:"Enter project name",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=e=>z.value=e),name:"Vendor_name",required:""},null,512),[[n.nr,z.value]])]),(0,t._)("div",Q,[ee,(0,t.wy)((0,t._)("input",{type:"number",placeholder:"Enter Amount",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=e=>pa.value=e),name:"Vendor_name",required:""},null,512),[[n.nr,pa.value,void 0,{number:!0}]])]),(0,t._)("div",ae,[le,(0,t.wy)((0,t._)("input",{type:"text",placeholder:"Enter phone / account",class:"form-control","onUpdate:modelValue":a[14]||(a[14]=e=>j.value=e),name:"Vendor_name",required:""},null,512),[[n.nr,j.value]])]),(0,t._)("div",te,[ne,(0,t.Wm)((0,o.SU)(d()),{modelValue:ma.value,"onUpdate:modelValue":a[15]||(a[15]=e=>ma.value=e),options:["budgeted ","un_budgeted"],multiple:!1,searchable:!0,required:"",placeholder:"Select Budget Type"},null,8,["modelValue"])]),(0,t._)("div",oe,[re,(0,t.wy)((0,t._)("textarea",{name:"",placeholder:"Enter Purpose of payment",class:"form-control md-2","onUpdate:modelValue":a[16]||(a[16]=e=>ba.value=e),id:""},null,512),[[n.nr,ba.value]])])]),(0,t._)("div",se,[(0,t._)("button",{type:"button",class:"btn btn-danger me-3",onClick:a[17]||(a[17]=e=>{g.value=!1,u.value=!1,ga.value=!0})},"Cancel"),ue])],40,T)):(0,t.kq)("",!0),P.value?((0,t.wg)(),(0,t.iD)("div",de,ce)):(0,t.kq)("",!0),(0,t._)("div",null,[(0,t._)("div",me,[(0,t._)("h4",null,[ve,5==ha.value?((0,t.wg)(),(0,t.iD)("span",pe,"BUSHMAN")):6==ha.value?((0,t.wg)(),(0,t.iD)("span",be,"COPEX")):((0,t.wg)(),(0,t.iD)("span",_e,"ALL COMPANY"))])]),(0,t._)("div",ge,[(0,t._)("div",he,[(0,t._)("div",ye,["budgeted"===qa.value||""===qa.value?((0,t.wg)(),(0,t.iD)("div",we,[(0,t._)("div",fe,[(0,t._)("div",xe,[(0,t._)("div",null,[ke,(0,t._)("strong",null,[(0,t._)("h5",Ve,(0,r.zw)(Number(H.value).toLocaleString())+" Tsh",1)])])])])])):(0,t.kq)("",!0),"un_budgeted"===qa.value||""===qa.value?((0,t.wg)(),(0,t.iD)("div",Se,[(0,t._)("div",He,[(0,t._)("div",Ce,[(0,t._)("div",null,[Ae,(0,t._)("strong",null,[(0,t._)("h5",Ne,(0,r.zw)(Number(A.value).toLocaleString())+" Tsh",1)])])])])])):(0,t.kq)("",!0)]),(0,t._)("div",Me,[(0,t._)("div",Ue,[(0,t.Wm)(l,{data:y.value,columns:h.value,options:S.value},{status:(0,t.w5)((e=>[(0,t._)("span",{class:(0,r.C_)(["badge inv-status","badge-"+(e.row.status?e.row.status.class:"")])},(0,r.zw)(e.row.status?e.row.status.key:"Unknown"),3)])),actions:(0,t.w5)((e=>[Pa.value.includes("can_edit_payment_record")?((0,t.wg)(),(0,t.iD)("svg",{key:0,class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",onClick:a=>Ha(e.row)},ze,8,Pe)):(0,t.kq)("",!0),((0,t.wg)(),(0,t.j4)(t.lR,{to:"body"},[ka.value?((0,t.wg)(),(0,t.iD)("div",Oe,[(0,t._)("div",Be,[(0,t._)("div",Ee,[(0,t._)("div",je,[(0,t._)("h5",De,"Editing Form for Payment "+(0,r.zw)(Sa.value),1),(0,t._)("button",{type:"button",class:"btn-close",onClick:Ca})]),Aa.value?((0,t.wg)(),(0,t.iD)("div",Te,$e)):((0,t.wg)(),(0,t.iD)("form",{key:1,class:"mt-1 p-3 border rounded bg-white shadow",onSubmit:(0,n.iM)(Na,["prevent"])},[(0,t._)("div",Ie,[(0,t._)("div",Fe,[Ye,(0,t.wy)((0,t._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[18]||(a[18]=e=>_a.value=e),name:"date",required:""},null,512),[[n.nr,_a.value]])]),(0,t._)("div",We,[Je,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[19]||(a[19]=e=>qe.value=e),name:"Vendor_name",required:""},null,512),[[n.nr,qe.value]])]),(0,t._)("div",Xe,[Ge,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[20]||(a[20]=e=>ie.value=e),name:"Vendor_name",required:""},null,512),[[n.nr,ie.value]])]),(0,t._)("div",Ze,[Ke,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[21]||(a[21]=e=>Le.value=e),name:"Vendor_name",required:""},null,512),[[n.nr,Le.value]])]),(0,t._)("div",Qe,[ea,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[22]||(a[22]=e=>z.value=e),name:"Vendor_name",required:""},null,512),[[n.nr,z.value]])]),(0,t._)("div",aa,[la,(0,t.wy)((0,t._)("input",{type:"number",class:"form-control","onUpdate:modelValue":a[23]||(a[23]=e=>pa.value=e),name:"Vendor_name",required:""},null,512),[[n.nr,pa.value,void 0,{number:!0}]])]),(0,t._)("div",ta,[na,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[24]||(a[24]=e=>j.value=e),name:"Vendor_name",required:""},null,512),[[n.nr,j.value]])]),(0,t._)("div",oa,[ra,(0,t.Wm)((0,o.SU)(d()),{modelValue:ma.value,"onUpdate:modelValue":a[25]||(a[25]=e=>ma.value=e),options:["budgeted ","un_budgeted"],multiple:!1,searchable:!0,required:"",placeholder:"Select Budget Type"},null,8,["modelValue"])]),(0,t._)("div",sa,[ua,(0,t.wy)((0,t._)("textarea",{name:"",class:"form-control md-2","onUpdate:modelValue":a[26]||(a[26]=e=>ba.value=e),id:""},null,512),[[n.nr,ba.value]])])]),(0,t._)("div",{class:"text-center gap-2 justify-content-end"},[(0,t._)("button",{type:"button",class:"btn btn-danger me-3",onClick:Ca},"Cancel"),da])],40,Re))])])])):(0,t.kq)("",!0)])),ka.value?((0,t.wg)(),(0,t.iD)("div",ia)):(0,t.kq)("",!0),Pa.value.includes("can_delete_payment_record")?((0,t.wg)(),(0,t.iD)("svg",{key:2,class:"w-6 h-6 text-danger","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",onClick:a=>Ma(e.row.id)},va,8,ca)):(0,t.kq)("",!0)])),_:1},8,["data","columns","options"])])])])])])])])}}};const ba=pa;var _a=ba}}]);
//# sourceMappingURL=2968.228e74c7.js.map