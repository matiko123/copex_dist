{"version":3,"file":"js/402.03522c47.js","mappings":"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","sources":["webpack://cork-vue3/./src/components/reusables/globalSearch.js","webpack://cork-vue3/./src/components/reusables/globalSearchField.vue","webpack://cork-vue3/./src/components/reusables/globalSearchField.vue?f760","webpack://cork-vue3/./src/views/goodReceivedNotes/dashboard.vue","webpack://cork-vue3/./src/views/goodReceivedNotes/dashboard.vue?4aa6"],"sourcesContent":["export function globalSearch(data, keyword) {\r\n  const lowerKeyword = keyword.toLowerCase().trim()\r\n  if (!lowerKeyword) return data\r\n\r\n  const containsKeyword = obj => {\r\n    if (obj == null) return false\r\n    if (typeof obj === 'string') return obj.toLowerCase().includes(lowerKeyword)\r\n    if (Array.isArray(obj)) return obj.some(containsKeyword)\r\n    if (typeof obj === 'object')\r\n      return Object.values(obj).some(containsKeyword)\r\n    return false\r\n  }\r\n\r\n  return data.filter(item => containsKeyword(item))\r\n}","<template>\r\n     <form @submit.prevent class=\"input-group container\">\r\n    <input\r\n      type=\"text\"\r\n      class=\"form-control border-end-0\"\r\n      placeholder=\"Search a word...\"\r\n      v-model=\"filter\"\r\n    >\r\n    <span class=\"input-group-text bg-white border-start-0\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-search\" viewBox=\"0 0 16 16\">\r\n        <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.415l-3.85-3.85zm-5.442.656a5 5 0 1 1 \r\n        0-10 5 5 0 0 1 0 10z\"/>\r\n      </svg>\r\n    </span>\r\n  </form>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch } from 'vue'\r\n\r\n\r\nconst emit = defineEmits(['update:filterValue'])\r\nconst props = defineProps({\r\n  filterValue: String\r\n})\r\nconst filter = ref(props.filterValue || null)\r\n\r\nwatch(filter, val => emit('update:filterValue', val))\r\n</script>\r\n","import script from \"./globalSearchField.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./globalSearchField.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div class=\"layout-px-spacing\">  \r\n            <ul class=\"navbar-nav flex-row mt-2\">\r\n                <li>\r\n                    <div class=\"page-header\">\r\n                        <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                            <ol class=\"breadcrumb\">\r\n                                <li class=\"breadcrumb-item\"><a href=\"javascript:;\"\r\n                                    >Producurement</a></li>\r\n                                <li class=\"breadcrumb-item active\" aria-current=\"page\" ><span>Good Received Notes / {{ local_orders ? 'Local':'General' }}</span></li>\r\n                            </ol>\r\n                        </nav>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n\r\n      <h4 class=\"text-center\">GOOD RECEIVED NOTES</h4>\r\n        <div class=\"d-flex mb-2\">\r\n          \r\n             <div class=\"ms-auto\">\r\n               <button\r\n               @click=\"getLocalOrders()\"\r\n               class=\"btn me-2\" :class=\"local_orders ?'btn-success':'btn-secondary'\">{{ local_orders ? 'General Orders':'Local Orders' }}\r\n              </button>\r\n              <button v-if=\"local_orders\" class=\"btn btn-primary\"\r\n               data-bs-toggle=\"modal\" data-bs-target=\"#register\"\r\n              >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-plus-square\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect><line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\"></line><line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line></svg>\r\n              </button>\r\n             </div>\r\n           </div>\r\n\r\n           <globalSearchField\r\n            v-model:filterValue=\"filter\"\r\n           />\r\n         \r\n                          <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n\r\n        <div v-else class=\"row layout-top-spacing\">\r\n            <div  class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                   <div v-if=\"local_orders\" class=\"custom-table table3\">\r\n                        <v-client-table :data=\"localOrders\" :columns=\"localOrderColumns\" :options=\"table_option\" >\r\n                           <template #status=\"props\">\r\n    <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.color\">\r\n        {{ props.row.status.name }}\r\n    </span>\r\n</template>\r\n\r\n\r\n\r\n                            <template #actions=\"props\">\r\n                                <div class=\"d-flex justify-content-center align-items-center\"></div>\r\n                                    <a href=\"javascript:;\" class=\"edit me-2\" >\r\n                                            <svg\r\n                                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                width=\"24\"\r\n                                                height=\"24\"\r\n                                                viewBox=\"0 0 24 24\"\r\n                                                fill=\"none\"\r\n                                                stroke=\"currentColor\"\r\n                                                stroke-width=\"1.5\"\r\n                                                stroke-linecap=\"round\"\r\n                                                stroke-linejoin=\"round\"\r\n                                                class=\"text-primary\"\r\n                                                data-bs-toggle=\"modal\" \r\n                                                data-bs-target=\"#local-order-modal\"\r\n                                                @click=\"fillLocalOrderModal(props.row)\"\r\n                                            >\r\n                                                <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n                                                <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n                                            </svg>\r\n                                    </a>\r\n                    \r\n                            </template>\r\n                        </v-client-table>\r\n                    </div>\r\n\r\n                    <div v-else class=\"custom-table table3\">\r\n                        <v-client-table :data=\"filteredData\" :columns=\"columns\" :options=\"table_option\" >\r\n                        <template #lpo_no=\"props\">\r\n                           <router-link :to=\"`/approval-chain/${props.row.approval_id}`\" class=\"text-primary\">{{ props.row.lpo_no }}</router-link>      \r\n                        </template>\r\n                       \r\n                          <template #status=\"props\">\r\n    <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.class\">\r\n        {{ props.row.status.key }}\r\n    </span>\r\n</template>\r\n\r\n<template #delayed_count=\"props\">\r\n    <span v-if=\"props.row.status.key === 'Delayed'\">{{ props.row.delayed_count }} days</span>\r\n</template>\r\n\r\n                            <template #actions=\"props\">\r\n                                <div class=\"d-flex justify-content-center align-items-center\"></div>\r\n                                    <a href=\"javascript:;\" class=\"edit me-2\" >\r\n                                            <svg\r\n                                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                width=\"24\"\r\n                                                height=\"24\"\r\n                                                viewBox=\"0 0 24 24\"\r\n                                                fill=\"none\"\r\n                                                stroke=\"currentColor\"\r\n                                                stroke-width=\"1.5\"\r\n                                                stroke-linecap=\"round\"\r\n                                                stroke-linejoin=\"round\"\r\n                                                class=\"text-primary\"\r\n                                                data-bs-toggle=\"modal\" \r\n                                                data-bs-target=\"#view_items\"\r\n                                                @click=\"fillModal(props.row)\"\r\n                                            >\r\n                                                <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n                                                <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n                                            </svg>\r\n                                    </a>\r\n                    \r\n                            </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n\r\n <!-- Edit Grn Modal -->\r\n<div class=\"modal fade mymodal\" id=\"view_items\" data-bs-backdrop=\"false\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"editModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-fullscreen \" role=\"document\"> <!-- Changed to modal-xl and added scrollable -->\r\n        <div class=\"modal-content\"> <!-- Added min-height -->\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"editModalLabel\">GOODS RECEIVED LIST </h5>\r\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"dismiss\" @click=\"clearForm\"></button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n              \r\n             <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3 \">\r\n<table class=\"table table-bordered table-striped\">\r\n      <thead >\r\n        <tr>\r\n          <th>GRN No</th>\r\n          <th>Requester</th>\r\n          <th>Receiver</th>\r\n          <th>Date Created</th>\r\n          <th>Project</th>\r\n          <th>Vendor</th>\r\n          <th>Cost</th>\r\n          <th>Status</th>\r\n          <th>Delay</th>\r\n          <th >Action</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr >\r\n           <td>{{ grn.id }}</td>\r\n          <td>{{ grn.requester }}</td>\r\n           <td>{{ grn.receiver }}</td>\r\n          <td>{{ grn.date }}</td>\r\n          <td>{{ grn.project }}</td>\r\n          <td>{{ grn.vendor ?? 'No vendor' }}</td>\r\n          <td>{{ grn.cost }}</td>\r\n          <td><span class=\"badge inv-status\" :class=\"'badge-' + grn.status?.class\">\r\n                   {{ grn.status?.key }}\r\n                </span>\r\n          </td>\r\n          <td>{{ grn.delay }}</td>\r\n          <td> \r\n            <a \r\n                v-if=\"user_permissions.includes('can_print_lpo')\"\r\n                href=\"javascript:void(0);\" @click=\"printGrn(grn)\" class=\"text-success\">\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n    <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z\"/>\r\n    <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z\"/>\r\n  </svg>\r\n</a></td>\r\n        </tr>\r\n          <tr v-if=\"grn.description != null\">\r\n      <td colspan=\"5\"> <b> Brief Description :  </b> {{ grn.description }}</td>\r\n    </tr>\r\n      <tr v-if=\"grn.remarks\">\r\n      <td colspan=\"5\"> <b> Remarks :  </b> {{ grn.remarks }}</td>\r\n    </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    </div>\r\n    </div>\r\n    </div>\r\n\r\n              <div class=\"col-12 text-end mt-2\">\r\n  <form v-if=\"user_permissions.includes('is_md') && !grn.remarks\" @submit.prevent=\"addRemark(grn_id)\">\r\n    <div class=\"input-group\">\r\n      <input\r\n        type=\"text\"\r\n        class=\"form-control\"\r\n        placeholder=\"Enter Remarks\"\r\n        v-model=\"remarks\"\r\n      >\r\n      <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"sending\">\r\n      <span v-if=\"sending\" v-html=\"loadingSpinner()\"></span>\r\n      <span v-else>Send</span>\r\n      </button>\r\n    </div>\r\n  </form>\r\n</div>\r\n\r\n\r\n\r\n      \r\n\r\n\r\n\r\n        <div v-if=\"(receiver === 'No Receiver' || items.some(item => item.shortage > 0)) && user_permissions.includes('can_fill_grn')\" class=\"row\">\r\n  <div class=\"col-md-6\">\r\n    <Multiselect\r\n      v-model=\"store\"\r\n      :options=\"stores\"\r\n      :close-on-select=\"true\"\r\n      label=\"name\"\r\n      value-prop=\"id\"\r\n      placeholder=\"Select Store\"\r\n      :searchable=\"true\"\r\n      class=\"w-100\"\r\n    />\r\n  </div>\r\n  <div class=\"col-md-6\">\r\n    <input\r\n      type=\"text\"\r\n      class=\"form-control\"\r\n      placeholder=\"Enter Brief Description\"\r\n      v-model=\"description\"\r\n    >\r\n  </div>\r\n  <div class=\"col-12 text-end mt-2\">\r\n    <form v-if=\"receiver === 'No Receiver'  || items.some(item => item.shortage > 0) \" @submit.prevent=\"addRemark(grn_id,grn.project_id)\">\r\n      <button type=\"submit\" class=\"btn btn-info btn-sm px-3\" :disabled=\"sending || !store \">\r\n        <div v-if=\"sending\" class=\"spinner-border text-white\" role=\"status\">\r\n          <span class=\"sr-only\"></span>\r\n        </div>\r\n        <svg v-else xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\r\n          class=\"bi bi-send-check\" viewBox=\"0 0 16 16\">\r\n          <path\r\n            d=\"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855a.75.75 0 0 0-.124 1.329l4.995 3.178 1.531 2.406a.5.5 0 0 0 .844-.536L6.637 10.07l7.494-7.494-1.895 4.738a.5.5 0 1 0 .928.372zm-2.54 1.183L5.93 9.363 1.591 6.602z\" />\r\n          <path\r\n            d=\"M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m-1.993-1.679a.5.5 0 0 0-.686.172l-1.17 1.95-.547-.547a.5.5 0 0 0-.708.708l.774.773a.75.75 0 0 0 1.174-.144l1.335-2.226a.5.5 0 0 0-.172-.686\" />\r\n        </svg>\r\n      </button>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n               <!-- items table starts -->\r\n<div class=\"row layout-top-spacing \">\r\n  <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n    <div class=\"panel p-0 \">\r\n      <!-- Remove table-responsive to prevent scroll -->\r\n      <div class=\"custom-table table3 \">\r\n        <table class=\"table table-striped table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th>SNo</th>\r\n              <th>Item</th>\r\n              <th>Description</th>\r\n              <th>vendor</th>\r\n              <th v-if=\"store\">Bind To</th>\r\n              <th>Unit</th>\r\n               <th>Purchased</th>\r\n              <th>Received</th>\r\n              <th>Shortage</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"(item, index) in items\" :key=\"item.id\">\r\n              <td>{{ index + 1 }}</td>\r\n              <td>{{ item.item }}</td>\r\n              <td>{{ item.description }}</td>\r\n              <td> {{  item.vendor }}</td>\r\n              <td v-if=\" store.id > 0 && item.shortage > 0 \">\r\n                <Multiselect\r\n                  v-model=\"item.item_list_id\"\r\n                  :options=\"itemsList\"\r\n                  placeholder=\"Select Item\"\r\n                  label=\"name\"\r\n                  :close-on-select=\"true\"\r\n                  :searchable=\"true\"\r\n                  style=\"width:400px\"\r\n                />\r\n              </td>\r\n               <td v-else-if=\" store.id == 0 && item.shortage > 0 \">\r\n                <Multiselect\r\n                  v-model=\"item.item_list_id\"\r\n                  :options=\"assets\"\r\n                  placeholder=\"Select An Asset\"\r\n                  label=\"name\"\r\n                  :close-on-select=\"true\"\r\n                  :searchable=\"true\"\r\n                  style=\"width:400px\"\r\n                />\r\n              </td>\r\n              <td>{{ item.unit }}</td>\r\n               <td>{{ item.purchased  }}</td>\r\n              <td>\r\n                <span\r\n                 v-if=\"store\">\r\n                  <input  \r\n                  v-if=\"item.shortage > 0 && item.item_list_id\"\r\n                  type=\"number\"\r\n                  class=\"form-control w-100\"\r\n                  placeholder=\"Qty Received\"\r\n                  v-model=\"item.filled\"\r\n                  @input=\"item.filled = enforceMax(item.filled,item.shortage)\"\r\n                >\r\n                <input v-if=\"store.id == 0 \" type=\"number\" placeholder=\"Initial Reading\" class=\"form-control\" v-model=\"item.initial_reading\">\r\n                <input v-if=\"store.id == 0 \" type=\"number\" placeholder=\"Final Reading\" class=\"form-control\" v-model=\"item.final_reading\">\r\n                </span>\r\n                <span v-else>{{ item.received }}</span>\r\n              </td>\r\n              <td>{{ item.shortage }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n                <!-- items table ends -->\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n                <button type=\"button\" class=\"btn btn-secondary\" @click=\"clearForm\">Close</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- send message modal starts -->\r\n\r\n\r\n<!-- Modal -->\r\n<div class=\"modal fade\" id=\"send_message\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"staticBackdropLabel\">Send Report To :</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"close_report\" @click=\"clearForm\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <input type=\"number\" class=\"form-control\" v-model=\"phone\" placeholder=\"Send to : 255...\">\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-danger btn-sm py-2 px-2\" data-bs-dismiss=\"modal\">Close</button>\r\n        <button type=\"button\" \r\n        @click=\"sendTemplate()\"\r\n        class=\"btn btn-success py-2 px-2\">\r\n              <div v-if=\"sending\" class=\"spinner-border text-white\" role=\"status\">\r\n         <span class=\"sr-only\"></span>\r\n       </div>\r\n          <svg v-else xmlns=\"http://www.w3.org/2000/svg\" width=\"2\" height=\"2\" fill=\"currentColor\" class=\"bi bi-send-check\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855a.75.75 0 0 0-.124 1.329l4.995 3.178 1.531 2.406a.5.5 0 0 0 .844-.536L6.637 10.07l7.494-7.494-1.895 4.738a.5.5 0 1 0 .928.372zm-2.54 1.183L5.93 9.363 1.591 6.602z\"/>\r\n  <path d=\"M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m-1.993-1.679a.5.5 0 0 0-.686.172l-1.17 1.95-.547-.547a.5.5 0 0 0-.708.708l.774.773a.75.75 0 0 0 1.174-.144l1.335-2.226a.5.5 0 0 0-.172-.686\"/>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n <!-- send messge modal ends -->\r\n<!-- register local order starts -->\r\n                  <div class=\"modal fade mymodal\" id=\"register\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\" >\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"staticBackdropLabel\">REGISTER LOCAL ORDER OUT OF ERP</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"close-local-order\" ></button>\r\n      </div>\r\n        <form @submit.prevent=\"registerLocalOrder()\">\r\n\r\n<div class=\"modal-body\" >\r\n      <div class=\"row layout-top-spacing\" >\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                      <div class=\"row\">\r\n                          <h6 class=\"mt-2 mb-2\">Order Details</h6>\r\n                        <div class=\"col-md-4 \">\r\n                          <label class=\"form-label\">Source</label>\r\n                          <select v-model=\"order.source\" class=\"form-control\" required>\r\n                            <option value=\"\">Select Reference Source</option>\r\n                            <option value=\"ERP Voucher\">ERP Voucher</option>\r\n                             <option value=\"Local Voucher Paper\">ERP Voucher</option>\r\n                            <option value=\"Local Voucher\">Local Voucher</option>\r\n                            <option value=\"Local Order Paper\">Local Order Paper</option>\r\n                          </select>\r\n                        </div>\r\n\r\n                        <div v-if=\"order.source\" class=\"col-md-4\">\r\n                          <label class=\"form-label\">{{ order.source }} Number </label>\r\n                          <input class=\"form-control\" type=\"number\" step=\"any\" :placeholder=\"'Enter ' + order.source + ' Number'\" v-model=\"order.source_id\" required>\r\n                        </div>\r\n                        <div v-if=\"order.source\" class=\"col-md-4\">\r\n                              <label class=\"form-label\">Select Project</label>\r\n                              <Multiselect\r\n      v-model=\"order.project\"\r\n      :options=\"projects\"\r\n      :close-on-select=\"true\"\r\n      label=\"short_name\"\r\n      placeholder=\"Select Project\"\r\n      :searchable=\"true\"\r\n      class=\"w-100\"\r\n    />\r\n                        </div>\r\n\r\n                           <div class=\"col-md-12\">\r\n                          <label class=\"form-label\">Brief Description</label>\r\n                          <input class=\"form-control\" type=\"text\"  placeholder=\"Enter Brief Description\" v-model=\"order.description\">                \r\n                        </div>\r\n  <hr/>\r\n <div v-if=\"order.source_id\">\r\n\r\n  <h6>Purchased Items</h6>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-3\">\r\n      <label class=\"form-label\">Item </label>\r\n      <input class=\"form-control\" type=\"text\"  placeholder=\"Enter Item\" v-model=\"orderItem.item\">\r\n    </div>\r\n      <div class=\"col-md-3\">\r\n      <label class=\"form-label\">Description</label>\r\n      <input class=\"form-control\" type=\"text\" step=\"any\" placeholder=\"'Enter Description\" v-model=\"orderItem.description\">\r\n    </div>\r\n         <div class=\"col-md-3\">\r\n      <label class=\"form-label\">Unit</label>\r\n        <Multiselect\r\n      v-model=\"orderItem.unit\"\r\n      :options=\"units\"\r\n      :close-on-select=\"true\"\r\n      label=\"short_name\"\r\n      placeholder=\"Select Unit\"\r\n      :searchable=\"true\"\r\n      class=\"w-100\"\r\n    />\r\n \r\n    </div>\r\n      <div class=\"col-md-3\">\r\n      <label class=\"form-label\">Quantity</label>\r\n      <input class=\"form-control\" type=\"number\" step=\"any\" placeholder=\"Enter Quantity\" v-model=\"orderItem.quantity\">\r\n    </div>\r\n \r\n      <div class=\"d-flex mt-2\">\r\n             <div class=\"ms-auto\">\r\n              <button  class=\"btn btn-success \"  @click=\"pushItem()\" type=\"button\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-plus-square\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect><line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\"></line><line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line></svg>\r\n              </button>\r\n             </div>\r\n           </div>\r\n  </div>\r\n \r\n                   \r\n  \r\n                      <v-client-table :data=\"orderedItems\" :columns=\"orderedItemColumns\" :options=\"table_option\" >\r\n                             <template #actions=\"props\">\r\n  <a href=\"javascript:void(0);\" title=\"Delete\" @click=\"pullItem(props.row.Sno)\">\r\n                            <svg\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                width=\"20\"\r\n                                height=\"20\"\r\n                                viewBox=\"0 0 24 24\"\r\n                                fill=\"none\"\r\n                                stroke=\"currentColor\"\r\n                                stroke-width=\"1.5\"\r\n                                stroke-linecap=\"round\"\r\n                                stroke-linejoin=\"round\"\r\n                                class=\"text-danger\"\r\n                            >\r\n                                <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n                                <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                            </svg>\r\n                        </a>\r\n                          </template> \r\n                        </v-client-table>\r\n                    </div>\r\n                       </div>\r\n                      \r\n </div> \r\n                </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-danger me-2\" data-bs-dismiss=\"modal\">Close</button>\r\n          <button type=\"submit\" class=\"btn btn-primary \"  :disabled=\"sending\">\r\n            <span v-if=\"sending\" v-html=\"loadingSpinner()\"></span>\r\n            <span v-else>Save</span>\r\n          </button>\r\n      </div>\r\n  </form>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n <!-- register local order ends -->\r\n  <!-- local order Modal starts -->\r\n                     <div class=\"modal fade mymodal\" id=\"local-order-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\" >\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"staticBackdropLabel\">LOCAL ORDERS (out of erp) GOODS RECEIVED NOTE </h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"close-local-grn\" ></button>\r\n      </div>\r\n        <form @submit.prevent=\"receiveLocalOrder()\">\r\n\r\n<div class=\"modal-body\" >\r\n      <div class=\"row layout-top-spacing\" >\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                      <div  class=\"row\">\r\n                  \r\n                          <div v-if=\"user_permissions.includes('can_fill_grn')\" class=\"col-md-4\">\r\n                              <label class=\"form-label\">Brief Description</label>\r\n    <Multiselect\r\n      v-model=\"store\"\r\n      :options=\"stores\"\r\n      :close-on-select=\"true\"\r\n      label=\"name\"\r\n      value-prop=\"id\"\r\n      placeholder=\"Select Store\"\r\n      :searchable=\"true\"\r\n      class=\"w-100\"\r\n      :allow-empty=\"false\"\r\n    />\r\n    </div>\r\n                           <div v-if=\"user_permissions.includes('can_fill_grn')\" class=\"col-md-8\">\r\n                          <label class=\"form-label\">Brief Description</label>\r\n                          <input class=\"form-control\" type=\"text\"  placeholder=\"Enter Brief Description\" v-model=\"description\">                \r\n                        </div>\r\n  <hr/>\r\n\r\n                   \r\n  <!-- table starts -->\r\n    <div class=\"custom-table table3 \">\r\n        <table class=\"table table-striped table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th>SNo</th>\r\n              <th>Item</th>\r\n              <th>Description</th>\r\n              <th>Unit</th>\r\n              <th>Quantity</th>\r\n              <th v-if=\"store\">Bind To</th>\r\n              <th v-if=\"!store\">Received</th>\r\n            </tr>\r\n          </thead>\r\n           <tbody>\r\n            <tr v-for=\"(item, index) in orderedItems\" :key=\"item.id\">\r\n              <td>{{ index + 1 }}</td>\r\n              <td>{{ item.item }}</td>\r\n              <td>{{ item.description }}</td>\r\n              <td>{{ item.unit }}</td>\r\n               <td>{{ item.quantity  }}</td>\r\n              <td v-if=\"!store\">{{ item.receivedItemsCount  }}</td>\r\n                             <td v-if=\" store.id > 0 \">\r\n                <Multiselect\r\n                  v-model=\"item.item_list_id\"\r\n                  :options=\"itemsList\"\r\n                  placeholder=\"Select Item\"\r\n                  label=\"name\"\r\n                  :close-on-select=\"true\"\r\n                  :searchable=\"true\"\r\n                  style=\"width:400px\"\r\n                  :allow-empty=\"false\"\r\n                />\r\n              </td>\r\n               <td v-else-if=\" store.id == 0\">\r\n                <Multiselect\r\n                  v-model=\"item.item_list_id\"\r\n                  :options=\"assets\"\r\n                  placeholder=\"Select An Asset\"\r\n                  label=\"name\"\r\n                  :close-on-select=\"true\"\r\n                  :searchable=\"true\"\r\n                  style=\"width:400px\"\r\n                />\r\n              </td>\r\n              <td  v-if=\"item.item_list_id\">\r\n                <span\r\n                >\r\n                  <input  \r\n                  type=\"number\"\r\n                  class=\"form-control w-100\"\r\n                  placeholder=\"Qty Received\"\r\n                  v-model=\"item.filled\"\r\n                >\r\n                </span>\r\n               \r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          </table>\r\n          </div>\r\n   <!-- table ends -->\r\n\r\n                    </div>\r\n             \r\n                      \r\n </div> \r\n                </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-danger me-2\" data-bs-dismiss=\"modal\" @click=\"clearForm()\">Close</button>\r\n          <button type=\"submit\" class=\"btn btn-primary \"  :disabled=\"sending || !store\" v-if=\"user_permissions.includes('can_fill_grn')\">\r\n            <span v-if=\"sending\" v-html=\"loadingSpinner()\"></span>\r\n            <span v-else>Save</span>\r\n          </button>\r\n      </div>\r\n  </form>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n   <!-- local order modal ends -->\r\n\r\n\r\n\r\n   </div>\r\n</template>\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n<script setup>\r\n    import { onMounted, ref,inject,computed } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    useMeta({ title: 'Custom Table' });\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    import globalSearchField from '@/components/reusables/globalSearchField.vue';\r\n    import { globalSearch } from '@/components/reusables/globalSearch';\r\nimport GlobalSearchField from '@/components/reusables/globalSearchField.vue';\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\nconst filter = ref('')\r\n\r\n    const filteredData = computed(() => {\r\n  return globalSearch(grns.value, filter.value);\r\n});\r\n    const itemsList = ref([])\r\n    const getItems = async () =>{\r\n      const response = await axiosInstance.get('item-list')\r\n      itemsList.value = response.data.map((item)=>({\r\n        ...item,\r\n       name: item.name + (item.description ? ' - ' + item.description : '')\r\n      }))\r\n    }\r\n\r\n    const assets = ref([])\r\n      const getAssets = async () =>{\r\n      const response = await axiosInstance.get('machines')\r\n      assets.value = response.data.map((item)=>({\r\n        ...item,\r\n       name: item.name + ' - ' + item.type_name\r\n      }))\r\n    }\r\n\r\n    const projects = ref([])\r\n    const getProjects = async ()=>{\r\n      try{\r\n        const response = await axiosInstance.get('projects')\r\n        projects.value = response.data\r\n      }catch(error){\r\n        console.log(error)\r\n        showError(error.message)\r\n      }\r\n    }\r\n\r\n\r\n        const fetchLocalOrders = async ()=>{\r\n          loading_spinner.value = true\r\n      try{\r\n      const response = await axiosInstance.get('local-orders')\r\n      localOrders.value = response.data.map((item,index)=>({\r\n        ...item,\r\n        SNo : index + 1,\r\n        source_id : item.local_order_no,\r\n        project : item?.project?.short_name ?? 'no Project',\r\n        registrar : item.registrar.name,\r\n        date: formatDate(item.created_at),\r\n        delay: (() => {\r\n          const created = new Date(item.created_at);\r\n          const today = new Date();\r\n          const createdUTC = Date.UTC(created.getFullYear(), created.getMonth(), created.getDate());\r\n          const todayUTC = Date.UTC(today.getFullYear(), today.getMonth(), today.getDate());\r\n          const diffDays = Math.floor((todayUTC - createdUTC) / (1000 * 60 * 60 * 24));\r\n          return diffDays > 3 ? diffDays - 3 : 0;\r\n        })()\r\n      }))\r\n      }catch(error){\r\n        console.log(error)\r\n        showError(error.message)\r\n      }finally{\r\n        loading_spinner.value = false;\r\n      }\r\n    }\r\n\r\n\r\n    const units = ref([])\r\n   const getUnits = async ()=>{\r\n      try{\r\n        const response = await axiosInstance.get('units')\r\n        units.value = response.data\r\n      }catch(error){\r\n        console.log(error)\r\n        showError(error.message)\r\n      }\r\n    }\r\n\r\n    \r\n\r\n\r\n    const local_orders = ref(false)\r\n    const getLocalOrders = async ()=>{\r\n      local_orders.value =! local_orders.value\r\n      if(local_orders.value == true){\r\n      fetchLocalOrders()\r\n      }\r\n      getProjects()\r\n      getUnits()\r\n    }\r\n    const localOrders = ref([])\r\n    const localOrderColumns = ref(['SNo','source','source_id','project','registrar','description','remarks','status','date','delay','actions']);\r\n\r\n    const order = ref({\r\n      source:'',\r\n      source_id:'',\r\n      registrar_id : '',\r\n      description : '',\r\n      project: ''\r\n    })\r\n\r\n      const orderItem = ref({\r\n      item:'',\r\n      description:'',\r\n      quantity : '',\r\n      unit : ''\r\n    })\r\n\r\n    const clearOrderForm =()=>{\r\n    orderedItems.value = ([])\r\n   order.value = {\r\n      source:'',\r\n      source_id:'',\r\n      registrar_id : '',\r\n      description : '',\r\n      project: ''\r\n    }\r\n\r\n    }\r\n\r\n\r\n    const registerLocalOrder = async()=>{\r\n      sending.value = true\r\n       const payload = {\r\n        order : {\r\n          source : order.value.source,\r\n          local_order_no : order.value.source_id,\r\n          registrar_id : JSON.parse(localStorage.getItem('user')).id,\r\n          description : order.value.description,\r\n          project_id : order.value.project.id ?? ''\r\n        },\r\n        items : orderedItems.value\r\n       }\r\n\r\n       if (orderedItems.value.length === 0 ){\r\n        showError('Fill in atleast one item')\r\n        sending.value = false\r\n        return ;\r\n       }\r\n\r\n       try{\r\n            const response = await axiosInstance.post('local-orders',payload)\r\n            showMessage('Order Saved')\r\n             fetchLocalOrders()\r\n             clearOrderForm()\r\n               document.getElementById('close-local-order').click()\r\n       }catch(error){\r\n        showError(error.message)\r\n        console.log(error)\r\n       }finally{\r\n      sending.value = false\r\n       }\r\n    }\r\n \r\n\r\n    const orderedItems = ref([])\r\n    const orderedItemColumns = ref(['Sno', 'item','description','unit','quantity','actions']);\r\n    const i = ref(1)  \r\n    const pushItem = ()=>{\r\n      if(orderItem.value.quantity ==='' || orderItem.value.item ==='' || orderItem.value.unit ===''){\r\n        showError('Fill required items')\r\n        return;\r\n      }\r\n      const payload = {\r\n      Sno: i.value,\r\n      item : orderItem.value.item,\r\n      description : orderItem.value.description,\r\n      quantity : orderItem.value.quantity,\r\n      unit : orderItem.value.unit.short_name\r\n    };\r\n      orderedItems.value.push(payload)\r\n      orderItem.value = {\r\n      name:'',\r\n      description:'',\r\n      quantity : '',\r\n      unit : ''\r\n      }\r\n      i.value = i.value + 1;\r\n    }\r\n\r\n\r\n        const pullItem = (sno) => {\r\n    orderedItems.value = orderedItems.value.filter(item => item.Sno !== sno);\r\n    orderedItems.value.forEach((item, idx) => {\r\n        item.Sno = idx + 1;\r\n    });\r\n    i.value = orderedItems.value.length + 1;\r\n}\r\n\r\n    const sending = ref(false)\r\n    const tableShimmer = inject('tableShimmer');\r\n    const user  = JSON.parse(localStorage.getItem(\"user\"));\r\n    const reporting = ref(false)\r\n    const receiver_remarks = ref('');\r\n    const remarks_original = ref('')\r\n    const loading_spinner = ref(false);\r\n    const columns = ref(['SNo', 'grn_no','lpo_no','project','requester','receiver','cost','briefing','remarks','status','pending','date','delay','actions']);\r\n    const grns = ref([]);\r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n    const enforceMax = inject('enforceMax');\r\n    const formatNumber = inject('formatNumber')\r\n    const formatDate = inject('formatDate')\r\n    const loadingSpinner = inject('loadingSpinner')\r\n    const user_permissions = JSON.parse(localStorage.getItem(\"user\")).permissions;\r\n\r\n\r\n\r\n    const store = ref('');\r\n    const table_option = ref({\r\n        perPage: 50,\r\n        perPageValues: [50, 100 , 200],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: [],\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n       \r\n    });\r\n\r\n\r\n\r\nconst stores = ref([])\r\nconst getStores = (id) => {\r\n    axiosInstance.get(`/stores`).then((response) => {\r\n        stores.value = [\r\n            { id: 0, name: \"DIRECT TO ASSET\" },\r\n            ...response.data.map((item) => ({\r\n                ...item,\r\n                name: item.project + \" - \" + item.name,\r\n            })),\r\n        ]\r\n    })\r\n}\r\n\r\n\r\nconst edit = ref('')\r\nconst phone = ref()\r\n\r\n\r\n  const clearForm = () =>{\r\n    getGrns()\r\n    document.getElementById('dismiss').click()\r\n    document.getElementById('close-local-grn').click()\r\n    document.getElementById('close_report').click()\r\n    receiver.value = '',\r\n    description.value = '',\r\n    remarks_original.value = ''\r\n    reporting.value = false\r\n    phone.value = ''\r\n    sending.value=false\r\n    edit.value = ''\r\n    store.value = ''\r\n    remarks.value = ''\r\n  }\r\n\r\n  const items = ref([])\r\n  const receiver = ref('')\r\n  const grn_id = ref(0)\r\n  const received_date = ref('')\r\n  const grn = ref('')\r\n\r\n\r\nconst fillModal = (row) => {\r\n  grn.value = row\r\n  grn_id.value = row.id  \r\n  receiver_remarks.value = row.remarks_original\r\n  remarks_original.value = row.remarks_original\r\n  receiver.value = row.receiver\r\n  received_date.value = row.updated_at\r\n\r\n  const approvalDate = new Date(row.approval?.created_at)\r\n  const filterDate = new Date('2025-10-19')\r\n\r\n  let itemsList = row.approval?.items || []\r\n\r\n  if (approvalDate >= filterDate) {\r\n    itemsList = itemsList.filter(item => item.requisition_items?.vendor_id)\r\n  }\r\n\r\n  items.value = itemsList.map((data, index) => {\r\n    const receivedQty = Array.isArray(data.grn_items)\r\n      ? data.grn_items.reduce((sum, gi) => sum + (parseFloat(gi.quantity) || 0), 0)\r\n      : parseFloat(data.grn_item?.quantity) || 0\r\n\r\n    return {\r\n      SNo: index + 1,\r\n      id: data.id,\r\n      asset_id: data.asset_id,\r\n      unit: data.requisition_items?.units,\r\n      vendor : data.requisition_items?.vendor?.name ?? '---',\r\n      expected: data.quantity ?? '',\r\n      item: data.requisition_items?.remark,\r\n      description: data.requisition_items?.description,\r\n      excess: data.grn_item?.excess ?? '',\r\n      grn_item_id: data.grn_item?.id ?? 0,\r\n      shortage: data.grn_item?.shortage ?? 0,\r\n      item_list_id: 0,\r\n      item_id: data.grn_item?.item_id ?? 2025,\r\n      purchased: data.quantity ?? 0,\r\n      received: receivedQty,\r\n      quantity: data.quantity,\r\n      shortage: (data.quantity - receivedQty).toFixed(2),\r\n      filled: '',\r\n      initial_reading : '',\r\n      final_reading : ''\r\n    }\r\n  })\r\n}\r\n\r\nconst selectedOrder = ref('')\r\nconst fillLocalOrderModal = (row) => {\r\n  selectedOrder.value = row\r\n  orderedItems.value = row.items.map((item,index)=>({\r\n    ...item,\r\n    Sno : index + 1,\r\n    filled : ''\r\n  }))\r\n}\r\n\r\n\r\nconst receiveLocalOrder = async()=>{\r\n  sending.value = true\r\n  const remarkData  = {\r\n    user_id : JSON.parse(localStorage.getItem('user')).id,\r\n    description : description.value,\r\n    local_order_id : selectedOrder.value.id\r\n  }\r\n\r\nconst grnItemData = orderedItems.value\r\n  .map(item => ({\r\n    item_id: item.item_list_id?.id ?? item.item_id,\r\n    order_item_id: item.id,\r\n    quantity: item.filled,\r\n    description: description.value,\r\n  }))\r\n  .filter(item => item.item_id && item.quantity && item.quantity > 0);\r\n\r\n\r\n    const storeItemData = orderedItems.value\r\n        .map(item => ({\r\n            item_id: item.item_list_id?.id,\r\n            quantity: item.filled,\r\n            store_id: store.value.id,\r\n            item_condition: 'new',\r\n        }))\r\n        .filter(item => item.item_id && item.quantity && item.quantity > 0);\r\n\r\n\r\n  const payload = {\r\n    remarkData,\r\n    grnItemData ,\r\n    storeItemData \r\n  }\r\n \r\n\r\n    try {\r\n        const response = await axiosInstance.post(`/local-grns`, payload);\r\n        await getGrns();\r\n        showMessage('Receive Note Sent!');\r\n        fetchLocalOrders()\r\n        clearForm();\r\n    } catch (error) {\r\n        showError(error.message);\r\n        console.log(error);\r\n    } finally {\r\n        sending.value = false;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nconst remarks = ref('')\r\nconst description = ref('')\r\nconst addRemark = async (id,project_id) => {\r\n    sending.value = true;\r\n\r\nconst remarkData = {\r\n  ...(remarks.value ? { remarks: remarks.value } : {}),\r\n  description: description.value,\r\n  user_id: user.id,\r\n  project_id : project_id\r\n};\r\n\r\n\r\n    const storeItemData = items.value\r\n        .map(item => ({\r\n            item_id: item.item_list_id?.id,\r\n            quantity: item.filled,\r\n            store_id: store.value.id,\r\n            item_condition: 'new',\r\n            grn_item_id: item.grn_item_id,\r\n            initial_reading : item.initial_reading,\r\n            final_reading: item.final_reading\r\n        }))\r\n        .filter(item => item.item_id && item.quantity);\r\n\r\n    const grnItemData = items.value\r\n        .map(item => ({\r\n            item_id: item.item_list_id?.id ?? item.item_id,\r\n            grn_id: id,\r\n            approval_item_id: item.id,\r\n            shortage: item.shortage ?? 0,\r\n            quantity: item.filled,\r\n            description: description.value,\r\n            receiver_id : JSON.parse(localStorage.getItem(\"user\")).id,\r\n        }))\r\n        .filter(item => item.item_id && item.quantity);\r\n\r\n    const bulkData = {\r\n        remarkData,\r\n        storeItemData,\r\n        grnItemData\r\n    };\r\n\r\n    try {\r\n        const response = await axiosInstance.put(`/good-received-notes/${id}`, bulkData);\r\n        await getGrns();\r\n        showMessage('Receive Note Sent!');\r\n        clearForm();\r\n    } catch (error) {\r\n        showError(error.message);\r\n        console.log(error);\r\n    } finally {\r\n        sending.value = false;\r\n    }\r\n};\r\n\r\n\r\n\r\n    const getGrns = async  () => {\r\n      try{\r\n         const response =  await axiosInstance.get('good-received-notes') \r\ngrns.value = response.data.map((item, index) => {\r\n  const createdAt = new Date(item.created_at);\r\n  const today = new Date();\r\n\r\n  const diffDays = Math.floor(\r\n    (today.setHours(0,0,0,0) - createdAt.setHours(0,0,0,0)) / (1000 * 60 * 60 * 24)\r\n  );\r\n\r\n  const pendingQty = item.approval.items.reduce((total, i) => {\r\n    const purchased = parseFloat(i.quantity) || 0\r\n   const received = Array.isArray(i.grn_items)\r\n  ? i.grn_items.reduce((sum, gi) => sum + (parseFloat(gi.quantity) || 0), 0)\r\n  : parseFloat(i.grn_items?.quantity) || 0\r\n\r\n    return total + (purchased - received)\r\n  }, 0)\r\n\r\n  let statusKey = '';\r\n  let statusClass = '';\r\n  let delayedCount = '--';\r\n\r\n  if (item?.receiver?.name) {\r\n    if (pendingQty > 0) {\r\n      statusKey = 'Partial Received';\r\n      statusClass = 'secondary';\r\n    } else {\r\n      statusKey = 'Received';\r\n      statusClass = 'success';\r\n    }\r\n  } else if (diffDays <= 3) {\r\n    statusKey = 'Pending';\r\n    statusClass = 'warning';\r\n  } else {\r\n    statusKey = 'Delayed';\r\n    statusClass = 'danger';\r\n    delayedCount = diffDays - 3;\r\n  }\r\n\r\n  return {\r\n    ...item,\r\n    SNo: index + 1,\r\n    id: item.id,\r\n    briefing : item.approval.requisition.description,\r\n    project :  item.approval.requisition.project?.short_name ?? 'no project',\r\n    project_id :  item.approval.requisition.project?.id ?? '',\r\n    requester: item.approval?.requester?.name ?? 'Unknown',\r\n    lpo_no: '0' + item.approval_list_id,\r\n    approval_id: item.approval_list_id,\r\n    receiver: item?.receiver?.name ?? \"---\",\r\n    grn_no: item.id,\r\n    remarks: item.remarks,\r\n    remarks_original: item.remarks ?? '',\r\n    status: { key: statusKey, class: statusClass },\r\n    delay: delayedCount ?? '--',\r\n    date : formatDate(item.created_at),\r\n    cost: formatNumber(item.approval.items.reduce((total, i) => {\r\n      return total + (parseFloat(i.quantity) * parseFloat(i.requisition_items?.rate ?? 0))\r\n    }, 0)),\r\n    pending: pendingQty.toFixed(2)\r\n  }\r\n})\r\n\r\n      }catch(error){\r\n        showError(error.message)\r\n        console.log(error)\r\n      }finally{\r\n            loading_spinner.value = false;\r\n      }\r\n       \r\n    };\r\n\r\nconst printGrn = async (grn) => {\r\n  try {\r\n    const iframe = document.createElement(\"iframe\");\r\n    iframe.style.display = \"none\";\r\n    document.body.appendChild(iframe);\r\n    const today = new Date();\r\n   const date = new Date(grn.created_at)\r\n    const dateString = `${date.getDate().toString().padStart(2,'0')}/${(date.getMonth()+1).toString().padStart(2,'0')}`\r\n    const printContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>Print grn</title>\r\n<style>\r\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\r\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\r\n  .logo { width: 160px; height: auto; }\r\n  .grn-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 13px; text-align: center; margin-left: auto; border-radius: 5px; }\r\n  .company-title { text-align: center; margin-top: 10px; }\r\n  .company-title h2 { margin: 5px 0; }\r\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\r\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\r\n  .title { text-align: center; font-weight: bold;  margin: 20px 0 10px 0; }\r\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\r\n  table.details td, table.items th, table.items td, .signatures th, .signatures td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\r\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\r\n  .text-right { text-align: right; }\r\n  .text-center { text-align: center; }\r\n  .text-success { color: green; }\r\n .signature-area { margin-top: 30px; }\r\n  .signature-line { border-top: 1px solid #000; width: 200px; display: inline-block; margin-top: 50px; }\r\n  .text-danger { color: red; }\r\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\r\n</style>\r\n</head>\r\n<body>\r\n<div class=\"header\">\r\n  <img src=\"https://bushman.ink/copex.jpg\" class=\"logo\" />\r\n  <div class=\"grn-box\">\r\n    GRN NO:<br>\r\n    <span style=\"color:red;\">${(\"0000\" + grn.grn_no).slice(-4)}/${dateString}</span>\r\n  </div>\r\n</div>\r\n<div class=\"reg-info\">\r\n  TIN: 135-489-247<br>\r\n  VRN: 40-032826C\r\n</div>\r\n<div class=\"company-title\">\r\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\r\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\r\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\r\n</div>\r\n<div class=\"section-title\"> GOOD RECEIVED NOTES DETAILS</div>\r\n<div class=\"title\">PROJECT :  ${grn?.project?.toUpperCase() ?? \"NO PROJECT\" }</div>\r\n<table class=\"items\">\r\n  <thead>\r\n    <tr>\r\n      <th>Requester</th>\r\n      <th>Receiver</th>\r\n      <th>Date</th>\r\n      <th>Project</th>\r\n      <th>Vendor</th>\r\n      <th>Status</th>\r\n      <th>Delay</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n\r\n    <tr>\r\n      <td>${grn.requester}</td>\r\n      <td>${grn.receiver}</td>\r\n      <td class=\"text-right\">${grn.date}</td>\r\n      <td class=\"text-right\">${grn?.project?.toUpperCase() }</td>\r\n      <td class=\"text-right\">${grn.vendor}</td>\r\n      <td class=\"text-right\">${grn.status.key}</td>\r\n      <td class=\"text-right\">${grn.delay}</td>\r\n    </tr>\r\n\r\n  </tbody>\r\n</table>\r\n<div class=\"section-title\"> GOOD RECEIVED NOTE ITEMS</div>\r\n<table class=\"items\">\r\n  <thead>\r\n    <tr>\r\n      <th>SN</th>\r\n      <th>Item</th>\r\n      <th>Description</th>\r\n      <th>Unit</th>\r\n      <th>Purchased</th>\r\n      <th>Received</th>\r\n      <th>Shortage</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    ${items.value.map((item, index) => `\r\n    <tr>\r\n      <td>${index + 1}</td>\r\n      <td>${item.item || 'N/A'}</td>\r\n      <td>${item.description || 'N/A'}</td>\r\n      <td>${item.unit || 'nill'}</td>\r\n      <td>${item.purchased || '0'}</td>\r\n      <td>${item.received || '0'}</td>\r\n      <td>${item.shortage || '0'}</td>\r\n    </tr>\r\n\r\n    `\r\n  )\r\n    .join(\"\")}\r\n ${grn.description? `\r\n  <tr>\r\n    <td colspan=\"7\" style=\"text-align:start;\">\r\n      Brief Description : ${grn.description ?? ''}\r\n    </td>\r\n  </tr>\r\n` : ''}\r\n\r\n ${grn.remarks? `\r\n  <tr>\r\n    <td colspan=\"7\" style=\"text-align:start;\">\r\n      MD's Remarks : ${grn.remarks ?? ''}\r\n    </td>\r\n  </tr>\r\n` : ''}\r\n\r\n\r\n    <tr>\r\n     <td colspan=\"7\" style=\"text-align:right;\"><strong>ORDER COST</strong>  <strong>${grn.cost}</strong></td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n\r\n\r\n\r\n</body>\r\n</html>\r\n`;\r\n\r\n    // Write content to iframe and print\r\n    const iframeDoc = iframe.contentWindow.document;\r\n    iframeDoc.open();\r\n    iframeDoc.write(printContent);\r\n    iframeDoc.close();\r\n\r\n    iframe.onload = () => {\r\n      iframe.contentWindow.focus();\r\n      iframe.contentWindow.print();\r\n      setTimeout(() => {\r\n        document.body.removeChild(iframe);\r\n      }, 1000);\r\n    };\r\n  } catch (error) {\r\n    showError(`Failed to print grn: ${error.message}`);\r\n  }\r\n};\r\n\r\n    onMounted(() => {\r\n        loading_spinner.value = true;\r\n        getGrns();\r\n        getStores();\r\n        getItems()\r\n        getAssets()\r\n    });\r\n</script>\r\n","import script from \"./dashboard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./dashboard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./dashboard.vue?vue&type=style&index=0&id=c37e4006&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["globalSearch","data","keyword","lowerKeyword","toLowerCase","trim","containsKeyword","obj","includes","Array","isArray","some","Object","values","filter","item","ref","props","filterValue","watch","val","emit","__exports__","useMeta","title","axiosInstance","axios","baseURL","process","filteredData","computed","grns","value","itemsList","getItems","async","response","get","map","name","description","assets","getAssets","type_name","projects","getProjects","error","console","log","showError","message","fetchLocalOrders","loading_spinner","localOrders","index","SNo","source_id","local_order_no","project","short_name","registrar","date","formatDate","created_at","delay","created","Date","today","createdUTC","UTC","getFullYear","getMonth","getDate","todayUTC","diffDays","Math","floor","units","getUnits","local_orders","getLocalOrders","localOrderColumns","order","source","registrar_id","orderItem","quantity","unit","clearOrderForm","orderedItems","registerLocalOrder","sending","payload","JSON","parse","localStorage","getItem","id","project_id","items","length","post","showMessage","document","getElementById","click","orderedItemColumns","i","pushItem","Sno","push","pullItem","sno","forEach","idx","tableShimmer","inject","user","reporting","receiver_remarks","remarks_original","columns","enforceMax","formatNumber","loadingSpinner","user_permissions","permissions","store","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filterPlaceholder","limit","resizableColumns","stores","getStores","then","edit","phone","clearForm","getGrns","receiver","remarks","grn_id","received_date","grn","fillModal","row","updated_at","approvalDate","approval","filterDate","requisition_items","vendor_id","receivedQty","grn_items","reduce","sum","gi","parseFloat","grn_item","asset_id","vendor","expected","remark","excess","grn_item_id","shortage","item_list_id","item_id","purchased","received","toFixed","filled","initial_reading","final_reading","selectedOrder","fillLocalOrderModal","receiveLocalOrder","remarkData","user_id","local_order_id","grnItemData","order_item_id","storeItemData","store_id","item_condition","addRemark","approval_item_id","receiver_id","bulkData","put","createdAt","setHours","pendingQty","total","statusKey","statusClass","delayedCount","briefing","requisition","requester","lpo_no","approval_list_id","approval_id","grn_no","status","key","class","cost","rate","pending","printGrn","iframe","createElement","style","display","body","appendChild","dateString","toString","padStart","printContent","slice","toUpperCase","join","iframeDoc","contentWindow","open","write","close","onload","focus","print","setTimeout","removeChild","onMounted"],"sourceRoot":""}