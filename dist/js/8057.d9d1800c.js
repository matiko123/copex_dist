"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[8057],{28057:function(t,e,a){a.r(e),a.d(e,{default:function(){return q}});var s=a(66252),r=a(2262),i=a(42119),o=a(56296),l=a(87066);const n={class:"layout-px-spacing"},c={class:"seperator-header layout-top-spacing"},u={class:"d-flex justify-content-between mt-3"},d=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"})],-1),p=[d],v={class:"toast-container position-fixed top-0 end-0 p-3",style:{"z-index":"11"}},_={class:"toast align-items-center text-dark border-0",role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast",style:{"background-color":"#afe8fa"}},b=(0,s._)("div",{class:"d-flex"},[(0,s._)("div",{class:"toast-body"}," Registration successful! Redirecting to user/home... "),(0,s._)("button",{type:"button",class:"btn-close btn-close-dark me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"})],-1),f=[b],m={class:"row layout-top-spacing"},g={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},h={class:"panel br-6 p-0"},y={class:"custom-table"},k={class:"mt-3 mx-2"},w={key:0,class:"text-center text-primary mt-2 mb-2"},x=(0,s._)("span",{class:"text-sm"},[(0,s._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,s.Uk)(" Please wait ... ")],-1),j=[x],C=(0,s._)("div",{class:"actions text-center"},[(0,s._)("a",{href:"javascript:;"},[(0,s._)("button",{type:"button",class:"btn btn-primary btn-sm"},"View")]),(0,s.Uk)(" Â  ")],-1);var H={setup(t){(0,o.j)({title:"Default Order Sorting Table"});const e=(0,i.yj)(),a=(0,r.iH)(["SNo","date_issued","driver","project","fuel_issued","ratio"]),d=(0,r.iH)([]),b=(0,r.iH)(!1),x=(0,r.iH)({perPage:10,perPageValues:[5,10,20,50],skin:"table table-hover",columnsClasses:{actions:"actions text-center"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},sortable:["SNo","date_issued","fuel_issued"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},resizableColumns:!1}),H=l.Z.create({baseURL:"https://bushman.ink/api/v1/"}),S=async()=>{b.value=!0,H.get(`/machine-fuel-usage/${e.params.machine_id}`).then((t=>{Array.isArray(t.data)?d.value=t.data.map(((t,e)=>{const a=t.final_reading-t.initial_reading;let s="Litre/hr"===t.ratio_factor?t.fuel_quantity/a:a/t.fuel_quantity;return s=s>50?"---":s.toFixed(2),{SNo:e+1,id:t.id,driver:t.driver,date_issued:t.usage_date,project:t.project,fuel_issued:t.fuel_quantity+" Litres",ratio_factor:t.ratio_factor,ratio:s}})):console.error("Invalid response format")})).catch((t=>{console.error("Error fetching machine data:",t)})).finally((()=>{b.value=!1}))};return(0,s.bv)((()=>{S()})),(t,e)=>{const r=(0,s.up)("v-client-table");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",c,[(0,s._)("div",u,[(0,s._)("button",{class:"btn btn-dark me-2 px-3",onClick:e[0]||(e[0]=e=>t.$router.go(-1))},p)])]),(0,s._)("div",v,[(0,s._)("div",_,f,512)]),(0,s._)("div",m,[(0,s._)("div",g,[(0,s._)("div",h,[(0,s._)("div",y,[(0,s._)("div",k,[b.value?((0,s.wg)(),(0,s.iD)("div",w,j)):(0,s.kq)("",!0)]),(0,s.Wm)(r,{data:d.value,columns:a.value,options:x.value},{actions:(0,s.w5)((t=>[C])),_:1},8,["data","columns","options"])])])])])])}}};const S=H;var q=S}}]);
//# sourceMappingURL=8057.d9d1800c.js.map