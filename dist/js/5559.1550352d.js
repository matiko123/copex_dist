"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[5559],{85559:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ha}});var l=t(66252),r=t(2262),n=t(3577),s=t(49963),u=t(87066),i=t(56296),o=t(26212),d=t.n(o);const c={class:"layout-px-spacing"},v=(0,l.uE)('<ul class="navbar-nav flex-row mt-2"><li><div class="page-header"><nav class="breadcrumb-one" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="javascript:;">Masters</a></li><li class="breadcrumb-item active" aria-current="page"><span>Subcontractors</span></li></ol></nav></div></li></ul>',1),m=["innerHTML"],b={key:1,class:"row"},p={class:"card shadow"},_={class:"card-body d-flex"},y={class:"flex-grow-1"},g={class:"card-title text-primary"},w={class:"card-text mb-1 text-start"},f=(0,l._)("strong",null,"Subcontracted To:",-1),k=(0,l._)("br",null,null,-1),h={class:"card-text mb-1 text-start"},q=(0,l._)("strong",null,"Item Description:",-1),x=(0,l._)("br",null,null,-1),S={class:"card-text mb-1 text-start"},U=(0,l._)("strong",null,"Payment Term:",-1),D=(0,l._)("br",null,null,-1),z={class:"card-text mb-1 text-start"},H=(0,l._)("strong",null,"Payment Details:",-1),E=(0,l._)("br",null,null,-1),N={class:"card-text mb-1 text-start"},A=(0,l._)("strong",null,"Agreement Unit:",-1),C=(0,l._)("br",null,null,-1),V={class:"card-text mb-1 text-start"},R=(0,l._)("strong",null,"Agreement Quantity:",-1),j=(0,l._)("br",null,null,-1),Q={key:0,class:"card-text mb-1 text-start"},B=(0,l._)("strong",null,"Revised Quantity:",-1),M={key:1},T={class:"card-text mb-1 text-start"},I=(0,l._)("strong",null,"Agreement Rate:",-1),L=(0,l._)("br",null,null,-1),O={class:"card-text mb-1 text-start"},$=(0,l._)("strong",null,"Total Cost:",-1),W=(0,l._)("br",null,null,-1),P={key:2,class:"card-text mb-1 text-start"},F=(0,l._)("strong",null,"Revised Cost:",-1),J={key:3},Y={class:"card-text mb-1 text-start"},K=(0,l._)("strong",null,"Payable Amount:",-1),Z=(0,l._)("br",null,null,-1),G={class:"card-text mb-1 text-start"},X=(0,l._)("strong",null,"Balance Amount:",-1),ee=(0,l._)("br",null,null,-1),ae={class:"card-text mb-1 text-start"},te=(0,l._)("strong",null,"Balance Amount:",-1),le=(0,l._)("br",null,null,-1),re={class:"card-text mb-1 text-start"},ne=(0,l._)("strong",null,"Archived Quantity To Date:",-1),se=(0,l._)("br",null,null,-1),ue={class:"ms-3 d-flex align-items-start"},ie={class:"btn-group custom-dropdown mb-4 me-2",role:"group"},oe=(0,l._)("button",{id:"btndefault",type:"button",class:"btn btn-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[(0,l.Uk)(" Action "),(0,l._)("svg",null," ... ")],-1),de={class:"dropdown-menu","aria-labelledby":"btndefault"},ce=["href"],ve=(0,l.Uk)(" Details "),me={class:"card-footer bg-transparent border-0 d-flex justify-content-between"},be={class:"btn group d-inline-flex align-items-center mx-auto"},pe=["onClick"],_e=["onClick"],ye=(0,l.Uk)(" History "),ge={class:"modal fade mymodal",id:"quantity-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"editEngineeringModalLabel","aria-hidden":"true"},we={class:"modal-dialog modal-xl"},fe={class:"modal-content"},ke={class:"modal-header"},he={class:"modal-title fs-5",id:"editEngineeringModalLabel"},qe={key:0},xe=["onSubmit"],Se={class:"modal-body"},Ue={class:"row"},De={class:"col-md-6"},ze={for:"quantity"},He=["max"],Ee={class:"col-md-6"},Ne=(0,l._)("label",{for:"total",class:"form-label"},"Total Expected Archived Quantity",-1),Ae={class:"form-control"},Ce={class:"col-md-12 mt-2"},Ve={class:"col-md-4 mb-3"},Re=(0,l._)("label",{class:"form-label small"},"Select Requisition Type",-1),je={key:0,class:"col-md-4"},Qe=(0,l._)("label",{class:"form-label small"},"Select A Budget",-1),Be={key:1,class:"col-md-4"},Me=(0,l._)("label",{class:"form-label small"},"Select An Item",-1),Te={key:2,class:"col-md-12"},Ie=(0,l._)("label",{class:"form-label small"},"Select Description",-1),Le={key:3,class:"col-md-4"},Oe=(0,l._)("label",{class:"form-label small"},"Enter Quantity",-1),$e={key:4,class:"col-md-4"},We=(0,l._)("label",{class:"form-label small"},"Enter Rate",-1),Pe={key:5,class:"col-md-12"},Fe=(0,l._)("label",{class:"form-label small"},"Enter Description",-1),Je={class:"col-md-12 col-lg-12 mb-2 text-end"},Ye=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},[(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1),Ke=(0,l.Uk)(" Add Item "),Ze=[Ye,Ke],Ge={key:0,class:"row layout-top-spacing",style:{"max-height":"67vh","overflow-y":"auto"}},Xe={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},ea={class:"panel p-0"},aa={class:"custom-table table3"},ta=["onClick"],la=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger"},[(0,l._)("polyline",{points:"3 6 5 6 21 6"}),(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),ra=[la],na={class:"modal-footer"},sa=["disabled"],ua={key:0,class:"spinner-border spinner-border-sm text-white me-2",role:"status"},ia=(0,l.Uk)(" Save "),oa={class:"modal fade mymodal",id:"revised-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"editEngineeringModalLabel","aria-hidden":"true"},da={class:"modal-dialog modal-xl"},ca={class:"modal-content"},va={class:"modal-header"},ma={class:"modal-title fs-5",id:"editEngineeringModalLabel"},ba={class:"modal-body"},pa={class:"row"},_a={class:"col-md-6"},ya=(0,l._)("label",{class:"form-label"},"Enter Revised Quantity",-1),ga={class:"col-md-6"},wa=(0,l._)("label",{class:"form-label"},"Total New Quantity",-1),fa={class:"form-control"},ka={class:"col-md-12"},ha=(0,l._)("label",{class:"form-label"},"Enter Brief Description",-1),qa={class:"modal-footer"},xa=["disabled"],Sa={key:0,class:"spinner-border spinner-border-sm text-white me-2",role:"status"},Ua=(0,l.Uk)(" Save ");var Da={setup(e){(0,i.j)({title:"Subcontractors Agreements"});const a=u.Z.create({baseURL:"https://bushman.ink/api/v1/"}),t=(0,l.f3)("loadingIndicator"),o=(0,l.f3)("formatNumber"),Ye=(0,l.f3)("showMessage"),Ke=(0,l.f3)("showError"),la=(0,r.iH)(["Sno","item","description","quantity","units","rate","cost","actions"]),Da=(0,r.iH)(!1),za=(0,r.iH)([]),Ha=(0,r.iH)(null),Ea=(0,r.iH)(0),Na=(0,r.iH)(0),Aa=(0,r.iH)(""),Ca=(0,r.iH)(""),Va=(0,r.iH)(""),Ra=(0,r.iH)(""),ja=(0,r.iH)(""),Qa=(0,r.iH)(1),Ba=(0,r.iH)([]),Ma=(0,r.iH)([]),Ta=(0,r.iH)(4e3),Ia=()=>{ja.value="",Aa.value="",Ka.value="",Ja.value="",Ta.value=""},La=()=>{if(!ja.value)return void Ke("Fill in all fields");if(ja.value*Ta.value>Ka.value.quantity*Ka.value.cost-Ka.value.used_cost)return void Ke("Exceeds available budget cost : "+o(Ka.value.quantity*Ka.value.cost-Ka.value.used_cost));const e=Ha.value,a={Sno:Qa.value,item:"budget"===Ca.value?Ja.value.name:"Subcontractor for "+e.item,item_id:"budget"===Ca.value?Ka.value.id:0,quantity:ja.value,beneficiary:e.subcontracted_to+"( "+e.payment_number+" )",rate:o(Ta.value),remark:e.item+"( "+Aa.value+" )",description:"budget"===Ca.value?Ka.value.name+(Aa.value?" ("+Aa.value+")":""):"Subcontractor for "+e.item,units:"budget"===Ca.value?Ka.value.units:e.unit,cost:o(ja.value*Ta.value)},t={Sno:Qa.value,item_id:"budget"===Ca.value?Ka.value.id:0,quantity:ja.value,beneficiary:e.subcontracted_to+"( "+e.payment_number+" )",rate:Ta.value,remark:e.item,description:"budget"===Ca.value?Ka.value.name+(Aa.value?" ("+Aa.value+")":""):"Subcontractor for "+e.item,units:"budget"===Ca.value?Ka.value.units:e.unit};Qa.value=Qa.value+1,Ba.value.push(a),Ma.value.push(t),Ia()},Oa=e=>{Ba.value=Ba.value.filter((a=>a.Sno!==e)),Ma.value=Ma.value.filter((a=>a.Sno!==e)),Ba.value.forEach(((e,a)=>{e.Sno=a+1})),Ma.value.forEach(((e,a)=>{e.Sno=a+1})),Qa.value=Ba.value.length+1},$a=async()=>{const e={revised_quantity:Number(Number(Ha.value?.revised_quantity||0)+Number(Ra.value||0)),description:`Revising agreement work from ${Number(Ha.value?.quantity||0)+Number(Ha.value?.revised_quantity||0)} to ${Number(Ha.value?.quantity||0)+Number(Ha.value?.revised_quantity||0)+Number(Ra.value||0)}${Aa.value?" - "+Aa.value:""}`,subcontractor_id:Ha.value.id,remarker_id:JSON.parse(localStorage.getItem("user")).id};Da.value=!0;try{await a.put(`subcontractor-agreements/${Ha.value.id}`,e);Ye("Agreement Revised"),tt(),Ga()}catch(error){Ke(error.message),console.log(error)}finally{Da.value=!1}},Wa=(0,r.iH)([]),Pa=(0,r.iH)(""),Fa=(0,r.iH)([]),Ja=(0,r.iH)(""),Ya=(0,r.iH)([]),Ka=(0,r.iH)(""),Za=e=>{Ha.value=e,Ea.value=null,Na.value=Number(e.archived_quantity||0),Xa(e.project_id)};(0,l.YP)(Ea,(e=>{Ha.value&&(Na.value=Number(Ha.value.archived_quantity||0)+Number(e||0))}));const Ga=async()=>{Da.value=!0;try{const e=await a.get("/subcontractor-agreements");za.value=e.data.map(((e,a)=>({...e,SNo:a+1,subcontractor_agreement_id:e.id,project_id:e.project.id,project:e.project.short_name,attachment:"https://copex.trustdigital.space/"+e.attachment,payment_term:e.payment_term.name,rate:e.rate,cost:o(e.quantity*e.rate),archived_quantity:e.payments.reduce(((a,t)=>a+(t.quantity/e.rate||0)),0).toFixed(2),payable:o(e.payments.reduce(((e,a)=>e+(a.quantity||0)),0)),balance:o(e.quantity*e.rate-e.archived_quantity*e.rate)})))}catch(error){Ke(error.message)}finally{Da.value=!1}},Xa=async e=>{const t=await a.get(`budgets?project_id=${e}`);Wa.value=t.data.filter((e=>"closed"===e.status))};(0,l.YP)(Pa,(e=>{e&&(Fa.value=e.items)})),(0,l.YP)(Ja,(e=>{e&&(Ya.value=e.descriptions)}));const et=async()=>{if(!Ea.value)return void Ke("Enter Archived Quantity !");Da.value=!0;const e={archived_quantity:Na.value};try{const t=await a.put(`/subcontractor-agreements/${Ha.value.id}`,e);200===t.status?(await at(Ha.value),document.getElementById("close_modal").click(),await Ga(),tt()):Ke(error.message)}catch(error){Ke(error.message)}finally{Da.value=!1}},at=async()=>{"general"===Ca.value&&(Ma.value=[{item_id:"budget"===Ca.value?Ka.value.id:0,quantity:Ea.value,beneficiary:Ha.value.subcontracted_to+"( "+Ha.value.payment_number+" )",rate:Ha.value.rate,remark:Ha.value.item,description:"budget"===Ca.value?Ka.value.name:"Subcontractor for "+Ha.value.item,units:Ha.value.unit}]);const e=new FormData;e.append("requisition",JSON.stringify({date:(new Date).toISOString().split("T")[0],description:Va.value,project_id:Ha.value.project_id,required_date:(new Date).toISOString().split("T")[0],requester_id:JSON.parse(localStorage.getItem("user")).id,beneficiary:Ha.value.subcontracted_to,subcontractor_agreement_id:Ha.value.id,approval_group_id:8})),e.append("type",JSON.stringify({name:Ca.value,item_id:"budget"===Ca.value?Pa.value.id:0})),e.append("items",JSON.stringify(Ma.value));try{await a.post("create-requisition",e,{headers:{"Content-Type":"multipart/form-data"}}),Ye("Requisition created successfully")}catch(error){Ke(error.message),console.log(error)}},tt=()=>{Ca.value="",Va.value="",Ea.value=0,Na.value=0,Ha.value=null,Pa.value="",Ja.value="",Ka.value="",Fa.value=[],Ya.value=[],Ra.value="",Ba.value=[],Ma.value=[],document.getElementById("close-revised").click(),Ia()};return(0,l.bv)((()=>{Ga()})),(e,a)=>{const u=(0,l.up)("router-link"),i=(0,l.up)("v-client-table");return(0,l.wg)(),(0,l.iD)("div",c,[v,Da.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,r.SU)(t)()},null,8,m)):((0,l.wg)(),(0,l.iD)("div",b,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(za.value,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"col-md-6 p-1",key:e.id},[(0,l._)("div",p,[(0,l._)("div",_,[(0,l._)("div",y,[(0,l._)("h5",g,(0,n.zw)(e.project)+" - "+(0,n.zw)(e.item)+" ("+(0,n.zw)(e.subcontracted_to)+") ",1),(0,l._)("p",w,[f,(0,l.Uk)(" "+(0,n.zw)(e.subcontracted_to),1)]),k,(0,l._)("p",h,[q,(0,l.Uk)(" "+(0,n.zw)(e.item),1)]),x,(0,l._)("p",S,[U,(0,l.Uk)(" "+(0,n.zw)(e.payment_term),1)]),D,(0,l._)("p",z,[H,(0,l.Uk)(" "+(0,n.zw)(e.payment_number),1)]),E,(0,l._)("p",N,[A,(0,l.Uk)(" "+(0,n.zw)(e.unit),1)]),C,(0,l._)("p",V,[R,(0,l.Uk)(" "+(0,n.zw)(e.quantity)+" "+(0,n.zw)(e.unit),1)]),j,0!=e.revised_quantity?((0,l.wg)(),(0,l.iD)("p",Q,[B,(0,l.Uk)(" "+(0,n.zw)(e.revised_quantity),1)])):(0,l.kq)("",!0),0!=e.revised_quantity?((0,l.wg)(),(0,l.iD)("br",M)):(0,l.kq)("",!0),(0,l._)("p",T,[I,(0,l.Uk)(" "+(0,n.zw)((0,r.SU)(o)(e.rate)),1)]),L,(0,l._)("p",O,[$,(0,l.Uk)(" "+(0,n.zw)(e.cost),1)]),W,0!=e.revised_quantity?((0,l.wg)(),(0,l.iD)("p",P,[F,(0,l.Uk)(" "+(0,n.zw)((0,r.SU)(o)((Number(e.revised_quantity)+Number(e.quantity))*e.rate)),1)])):(0,l.kq)("",!0),0!=e.revised_quantity?((0,l.wg)(),(0,l.iD)("br",J)):(0,l.kq)("",!0),(0,l._)("p",Y,[K,(0,l.Uk)(" "+(0,n.zw)(e.payable),1)]),Z,(0,l._)("p",G,[X,(0,l.Uk)(" "+(0,n.zw)(e.balance),1)]),ee,(0,l._)("p",ae,[te,(0,l.Uk)(" "+(0,n.zw)(e.balance),1)]),le,(0,l._)("p",re,[ne,(0,l.Uk)(" "+(0,n.zw)(e.archived_quantity)+" "+(0,n.zw)(e.unit),1)]),se]),(0,l._)("div",ue,[(0,l._)("div",ie,[oe,(0,l._)("ul",de,[(0,l._)("li",null,[(0,l._)("a",{class:"dropdown-item",href:e.attachment,target:"_blank"}," Attachment ",8,ce)]),(0,l._)("li",null,[(0,l.Wm)(u,{class:"dropdown-item",to:`/subcontractor/${e.id}`},{default:(0,l.w5)((()=>[ve])),_:2},1032,["to"])])])])])]),(0,l._)("div",me,[(0,l._)("div",be,[(0,l._)("button",{class:"btn btn-secondary me-2","data-bs-toggle":"modal","data-bs-target":"#revised-modal",onClick:a=>Za(e)}," Revise ",8,pe),(0,l._)("button",{type:"button",class:"btn btn-primary me-2","data-bs-toggle":"modal","data-bs-target":"#quantity-modal",onClick:a=>Za(e)}," Request ",8,_e),(0,l.Wm)(u,{class:"btn btn-success",to:`/subcontractor/${e.id}`},{default:(0,l.w5)((()=>[ye])),_:2},1032,["to"])])])])])))),128))])),(0,l._)("div",ge,[(0,l._)("div",we,[(0,l._)("div",fe,[(0,l._)("div",ke,[(0,l._)("h1",he,[(0,l.Uk)(" Subcontract Archived Quantity : "+(0,n.zw)(Ha.value?.subcontracted_to)+" ",1),Ka.value?((0,l.wg)(),(0,l.iD)("span",qe," (Budget rate "+(0,n.zw)((0,r.SU)(o)(Ka.value.cost))+" and Budget quantity "+(0,n.zw)(Ka.value.quantity)+" "+(0,n.zw)(Ha.value?.unit)+") ",1)):(0,l.kq)("",!0)]),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[0]||(a[0]=e=>tt()),id:"close_modal"})]),(0,l._)("form",{onSubmit:(0,s.iM)(et,["prevent"])},[(0,l._)("div",Se,[(0,l._)("div",Ue,[(0,l._)("div",De,[(0,l._)("label",ze," Archived Quantity (Remaining: "+(0,n.zw)(Math.max(0,Ha.value?.quantity-Ha.value?.archived_quantity).toFixed(2))+") ",1),(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":a[1]||(a[1]=e=>Ea.value=e),class:"form-control",placeholder:"Enter Archived Quantity",min:"0",max:Ha.value?Math.max(0,Ha.value.quantity-Ha.value.archived_quantity):void 0,step:"any",required:""},null,8,He),[[s.nr,Ea.value]])]),(0,l._)("div",Ee,[Ne,(0,l._)("span",Ae,(0,n.zw)(Na.value.toLocaleString()),1)]),(0,l._)("div",Ce,[(0,l.wy)((0,l._)("textarea",{class:"form-control",placeholder:"Enter Brief Description of the requisition","onUpdate:modelValue":a[2]||(a[2]=e=>Va.value=e)},null,512),[[s.nr,Va.value]])]),(0,l._)("div",Ve,[Re,(0,l.Wm)((0,r.SU)(d()),{modelValue:Ca.value,"onUpdate:modelValue":a[3]||(a[3]=e=>Ca.value=e),options:["budget","general"],placeholder:"Select Requisition Type",searchable:!0,multiple:!1,required:!0,"allow-empty":!1},null,8,["modelValue"])]),"budget"===Ca.value?((0,l.wg)(),(0,l.iD)("div",je,[Qe,(0,l.Wm)((0,r.SU)(d()),{modelValue:Pa.value,"onUpdate:modelValue":a[4]||(a[4]=e=>Pa.value=e),options:Wa.value,placeholder:"Select A Budget",searchable:!0,label:"name","allow-empty":!1},null,8,["modelValue","options"])])):(0,l.kq)("",!0),Pa.value?((0,l.wg)(),(0,l.iD)("div",Be,[Me,(0,l.Wm)((0,r.SU)(d()),{modelValue:Ja.value,"onUpdate:modelValue":a[5]||(a[5]=e=>Ja.value=e),options:Fa.value,placeholder:"Select An Item",searchable:!0,label:"name","allow-empty":!1},null,8,["modelValue","options"])])):(0,l.kq)("",!0),Ja.value?((0,l.wg)(),(0,l.iD)("div",Te,[Ie,(0,l.Wm)((0,r.SU)(d()),{modelValue:Ka.value,"onUpdate:modelValue":a[6]||(a[6]=e=>Ka.value=e),options:Ya.value,placeholder:"Select An Option",searchable:!0,label:"name","allow-empty":!1},null,8,["modelValue","options"])])):(0,l.kq)("",!0),Ka.value?((0,l.wg)(),(0,l.iD)("div",Le,[Oe,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Enter Quantity","onUpdate:modelValue":a[7]||(a[7]=e=>ja.value=e),required:""},null,512),[[s.nr,ja.value]])])):(0,l.kq)("",!0),Ka.value?((0,l.wg)(),(0,l.iD)("div",$e,[We,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Enter Rate","onUpdate:modelValue":a[8]||(a[8]=e=>Ta.value=e),required:""},null,512),[[s.nr,Ta.value]])])):(0,l.kq)("",!0),Ka.value?((0,l.wg)(),(0,l.iD)("div",Pe,[Fe,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter item Description","onUpdate:modelValue":a[9]||(a[9]=e=>Aa.value=e),required:""},null,512),[[s.nr,Aa.value]])])):(0,l.kq)("",!0),(0,l._)("div",Je,["budget"===Ca.value?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-outline-success btn-sm mt-4",onClick:a[10]||(a[10]=e=>La())},Ze)):(0,l.kq)("",!0)])])]),"budget"===Ca.value?((0,l.wg)(),(0,l.iD)("div",Ge,[(0,l._)("div",Xe,[(0,l._)("div",ea,[(0,l._)("div",aa,[(0,l.Wm)(i,{data:Ba.value,columns:la.value},{actions:(0,l.w5)((e=>[(0,l._)("a",{href:"javascript:void(0);",title:"Delete",onClick:a=>Oa(e.row.Sno)},ra,8,ta)])),_:1},8,["data","columns"])])])])])):(0,l.kq)("",!0),(0,l._)("div",na,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:tt}," Close "),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:0==Ma.value.length&&"budget"===Ca.value||Da.value||!Ca.value},[Da.value?((0,l.wg)(),(0,l.iD)("span",ua)):(0,l.kq)("",!0),ia],8,sa)])],40,xe)])])]),(0,l._)("div",oa,[(0,l._)("div",da,[(0,l._)("div",ca,[(0,l._)("div",va,[(0,l._)("h1",ma," Subcontractor Revised Quantity "+(0,n.zw)(Ha.value?.item)+" ( "+(0,n.zw)(Ha.value?.subcontracted_to)+" ) ",1),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[11]||(a[11]=e=>tt()),id:"close-revised"})]),(0,l._)("form",{onSubmit:a[14]||(a[14]=(0,s.iM)((e=>$a()),["prevent"]))},[(0,l._)("div",ba,[(0,l._)("div",pa,[(0,l._)("div",_a,[ya,(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":a[12]||(a[12]=e=>Ra.value=e),class:"form-control",placeholder:"Enter Revised Quantity",step:"any",required:""},null,512),[[s.nr,Ra.value]])]),(0,l._)("div",ga,[wa,(0,l._)("label",fa,(0,n.zw)((Number(Ha.value?.quantity)+Number(Ha.value?.revised_quantity)+Number(Ra.value)).toFixed(2)),1)]),(0,l._)("div",ka,[ha,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":a[13]||(a[13]=e=>Aa.value=e),class:"form-control",placeholder:"Enter Brief description"},null,512),[[s.nr,Aa.value]])])])]),(0,l._)("div",qa,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:tt}," Close "),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:Da.value},[Da.value?((0,l.wg)(),(0,l.iD)("span",Sa)):(0,l.kq)("",!0),Ua],8,xa)])],32)])])])])}}};const za=Da;var Ha=za}}]);
//# sourceMappingURL=5559.1550352d.js.map