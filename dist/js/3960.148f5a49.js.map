{"version":3,"file":"js/3960.148f5a49.js","mappings":"k9HAoKE,MAAMA,GAAcC,EAAAA,EAAAA,IAAO,eACnBC,GAAYD,EAAAA,EAAAA,IAAO,cAG3BE,EAAAA,EAAAA,GAAQ,CAAEC,MAAO,gCAGjB,MAAMC,GAAUC,EAAAA,EAAAA,IAAI,CAAC,MAAO,OAAO,kBAAkB,YAC/CC,GAAWD,EAAAA,EAAAA,IAAI,IACfE,GAAkBF,EAAAA,EAAAA,KAAI,GACtBG,GAAmBH,EAAAA,EAAAA,KAAI,GACvBI,GAAkBJ,EAAAA,EAAAA,IAAI,IACtBK,GAAeL,EAAAA,EAAAA,IAAI,CACrBM,QAAS,GACTC,cAAe,CAAC,EAAG,GAAI,GAAI,IAC3BC,KAAM,oBACNC,eAAgB,CAAEC,QAAS,uBAC3BC,WAAY,CAAEC,IAAK,SAAUC,MAAO,GACpCC,MAAO,CACHC,MAAO,oCACPC,OAAQ,GACRC,kBAAmB,YACnBC,MAAO,YAEXC,SAAU,CAAC,MAAO,OAAO,mBACzBC,SAAU,CACNC,KAAM,iBACNC,GAAI,gBACJC,KAAM,kBAEVC,kBAAkB,IAGhBC,EAAgBC,EAAAA,EAAAA,OAAa,CAC/BC,QAASC,gCAIPC,EAAgBC,UACrB5B,EAAgB6B,OAAQ,EACzBN,EACGO,IAAK,kBACLC,MAAMC,IACDC,MAAMC,QAAQF,EAASG,MACzBpC,EAAS8B,MAAQG,EAASG,KAAKC,KAAI,CAACC,EAASC,KAAV,CACjCC,IAAKD,EAAQ,EACbE,GAAIH,EAAQG,GACZC,KAAMJ,EAAQI,KACdvC,gBAAkBmC,EAAQnC,oBAG5BwC,QAAQC,MAAM,8BAGjBC,OAAOD,IACND,QAAQC,MAAM,+BAAgCA,EAAME,YAErDC,SAAQ,KACR9C,EAAgB6B,OAAQ,MAMvBkB,GAAoBjD,EAAAA,EAAAA,IAAI,IACxBkD,IAAwBlD,EAAAA,EAAAA,IAAI,IAE5BmD,GAAkB,KAClBhD,EAAiB4B,OAAQ,EACzB7B,EAAgB6B,OAAQ,EACxB,MAAMqB,EAAc,CAChBT,KAAMM,EAAkBlB,MACxB3B,gBAAiBA,EAAgB2B,OAGrCN,EACK4B,KAAK,iBAAkBD,GACvBnB,MAAMC,IACHoB,KACA5D,EAAY,mCACZmC,IACA3B,EAAgB6B,OAAQ,EACzBa,QAAQW,IAAI,YAAYL,GAAsBnB,MAAMY,SAEtDG,OAAOD,IACNjD,EAAUiD,GACRD,QAAQC,MAAM,4BAA6BA,OAKjDW,GAAiBd,IACvBxC,EAAgB6B,OAAQ,EACxB,MAAM0B,EAAoB,CACxBd,KAAMM,EAAkBlB,MACxB3B,gBAAiBA,EAAgB2B,OAGnCN,EACGiC,IAAK,kBAAiBhB,IAAMe,GAC5BxB,MAAMC,IACLoB,KACA5D,EAAY,uBACZmC,IACA3B,EAAgB6B,OAAQ,KAGzBe,OAAOD,IACNjD,EAAUiD,GACVD,QAAQC,MAAM,2BAA4BA,GAC1C3C,EAAgB6B,OAAQ,MAIpB4B,GAAqBjB,IAC3B,IACIxC,EAAgB6B,OAAQ,EACxBN,EAAcmC,OAAQ,kBAAiBlB,KAClCT,MAAMC,IACLxC,EAAY,oCACVmC,IAEA3B,EAAgB6B,OAAQ,KAG9B,MAAOc,GACLjD,EAAUiD,KAIdS,GAAY,KAClBL,EAAkBlB,MAAQ,GAC1BmB,GAAsBnB,MAAQ,IAG1B8B,GAAqBtB,IACzBU,EAAkBlB,MAAQQ,EAAQI,OAGlCmB,EAAAA,EAAAA,KAAU,KACLjC,QAImB7B,EAAAA,EAAAA,IAAI,M,otEC/S9B,MAAM+D,GAAc,GAEpB","sources":["webpack://cork-vue3/./src/views/masters/machine_type.vue","webpack://cork-vue3/./src/views/masters/machine_type.vue?3a62"],"sourcesContent":["<template>\r\n  <div class=\"layout-px-spacing\">\r\n      <teleport to=\"#breadcrumb\">\r\n          <ul class=\"navbar-nav flex-row\">\r\n              <li>\r\n                  <div class=\"page-header\">\r\n                      <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                          <ol class=\"breadcrumb\">\r\n                              <li class=\"breadcrumb-item\"><a href=\"javascript:;\">DataTables</a></li>\r\n                              <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Totaly Machines types</span></li>\r\n                          </ol>\r\n                      </nav>\r\n                  </div>\r\n              </li>\r\n          </ul>\r\n      </teleport>    \r\n      <div class=\"seperator-header layout-top-spacing\">\r\n          <div class=\"d-flex justify-content-between mt-3\">\r\n            <button class=\"btn btn-dark me-2 px-3\" @click=\"$router.go(-1)\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\r\n<path fill-rule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8\"/>\r\n</svg>\r\n              </button>\r\n              <button class=\"btn btn-primary me-2\" @click=\"register_machine=!register_machine\">\r\n                  <i class=\"bi bi-plus\"></i>Add\r\n              </button>\r\n          </div>\r\n      </div>\r\n\r\n      \r\n \r\n      <div class=\"mt-3 mx-2\">\r\n        <!-- add consumer starts -->\r\n        <form class=\"p-3 border rounded bg-white shadow\" v-if=\"register_machine\" id=\"consumer\" @submit.prevent=\"registerMachine\">\r\n    <h3 class=\"text-center\">MACHINE TYPE REGISTRATION </h3>\r\n    <div class=\"row mb-2\">\r\n        <div class=\"col-md-6\">\r\n            <label class=\"form-label\">Machine Type</label>\r\n            <input type=\"text\" class=\"form-control\" v-model=\"machine_type_name\" name=\"machine_type_name\" required>\r\n        </div>\r\n <div class=\"col-md-6\">\r\n      <label class=\"form-label\">Consuption Type</label>\r\n    <select class=\"form-control\" v-model=\"consuption_type\">\r\n      <option value=\"\">Select Option</option>\r\n      <option  value=\"km/Litre\">Km/Litre</option>\r\n      <option value=\"Litre/hr\">Litre/hr</option>\r\n    </select>\r\n    </div>\r\n             \r\n    </div>\r\n     <div class=\"d-flex gap-2 justify-content-end\">     \r\n        <button type=\"button\" class=\"btn btn-danger\" onclick=\"document.getElementById('consumer').style.display='none'\">Cancel</button>\r\n        <button type=\"submit\" class=\"btn btn-primary\">Register</button>\r\n    </div>\r\n    \r\n</form>\r\n         \r\n<div v-if=\"loading_spinner\" class=\"text-center text-primary  mt-2 mb-2\">\r\n              <span class=\" text-lg\">\r\n                <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>              \r\n              </span>\r\n            </div>\r\n     \r\n    \r\n     </div>   \r\n    \r\n      <!-- table ends -->\r\n\r\n    \r\n\r\n\r\n\r\n\r\n      <div class=\"row layout-top-spacing\">\r\n          <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n              <div class=\"panel br-6 p-0\">\r\n                  <div class=\"custom-table\">\r\n                      <v-client-table :data=\"Machines\" :columns=\"columns\" :options=\"table_option\">\r\n                          <template #actions=\"props\">\r\n                              <div class=\"actions text-center\">\r\n                                <a href=\"javascript:;\" @click=\"setEditFormValues(props.row)\" data-bs-toggle=\"modal\" \r\n  :data-bs-target=\"'#modal-' + props.row.id\">\r\n <svg  class=\"w-6 h-6 text-gray-800 dark:text-white\" \r\n\r\n                                aria-hidden=\"true\"\r\n                                 xmlns=\"http://www.w3.org/2000/svg\" \r\n                                 width=\"24\" height=\"24\" fill=\"none\" \r\n                                 viewBox=\"0 0 24 24\"\r\n                             \r\n                              >\r\n                                    <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z\"/>\r\n                                    </svg>\r\n</a>\r\n                                  <a href=\"javascript:void(0);\" title=\"Delete\" @click=\"deleteMachineType(props.row.id)\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        width=\"24\"\r\n                                        height=\"24\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                        fill=\"none\"\r\n                                        stroke=\"currentColor\"\r\n                                        stroke-width=\"1.5\"\r\n                                        stroke-linecap=\"round\"\r\n                                        stroke-linejoin=\"round\"\r\n                                        class=\"text-danger\"\r\n                                    >\r\n                                        <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n                                        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                                    </svg>\r\n                                </a>\r\n                              \r\n                              </div>\r\n                              <!-- modal starts  -->\r\n                              <div class=\"modal fade mymodal\" data-bs-backdrop=\"false\" :id=\"'modal-' + props.row.id\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-lg\">\r\n    <div class=\"modal-content \" >\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">Update Machine Details</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <form @submit.prevent=\"updateMachine(selectedId)\">\r\n        <div class=\"modal-body\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <label class=\"form-label\">Name</label>\r\n      <input type=\"text\" class=\"form-control\" v-model=\"machine_type_name\">\r\n    </div>   \r\n\r\n   <div class=\"col-md-6\">\r\n      <label class=\"form-label\">Consumption Type</label>\r\n     <select class=\"form-control\" v-model=\"consuption_type\">\r\n      <option value=\"\">Select Consumption Type</option>\r\n      <option value=\"Km/Litre\">Km/Litre</option>\r\n      <option value=\"Litre/hr\">Litre/hr</option>\r\n     </select>\r\n    </div>\r\n      </div>\r\n</div>\r\n        <div class=\"modal-footer d-flex\">\r\n          <button type=\"button\" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\">\r\n            Close\r\n          </button>\r\n          <button type=\"submit\" class=\"btn btn-outline-success\" data-bs-dismiss=\"modal\" @click=\"selectedId = props.row.id\">\r\n             Save Changes\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n                               <!-- modal ends -->\r\n                          </template>\r\n                          <template #salary=\"props\"> ${{ props.row.salary }} </template>\r\n                      </v-client-table>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n      </div>\r\n</div>\r\n</template>\r\n\r\n<script setup>\r\n  import { onMounted, ref,inject } from 'vue';\r\n  const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n\r\n  import { useMeta } from '@/composables/use-meta';\r\n  useMeta({ title: 'Default Order Sorting Table' });\r\n  import axios from 'axios';\r\n// import { get } from 'core-js/core/dict'; // Removed incorrect import\r\n  const columns = ref(['SNo', 'name','consuption_type','actions']);\r\n  const Machines = ref([]);  \r\n  const loading_spinner = ref(false);\r\n  const register_machine = ref(false);\r\n  const consuption_type = ref('');\r\n  const table_option = ref({\r\n      perPage: 10,\r\n      perPageValues: [5, 10, 20, 50],\r\n      skin: 'table table-hover',\r\n      columnsClasses: { actions: 'actions text-center' },\r\n      pagination: { nav: 'scroll', chunk: 5 },\r\n      texts: {\r\n          count: 'Showing {from} to {to} of {count}',\r\n          filter: '',\r\n          filterPlaceholder: 'Search...',\r\n          limit: 'Results:',\r\n      },\r\n      sortable: ['SNo', 'name','consuption_type' ],\r\n      sortIcon: {\r\n          base: 'sort-icon-none',\r\n          up: 'sort-icon-asc',\r\n          down: 'sort-icon-desc',\r\n      },\r\n      resizableColumns: false,\r\n  });\r\n\r\n  const axiosInstance = axios.create({\r\n      baseURL: process.env.VUE_APP_API_BASE_URL\r\n  });\r\n  \r\n\r\n  const fetchMachines = async () => {\r\n   loading_spinner.value = true;\r\n  axiosInstance\r\n    .get(`/machine-types`)\r\n    .then((response) => {\r\n      if (Array.isArray(response.data)) {\r\n        Machines.value = response.data.map((machine, index) => ({\r\n          SNo: index + 1,\r\n          id: machine.id,\r\n          name: machine.name,\r\n          consuption_type : machine.consuption_type,         \r\n        }));\r\n      } else {\r\n        console.error(\"Invalid response format\");\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error fetching machine data:\", error.message);\r\n    })\r\n    .finally(() => {\r\n     loading_spinner.value = false;\r\n    });\r\n}\r\n\r\n\r\n\r\nconst machine_type_name = ref('');\r\nconst selected_machine_type = ref('');\r\n\r\nconst registerMachine = () => {\r\n      register_machine.value = false;\r\n      loading_spinner.value = true;\r\n      const machineData = {\r\n          name: machine_type_name.value, \r\n          consuption_type :consuption_type.value        \r\n      };\r\n\r\n      axiosInstance\r\n          .post('/machine-types', machineData)\r\n          .then((response) => {\r\n              clearForm();\r\n              showMessage(\" Machine type Added Succesfully\");\r\n              fetchMachines();\r\n              loading_spinner.value = false;\r\n             console.log(\"type name\",selected_machine_type.value.name);\r\n          })\r\n          .catch((error) => {\r\n            showError(error);\r\n              console.error(\"Error registering machine\", error);\r\n          });\r\n  };\r\n\r\n\r\n  const updateMachine = (id) => {\r\n  loading_spinner.value = true;\r\n  const updateMachineData = {\r\n    name: machine_type_name.value,\r\n    consuption_type :consuption_type.value       \r\n  };\r\n\r\n  axiosInstance\r\n    .put(`/machine-types/${id}`, updateMachineData)\r\n    .then((response) => {\r\n      clearForm();\r\n      showMessage(\"Machine Type Update\")\r\n      fetchMachines();\r\n      loading_spinner.value = false;\r\n    \r\n    })\r\n    .catch((error) => {\r\n      showError(error);\r\n      console.error(\"Error updating machine..\", error);\r\n      loading_spinner.value = false;\r\n    });\r\n};\r\n\r\n    const deleteMachineType = (id) => {\r\n    try{\r\n        loading_spinner.value = true;\r\n        axiosInstance.delete(`/machine-types/${id}`)\r\n            .then((response) => {\r\n              showMessage(\"Machine type Deleted Succesfully\");\r\n                fetchMachines(); \r\n                        \r\n                loading_spinner.value = false;\r\n            });\r\n          }\r\n          catch (error){\r\n            showError(error);\r\n          }\r\n    \r\n};\r\n  const clearForm = () => {\r\n  machine_type_name.value = ''; \r\n  selected_machine_type.value = '';\r\n\r\n};\r\nconst setEditFormValues = (machine) => {\r\n  machine_type_name.value = machine.name;   \r\n};\r\n\r\n  onMounted(() => {\r\n       fetchMachines();\r\n      \r\n  });\r\n\r\n  const selectedMachine = ref(null);\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n .mymodal{\r\n  background-color: rgba(122, 122, 122, 0.653);\r\n }\r\n</style> ","import script from \"./machine_type.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./machine_type.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./machine_type.vue?vue&type=style&index=0&id=f51e87ee&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["showMessage","inject","showError","useMeta","title","columns","ref","Machines","loading_spinner","register_machine","consuption_type","table_option","perPage","perPageValues","skin","columnsClasses","actions","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","sortable","sortIcon","base","up","down","resizableColumns","axiosInstance","axios","baseURL","process","fetchMachines","async","value","get","then","response","Array","isArray","data","map","machine","index","SNo","id","name","console","error","catch","message","finally","machine_type_name","selected_machine_type","registerMachine","machineData","post","clearForm","log","updateMachine","updateMachineData","put","deleteMachineType","delete","setEditFormValues","onMounted","__exports__"],"sourceRoot":""}