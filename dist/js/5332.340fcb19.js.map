{"version":3,"file":"js/5332.340fcb19.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/report/allowanceApproved.vue","webpack://cork-vue3/./src/views/report/allowanceApproved.vue?a147"],"sourcesContent":["<template>\r\n   \r\n    <div class=\"layout-px-spacing horizontal-scroll-container\">\r\n           \r\n      <div class=\"mx-3\">\r\n          <!-- <ul class=\"navbar-nav \">\r\n            <li> \r\n                    <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                        <ol class=\"breadcrumb\">\r\n                            <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Weekly Allowance</a></li>\r\n                        </ol>\r\n                    </nav>\r\n            </li>\r\n        </ul> -->\r\n         <div class=\"mb-3 fw-bold\">Weekly Allowance</div>\r\n        <button  class=\"btn btn-dark px-3\" @click=\"$router.go(-1)\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\r\n                <path fill-rule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8\"/>\r\n            </svg>\r\n        </button>\r\n      </div>\r\n        <div class=\"d-flex justify-content-between align-items-center horizontal-scroll-content\">\r\n            <div class=\"flex-grow-1 text-center\">\r\n<div class=\"container mt-5\">\r\n     <!--notification starts  -->\r\n    <div class=\"mb-5 d-flex\" v-if=\"allowance_remark_count!= 0\">\r\n        <div class=\"ms-auto\" >\r\n      <div class=\"dropdown nav-item notification-dropdown btn-group\" >\r\n <a href=\"javascript:;\" id=\"ddlnotify\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\"\r\n   class=\"btn dropdown-toggle nav-link position-relative p-0 shadow\" >\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\"\r\n       viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"\r\n       stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\r\n       class=\"feather feather-bell text-danger\"\r\n       style=\"transform:scale(2)\"\r\n       >\r\n    <path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\"></path>\r\n    <path d=\"M13.73 21a2 2 0 0 1-3.46 0\"></path>\r\n  </svg>\r\n  <span class=\"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\">\r\n    {{ allowance_remark_count}}\r\n  </span>\r\n</a>\r\n\r\n\r\n  <ul class=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"ddlnotify\">\r\n    <li v-for=\"allowance in allowanceRemarks \"  class=\"dropdown-item\">\r\n      <div class=\"media\">\r\n        <div class=\"media-aside align-self-start\" >\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"\r\n               fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"\r\n               stroke-linecap=\"round\" stroke-linejoin=\"round\"\r\n               class=\"feather feather-server\">\r\n            <rect x=\"2\" y=\"2\" width=\"20\" height=\"8\" rx=\"2\" ry=\"2\"></rect>\r\n            <rect x=\"2\" y=\"14\" width=\"20\" height=\"8\" rx=\"2\" ry=\"2\"></rect>\r\n            <line x1=\"6\" y1=\"6\" x2=\"6\" y2=\"6\"></line>\r\n            <line x1=\"6\" y1=\"18\" x2=\"6\" y2=\"18\"></line>\r\n          </svg>\r\n        </div>\r\n        <div class=\"media-body\" >\r\n          <div class=\"data-info\" >\r\n            <h6 class=\"mb-0\">From : {{ allowance.sender_name }}</h6>\r\n            <p class=\"mb-0 \"> {{allowance.description}}    <button class=\"btn btn-success p-1 btn-sm me-1\" style=\"cursor:pointer\" @click=\"readRemark(allowance.id)\">✔</button></p>\r\n         \r\n          </div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  </ul>\r\n</div>\r\n        </div>\r\n    </div>        \r\n<!-- notification ends -->\r\n</div>\r\n\r\n\r\n<div >\r\n   <div class=\"text-center\">\r\n     <h4 class=\"budgets-title\" @click=\"sylvesterIncrement()\">WEEKLY ALLOWANCE</h4>  \r\n       <h5 class=\"budgets-title\">PROJECT : {{ project.short_name }}</h5> \r\n    </div>\r\n    <div class=\"d-flex align-items-center\">\r\n       \r\n        <div class=\"ms-auto\">\r\n            <button class=\"btn btn-success me-2\" @click=\"printWeeklyWages\">\r\n                         <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\" me-2 bi bi-printer\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n            <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n            </svg>\r\n                Print\r\n            </button>\r\n            <button class=\"btn btn-info me-2\" @click=\"openRemarkModal\" title=\"Add Remark\" >\r\n                <svg \r\n                    xmlns=\"http://www.w3.org/2000/svg\" \r\n                    width=\"16\" \r\n                    height=\"16\" \r\n                    fill=\"currentColor\" \r\n                    viewBox=\"0 0 24 24\"\r\n                    style=\"cursor: pointer;\"\r\n                >\r\n                    <path d=\"M4 4h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7l-4 4v-16a2 2 0 0 1 2-2z\" \r\n                        stroke=\"currentColor\" \r\n                        stroke-width=\"2\" \r\n                        fill=\"none\" \r\n                        stroke-linejoin=\"round\"/>\r\n                </svg>\r\n                Add Remark\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n\r\n <!-- loading spinner starts -->\r\n<div v-if=\"loading_spinner\" v-html=\"loadingIndicator()\" ></div>\r\n <!-- loading spinner ends -->  \r\n   \r\n<!-- boq tabale starts -->\r\n<div class=\"allowance-table-container\">\r\n<table class=\"table table-bordered mt-4\">\r\n    <thead class=\"thead-light\">\r\n        <tr>\r\n            <th rowspan=\"2\" class=\"align-middle text-dark\">SN</th>\r\n            <th rowspan=\"2\" class=\"align-middle text-dark\">Name</th>\r\n            <!-- <th rowspan=\"2\" class=\"align-middle text-dark\">Designation</th> -->\r\n            <th colspan=\"7\" class=\"text-center text-dark\">Days (Tuesday - Monday)</th>\r\n            <th rowspan=\"2\" class=\"align-middle text-dark\">Days</th>\r\n            <th rowspan=\"2\" class=\"align-middle text-dark\">Advance</th>\r\n            <th rowspan=\"2\" class=\"align-middle text-dark\">Rate</th>\r\n            <th rowspan=\"2\" class=\"align-middle text-dark\">Total</th>\r\n        </tr>\r\n        <tr>\r\n            <th class=\"text-dark text-center\">Tuesday</th>\r\n            <th class=\"text-dark text-center\">Wednesday</th>\r\n            <th class=\"text-dark text-center\">Thursday</th>\r\n            <th class=\"text-dark text-center\">Friday</th>\r\n            <th class=\"text-dark text-center\">Saturday</th>\r\n            <th class=\"text-dark text-center\">Sunday</th>\r\n            <th class=\"text-dark text-center\">Monday</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr>\r\n            <!-- <td></td> -->\r\n            <td></td>\r\n            <td></td>\r\n         <td\r\n  v-for=\"(date, idx) in getWeekDates()\" \r\n  :key=\"'date-' + idx\"\r\n  class=\"text-center text-muted small\"\r\n>\r\n  {{ date }}\r\n</td>\r\n\r\n            <td></td>\r\n            <td></td>\r\n            <td></td>\r\n        </tr>\r\n        <tr v-for=\"(labour, i) in labours\" :key=\"labour.id\">\r\n            <td class=\"text-start\">{{ i + 1 }}</td>\r\n            <td class=\"text-start\">{{ labour.name }}</td>\r\n            <!-- <td class=\"text-start\">{{ labour.designation }}</td> -->\r\n            <td\r\n                v-for=\"(day, idx) in ['Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday','Monday']\"\r\n                :key=\"day\"\r\n                class=\"text-center\"\r\n                  @click=\"getModal(labour, labour.id, getWeekDates()[idx])\"\r\n            >\r\n                <span\r\n                    style=\"cursor:pointer\"\r\n                >\r\n                    <span v-if=\"labour.weekly_work && labour.weekly_work[day] && labour.weekly_work[day].hours !== '---'\">\r\n                        <span\r\n                            class=\"badge px-2\"\r\n                            :class=\"labour.weekly_work[day].target === 'Achieved' ? 'bg-success' : 'bg-danger'\"\r\n                        >\r\n                            {{ labour.weekly_work[day].target }}\r\n                        </span>\r\n                    </span>\r\n                    <span v-else>\r\n                        <!-- <span class=\"badge bg-info px-2\">\r\n                            not filled\r\n                        </span> -->\r\n \r\n                    </span>\r\n                </span>\r\n            </td>\r\n            <td class=\"text-center\">\r\n                {{ calculateDaysWorked(labour) }}\r\n            </td>\r\n             <td class=\"text-end\">{{ Number(labour.total_advance).toLocaleString() }}/=</td>\r\n            <td class=\"text-end\">{{ Number(labour.rate ).toLocaleString() }}/=</td>\r\n            <td class=\"text-end\">\r\n                {{ ((Number(labour.rate) * calculateDaysWorked(labour)) - labour.total_advance ).toLocaleString() }}/=\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n</div>\r\n <!-- boq table ends -->\r\n \r\n</div>\r\n\r\n\r\n\r\n            </div>    \r\n        </div>\r\n        <div>\r\n      <!--Item form starts  -->\r\n\r\n\r\n\r\n                              <!-- modal starts  -->\r\n<div class=\"modal fade custom-backdrop mymodal\" data-bs-backdrop=\"false\" :id=\"'modal-' + form_modal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-xl \">\r\n     <div class=\"modal-content \" >\r\n        <div class=\"modal-header\">\r\n          <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">Daily Work Allowance</h1>\r\n     \r\n          <button type=\"button\"  class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" ></button>\r\n        </div>\r\n     <div class=\"modal-body\">\r\n          <!-- Preview Section -->\r\n           <!-- loading spinner starts -->\r\n<div v-if=\"loading_spinner\" v-html=\"loadingIndicator()\" >\r\n           \r\n</div>\r\n<div v-else>\r\n          <div class=\"mb-4\">\r\n                <div class=\"row g-2 align-items-center\">\r\n                     <div class=\"col-md-3 col-6 \">\r\n                          <div class=\"fw-bold text-secondary small\">Date</div>\r\n                          <div class=\"fs-6 \">{{ labour_date }}</div>\r\n                     </div>\r\n                     <div class=\"col-md-3 col-6\">\r\n                          <div class=\"fw-bold text-secondary small\">Labourer Name</div>\r\n                          <div class=\"fs-6 text-start\">{{ labour_name }} </div>\r\n                     </div>\r\n                     <div class=\"col-md-3 col-6\">\r\n                          <div class=\"fw-bold text-secondary small\">Daily Wages</div>\r\n                          <div class=\"fs-6\">{{ (labour_rate).toLocaleString() }}/=</div>\r\n                     </div>\r\n                      <div class=\"col-md-3 col-6\">\r\n                          <div class=\"fw-bold text-secondary small\">Was Machine Used ?</div>\r\n                          <div class=\"fs-6\">\r\n                                 <input type=\"checkbox\" class=\"form-check-input\" id=\"exampleCheck1\" v-model=\"machine_used\"> \r\n                                 {{ machine_used ? \"Yes\" : \"No\" }}\r\n                          </div>\r\n                     </div>\r\n\r\n                     <!-- <div class=\"mb-3 form-check\">\r\n    <input type=\"checkbox\" class=\"form-check-input\" id=\"exampleCheck1\">\r\n    <label class=\"form-check-label\" for=\"exampleCheck1\">Check me out</label>\r\n  </div> -->\r\n                     \r\n                </div>\r\n                <hr>\r\n          </div>\r\n\r\n          <form v-if=\"workLogForm\" @submit.prevent=\"addWorkLog()\">\r\n                <div class=\"row g-3\">\r\n                      <div class=\"col-md-3\">\r\n                          <label class=\"form-label\">Advance</label>\r\n                          <input type=\"number\" class=\"form-control\" v-model=\"advance\" placeholder=\"Advance\">\r\n                     </div>\r\n                    <div class=\"col-md-9\">\r\n                          <label class=\"form-label\">Activity</label>\r\n                          <input type=\"text\" class=\"form-control\"  v-model=\"activity\" required placeholder=\"Enter activity\">\r\n                     </div>\r\n                     <template v-if=\"machine_used\">\r\n                                          <div class=\"col-md-3\">\r\n                          <label class=\"form-label\">Start Hour </label>\r\n                          <input type=\"text\" class=\"form-control\" v-model=\"start_hour\" required placeholder=\"Odometer Reading /Time in\">\r\n                     </div>\r\n                     <div class=\"col-md-3\">\r\n                          <label class=\"form-label\">End Hour</label>\r\n                          <input type=\"text\" class=\"form-control\" v-model=\"end_hour\" required placeholder=\"Odometer Reading /Time out\">\r\n                     </div>\r\n                       <div  class=\"col-md-3\">\r\n                          <label class=\"form-label\">Select Machine</label>\r\n                          <multiselect \r\n                v-model=\"selected_machine\"\r\n                :searchable=\"true\"\r\n                :options=\"machines\"\r\n                :multiple=\"false\"\r\n                required\r\n                track-by=\"id\"\r\n                label=\"name\"\r\n                :placeholder=\"'Select A Machine '\"\r\n                ></multiselect>\r\n                     </div>\r\n                     <div  class=\"col-md-3\" >\r\n                          <label class=\"form-label\">Fuel Used </label>\r\n                          <input type=\"number\" class=\"form-control\" placeholder=\"enter fuel used\" v-model=\"fuel_used\" required step=\"any\">\r\n                     </div>\r\n\r\n                    </template>\r\n\r\n                     <div class=\"col-md-10\">\r\n                          <label class=\"form-label\">Target</label>\r\n                          <input type=\"text\" class=\"form-control\" v-model=\"target_description\" required placeholder=\"Enter Target\">\r\n                     </div>\r\n                       <div class=\"col-md-2\">\r\n                         <label class=\"form-label\">Achieve Status</label>\r\n                          <select v-model=\"target\" class=\"form-control\" required>\r\n                                <option value=\"Achieved\">Achieved</option>\r\n                                <option value=\"Not achieved\">Not achieved</option>\r\n                          </select>\r\n                        </div>\r\n                     <div class=\"col-md-12\">\r\n                          <label class=\"form-label\">Remark</label>\r\n                          <textarea placeholder=\"Enter Remark\" class=\"form-control\" v-model=\"remark\" ></textarea>\r\n                     </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                     <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\" >Close</button>\r\n                     <button type=\"submit\" class=\"btn btn-secondary\" >Save changes</button>\r\n                </div>\r\n          </form>\r\n          <div v-else>\r\n            <div class=\"d-flex\">\r\n                <div class=\"ms-auto\">\r\n                   <button class=\"btn btn-danger\" @click=\"deleteWorkLog(workLog.id)\">Clear Record</button>\r\n                </div>\r\n            </div>\r\n                <h5 class=\"mb-3\">Work Log Details</h5>\r\n                <div class=\"row g-3\">\r\n                     <div class=\"col-md-6\">\r\n                          <div class=\"card p-3 h-100 text-start\">\r\n                                <div class=\"mb-2\"><strong>Date:</strong> {{ workLog.work_date }}</div>\r\n                                <div class=\"mb-2\"><strong>Labourer Name:</strong> {{ labour_name }}</div>\r\n                                <!-- <div class=\"mb-2\"><strong>Designation:</strong> {{ labour_designation }}</div> -->\r\n                                <div class=\"mb-2\"><strong>Daily Wages:</strong> {{ (labour_rate).toLocaleString() }}/=</div>\r\n                                   <div class=\"mb-2\"><strong>Advance:</strong> {{ (labour_advance).toLocaleString() }}/=</div>\r\n                          </div>\r\n                     </div>\r\n                     <div class=\"col-md-6\">\r\n                          <div class=\"card p-3 h-100 text-start\">\r\n                                <div class=\"mb-2\"><strong>Start Hour:</strong> {{ workLog.start_hour }}</div>\r\n                                <div  class=\"mb-2\"><strong>End Hour:</strong> {{ workLog.end_hour }}</div>\r\n                                <div v-if=\"workLog.machine !== null \" class=\"mb-2\"><strong>Machine:</strong> {{ workLog.machine }}</div>\r\n                                <div v-if=\"workLog.fuel_used != 0.00 \"  class=\"mb-2\"><strong>Fuel Used :</strong> {{ workLog.fuel_used }} Litres</div>\r\n                                <div class=\"mb-2\"><strong>Target:</strong> {{ workLog.target_description }}</div>\r\n                                <div class=\"mb-2\"><strong>Status:</strong> {{ workLog.target }}</div>\r\n                          </div>\r\n                     </div>\r\n                     <div class=\"col-12\">\r\n                          <div class=\"card p-3 text-start\">\r\n                                <div class=\"mb-2 text-start\"><strong>Activity:</strong> <span class=\"text-muted\">{{ workLog.activity }}</span></div>\r\n                                <div class=\"mb-2 text-start\"><strong>Remark:</strong> <span class=\"text-muted\">{{ workLog.remark }}</span></div>\r\n                                  <div v-if=\"workLog.md_remark !== null \" class=\"mb-2 text-start\"><strong>MD's Remark:</strong> <span class=\"text-muted\">{{ workLog.md_remark }}</span></div>\r\n                          </div>\r\n                     </div>\r\n                </div>\r\n                <div class=\"row mt-2\" v-if=\"workLog.md_remark === null && user_permissions.includes('is_md') \">\r\n                    <div class=\"col-md-0\">\r\n                        <form @submit.prevent=\"addMdRemark(workLog)\">\r\n                        <label class=\"form-label me-2\">MD's Remark</label>\r\n                          <textarea placeholder=\"Enter Remark\" class=\"form-control\" v-model=\"remark\" required></textarea>\r\n                          <div class=\"text-center\">\r\n                             <button type=\"submit\" class=\" mt-2 text-center btn btn-primary\">Send</button>\r\n                          </div>\r\n                        </form>\r\n                         \r\n                        </div>\r\n                </div>\r\n                <div class=\"modal-footer mt-3\">\r\n                     <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\" >Close</button>\r\n                </div>\r\n          </div>\r\n</div>\r\n <!-- loading spinner ends -->  \r\n\r\n     </div>\r\n     </div>\r\n</div>\r\n\r\n</div>\r\n\r\n\r\n\r\n                               <!-- modal ends -->\r\n<!-- marequee starts -->\r\n <div v-if=\"sylvester\" style=\"background-color:yellow;padding-top:1px\">\r\n    <h4 class=\"mt-4 mb-1\">  <marquee>MD ANATAKA WATU WAKUTANE CONFERENCE ROOM KWA AJILI YA MKUTANO .ASANTENI</marquee></h4>\r\n </div>\r\n\r\n <!-- marquee ends -->\r\n        </div>\r\n       \r\n    </div>\r\n\r\n    <!-- Remark Modal -->\r\n    <div v-if=\"showRemarkModal\" class=\"remark-modal-overlay\">\r\n        <div class=\"remark-modal-container\">\r\n            <!-- Modal Header -->\r\n            <div class=\"remark-modal-header\">\r\n                <h5 class=\"remark-modal-title\">Remark(s) On Weekly Allowance</h5>\r\n                <button type=\"button\" class=\"remark-modal-close\" @click=\"closeRemarkModal\">×</button>\r\n            </div>\r\n            \r\n            <!-- Modal Body - Chat messages -->\r\n            <div class=\"remark-modal-body\">\r\n                <div v-for=\"(remark, index) in remarks\" :key=\"index\" class=\"remark-message-container\">\r\n                    <div :class=\"[\r\n                        'remark-message', \r\n                        remark.remarker_id == currentUserId ? 'remark-message-own' : 'remark-message-other'\r\n                    ]\">\r\n                        <div class=\"remark-sender\">\r\n                            {{ remark.remarker_id == currentUserId ? 'You' : (remark.remarker || remark.sender_name) }}\r\n                        </div>\r\n                        <div class=\"remark-text\">{{ remark.description }}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <!-- Modal Footer - Input field -->\r\n            <div class=\"remark-modal-footer\">\r\n                <input \r\n                    type=\"text\" \r\n                    v-model=\"newremark\" \r\n                    class=\"remark-input\" \r\n                    placeholder=\"Enter your remark\"\r\n                />\r\n                <div class=\"remark-modal-buttons\">\r\n                    <button class=\"remark-btn remark-btn-close\" @click=\"closeRemarkModal\">Close</button>\r\n                    <button \r\n                        class=\"remark-btn remark-btn-save\" \r\n                        @click=\"saveRemark\" \r\n                        :disabled=\"isSending || !newremark.trim()\"\r\n                    >\r\n                        Save\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Modal backdrop -->\r\n    <div v-if=\"showRemarkModal\" class=\"modal-backdrop fade show\"></div>\r\n\r\n</template>\r\n\r\n\r\n\r\n<script setup>\r\n    import axios from 'axios';\r\n    import { useRoute } from 'vue-router';     \r\n    import { onMounted, ref, inject, watch } from 'vue';\r\n     import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css'\r\n    import '@/assets/sass/elements/tooltip.scss';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    useMeta({ title: 'Weekly Allowance' });\r\n    const loadingIndicator = inject('loadingIndicator');\r\n    const add_labour_form = ref(false);\r\n    const loading_spinner = ref(false);\r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n\r\n    const sylvester= ref(false);\r\n    const sylvester_increment = ref(0);\r\n    const sylvesterIncrement =  () => {\r\n        sylvester_increment.value += 1;\r\n\r\n        if(sylvester_increment.value>=3){\r\n            sylvester.value= true;\r\n            sylvester_increment.value=1;\r\n        }else if(sylvester_increment.value<3){\r\n            sylvester.value=false;\r\n        }\r\n    }\r\nconst route = useRoute();\r\n\r\nconst calculateDaysWorked = (labour) => {\r\n    if (!labour?.weekly_work) return 0;\r\n\r\n    let totalDays = 0;\r\n\r\n    ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'].forEach(day => {\r\n        const entry = labour.weekly_work[day];\r\n\r\n        if (!entry || entry === '---') return;\r\n\r\n        if (entry.target === 'Achieved') {\r\n            totalDays += 1;\r\n        } else if (entry.target === 'Not achieved') {\r\n            totalDays += 0.5;\r\n        }\r\n    });\r\n\r\n    return parseFloat(totalDays.toFixed(1));\r\n};\r\n\r\n\r\n\r\nconst machines = ref([]);\r\nconst selected_machine = ref('');\r\n   const  fetchMachines= async () => {\r\n    axiosInstance\r\n      .get(`/machines`)\r\n      .then((response) => {\r\n        if (Array.isArray(response.data)) {\r\n          machines.value = response.data.map(machine => ({\r\n            id: machine.id,\r\n            name: machine.name,        \r\n          }));\r\n        } else {\r\n        error_message.value = \"Error fetching machine data: \" + error.message;\r\n        console.error(error_message.value);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching machine data:\", error.message);   \r\n      }     \r\n    )    \r\n      .finally(() => {\r\n      });\r\n}\r\n\r\n   const project = ref('');\r\n   const  fetchProject= async () => {\r\n    axiosInstance\r\n      .get(`/projects/${project_id.value}`)\r\n      .then((response) => {\r\n        project.value= response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching machine data:\", error.message);   \r\n      }     \r\n    )    \r\n      .finally(() => {\r\n      });\r\n}\r\n\r\nconst machine_used = ref(false)\r\nconst labour_name = ref('');\r\nconst labour_designation = ref('');\r\nconst labour_type = ref('');\r\nconst labour_rate= ref('');\r\nconst labour_advance=ref(0);\r\nconst changed_date = ref(route.params.date);\r\nconst request_id = ref(route.params.request_id);\r\nconst project_id = ref(route.params.project_id);\r\nconst form_modal = ref(0);\r\nconst labour_date = ref('');\r\nconst labour_id = ref('');\r\nconst target = ref('Not achieved');\r\nconst activity = ref('');\r\nconst remark = ref('');\r\nconst start_hour = ref('');\r\nconst end_hour = ref('');\r\nconst fuel_used = ref();\r\nconst selected_project = ref(0)\r\nconst formatDate = (date) => {\r\n  const d = new Date(date);\r\n  return d.toISOString().split('T')[0]; // gives YYYY-MM-DD\r\n};\r\nconst target_description = ref('');\r\nconst advance = ref(null);\r\n\r\nconst deleteWorkLog = async (id) => {\r\n  if (confirm(\"Are you sure you want to delete this record ?\")) {\r\n        loading_spinner.value = true;\r\n            axiosInstance\r\n            .delete(`daily-work-logs/${id}`)\r\n            .then((response) => {\r\n                fetchWorkLog();\r\n                labour_type.value='';\r\n                fetchLabours();\r\n                loading_spinner.value = false;\r\n                if (response.status === 200) {\r\n                   showMessage('Record Deleted Successfully');\r\n                } else {\r\n                    showError('Fail to Delete Record');\r\n                    console.error(\"Error delete record:\", response.data.message);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                showError(error.message);\r\n                console.error(\"Error deletion Record:\", error);\r\n            });  \r\n    \r\n   }\r\n   else{\r\n    return;\r\n   }\r\n} \r\n\r\nconst addWorkLog = async () => { \r\nloading_spinner.value=true;\r\n  add_labour_form.value = false;\r\n  const worklogdata = {\r\n    'labour_id': labour_id.value,\r\n    'work_date': formatDate(labour_date.value),\r\n    'start_hour': start_hour.value,\r\n    'end_hour': end_hour.value,\r\n    'machine_id' : selected_machine.value.id,\r\n    'machine' : selected_machine.value.name ,\r\n    'fuel_used' : fuel_used.value,\r\n    'activity': activity.value,\r\n    'target': target.value,\r\n    'remark': remark.value,\r\n    'target_description':target_description.value,\r\n    'advance':advance.value || 0,\r\n    'request_id':request_id.value,\r\n  };\r\n\r\n  try {\r\n    const response = await axiosInstance.post(`daily-work-logs`, worklogdata);\r\n    if (response.status == 201) {\r\n        fetchWorkLog();\r\n        fetchLabours();\r\n        remark.value='';\r\n      showMessage(\"Work log added Successfully\");\r\n          selected_machine.value = '',\r\n          fuel_used.value = 0.00,\r\n          loading_spinner.value=false;\r\n\r\n    } else {\r\n      showError(\"Failed to Add Work Log\");\r\n          loading_spinner.value=false;\r\n\r\n      console.error(error);\r\n    }\r\n  } catch (error) {\r\n        loading_spinner.value=false;\r\n\r\n    console.error('Error fetching work Log:', error);\r\n    showError(error.message);\r\n  }\r\n};\r\n\r\n\r\nconst addMdRemark = async (workLog) => {\r\n      const itemdata={\r\n            'md_remark':remark.value,             \r\n              }\r\n        newremark.value  = \"For \"+ workLog.labour.designation +\" \"+ workLog.labour.name + \" on \"+ workLog.work_date +\" , \"+ remark.value \r\n        try {\r\n            const response = await axiosInstance.patch(`daily-work-logs/${workLog.id}`,itemdata);\r\n             \r\n             if (response.status == 200) {\r\n                remark.value = \"\";\r\n                saveRemark(); \r\n                showMessage(\"Remark added Succesfully\");\r\n                fetchWorkLog();\r\n             }\r\n             else{\r\n                remark.value='';\r\n                showError(\"Failed to add Remark\");\r\n                console.error(error);       \r\n             }\r\n        } catch (error) {\r\n            remark.value ='';\r\n            console.error('Error Adding Remark:', error);\r\n            showError(error.message);\r\n        }\r\n    };  \r\n\r\nconst getModal = (labour,id,date) => {\r\n    form_modal.value = id;\r\n    labour_id.value = labour.id;\r\n    labour_name.value = labour.name;\r\n    labour_designation.value = labour.designation;\r\n    labour_rate.value = labour.rate;\r\n    labour_type.value = labour.labour_type;\r\n    labour_date.value = date;\r\n    fetchWorkLog();\r\n    setTimeout(() => {\r\n        const modalEl = document.getElementById('modal-' + id);\r\n        if (modalEl) {\r\n            // Bootstrap 5 modal\r\n            const modal = window.bootstrap ? new window.bootstrap.Modal(modalEl) : null;\r\n            if (modal) {\r\n                modal.show();\r\n            }\r\n        }\r\n    }, 100);\r\n}\r\nconst getWeekDates = () => {\r\n    const selected = changed_date.value ? new Date(changed_date.value) : new Date();\r\n    const day = selected.getDay(); // 0=Sunday, 1=Monday, 2=Tuesday, ..., 6=Saturday\r\n    \r\n    // Find Tuesday of the current week\r\n    const tuesday = new Date(selected);\r\n    const diffToTuesday = day <= 2 ? 2 - day : 9 - day; // Tuesday is day 2\r\n    tuesday.setDate(selected.getDate() - (day - 2 + 7) % 7);\r\n    \r\n    const weekDates = [];\r\n    // Add 7 days (Tuesday to next Monday)\r\n    for (let i = 0; i < 7; i++) {\r\n        const d = new Date(tuesday);\r\n        d.setDate(tuesday.getDate() + i);\r\n        weekDates.push(d.toISOString().split('T')[0]);\r\n    }\r\n    \r\n    return weekDates; // Now contains Tuesday to next Monday\r\n};\r\n\r\n\r\n    const labours = ref([]);\r\n    const originalLabours = ref([]);\r\n    const fetchLabours = async () => {\r\n        loading_spinner.value= true;\r\n        try {\r\n            const response = await axiosInstance.get(`approved-labours?date=${changed_date.value}&request_id=${request_id.value}`);\r\n            originalLabours.value= response.data;\r\n            if (Array.isArray(response.data)) {\r\n            labours.value = labour_type.value\r\n                ? response.data.filter(labour => labour.labour_type === labour_type.value)\r\n                : response.data;\r\n            } else {\r\n            labours.value = [];\r\n            }\r\n            loading_spinner.value=false;\r\n        } catch (error) {\r\n            loading_spinner.value=false;\r\n            console.error('Error fetching labours:', error);\r\n        }\r\n    };\r\nconst useFilter = () => {\r\n    if (selected_project.value.id === 0) {\r\n    labours.value = originalLabours.value;\r\n    }else{\r\n    labours.value= originalLabours.value;    \r\n    labours.value = labours.value.filter(labour => labour.project_id === selected_project.value.id);\r\n    }\r\n};\r\n    \r\n\r\n    const workLog = ref('');\r\n    const workLogForm = ref(false);\r\n    const fetchWorkLog = async () => {\r\n        loading_spinner.value = true;\r\n        try {\r\n            const response = await axiosInstance.get(\r\n                `day-work-log?labour_id=${labour_id.value}&work_date=${labour_date.value}`\r\n            );\r\n            workLog.value = response.data;\r\n            labour_advance.value = workLog.value.advance ?? 0;\r\n            workLogForm.value = !response.data || Object.keys(response.data).length === 0;\r\n            loading_spinner.value = false;\r\n        } catch (error) {\r\n            console.error('Error fetching work log:', error);\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n\r\n    const requestWorks = ref([])\r\n       const fetchRequestWorks = async () => {\r\n        try {\r\n            const response = await axiosInstance.get(\r\n                `labours-work?request_id=${request_id.value}`\r\n            );\r\n            requestWorks.value = response.data;\r\n        } catch (error) {\r\n            console.error('Error fetching works:', error);\r\n        }\r\n    };\r\n\r\n\r\n\r\n\r\n\r\nconst printWeeklyWages = async () => {\r\n    // Create a hidden iframe for printing\r\n    await fetchRequestWorks()\r\n    const iframe = document.createElement('iframe');\r\n    iframe.style.display = 'none';\r\n    document.body.appendChild(iframe);\r\n    const weekDates = getWeekDates();\r\n    const formatPrintDate = (dateStr) => {\r\n        const d = new Date(dateStr);\r\n        const day = String(d.getDate()).padStart(2, '0');\r\n        const month = String(d.getMonth() + 1).padStart(2, '0');\r\n        const year = String(d.getFullYear()).slice(-2);\r\n        return `${day}.${month}.${year}`;\r\n    };\r\n\r\n    const dateParts = changed_date.value.split(\"-\");\r\n    const formattedDate = `${dateParts[1]}/${dateParts[2].slice(-2)}`;\r\n    const filteredLabours = labours.value.filter(labour => \r\n        (calculateDaysWorked(labour) * Number(labour.rate)) - labour.total_advance > 0\r\n    );\r\n\r\n    const printContent = `\r\n        <!DOCTYPE html>\r\n        <html>\r\n        <head>\r\n            <title>Weekly Wages Report</title>\r\n            <style>\r\n                body { font-family: Arial, sans-serif; margin: 20px; }\r\n        h1 { text-align: center; margin-bottom: 0; font-size: 22px; font-weight: bold; font-family: \"Times New Roman\", serif; }\r\n        h2 { text-align: center; margin: 0; font-size: 18px; font-family: \"Times New Roman\", serif;font-weight: normal; }\r\n        h3 { margin-top: 30px; font-size: 15px; }\r\n        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\r\n        th, td { border: 1px solid black; padding: 5px; text-align: left; font-size: 15px; }\r\n        th { background-color: #f2f2f2; font-weight: bold; }\r\n        tr:nth-child(even) { background-color: #f9f9f9; }\r\n        .top-section { display: flex; justify-content: space-between; align-items: start; }\r\n        .logo { width: 150px; height: auto; }\r\n        .lpo-box {\r\n          border: 1px solid black;\r\n          border-radius: 5px;\r\n          padding: 5px;\r\n          font-size: 13px;\r\n          width: 120px;\r\n        }\r\n        .company-info { text-align: center; margin-top: 10px; }\r\n        .registration {\r\n          position: absolute;\r\n          top: 100px;\r\n          right: 30px;\r\n          font-size: 14px;\r\n          font-weight: bold;\r\n          text-align: right;\r\n        }\r\n        .section-title {\r\n          text-align: center;\r\n          text-decoration: underline;\r\n          font-family: \"Times New Roman\", serif;\r\n          font-weight: bold;\r\n          font-size: 17px;\r\n          margin-top: 30px;\r\n        }\r\n          </style>\r\n        </head>\r\n        <body>\r\n            <div class=\"top-section\">\r\n        <img src=\"https://bushman.ink/copex.jpg\" class=\"logo\" alt=\"logo\" />\r\n        <div class=\"lpo-box\">\r\n          <strong>REQUEST NO:</strong><br>\r\n          <span style=\"color:red;\">\r\n            ${(\"0000\" + request_id.value).slice(-4)} /${formattedDate}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"company-info\">\r\n        <h1>COPEX CONTRACTORS CO.LTD</h1>\r\n        <h2>Msamvu, P.O.BOX 678, Morogoro</h2>\r\n        <h2>Mobile, 0713 000 777, 0657 111 555</h2>\r\n      </div>\r\n\r\n      <div class=\"registration\">\r\n        TIN: 103-826-519,<br>\r\n        VRN: 20-01-017530R\r\n      </div>\r\n\r\n      <div class=\"section-title\" style=\"margin-bottom:10px\">WEEKLY WAGES REPORT</div>\r\n\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                        <th class=\"text-start\">WEEK</th>\r\n                        <th class=\"text-start\">PROJECT</th>\r\n                        </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td class=\"text-start\"> ${formatPrintDate(weekDates[0])} to ${formatPrintDate(new Date(new Date(weekDates[5]).getTime() + 86400000))}</td>\r\n                      <td class=\"text-start\">${project.value.short_name ?? \"NO PROJECT \"}</td>\r\n                    </tr>  \r\n                  </tbody>\r\n                </table>\r\n\r\n            <table>\r\n                <thead>\r\n                    <tr >\r\n                        <th>SN</th>\r\n                        <th>Name</th>\r\n                        ${['Tue', 'Wed', 'Thur', 'Friday', 'Sat', 'Sun', 'Mon'].map(day => `<th>${day}</th>`).join('')}\r\n                        <th>Days</th>\r\n                        <th>Advance</th>\r\n                        <th>Rate</th>\r\n                        <th>Total</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    ${filteredLabours.map((labour, i) => `\r\n                        <tr>\r\n                            <td class=\"text-start\">${i + 1}</td>\r\n                            <td class=\"text-start\">${labour.name}</td>\r\n                            ${['Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday', 'Monday'].map(day => `\r\n                                <td class=\"text-center\">\r\n                                    ${labour.weekly_work?.[day]?.target || '-'}\r\n                                </td>\r\n                            `).join('')}\r\n                            <td class=\"text-center\">${calculateDaysWorked(labour)}</td>\r\n                            <td class=\"text-end\">${Number(labour.total_advance).toLocaleString()}/=</td>\r\n                            <td class=\"text-end\">${Number(labour.rate).toLocaleString()}/=</td>\r\n                            <td class=\"text-end\">\r\n                                ${(((calculateDaysWorked(labour) * Number(labour.rate)) - labour.total_advance ).toLocaleString())}/=\r\n                            </td>\r\n                        </tr>\r\n                    `).join('')}\r\n                    <tr class=\"total-row\">\r\n                        <td></td>\r\n                        <td></td>\r\n                        <td colspan=\"10\" class=\"text-end\">Grand Total:</td>\r\n                        <td class=\"text-end\">\r\n                            ${\r\n                                filteredLabours.reduce((sum, labour) => {\r\n                                    return sum + ((calculateDaysWorked(labour) * Number(labour.rate)) - labour.total_advance);\r\n                                }, 0).toLocaleString()\r\n                            }/=\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n           <table style=\"width: 100%; margin-top: 50px; font-size: 10px;\">\r\n        <tr>\r\n          <td style=\"text-align: center;\">HR Officer</td>\r\n          <td style=\"text-align: center;\">Operation's Dept</td>\r\n          <td style=\"text-align: center;\">Engineer</td>\r\n          <td style=\"text-align: center;\">Sr Accountant</td>\r\n          <td style=\"text-align: center;\">Managing Director</td>\r\n        </tr>\r\n        <tr>\r\n          <td style=\"text-align: center;height: 50px; color: green'};\">         \r\n          </td>\r\n             <td style=\"text-align: center;height: 50px; color: green'};\">\r\n          </td>\r\n              <td style=\"text-align: center;height: 50px; color: green'};\">            \r\n          </td>\r\n              <td style=\"text-align: center;height: 50px; color: green'};\">\r\n          </td>\r\n              </td>\r\n              <td style=\"text-align: center;height: 50px; color: green'};\">\r\n          </td>\r\n        </tr>\r\n      </table>\r\n            <div style=\"page-break-before: always;\"></div>\r\n            <center>\r\n            <h3>LABOURS GENERAL WORKING REPORT</h3>\r\n            </center> \r\n            <table>\r\n                  <thead>\r\n                    <tr>\r\n                        <th>SN</th>\r\n                        <th>Name</th>\r\n                        <th>Machine</th>\r\n                        <th>Fuel Used</th>\r\n                        <th>Start Hour</th>\r\n                        <th>End Hour</th>\r\n                        <th>Activity</th>\r\n                        <th>Target</th>\r\n                        <th>Advance</th>\r\n                        <th>Date</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                  ${requestWorks.value.map((item, index) => `\r\n  <tr>\r\n    <td>${index + 1}</td>\r\n    <td>${item.labour?.name ?? '-'}</td>\r\n    <td>${item.machine?.name ?? '-'}</td>\r\n    <td>${item?.fuel_used ? item.fuel_used + 'Litres' : '-'}</td>\r\n    <td>${item.start_hour ?? '-'}</td>\r\n    <td>${item.end_hour ?? '-'}</td>\r\n    <td>${item.activity ?? '-'}</td>\r\n    <td>${item.target ?? '-'}</td>\r\n    <td>${item.advance.toLocaleString() ?? '-'}</td>\r\n    <td>${\r\n    item.created_at \r\n    ? new Date(item.created_at).toLocaleDateString('en-GB', {\r\n        day: '2-digit',\r\n        month: '2-digit',\r\n        year: '2-digit'\r\n      }) \r\n    : '-'\r\n     }\r\n    </td>\r\n  </tr>\r\n`).join('')}\r\n\r\n                </tbody>\r\n            </table>\r\n        </body>\r\n        </html>\r\n    `;\r\n\r\n    // Write to the iframe and print\r\n    const iframeDoc = iframe.contentWindow.document;\r\n    iframeDoc.open();\r\n    iframeDoc.write(printContent);\r\n    iframeDoc.close();\r\n\r\n    // Wait for content to load before printing\r\n    iframe.onload = () => {\r\n        iframe.contentWindow.focus();\r\n        iframe.contentWindow.print();\r\n\r\n        // Remove the iframe after printing\r\n        setTimeout(() => {\r\n            document.body.removeChild(iframe);\r\n        }, 1000);\r\n    };\r\n};\r\n\r\n\r\nconst user = ref(null);\r\nconst user_permissions = ref([]);\r\n\r\n onMounted(() => {\r\n        const storedUser = localStorage.getItem(\"user\");\r\n        user.value = JSON.parse(storedUser);\r\n        user_permissions.value = user.value.permissions;\r\n        fetchProject();\r\n        fetchLabours();\r\n        fetchMachines();\r\n        fetchAllowanceRemarks();\r\n    });\r\n\r\n// Add these variables for the remark functionality\r\nconst showRemarkModal = ref(false);\r\nconst remarks = ref([]);\r\nconst newremark = ref('');\r\nconst isSending = ref(false);\r\nconst isfetching = ref(false);\r\nconst currentUserId = JSON.parse(localStorage.getItem(\"user\")).id;\r\n\r\n\r\n// Function to open the remark modal\r\nconst openRemarkModal = () => {\r\n    showRemarkModal.value = true;\r\n    fetchRemarks();\r\n    // Prevent body scrolling when modal is open\r\n    document.body.style.overflow = 'hidden';\r\n};\r\n\r\n// Function to close the remark modal\r\nconst closeRemarkModal = () => {\r\n    showRemarkModal.value = false;\r\n    newremark.value = '';\r\n    // Restore body scrolling\r\n    document.body.style.overflow = '';\r\n};\r\n\r\n// Function to fetch remarks\r\nconst fetchRemarks = async () => {\r\n    isfetching.value = true;\r\n    try {\r\n        // Use the current week date to fetch relevant remarks\r\n        const response = await axiosInstance.get(`remark?remark_type=allowance&week_date=${changed_date.value}`);\r\n        \r\n        if (response.data && Array.isArray(response.data.data)) {\r\n            remarks.value = response.data.data;\r\n        } else if (response.data && Array.isArray(response.data)) {\r\n            remarks.value = response.data;\r\n        } else {\r\n            remarks.value = [];\r\n        }\r\n        \r\n        // Scroll to the bottom of remarks after they load\r\n        setTimeout(() => {\r\n            const modalBody = document.querySelector('.remark-modal-body');\r\n            if (modalBody) modalBody.scrollTop = modalBody.scrollHeight;\r\n        }, 100);\r\n    } catch (error) {\r\n        console.error('Error fetching remarks:', error);\r\n        showError(\"Failed to load remarks\");\r\n    } finally {\r\n        isfetching.value = false;\r\n    }\r\n};\r\n\r\n    const readRemark = async (id) => {\r\n         const remarkStatus ={\r\n        'status':'checked by ' + JSON.parse(localStorage.getItem(\"user\")).name ,\r\n              }\r\n    try {\r\n        const response = await axiosInstance.put(`/remark/${id}`,remarkStatus);\r\n        showMessage('checked');\r\n        fetchAllowanceRemarks(); \r\n    } catch (error) {\r\n        console.error('Error:', error);\r\n    }\r\n};\r\n\r\n\r\nconst axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\nconst allowance_remark_count = ref(0);\r\nconst allowanceRemarks= ref(['']);\r\nconst fetchAllowanceRemarks = async () => {\r\n    try {\r\n        const response = await axiosInstance.get(`remark?remark_type=allowance`);\r\n        allowanceRemarks.value = response.data.data.filter(item => item.status === \"unchecked\");\r\n        allowance_remark_count.value = response.data.unchecked_count;\r\n    } catch (error) {\r\n        console.error('Error fetching allowance remark :', error);\r\n        showError(\"Failed to load allowance remark \" + (error.response?.data?.message || error.message));\r\n    } finally {\r\n        isfetching.value = false;\r\n    }\r\n}  \r\n\r\n// Function to save a new remark\r\nconst saveRemark = async () => {\r\n    if (!newremark.value.trim()) {\r\n        showError(\"Remark cannot be empty\");\r\n        return;\r\n    }\r\n    \r\n    isSending.value = true;\r\n    try {\r\n        // Create the payload with the correct field names and type\r\n        const remarkData = {\r\n            remarker_id: currentUserId,\r\n            description: newremark.value,\r\n            remark_type: \"allowance\",\r\n            type_id: 0,\r\n            week_date: changed_date.value,\r\n            remarker: JSON.parse(localStorage.getItem(\"user\")).name,\r\n            created_at: new Date().toISOString()\r\n        };\r\n        \r\n        const response = await axiosInstance.post('/remark', remarkData);\r\n        \r\n        if (response.status === 201 || response.status === 200) {\r\n            if (response.data) {\r\n                fetchAllowanceRemarks();\r\n                remarks.value.push(response.data);\r\n            } else {\r\n                remarks.value.push(remarkData);\r\n            }\r\n            newremark.value = '';\r\n            setTimeout(() => {\r\n                const modalBody = document.querySelector('.remark-modal-body');\r\n                if (modalBody) modalBody.scrollTop = modalBody.scrollHeight;\r\n            }, 100);\r\n        }\r\n    } catch (error) {\r\n        console.error('Error saving remark:', error);\r\n        showError(\"Failed to save remark\");\r\n    } finally {\r\n        isSending.value = false;\r\n    }\r\n};\r\n\r\n// Add a watcher to reload remarks when the week date changes\r\nwatch(changed_date, () => {\r\n    if (showRemarkModal.value) {\r\n        fetchRemarks();\r\n    }\r\n});         \r\n\r\n\r\n</script>\r\n<style scoped>\r\n/* Enable horizontal scrolling for the entire page */\r\n.horizontal-scroll-container {\r\n  width: 100%;\r\n  overflow-x: auto;\r\n  -webkit-overflow-scrolling: touch; /* For smooth scrolling on iOS */\r\n  padding-bottom: 20px; /* Add some padding at the bottom */\r\n}\r\n\r\n.horizontal-scroll-content {\r\n  min-width: 768px; /* Minimum width to ensure content doesn't get too compressed */\r\n  width: max-content; /* Allow content to determine width */\r\n  padding: 0 15px; /* Add some padding on the sides */\r\n}\r\n\r\n/* Make sure tables maintain their structure */\r\ntable {\r\n  width: 100%;\r\n  min-width: 768px; /* Ensure table doesn't get too narrow */\r\n}\r\n\r\n/* Ensure the modal appears above the scrollable content */\r\n.modal.show {\r\n  z-index: 1050;\r\n}\r\n\r\n/* Add a visual indicator for horizontal scrolling on mobile */\r\n@media (max-width: 767px) {\r\n  .horizontal-scroll-container::after {\r\n    content: \"\";\r\n    position: fixed;\r\n    top: 50%;\r\n    right: 0;\r\n    width: 20px;\r\n    height: 40px;\r\n    background: rgba(0, 0, 0, 0.1);\r\n    border-radius: 20px 0 0 20px;\r\n    transform: translateY(-50%);\r\n    pointer-events: none;\r\n    z-index: 10;\r\n    animation: pulse 2s infinite;\r\n  }\r\n  \r\n  @keyframes pulse {\r\n    0% { opacity: 0.2; }\r\n    50% { opacity: 0.8; }\r\n    100% { opacity: 0.2; }\r\n  }\r\n}\r\n\r\n/* Mobile Modal Styles */\r\n.mobile-modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  z-index: 9999;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.mobile-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #fff;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 10000;\r\n}\r\n\r\n.mobile-modal-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 15px;\r\n  border-bottom: 1px solid #dee2e6;\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.mobile-modal-title {\r\n  margin: 0;\r\n  font-size: 1.2rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.mobile-modal-close {\r\n  background: none;\r\n  border: none;\r\n  font-size: 1.5rem;\r\n  padding: 0;\r\n  cursor: pointer;\r\n  color: #6c757d;\r\n}\r\n\r\n.mobile-modal-body {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 15px;\r\n  -webkit-overflow-scrolling: touch;\r\n}\r\n\r\n.mobile-modal-footer {\r\n  border-top: 1px solid #dee2e6;\r\n  padding: 10px;\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.mobile-loading {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n}\r\n\r\n.remarks-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n}\r\n\r\n.no-remarks {\r\n  text-align: center;\r\n  color: #6c757d;\r\n  padding: 30px 0;\r\n}\r\n\r\n.remark-item {\r\n  background-color: #f1f3f5;\r\n  border-radius: 10px;\r\n  padding: 12px;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n}\r\n\r\n.remark-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 5px;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.remark-content {\r\n  white-space: pre-wrap;\r\n  word-break: break-word;\r\n}\r\n\r\n.remark-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.remark-input {\r\n  width: 100%;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 4px;\r\n  padding: 10px;\r\n  font-size: 1rem;\r\n  resize: none;\r\n}\r\n\r\n.remark-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 10px;\r\n}\r\n\r\n.remark-submit-btn {\r\n  background-color: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 50%;\r\n  width: 40px;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.remark-submit-btn:disabled {\r\n  background-color: #6c757d;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* Floating Action Button */\r\n.floating-action-button {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  width: 56px;\r\n  height: 56px;\r\n  border-radius: 50%;\r\n  background-color: #007bff;\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.3);\r\n  z-index: 1000;\r\n  cursor: pointer;\r\n  font-size: 24px;\r\n}\r\n\r\n/* Add a pulse animation to make the button more noticeable */\r\n@keyframes pulse {\r\n  0% { box-shadow: 0 0 0 0 rgba(0, 123, 255, 0.7); }\r\n  70% { box-shadow: 0 0 0 10px rgba(0, 123, 255, 0); }\r\n  100% { box-shadow: 0 0 0 0 rgba(0, 123, 255, 0); }\r\n}\r\n\r\n.floating-action-button {\r\n  animation: pulse 2s infinite;\r\n}\r\n\r\n.floating-action-button:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n/* Remark Modal Styles (Matching the image exactly) */\r\n.remark-modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  z-index: 9999;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.remark-modal-container {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 90%;\r\n  max-width: 400px;\r\n  height: 80%;\r\n  max-height: 600px;\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.remark-modal-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 15px 20px;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  background-color: white;\r\n}\r\n\r\n.remark-modal-title {\r\n  margin: 0;\r\n  font-size: 1.1rem;\r\n  font-weight: 500;\r\n  color: #333;\r\n}\r\n\r\n.remark-modal-close {\r\n  background: none;\r\n  border: none;\r\n  font-size: 1.5rem;\r\n  line-height: 1;\r\n  padding: 0;\r\n  cursor: pointer;\r\n  color: #666;\r\n}\r\n\r\n.remark-modal-body {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 15px;\r\n  background-color: #f5f5f5;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.remark-message-container {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-bottom: 10px;\r\n  width: 100%;\r\n}\r\n\r\n.remark-message {\r\n  max-width: 80%;\r\n  padding: 10px 15px;\r\n  border-radius: 8px;\r\n  background-color: #e0e0e0;\r\n  position: relative;\r\n}\r\n\r\n.remark-message-own {\r\n  align-self: flex-end;\r\n  margin-left: auto;\r\n  background-color: #e9ecef;\r\n}\r\n\r\n.remark-message-other {\r\n  align-self: flex-start;\r\n  background-color: #e0e0e0;\r\n}\r\n\r\n.remark-sender {\r\n  font-weight: 500;\r\n  margin-bottom: 5px;\r\n  color: #333;\r\n}\r\n\r\n.remark-text {\r\n  word-break: break-word;\r\n  color: #333;\r\n}\r\n\r\n.remark-modal-footer {\r\n  padding: 15px;\r\n  border-top: 1px solid #e0e0e0;\r\n  background-color: white;\r\n}\r\n\r\n.remark-input {\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  margin-bottom: 10px;\r\n  font-size: 1rem;\r\n}\r\n\r\n.remark-modal-buttons {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n}\r\n\r\n.remark-btn {\r\n  padding: 8px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n}\r\n\r\n.remark-btn-close {\r\n  background-color: #9c27b0;\r\n  color: white;\r\n}\r\n\r\n.remark-btn-save {\r\n  background-color: #4361ee;\r\n  color: white;\r\n}\r\n\r\n.remark-btn:disabled {\r\n  opacity: 0.7;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* Floating Action Button for Mobile */\r\n.remark-fab {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  width: 56px;\r\n  height: 56px;\r\n  border-radius: 50%;\r\n  background-color: #4361ee;\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.3);\r\n  z-index: 1000;\r\n  cursor: pointer;\r\n  font-size: 24px;\r\n}\r\n\r\n.remark-fab:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n/* Full-width container styles */\r\n.allowance-table-container {\r\n  width: 100%;\r\n  margin: 0;\r\n  padding: 0;\r\n  overflow-x: hidden;\r\n}\r\n\r\n/* Remove any default padding from parent containers */\r\n.layout-px-spacing {\r\n  padding: 0 !important;\r\n}\r\n\r\n.horizontal-scroll-container {\r\n  width: 100%;\r\n  max-width: 100%;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.horizontal-scroll-content {\r\n  width: 100%;\r\n  max-width: 100%;\r\n  margin: 0;\r\n  padding: 0 15px;\r\n}\r\n\r\n/* Centered Remark Modal Styles */\r\n.remark-modal-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    z-index: 9999;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.remark-modal-container {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 80%;\r\n    max-width: 800px;\r\n    background-color: white;\r\n    border-radius: 8px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    overflow: hidden;\r\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\r\n    max-height: 80vh;\r\n}\r\n\r\n.remark-modal-header {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 20px 30px;\r\n    border-bottom: 1px solid #e0e0e0;\r\n    background-color: #f8f9fa;\r\n}\r\n\r\n.remark-modal-title {\r\n    margin: 0;\r\n    font-size: 1.5rem;\r\n    font-weight: 600;\r\n    color: #333;\r\n}\r\n\r\n.remark-modal-close {\r\n    background: none;\r\n    border: none;\r\n    font-size: 2rem;\r\n    line-height: 1;\r\n    padding: 0;\r\n    cursor: pointer;\r\n    color: #666;\r\n    transition: color 0.2s;\r\n    width: 40px;\r\n    height: 40px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border-radius: 50%;\r\n}\r\n\r\n.remark-modal-close:hover {\r\n    color: #333;\r\n    background-color: rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.remark-modal-body {\r\n    flex: 1;\r\n    overflow-y: auto;\r\n    padding: 30px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    max-height: calc(85vh - 140px);\r\n}\r\n\r\n.remarks-list {\r\n    flex: 1;\r\n    overflow-y: auto;\r\n    margin-bottom: 30px;\r\n}\r\n\r\n.no-remarks {\r\n    text-align: center;\r\n    color: #6c757d;\r\n    padding: 60px 0;\r\n    font-style: italic;\r\n    font-size: 1.1rem;\r\n}\r\n\r\n.remarks-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n}\r\n\r\n.remark-item {\r\n    background-color: #f8f9fa;\r\n    border-radius: 10px;\r\n    padding: 20px;\r\n    box-shadow: 0 2px 5px rgba(0,0,0,0.08);\r\n    border-left: 5px solid #4361ee;\r\n}\r\n\r\n.remark-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 12px;\r\n    font-size: 1rem;\r\n}\r\n\r\n.remark-author {\r\n    font-weight: 600;\r\n    color: #495057;\r\n}\r\n\r\n.remark-date {\r\n    color: #6c757d;\r\n}\r\n\r\n.remark-content {\r\n    white-space: pre-wrap;\r\n    word-break: break-word;\r\n    color: #212529;\r\n    line-height: 1.6;\r\n    font-size: 1.05rem;\r\n}\r\n\r\n.new-remark-form {\r\n    margin-top: auto;\r\n    border-top: 1px solid #e9ecef;\r\n    padding-top: 25px;\r\n}\r\n\r\n.new-remark-form textarea {\r\n    resize: none;\r\n    border: 1px solid #ced4da;\r\n    border-radius: 8px;\r\n    padding: 15px;\r\n    font-size: 1.05rem;\r\n    transition: border-color 0.2s;\r\n    height: 120px;\r\n}\r\n\r\n.new-remark-form textarea:focus {\r\n    border-color: #4361ee;\r\n    box-shadow: 0 0 0 0.25rem rgba(67, 97, 238, 0.25);\r\n}\r\n\r\n.new-remark-form .btn {\r\n    padding: 10px 20px;\r\n    font-size: 1rem;\r\n    border-radius: 6px;\r\n}\r\n\r\n/* Responsive adjustments */\r\n@media (max-width: 1900px) {\r\n    .remark-modal-container {\r\n        width: 75%;\r\n        max-width: 2000px;\r\n    }\r\n}\r\n\r\n@media (max-width: 992px) {\r\n    .remark-modal-container {\r\n        width: 80%;\r\n        min-width: 500px;\r\n    }\r\n    \r\n    .remark-modal-header {\r\n        padding: 15px 25px;\r\n    }\r\n    \r\n    .remark-modal-body {\r\n        padding: 25px;\r\n    }\r\n    \r\n    .remark-modal-title {\r\n        font-size: 1.3rem;\r\n    }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n    .remark-modal-container {\r\n        width: 90%;\r\n        min-width: 400px;\r\n        max-height: 90vh;\r\n    }\r\n    \r\n    .remark-modal-header {\r\n        padding: 15px 20px;\r\n    }\r\n    \r\n    .remark-modal-body {\r\n        padding: 20px;\r\n    }\r\n    \r\n    .new-remark-form textarea {\r\n        height: 100px;\r\n    }\r\n}\r\n\r\n@media (max-width: 576px) {\r\n    .remark-modal-container {\r\n        width: 95%;\r\n        min-width: auto;\r\n        height: 85vh;\r\n    }\r\n    \r\n    .remark-modal-header {\r\n        padding: 12px 15px;\r\n    }\r\n    \r\n    .remark-modal-body {\r\n        padding: 15px;\r\n    }\r\n    \r\n    .remark-modal-title {\r\n        font-size: 1.2rem;\r\n    }\r\n    \r\n    .remark-item {\r\n        padding: 15px;\r\n    }\r\n}\r\n\r\n .mymodal{\r\n  background-color: rgba(122, 122, 122, 0.653);\r\n }\r\n\r\n</style>\r\n","import script from \"./allowanceApproved.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./allowanceApproved.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./allowanceApproved.vue?vue&type=style&index=0&id=4a81d400&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\copexErp\\\\frontEnd\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4a81d400\"]])\n\nexport default __exports__"],"names":["useMeta","title","loadingIndicator","inject","add_labour_form","ref","loading_spinner","showMessage","showError","sylvester","sylvester_increment","sylvesterIncrement","value","route","useRoute","calculateDaysWorked","labour","weekly_work","totalDays","forEach","day","entry","target","parseFloat","toFixed","machines","selected_machine","fetchMachines","async","axiosInstance","get","then","response","Array","isArray","data","map","machine","id","name","error_message","error","message","console","catch","finally","project","fetchProject","project_id","machine_used","labour_name","labour_designation","labour_type","labour_rate","labour_advance","changed_date","params","date","request_id","form_modal","labour_date","labour_id","activity","remark","start_hour","end_hour","fuel_used","formatDate","d","Date","toISOString","split","target_description","advance","deleteWorkLog","confirm","delete","fetchWorkLog","fetchLabours","status","addWorkLog","worklogdata","post","addMdRemark","itemdata","newremark","workLog","designation","work_date","patch","saveRemark","getModal","rate","setTimeout","modalEl","document","getElementById","modal","window","bootstrap","Modal","show","getWeekDates","selected","getDay","tuesday","setDate","getDate","weekDates","i","push","labours","originalLabours","filter","workLogForm","Object","keys","length","requestWorks","fetchRequestWorks","printWeeklyWages","iframe","createElement","style","display","body","appendChild","formatPrintDate","dateStr","String","padStart","month","getMonth","year","getFullYear","slice","dateParts","formattedDate","filteredLabours","Number","total_advance","printContent","getTime","short_name","join","toLocaleString","reduce","sum","item","index","created_at","toLocaleDateString","iframeDoc","contentWindow","open","write","close","onload","focus","print","removeChild","user","user_permissions","onMounted","storedUser","localStorage","getItem","JSON","parse","permissions","fetchAllowanceRemarks","showRemarkModal","remarks","isSending","isfetching","currentUserId","openRemarkModal","fetchRemarks","overflow","closeRemarkModal","modalBody","querySelector","scrollTop","scrollHeight","readRemark","remarkStatus","put","axios","baseURL","process","allowance_remark_count","allowanceRemarks","unchecked_count","trim","remarkData","remarker_id","description","remark_type","type_id","week_date","remarker","watch","__exports__"],"sourceRoot":""}