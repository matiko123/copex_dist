"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[4616],{58483:function(t,e,n){n.d(e,{i:function(){return i}});n(26699);function i(t,e){const n=e.toLowerCase().trim();if(!n)return t;const i=t=>null!=t&&("string"===typeof t?t.toLowerCase().includes(n):Array.isArray(t)?t.some(i):"object"===typeof t&&Object.values(t).some(i));return t.filter((t=>i(t)))}},86500:function(t,e,n){n.d(e,{Z:function(){return d}});var i=n(66252),a=n(49963),s=n(2262);const l=(0,i._)("span",{class:"input-group-text bg-white border-start-0"},[(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.415l-3.85-3.85zm-5.442.656a5 5 0 1 1 \r\n        0-10 5 5 0 0 1 0 10z"})])],-1);var r={props:{filterValue:String},emits:["update:filterValue"],setup(t,{emit:e}){const n=t,r=(0,s.iH)(n.filterValue||null);return(0,i.YP)(r,(t=>e("update:filterValue",t))),(t,e)=>((0,i.wg)(),(0,i.iD)("form",{onSubmit:e[1]||(e[1]=(0,a.iM)((()=>{}),["prevent"])),class:"input-group container"},[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control border-end-0",placeholder:"Search a word...","onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t)},null,512),[[a.nr,r.value]]),l],32))}};const o=r;var d=o},84616:function(t,e,n){n.r(e),n.d(e,{default:function(){return en}});n(26699);var i=n(66252),a=n(3577),s=n(2262),l=n(49963),r=n(87066),o=n(56296),d=n(86500),c=(n(58483),n(42119)),u=n(69218),p=n(80599),v=n.n(p);const g={class:"layout-px-spacing"},m=(0,i.uE)('<ul class="navbar-nav flex-row mt-2"><li><div class="page-header"><nav class="breadcrumb-one" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item active" aria-current="page"><span>Budget Vouchers and Local Purchase Orders</span></li></ol></nav></div></li></ul><h4 class="text-center my-3"> BUDGET VOUCHERS AND LOCAL PURCHASE ORDERS </h4>',2),h={class:"p-3 my-4"},b={class:"row"},y={class:"col-md-6 text-start"},x={class:"mb-3 text-dark",style:{"font-size":"1.1rem"}},_=(0,i._)("strong",null,"Project: ",-1),w={class:"mb-3 text-dark",style:{"font-size":"1.1rem"}},f=(0,i._)("strong",null,"Budget: ",-1),k=(0,i._)("strong",null,"LPOs: ",-1),q=(0,i._)("strong",null,"Vouchers: ",-1),C={class:"d-flex gap-2 mt-3"},$={class:"col-md-6 d-flex justify-content-end"},S={class:"toast-container position-static p-3"},D={class:"toast show",role:"alert","aria-live":"assertive","aria-atomic":"true"},R=(0,i._)("div",{class:"toast-header",style:{"background-color":"white"}},[(0,i._)("strong",{class:"me-auto text-dark"},"Status Summary"),(0,i._)("small",{class:"text-dark"}),(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})],-1),z={class:"toast-body"},L={class:"mb-2 text-dark",style:{"font-size":"1.1rem"}},O=(0,i._)("strong",null,"Paid: ",-1),A={class:"mb-2 text-dark",style:{"font-size":"1.1rem"}},N=(0,i._)("strong",null,"Approved: ",-1),U={class:"mb-2 text-dark",style:{"font-size":"1.1rem"}},T=(0,i._)("strong",null,"Unapproved: ",-1),H={class:"mb-2 text-dark",style:{"font-size":"1.1rem"}},j=(0,i._)("strong",null,"Remarked: ",-1),E={class:"mb-0 text-dark",style:{"font-size":"1.1rem"}},M=(0,i._)("strong",null,"Rejected: ",-1),P={class:"row layout-top-spacing"},V=["innerHTML"],I={key:1,class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},B={class:"panel p-0"},F={class:"custom-table table3"},Y=["onClick"],J=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-eye",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}),(0,i._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"})],-1),Q=[J],W=["onClick"],X=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),(0,i._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})],-1),G=[X],Z=["onClick"],K=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-download",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v3.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-3.5a.5.5 0 0 1 1 0v3.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-3.5a.5.5 0 0 1 .5-.5"}),(0,i._)("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"})],-1),tt=[K],et={class:"modal-dialog modal-fullscreen",role:"document"},nt={class:"modal-content"},it={class:"modal-header"},at=(0,i._)("h5",{class:"modal-title",id:"exampleModalLabel"},"Approval Chain ",-1),st={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},lt={class:"panel p-0"},rt={class:"custom-table table3 table-responsive"},ot={class:"table table-bordered table-striped"},dt=(0,i._)("th",null,"Order No",-1),ct=(0,i._)("th",null,"Requester",-1),ut=(0,i._)("th",null,"Date Requested",-1),pt=(0,i._)("th",null,"Purpose",-1),vt=(0,i._)("th",null,"Approval Chain",-1),gt={key:0},mt={key:1},ht={key:0},bt={key:1},yt=(0,i._)("th",null,"Awaits",-1),xt=(0,i._)("th",null,"Cost",-1),_t={key:2},wt={key:0},ft={key:1},kt=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),(0,i._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})],-1),qt=[kt],Ct=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-eye",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}),(0,i._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"})],-1),$t={key:0},St={colspan:"8"},Dt=(0,i._)("b",null," Brief Description : ",-1),Rt={key:0},zt={key:1},Lt={colspan:"8"},Ot=(0,i._)("b",null," Remark : ",-1),At={key:0,class:"d-flex justify-content-center mt-2 mb-2"},Nt=["disabled"],Ut=["innerHTML"],Tt={key:1},Ht={class:"input-group container"},jt=["disabled"],Et=["innerHTML"],Mt={key:1},Pt={class:"modal-body"},Vt={key:0,class:"d-flex justify-content-center mb-2"},It={class:"btn-group"},Bt=["disabled"],Ft=["disabled"],Yt=["disabled"],Jt={key:1,class:"mb-2 text-center"},Qt={key:2,class:"input-group"},Wt=["placeholder"],Xt=["disabled"],Gt=["innerHTML"],Zt={key:1},Kt={class:"custom-table table3 table-responsive"},te={class:"table"},ee=(0,i._)("br",null,null,-1),ne=(0,i._)("br",null,null,-1),ie={key:0,class:"text-dark"},ae=(0,i.Uk)(),se=(0,i._)("br",null,null,-1),le={key:1,class:"text-dark"},re=(0,i._)("h4",{class:"text-center",style:{"font-size":"1.3rem"}},"APPROVAL ITEMS",-1),oe={class:"d-flex justify-content-center mb-3"},de={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},ce={class:"panel p-0"},ue={class:"custom-table table3"},pe={class:"table table-bordered table-striped"},ve=(0,i._)("th",null,"ID",-1),ge=(0,i._)("th",null,"Item",-1),me=(0,i._)("th",null,"Decription",-1),he=(0,i._)("th",null,"Quantity",-1),be=(0,i._)("th",null,"Rate",-1),ye=(0,i._)("th",null,"Total",-1),xe=(0,i._)("th",null,"Receiver",-1),_e={key:0,class:"text-center"},we=(0,i._)("th",null,"Actions",-1),fe={key:1},ke={key:0},qe={key:1},Ce={key:0},$e=(0,i._)("br",null,null,-1),Se=(0,i._)("br",null,null,-1),De={key:1},Re=(0,i._)("br",null,null,-1),ze=(0,i._)("br",null,null,-1),Le={key:0},Oe={key:0,class:"text-center"},Ae=["onClick"],Ne=(0,i._)("path",{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0"},null,-1),Ue=(0,i._)("path",{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"},null,-1),Te=[Ne,Ue],He=["onClick"],je=(0,i._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1),Ee=[je],Me=["onUpdate:modelValue","onInput"],Pe=["onUpdate:modelValue"],Ve=["onUpdate:modelValue"],Ie=(0,i._)("button",{class:"btn btn-outline-primary me-2"},"Diesel ",-1),Be=(0,i._)("button",{class:"btn btn-outline-primary me-2"},"Budget",-1),Fe=(0,i._)("button",{class:"btn btn-outline-primary me-2"},"Subcontractor",-1),Ye=["onClick"],Je=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),(0,i._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})],-1),Qe=[Je],We={class:"modal-footer"},Xe=["disabled"],Ge=["innerHTML"],Ze={key:1};var Ke={setup(t){const e=(0,s.iH)("");(0,o.j)({title:"Approval Chains"});const n=(0,c.yj)(),p=r.Z.create({baseURL:"https://bushman.ink/api/v1/"}),J=(0,s.iH)(!1),X=async t=>{const e={status_id:16,remark:Yn.value};try{An.value=!0;await p.put(`approval-lists/${t}`,e);yn("Transaction Completed"),Nn(),Yn.value="",J.value=!1,document.getElementById("close-approval-modal").click()}catch(n){xn(n.message),console.log(n)}finally{An.value=!1}},K=(0,s.iH)(!1),kt=()=>{K.value=!K.value},Ne=(0,i.Fl)((()=>pn.value.filter((t=>"approved"===t.status?.name?.toLowerCase())).length)),Ue=(0,i.Fl)((()=>pn.value.filter((t=>"paid"===t.status?.name?.toLowerCase())).length)),je=(0,i.Fl)((()=>pn.value.filter((t=>"rejected"===t.status?.name?.toLowerCase())).length)),Je=(0,i.Fl)((()=>pn.value.filter((t=>"unapproved"===t.status?.name?.toLowerCase())).length)),Ke=(0,i.Fl)((()=>pn.value.filter((t=>"remarked"===t.status?.name?.toLowerCase())).length)),tn=(0,i.Fl)((()=>pn.value.filter((t=>t.approval_group?.toLowerCase().includes("project lpo"))).length)),en=(0,i.Fl)((()=>pn.value.filter((t=>t.approval_group?.toLowerCase().includes("project voucher"))).length)),nn=(0,s.iH)(""),an=(0,s.iH)(""),sn=async()=>{An.value=!0;const t={labour_request_id:Vn.value.id,approval_group_id:8,source:"Labour Request",source_id:Vn.value.approval_id,requester_id:on,beneficiary:nn.value,description:an.value,items:gn.value.filter((t=>Number(t.requesting_quantity)>0)).map((t=>({id:t.id,quantity:t.requesting_quantity,description:t.request_description,beneficiary:t.receiver})))};try{await p.post("approval-lists",t);yn("Request Sent");const e=JSON.parse(localStorage.getItem("user")).name+" Created Voucher from Labour Request "+Vn.value.id,n="wamid.HBgMMjU1Njk4MjY3NjYyFQIAEhggQUM4NzUzOTAxQTIxOEQ2NkZCNDM5RDM4NjUzQjY2QzEA",i=["255697315583","255698267662"];i.forEach((t=>{vn(e,n,t)})),bn(),Nn(),document.getElementById("close").click()}catch(e){xn(e.message),console.log(e)}finally{An.value=!1}},ln=JSON.parse(localStorage.getItem("user")).permissions,rn=(0,s.iH)(!1),on=JSON.parse(localStorage.getItem("user")).id,dn=(0,s.iH)(0),cn=(0,s.iH)(JSON.parse(localStorage.getItem("user")).role),un=(0,s.iH)(["Sno","requisition","approval","purpose","type","requester","project","cost","status","date","awaits","actions"]),pn=((0,s.iH)(["Sno","item","description","quantity","rate","total","actions"]),(0,s.iH)([])),vn=(0,i.f3)("whatsappAlert"),gn=(0,s.iH)([]),mn=(0,s.iH)({perPage:50,perPageValues:[50,100,200],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:["id","service_name"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1,headings:{vendor:function(){return hn.value?"Beneficiary":"Vendor"}}}),hn=(0,i.Fl)((()=>"4"==n.params.group_id||"8"==n.params.group_id)),bn=()=>{Rn.value="",Yn.value="",K.value=!1,nn.value=""},yn=(0,i.f3)("showMessage"),xn=(0,i.f3)("showError"),_n=(0,i.f3)("formatNumber"),wn=(0,i.f3)("tableShimmer"),fn=(0,i.f3)("formatDate"),kn=(0,i.f3)("loadingSpinner"),qn=(0,i.f3)("enforceMax"),Cn=(0,s.iH)([]),$n=(0,s.iH)({}),Sn=(0,s.iH)(""),Dn=(0,s.iH)(""),Rn=(0,s.iH)(""),zn=(0,s.iH)(!1),Ln=(0,s.iH)(null);let On=null;const An=(0,s.iH)(!1),Nn=async()=>{An.value=!0;try{const t=await p.get("budget-approval-lists?requisition_type=budget&budget_id="+n.params.budget_id);pn.value=t.data.map(((t,e)=>{let n=t.status;4!=t.last_checked_in?.status?.id&&14!=t.last_checked_in?.status?.id||(n={name:t.last_checked_in.status.name,color:t.last_checked_in.status.color});let i=t.awaiting_approval?.name||"no one";4!=t.last_checked_in?.status?.id&&14!=t.last_checked_in?.status?.id||(i="no one");let a=t.awaiting_approval?.role_id||null;return 4!=t.last_checked_in?.status?.id&&14!=t.last_checked_in?.status?.id||(a=null),{...t,status:n,purpose:t.approval_group,type:t.requisition_type??t?.source,approval:"0"+t.id,approval_id:t.id,requisition:t?.requisition_id??t?.source_id,requester:t.requester?.name??t?.requester,requester_id:t.requester?.id,awaits:i,awaiter_role_id:a,vendor:t.vendor&&t.vendor.name?t.vendor.name:t.beneficiary,vendor_data:t.vendor,date:fn(t.date),created_at:t.date,last_checked:fn(t.last_checked_in?.approved_at),cost:t.items?_n(t.items.reduce(((t,e)=>t+(e?.quantity||0)*(e.requisition_items?.rate||0)),0)):0,approved_at:t.last_checked_in?.approved_at?new Date(t.last_checked_in.approved_at).toLocaleString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):null}})),pn.value.sort(((t,e)=>{const n=Number(cn.value),i=t.awaiter_role_id===n,a=e.awaiter_role_id===n;return i&&!a?-1:!i&&a?1:0}))}catch(t){xn(t.message),console.error(t)}finally{An.value=!1}},Un=(0,i.Fl)((()=>{let t=pn.value;return e.value&&(t=t.filter((t=>Object.values(t).some((t=>String(t).toLowerCase().includes(e.value.toLowerCase())))))),Tn.value&&(t=t.filter((t=>t.approval_group?.toLowerCase().includes(Tn.value)))),t.map(((t,e)=>({...t,Sno:e+1})))})),Tn=(0,s.iH)(""),Hn=t=>{Tn.value===t?Tn.value="":Tn.value=t};(0,i.YP)((()=>n.params.group_id),((t,e)=>{t!==e&&Nn()}));const jn=(0,s.iH)(""),En=(0,s.iH)(0),Mn=(0,s.iH)(""),Pn=(0,s.iH)(""),Vn=(0,s.iH)(""),In=(0,s.iH)(""),Bn=(0,s.iH)(""),Fn=t=>{Bn.value=t,gn.value=t.items.map(((t,e)=>({...t,order_item_id:t?.requisition_items?.id,Sno:e+1,item:t?.requisition_items?.remark,description:t?.requisition_items?.description+(t.description?" ( "+t.description+" )":""),rate:Number(t?.requisition_items?.rate).toLocaleString()+"/=",rate_original:t?.requisition_items?.rate,total:(t?.quantity*t?.requisition_items?.rate).toLocaleString()+"/=",selected:!1,rate_original:t?.requisition_items?.rate,requesting_quantity:"",request_description:""}))),Pn.value=t.awaits,In.value=t.approval_description,Cn.value=(t.roles_sequence||[]).slice(),jn.value=t.roles_sequence?.length>0?t.roles_sequence[t.roles_sequence.length-1].role_id:null,$n.value=t.awaiting_approval||{},Sn.value=t.awaiting_approval?.role_id||null,Dn.value=t.id,Mn.value=t.date,En.value=t,Vn.value=t,zn.value=!1},Yn=(0,s.iH)(""),Jn=async()=>{const t={subcontractor_agreement_id:Vn.value.subcontractor_agreement_id,approval_group_id:n.params.group_id,status_id:Rn.value,approval_item_id:Dn.value,role_id:cn.value,remark:Yn.value,last_role:jn.value,requisition_type:En.value.requisition_type,project:En.value,requisition_items:En.value.items.map((t=>({source_id:t.requisition_items.item_id,cost:t.requisition_items.quantity*t.requisition_items.rate,description:t.requisition_items.description,remark:"From LPO NO : "+Dn.value+" created on date "+Mn.value,remarker_id:JSON.parse(localStorage.getItem("user")).id,remarker:JSON.parse(localStorage.getItem("user")).name})))};await p.post("approval-chains",t),Sn.value="",Yn.value="",Nn(),yn("data saved successfully")},Qn=async()=>{try{rn.value=!0,await Jn(),zn.value=!0,$n.value.role_id="",Yn.value="",Rn.value="",document.getElementById("close-approval-modal").click()}catch(t){xn(t.message),console.error(t)}finally{rn.value=!1}},Wn=async(t,e)=>{console.log(t),dn.value=t.items.reduce(((t,e)=>t+e.quantity*e.requisition_items?.rate),0);try{const e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e);new Date;const n=new Date(t.created_at),i=`${n.getDate().toString().padStart(2,"0")}/${(n.getMonth()+1).toString().padStart(2,"0")}`,a=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Print Voucher</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .voucher-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 13px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  .title { text-align: center; font-weight: bold;  margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td, .signatures th, .signatures td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  .text-right { text-align: right; }\n  .text-center { text-align: center; }\n  .text-success { color: green; }\n .signature-area { margin-top: 30px; }\n  .signature-line { border-top: 1px solid #000; width: 200px; display: inline-block; margin-top: 50px; }\n  .text-danger { color: red; }\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bcftrack.trustdigital.space/copex.jpg" class="logo" />\n  <div class="voucher-box">\n    ${t.type.toLowerCase().includes("voucher")||t.type.toLowerCase().includes("labour")?"Voucher":"LPO"} NO: <br>\n    <span style="color:red;">${("0000"+t.approval).slice(-4)}/${i}</span>\n  </div>\n</div>\n<div class="reg-info">\n  <div>TIN: 135-489-247</div>\n  <div>VRN: 40-032826C</div>\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n<div class="section-title"> ${t?.purpose?.toUpperCase()} DETAILS</div>\n\n<div class="title">PROJECT :  ${t?.project?.toUpperCase()??"NO PROJECT"}</div>\n\n\n<p><strong>ORDER ITEMS</strong></p>\n<table class="items">\n  <thead>\n    <tr>\n      <th>SN</th>\n      <th>Item</th>\n      <th>Description</th>\n      <th>Quantity</th>\n      <th>Rate</th>\n      <th>Total</th>\n      <th>Receiver</th>\n    </tr>\n  </thead>\n  <tbody>\n    ${t.items.map(((t,e)=>`\n    <tr>\n      <td>${e+1}</td>\n      <td>${t.requisition_items?.remark||"N/A"}</td>\n      <td>${t.requisition_items?.description+(t.description?" , "+t.description:"")||"N/A"}</td>\n      <td class="text-right">${t.requisition_items?.quantity||"0"}</td>\n      <td class="text-right">${Number(t.requisition_items?.rate||0).toLocaleString()}/=</td>\n      <td class="text-right">${(t.quantity*t.requisition_items?.rate||0).toLocaleString()}/=</td>\n      <td>${t.receiver||t.beneficiary||"N/A"}</td>\n    </tr>\n\n    `)).join("")}\n ${t.description?`\n  <tr>\n    <td colspan="7" style="text-align:start;">\n      Brief Description : ${t.description+(t.approval_description?" , "+t.approval_description:"")} \n    </td>\n  </tr>\n`:""}\n\n    <tr>\n     <td colspan="7" style="text-align:right;"><strong>TOTAL</strong>  <strong>${dn.value.toLocaleString()}/=</strong></td>\n    </tr>\n  </tbody>\n</table>\n\n<div class="section-title">APPROVAL CHAIN </div>\n<table class="signatures" style="margin-top: 20px;">\n  <thead>\n    <tr>\n          ${t.roles_sequence.map((t=>`\n      <th>${t.name||"N/A"}</th>\n            `)).join("")}\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n          ${t.roles_sequence.map((t=>`\n      <td class="text-center ${3==t?.status?.id?"text-success":"text-danger"}">${t?.status?.name??"Pending"}</td>\n       `)).join("")}\n      </tr>\n  </tbody>\n</table>\n\n\n\n${t.purpose.toLowerCase().includes("voucher")?`\n<div class="signature-area" style="display: flex; justify-content: space-between; margin-top: 20px;">\n  <div style="text-align: center;">\n    \n<div style="text-align: center; margin-top: 30px;">\n  \x3c!-- Beneficiary name above the line --\x3e\n  <div style="margin-bottom: 5px;">\n    <strong>${t.beneficiary||"&nbsp;"}</strong>\n  </div>\n\n  \x3c!-- The signature line --\x3e\n  <div style="border-bottom: 1px solid #000; width: 200px; margin: 0 auto;"></div>\n</div>    <p>Received By: </p>\n  </div>\n  <div style="text-align: center;">\n    <div class="signature-line"></div>\n    <p>Receiver's Signature</p>\n  </div>\n  <div style="text-align: center;">\n    <div class="signature-line"></div>\n    <p>Received Date</p>\n  </div>\n</div>\n`:""}\n</body>\n</html>\n`,s=e.contentWindow.document;s.open(),s.write(a),s.close(),e.onload=()=>{e.contentWindow.focus(),e.contentWindow.print(),setTimeout((()=>{document.body.removeChild(e)}),1e3)}}catch(n){xn(`Failed to print voucher: ${n.message}`)}},Xn=async(t,e)=>{dn.value=t.items.reduce(((t,e)=>t+e.quantity*e.requisition_items?.rate),0);try{const e=new Date(t.created_at),n=`${e.getDate().toString().padStart(2,"0")}/${(e.getMonth()+1).toString().padStart(2,"0")}`,i=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Print Voucher</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; font-weight: 500; color: #000; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .voucher-box { border: 1px solid #000; padding: 5px 10px; font-weight: 600; font-size: 8px; color: #000; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; color: #000; }\n  .company-title h2 { margin: 5px 0; font-weight: 700; color: #000; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 11px; line-height: 1.4; font-weight: 500; color: #000; }\n  .section-title { text-align: center; font-weight: 700; text-decoration: underline; margin: 20px 0 10px 0; color: #000; }\n  .title { text-align: center; font-weight: 700; margin: 20px 0 10px 0; color: #000; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td, .signatures th, .signatures td { border: 0.5px solid #000; padding: 6px; font-weight: 500; color: #000; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; font-weight: 700; color: #000; }\n  .text-right { text-align: right; color: #000; }\n  .text-center { text-align: center; color: #000; }\n  .text-success { color: green; font-weight: 600; }\n  .signature-area { margin-top: 30px; }\n  .signature-line { border-top: 1px solid #000; width: 200px; display: inline-block; margin-top: 50px; }\n  .text-danger { color: red; font-weight: 600; }\n  strong { font-weight: 700; color: #000; }\n  p { color: #000; }\n  td { color: #000; }\n  th { color: #000; }\n  div { color: #000; }\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="${u}" class="logo" />\n  <div class="voucher-box">\n    ${t.type.toLowerCase().includes("voucher")||t.type.toLowerCase().includes("labour")?"Voucher":"LPO"} NO: <br>\n    <span style="color:red; font-weight: 700;">${("0000"+t.approval).slice(-4)}/${n}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 135-489-247<br>\n  VRN: 40-032826C\n</div>\n<div class="company-title">\n  <h3>COPEX CONTRACTORS CO.LTD</h3>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n<div class="section-title"> ${t?.purpose?.toUpperCase()} DETAILS</div>\n\n<div class="title">PROJECT :  ${t?.project?.toUpperCase()??"NO PROJECT"}</div>\n\n<p><strong>ORDER ITEMS</strong></p>\n<table class="items">\n  <thead>\n    <tr>\n      <th>SN</th>\n      <th>Item</th>\n      <th>Description</th>\n      <th>Quantity</th>\n      <th>Rate</th>\n      <th>Total</th>\n      <th>Receiver</th>\n    </tr>\n  </thead>\n  <tbody>\n    ${t.items.map(((t,e)=>`\n    <tr>\n      <td>${e+1}</td>\n      <td>${t.requisition_items?.remark||"N/A"}</td>\n      <td>${t.requisition_items?.description+(t.description?" , "+t.description:"")||"N/A"}</td>\n      <td class="text-right">${t.requisition_items?.quantity||"0"}</td>\n      <td class="text-right">${Number(t.requisition_items?.rate||0).toLocaleString()}/=</td>\n      <td class="text-right">${(t.quantity*t.requisition_items?.rate||0).toLocaleString()}/=</td>\n      <td>${t.receiver||t.beneficiary||"N/A"}</td>\n    </tr>\n    `)).join("")}\n ${t.description?`\n  <tr>\n    <td colspan="7" style="text-align:start; color: #000;">\n      <strong>Brief Description :</strong> ${t.description+(t.approval_description?" , "+t.approval_description:"")} \n    </td>\n  </tr>\n`:""}\n    <tr>\n     <td colspan="7" style="text-align:right; color: #000;"><strong>TOTAL</strong>  <strong>${dn.value.toLocaleString()}/=</strong></td>\n    </tr>\n  </tbody>\n</table>\n\n<div class="section-title">APPROVAL CHAIN </div>\n<table class="signatures" style="margin-top: 20px;">\n  <thead>\n    <tr>\n          ${t.roles_sequence.map((t=>`\n      <th>${t.name||"N/A"}</th>\n            `)).join("")}\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n          ${t.roles_sequence.map((t=>`\n      <td class="text-center ${3==t?.status?.id?"text-success":"text-danger"}">${t?.status?.name??"Pending"}</td>\n       `)).join("")}\n      </tr>\n  </tbody>\n</table>\n\n${t.purpose.toLowerCase().includes("voucher")?`\n<div class="signature-area" style="display: flex; justify-content: space-between; margin-top: 20px;">\n  <div style="text-align: center;">\n    \n<div style="text-align: center; margin-top: 30px;">\n  <div style="margin-bottom: 5px; color: #000;">\n    <strong>${t.beneficiary||"&nbsp;"}</strong>\n  </div>\n  <div style="border-bottom: 1px solid #000; width: 200px; margin: 0 auto;"></div>\n</div>    <p><strong>Received By:</strong></p>\n  </div>\n  <div style="text-align: center;">\n    <div class="signature-line"></div>\n    <p><strong>Receiver's Signature</strong></p>\n  </div>\n  <div style="text-align: center;">\n    <div class="signature-line"></div>\n    <p><strong>Received Date</strong></p>\n  </div>\n</div>\n`:""}\n</body>\n</html>\n`,a={margin:10,filename:`voucher_${("0000"+t.approval).slice(-4)}_${n}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};await v()().from(i).set(a).save()}catch(n){xn(`Failed to download PDF: ${n.message}`)}},Gn=async(t,e)=>{dn.value=e.items.reduce(((t,e)=>t+e.quantity*e.requisition_items?.rate),0);try{const n=document.createElement("iframe");n.style.display="none",document.body.appendChild(n);new Date;const i=new Date(e.created_at),a=`${fn(i)}`,s=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Print Order</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .voucher-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 8px;  margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 11px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  .title { text-align: center; font-weight: bold;  margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td, .signatures th, .signatures td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  .text-right { text-align: right; }\n  .text-center { text-align: center; }\n  .text-success { color: green; }\n .signature-area { margin-top: 30px; }\n  .signature-line { border-top: 1px solid #000; width: 200px; display: inline-block; margin-top: 50px; }\n  .text-danger { color: red; }\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bcftrack.trustdigital.space/copex.jpg" class="logo" />\n  <div class="voucher-box">\n    Date : ${a}<br>\n    ${t.requisition_items.beneficiary||e.type.toLowerCase().includes("labour"),"ORDER"} NO: <span style="color:red;">${("0000"+e.approval).slice(-4)}</span><br>\n    ${t.requisition_items.beneficiary||e.type.toLowerCase().includes("labour")?"VOUCHER":"LPO"} NO: <span style="color:red;">${("00"+t.requisition_items.id).slice(-4)}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 135-489-247<br>\n  VRN: 40-032826C\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n<div class="section-title"> ${t.requisition_items.beneficiary||e.type.toLowerCase().includes("labour")?"VOUCHER":"PURCHASE ORDER"} DETAILS </div>\n\n<div class="title">PROJECT :  ${e?.project?.toUpperCase()??"NO PROJECT"}</div>\n\n${t.vendor?`\n\n\n<p><strong>Vendor Details </strong></p>\n<table class="items">\n  <thead>\n    <tr>\n      <th>Vendor Name</th>\n      <th>Location</th>\n      <th>Email</th>\n      <th>Phone</th>\n      <th>Address</th>\n    </tr>\n  </thead>\n  <tbody>\n\n    <tr>\n      <td>${t?.vendor?.name||"&nbsp;"}</td>\n      <td>${t?.vendor?.location||" "}</td>\n      <td class="text-right">${t?.vendor?.email||" "}</td>\n      <td class="text-right">${t?.vendor?.phone||" "}</td>\n      <td class="text-right">${t?.vendor?.address||" "}</td>\n    </tr>\n\n  </tbody>\n</table>\n    `:""}\n\n<p><strong>Please provide the following as per requisition details belows</strong></p>\n<table class="items">\n  <thead>\n    <tr>\n      <th>Item</th>\n      <th>Description</th>\n      <th>Quantity</th>\n      <th>Rate</th>\n      <th>Total</th>\n    </tr>\n  </thead>\n  <tbody>\n    \n    <tr>\n      <td>${t.requisition_items?.remark||"N/A"}</td>\n      <td>${t.requisition_items?.description||"N/A"}</td>\n      <td class="text-right">${t.quantity||"0"}</td>\n      <td class="text-right">${Number(t.requisition_items?.rate||0).toLocaleString()}/=</td>\n      <td class="text-right">${(t.quantity*t.requisition_items?.rate||0).toLocaleString()}/=</td>\n    </tr>\n\n    \n\n ${e.description?`\n  <tr>\n    <td colspan="6" style="text-align:start;">\n      Brief Description : ${e.description+(e.approval_description?" , "+e.approval_description:"")} \n    </td>\n  </tr>\n`:""}\n\n    <tr>\n     <td colspan="6" style="text-align:right;"><strong>TOTAL</strong>  <strong>${dn.value.toLocaleString()}/=</strong></td>\n    </tr>\n  </tbody>\n</table>\n\n<div class="section-title">APPROVAL CHAIN</div>\n<table class="signatures" style="margin-top: 20px;">\n  <thead>\n    <tr>\n          ${e.roles_sequence.map((t=>`\n      <th>${t.name||"N/A"}</th>\n            `)).join("")}\n    </tr>\n\n  </thead>\n  <tbody>\n    <tr>\n          ${e.roles_sequence.map((t=>`\n      <td class="text-center ${3==t?.status?.id?"text-success":"text-danger"}">${t?.status?.name??"Pending"}</td>\n       `)).join("")}\n      </tr>\n  </tbody>\n</table>\n\n\n\n${t.requisition_items.beneficiary||t.beneficiary?`\n<div class="signature-area" style="display: flex; justify-content: space-between; margin-top: 20px;">\n  <div style="text-align: center;">\n    \n<div style="text-align: center; margin-top: 30px;">\n  <div style="margin-bottom: 5px;">\n    <strong>${t.requisition_items.beneficiary||t.beneficiary||"&nbsp;"}</strong>\n  </div>\n\n  \x3c!-- The signature line --\x3e\n  <div style="border-bottom: 1px solid #000; width: 200px; margin: 0 auto;"></div>\n</div>    <p>Received By: </p>\n  </div>\n  <div style="text-align: center;">\n    <div class="signature-line"></div>\n    <p>Receiver's Signature</p>\n  </div>\n  <div style="text-align: center;">\n    <div class="signature-line"></div>\n    <p>Received Date</p>\n  </div>\n</div>\n`:""}\n</body>\n</html>\n`,l=n.contentWindow.document;l.open(),l.write(s),l.close(),n.onload=()=>{n.contentWindow.focus(),n.contentWindow.print(),setTimeout((()=>{document.body.removeChild(n)}),1e3)}}catch(n){xn(`Failed to print voucher: ${n.message}`)}},Zn=async(t,e)=>{dn.value=t.items.reduce(((t,e)=>t+e.requisition_items?.quantity*e.requisition_items?.rate),0);try{const n=document.createElement("iframe");n.style.display="none",document.body.appendChild(n);new Date;const i=new Date(t.created_at),a=`${i.getDate().toString().padStart(2,"0")}/${(i.getMonth()+1).toString().padStart(2,"0")}`,s=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Print Voucher</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header {  display: flex; justify-content: space-between; align-items: flex-start;font-weight:bold }\n  .logo { width: 160px; height: auto; }\n  .text-style { font-family: 'Courier New', monospace; }\n  .voucher-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 13px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  .title { text-align: center;   margin: 10px 0 10px 0; font-size:20px }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td, .signatures th, .signatures td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  .text-right { text-align: right; }\n  .text-center { text-align: center; }\n  .text-success { color: green; }\n .signature-area { margin-top: 30px; }\n  .signature-line { border-top: 1px solid #000; width: 200px; display: inline-block; margin-top: 50px; }\n  .text-danger { color: red; }\n  hr {\n  border: 0;\n  border-top: 0.4px solid #000 !important;\n  opacity: 1 !important;\n  margin: 0px 0;\n}\n\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="text-style">\n  ${t.purpose.toLowerCase().includes("voucher")?"VOUCHER":"LPO"}  NO. ${t.approval}\n</div>\n<div class="company-title text-style">\n  <i>\n  <h1>COPEX CONTRACTORS CO.LTD</h1>\n  <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\n  <div><b>Tel:</b> , 0713 000 777, 0657 111 555</div>\n  <div><b>Email:</b> info@copexcontractors.co.tz</div>\n  <div><b>TIN:</b> 135-489-247    <b>VRN:</b> 40-032826C</div>\n  </i>\n</div>\n<hr style="margin-top:20px">\n<div class="title text-style">  ${t?.purpose?.toUpperCase()} :  ${t?.project?.toUpperCase()??"NO PROJECT"}</div>\n<hr>\n${t.purpose.toLowerCase().includes("voucher")?"":`\n\n<div style="display:flex;justify-content:space-between;gap:20px;margin-top:10px;font-size:13px;">\n  <div style="flex:1;border:1px solid #f0f0f0;padding:8px;">\n  <table style="width:100%; border-collapse: collapse;">\n  <tr><td style="background:#333; border-top:1px solid #000; border-right:1px solid #000; border-bottom:1px solid #000; padding:5px;width:2cm">\n  <b>Vendor</b>\n</td>\n</tr>\n  <tr ><td>Name</td><td style="border-bottom:1px solid #000;">${e?.name||""}</td></tr>\n  <tr ><td>Address</td><td class="text-style" style="border-bottom:1px solid #000;">${e?.address||""}</td></tr>\n  <tr ><td>City</td><td class="text-style" style="border-bottom:1px solid #000;">${e?.location||""}</td></tr>\n  <tr ><td>Phone</td><td class="text-style" style="border-bottom:1px solid #000;">${e?.phone||""}</td></tr>\n  <tr ><td >TIN</td><td class="text-style" style="border-bottom:1px solid #000;">${e?.tin||""}</td></tr>\n  <tr ><td >VRN</td><td  class="text-style" style="border-bottom:1px solid #000;">${e?.vrn||""}</td></tr>\n</table>\n\n  </div>\n  <div style="width:35%;border:1px solid #f0f0f0;padding:8px;margin-top:1cm">\n    <table style="width:100%;border-collapse:collapse;">\n      <tr><td class="text-style"> ${t.purpose.toLowerCase().includes("voucher")?"VOUCHER":"LPO"} :</td><td class="text-style">${t?.requisition||""}</td></tr>\n      <tr><td class="text-style"> ${t.purpose.toLowerCase().includes("voucher")?"VOUCHER":"LPO"} DATE:</td><td class="text-style">${a}/${i.getFullYear()}</td></tr>\n      <tr><td class="text-style">REQ:</td><td class="text-style">${t?.id||""}</td></tr>\n      <tr><td class="text-style">REQ DATE:</td><td class="text-style">${a}/${i.getFullYear()}</td></tr>\n      <tr><td class="text-style">STATUS:</td><td class="text-style">${t?.status.name||""}</td></tr>\n      <tr><td class="text-style">AWAITS:</td><td class="text-style">${t?.awaits||""}</td></tr>\n    </table>\n  </div>\n</div>\n<br>\n\n  </tbody>\n</table>\n    `}\n\n<p class="text-style">Please provide the following as per requisition details below</p>\n<h2 class="text-style">CURRENCY : TSH</h2>\n<table class="items">\n  <thead>\n    <tr>\n      <th class="text-style">No.</th>\n      <th class="text-style">ITEM NAME</th>\n      <th class="text-style">DESCRIPTION</th>\n      <th class="text-style">QUANTITY</th>\n      <th class="text-style">RATE</th>\n      <th class="text-style">TOTAL</th>\n    </tr>\n  </thead>\n  <tbody>\n    ${t.items.map(((t,e)=>`\n    <tr>\n      <td class="text-style">${e+1}</td>\n      <td class="text-style">${t.requisition_items?.remark||"N/A"}</td>\n      <td class="text-style">${t.requisition_items?.description||"N/A"}</td>\n      <td class="text-style text-right">${t.requisition_items?.quantity||"0"}</td>\n      <td class=" text-style text-right">${Number(t.requisition_items?.rate||0).toLocaleString()}/=</td>\n      <td class="text-style text-right">${(t.requisition_items?.quantity*t.requisition_items?.rate||0).toLocaleString()}/=</td>\n    </tr>\n\n    `)).join("")}\n\n    <tr>\n     <td colspan="6" class="text-style" style="text-align:right;"><strong>TOTAL</strong>  <strong>${dn.value.toLocaleString()}/=</strong></td>\n    </tr>\n  </tbody>\n</table>\n\n<h2 style="text-style">Note : </h2>\n<p class="text-style">${t.description??""}</p>\n<div class="title text-style" style="margin-top:40px">APPROVAL CHAIN</div>\n<table class="signatures" style="margin-top: 10px;">\n  <tbody>\n    <tr>\n          ${t.roles_sequence.map((t=>`\n      <td style="border-bottom:1px solid #000;border-top:1px solid #fff;border-right:1px solid #fff;border-left:1px solid #fff;" class="text-center ${3==t?.status?.id?"text-success":"text-danger"}">${t?.status?.name??"Pending"}</td>\n       `)).join("")}\n      </tr>\n  </tbody>\n    <tfooter>\n    <tr>\n          ${t.roles_sequence.map((t=>`\n      <th style="border-bottom:1px solid #fff;border-top:1px solid #fff;border-right:55px solid #fff;border-left:1px solid #fff;">${t.name||"N/A"}</td>\n            `)).join("")}\n    </tr>\n\n  </tfooter>\n</table>\n\n\n\n${t.purpose.toLowerCase().includes("voucher")?`\n    <div class="title text-style" style="margin-top:40px;margin-bottom:-20px">BENEFICIARY</div>\n\n<div class="signature-area" style="display: flex; justify-content: space-between; margin-top: 20px;">\n  <div style="text-align: center;">\n<div style="text-align: center; margin-top: 30px;">\n  \x3c!-- Beneficiary name above the line --\x3e\n  <div class="text-style" style="margin-bottom: 5px;">\n    <strong>${t.beneficiary||"&nbsp;"}</strong>\n  </div>\n\n  \x3c!-- The signature line --\x3e\n  <div style="border-bottom: 1px solid #000; width: 200px; margin: 0 auto;"></div>\n</div>    <p>Received By: </p>\n  </div>\n  <div style="text-align: center;">\n    <div class="signature-line"></div>\n    <p>Receiver's Signature</p>\n  </div>\n  <div style="text-align: center;">\n    <div class="signature-line"></div>\n    <p>Received Date</p>\n  </div>\n</div>\n`:""}\n</body>\n</html>\n`,l=n.contentWindow.document;l.open(),l.write(s),l.close(),n.onload=()=>{n.contentWindow.focus(),n.contentWindow.print(),setTimeout((()=>{document.body.removeChild(n)}),1e3)}}catch(n){xn(`Failed to print voucher: ${n.message}`)}};(0,s.iH)("");return(0,i.bv)((()=>{const t=JSON.parse(localStorage.getItem("user")).name+" is in approval page",e="255698267662",n="wamid.HBgMMjU1Njk4MjY3NjYyFQIAEhgWM0VCMDE4NkNGOENGMzEwRDNGQzJFRAA=";vn(t,n,e),Nn(),Ln.value&&(On=()=>{zn.value=!1,rn.value=!1},Ln.value.addEventListener("hidden.bs.modal",On))})),(0,i.Jd)((()=>{Ln.value&&On&&Ln.value.removeEventListener("hidden.bs.modal",On)})),(t,n)=>{const r=(0,i.up)("router-link"),o=(0,i.up)("v-client-table");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",g,[m,(0,i._)("div",h,[(0,i._)("div",b,[(0,i._)("div",y,[(0,i._)("p",x,[_,(0,i.Uk)(" "+(0,a.zw)(pn.value[0]?.items?.[0]?.requisition_items?.requisition_type?.requisition?.project?.short_name||"N/A"),1)]),(0,i._)("p",w,[f,(0,i.Uk)(" "+(0,a.zw)(pn.value[0]?.items?.[0]?.budget_info?.budget_name||"N/A"),1)]),(0,i._)("p",{class:"mb-3 text-dark",style:{"font-size":"1.1rem",cursor:"pointer"},onClick:n[0]||(n[0]=t=>Hn("project lpo"))},[k,(0,i.Uk)(" "+(0,a.zw)((0,s.SU)(tn)),1)]),(0,i._)("p",{class:"mb-3 text-dark",style:{"font-size":"1.1rem",cursor:"pointer"},onClick:n[1]||(n[1]=t=>Hn("project voucher"))},[q,(0,i.Uk)(" "+(0,a.zw)((0,s.SU)(en)),1)]),(0,i._)("div",C,[(0,i._)("button",{class:(0,a.C_)(["btn btn-sm btn-outline-primary",{active:""===Tn.value}]),onClick:n[2]||(n[2]=t=>Hn(""))}," All ",2),(0,i._)("button",{class:(0,a.C_)(["btn btn-sm btn-outline-primary",{active:"project voucher"===Tn.value}]),onClick:n[3]||(n[3]=t=>Hn("project voucher"))}," Vouchers ",2),(0,i._)("button",{class:(0,a.C_)(["btn btn-sm btn-outline-primary",{active:"project lpo"===Tn.value}]),onClick:n[4]||(n[4]=t=>Hn("project lpo"))}," LPOs ",2)])]),(0,i._)("div",$,[(0,i._)("div",S,[(0,i._)("div",D,[R,(0,i._)("div",z,[(0,i._)("p",L,[O,(0,i.Uk)((0,a.zw)((0,s.SU)(Ue)),1)]),(0,i._)("p",A,[N,(0,i.Uk)((0,a.zw)((0,s.SU)(Ne)),1)]),(0,i._)("p",U,[T,(0,i.Uk)((0,a.zw)((0,s.SU)(Je)),1)]),(0,i._)("p",H,[j,(0,i.Uk)((0,a.zw)((0,s.SU)(Ke)),1)]),(0,i._)("p",E,[M,(0,i.Uk)((0,a.zw)((0,s.SU)(je)),1)])])])])])])]),(0,i.Wm)(d.Z,{filterValue:e.value,"onUpdate:filterValue":n[5]||(n[5]=t=>e.value=t)},null,8,["filterValue"]),(0,i._)("div",P,[An.value?((0,i.wg)(),(0,i.iD)("div",{key:0,innerHTML:(0,s.SU)(wn)()},null,8,V)):((0,i.wg)(),(0,i.iD)("div",I,[(0,i._)("div",B,[(0,i._)("div",F,[(0,i.Wm)(o,{data:(0,s.SU)(Un),columns:un.value,options:mn.value},{status:(0,i.w5)((t=>[(0,i._)("span",{class:(0,a.C_)(["badge inv-status","badge-"+t.row.status.color])},(0,a.zw)(t.row.status.name),3)])),requisition:(0,i.w5)((t=>["Labour Request"===t.row.type?((0,i.wg)(),(0,i.j4)(r,{key:0,class:"text-primary",to:`/approval/${t.row.requisition}`,title:"Click to see requisition"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(t.row.requisition),1)])),_:2},1032,["to"])):((0,i.wg)(),(0,i.j4)(r,{key:1,class:"text-primary",to:`/requisition/${t.row.requisition}`,title:"Click to see requisition"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(t.row.requisition),1)])),_:2},1032,["to"]))])),actions:(0,i.w5)((t=>[(0,i._)("a",{onClick:e=>Fn(t.row),"data-bs-toggle":"modal","data-bs-target":"#approval",href:"javascript:void(0);",class:"text-primary"},Q,8,Y),(0,s.SU)(ln).includes("can_print_lpo")?((0,i.wg)(),(0,i.iD)("a",{key:0,href:"javascript:void(0);",onClick:e=>Wn(t.row,t.row.vendor_data),class:"text-success me-2"},G,8,W)):(0,i.kq)("",!0),(0,s.SU)(ln).includes("can_print_lpo")?((0,i.wg)(),(0,i.iD)("a",{key:1,href:"javascript:void(0);",onClick:e=>Xn(t.row,t.row.vendor_data),class:"text-dark"},tt,8,Z)):(0,i.kq)("",!0)])),_:1},8,["data","columns","options"])])])]))])]),(0,i._)("div",{class:"modal fade mymodal",id:"approval",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"false",ref_key:"approvalModal",ref:Ln},[(0,i._)("div",et,[(0,i._)("div",nt,[(0,i._)("div",it,[at,(0,i._)("button",{type:"button","data-dismiss":"modal","data-bs-dismiss":"modal","aria-label":"Close",class:"btn-close",onClick:n[6]||(n[6]=t=>bn()),id:"close-approval-modal"})]),(0,i._)("div",st,[(0,i._)("div",lt,[(0,i._)("div",rt,[(0,i._)("table",ot,[(0,i._)("thead",null,[(0,i._)("tr",null,[dt,ct,ut,pt,vt,Vn.value.project?((0,i.wg)(),(0,i.iD)("th",gt,"Project")):(0,i.kq)("",!0),Vn.value.vendor?((0,i.wg)(),(0,i.iD)("th",mt,[Vn.value?.type?.toLowerCase().includes("voucher")?((0,i.wg)(),(0,i.iD)("span",ht," Beneficiary ")):((0,i.wg)(),(0,i.iD)("span",bt," Vendor "))])):(0,i.kq)("",!0),yt,xt,(0,s.SU)(ln).includes("can_print_lpo")?((0,i.wg)(),(0,i.iD)("th",_t,"Action")):(0,i.kq)("",!0)])]),(0,i._)("tbody",null,[(0,i._)("tr",null,[(0,i._)("td",null,(0,a.zw)(Vn.value?.approval),1),(0,i._)("td",{onClick:n[7]||(n[7]=t=>Zn(Vn.value,Vn.value.vendor_data))},(0,a.zw)(Vn.value.requester),1),(0,i._)("td",null,(0,a.zw)(Vn.value?.date),1),(0,i._)("td",null,(0,a.zw)(Vn.value?.type),1),(0,i._)("td",null,(0,a.zw)(Vn.value?.purpose),1),Vn.value.project?((0,i.wg)(),(0,i.iD)("td",wt,(0,a.zw)(Vn.value.project),1)):(0,i.kq)("",!0),Vn.value.vendor?((0,i.wg)(),(0,i.iD)("td",ft,(0,a.zw)(Vn.value.vendor),1)):(0,i.kq)("",!0),(0,i._)("td",null,(0,a.zw)(Vn.value?.awaits),1),(0,i._)("td",null,(0,a.zw)(Vn.value?.cost),1),(0,i._)("td",null,[(0,s.SU)(ln).includes("can_print_lpo")?((0,i.wg)(),(0,i.iD)("a",{key:0,href:"javascript:void(0);",onClick:n[8]||(n[8]=t=>Wn(Vn.value,Vn.value.vendor_data)),class:"text-success me-2"},qt)):(0,i.kq)("",!0),"Labour Request"===Vn.value.purpose&&(0,s.SU)(ln).includes("can_create_labour_voucher")?((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:n[9]||(n[9]=t=>kt()),class:"btn btn-outline-primary"},"Create Voucher")):(0,i.kq)("",!0),"Labour Request"===Vn.value.purpose&&(0,s.SU)(ln).includes("can_create_labour_voucher")?((0,i.wg)(),(0,i.j4)(r,{key:2,to:`/individual/${Vn.value.approval_id}`,class:"text-info ms-2",title:"View payments"},{default:(0,i.w5)((()=>[Ct])),_:1},8,["to"])):(0,i.kq)("",!0)])]),Vn.value.description?((0,i.wg)(),(0,i.iD)("tr",$t,[(0,i._)("td",St,[Dt,(0,i.Uk)(" "+(0,a.zw)(Vn.value.description)+" ",1),In.value?((0,i.wg)(),(0,i.iD)("span",Rt," ( "+(0,a.zw)(In.value)+" )",1)):(0,i.kq)("",!0)])])):(0,i.kq)("",!0),Vn.value.remark?((0,i.wg)(),(0,i.iD)("tr",zt,[(0,i._)("td",Lt,[Ot,(0,i.Uk)(" "+(0,a.zw)(Vn.value.remark),1)])])):(0,i.kq)("",!0)])])])])]),"approved"===Vn.value.status?.name&&(0,s.SU)(ln).includes("can_complete_transaction")?((0,i.wg)(),(0,i.iD)("div",At,[(0,i._)("button",{class:"btn btn-primary",type:"button",disabled:An.value,onClick:n[10]||(n[10]=t=>J.value=!J.value)},[An.value?((0,i.wg)(),(0,i.iD)("span",{key:0,innerHTML:(0,s.SU)(kn)()},null,8,Ut)):((0,i.wg)(),(0,i.iD)("span",Tt,"Received"))],8,Nt)])):(0,i.kq)("",!0),J.value?((0,i.wg)(),(0,i.iD)("form",{key:1,onSubmit:n[12]||(n[12]=(0,l.iM)((t=>X(Vn.value.id)),["prevent"]))},[(0,i._)("div",Ht,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Enter Transaction details eg cheque No or MPESA Transaction Id ",required:"","onUpdate:modelValue":n[11]||(n[11]=t=>Yn.value=t)},null,512),[[l.nr,Yn.value]]),(0,i._)("button",{class:"btn btn-primary me-2",type:"submit",disabled:An.value},[An.value?((0,i.wg)(),(0,i.iD)("span",{key:0,innerHTML:(0,s.SU)(kn)()},null,8,Et)):((0,i.wg)(),(0,i.iD)("span",Mt,"Save"))],8,jt)])],32)):(0,i.kq)("",!0),(0,i._)("div",Pt,[cn.value==$n.value.role_id&&"no one"!==Pn.value?((0,i.wg)(),(0,i.iD)("div",Vt,[(0,i._)("div",It,[(0,i._)("button",{class:"btn btn-primary me-2",onClick:n[13]||(n[13]=t=>Rn.value=3),disabled:rn.value}," Check ",8,Bt),(0,i._)("button",{class:"btn btn-danger me-2",onClick:n[14]||(n[14]=t=>Rn.value=4),disabled:rn.value}," Reject ",8,Ft),(0,i._)("button",{class:"btn btn-info",onClick:n[15]||(n[15]=t=>Rn.value=14),disabled:rn.value}," Remark ",8,Yt)])])):(0,i.kq)("",!0),Rn.value?((0,i.wg)(),(0,i.iD)("div",Jt,[(0,i._)("span",{class:(0,a.C_)(["badge rounded-pill",{"bg-danger":4==Rn.value,"bg-success":3==Rn.value,"bg-info":14==Rn.value}]),style:{"font-size":"1rem"}},(0,a.zw)(3==Rn.value?"Check / Approve Request":4==Rn.value?"Reject Request":"Fill Remark"),3)])):(0,i.kq)("",!0),Rn.value?((0,i.wg)(),(0,i.iD)("div",Qt,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:3==Rn.value?"Enter Approval Remark":4==Rn.value?"Enter Rejection Remark":"Enter Remark","onUpdate:modelValue":n[16]||(n[16]=t=>Yn.value=t)},null,8,Wt),[[l.nr,Yn.value]]),(0,i._)("button",{onClick:n[17]||(n[17]=t=>Qn()),class:"btn btn-primary me-2",type:"button",disabled:rn.value},[rn.value?((0,i.wg)(),(0,i.iD)("span",{key:0,innerHTML:(0,s.SU)(kn)()},null,8,Gt)):((0,i.wg)(),(0,i.iD)("span",Zt,"Save"))],8,Xt)])):(0,i.kq)("",!0),(0,i._)("div",Kt,[(0,i._)("table",te,[(0,i._)("thead",null,[(0,i._)("tr",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Cn.value,(t=>((0,i.wg)(),(0,i.iD)("th",{key:t.role_id||t.position||t.name},[(0,i.Uk)((0,a.zw)(t.name)+" ",1),ee])))),128))])]),(0,i._)("tbody",null,[(0,i._)("tr",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Cn.value,((t,e)=>((0,i.wg)(),(0,i.iD)("td",{key:t.role_id||t.position||e,class:(0,a.C_)(t?.status?.color?"text-"+t.status.color:"text-danger")},[(0,i._)("span",null,(0,a.zw)(t?.status?.name??"Unchecked"),1),ne,t.approved_at?((0,i.wg)(),(0,i.iD)("span",ie,"Checked At :"+(0,a.zw)((0,s.SU)(fn)(t.approved_at)),1)):(0,i.kq)("",!0),ae,se,t.remark?((0,i.wg)(),(0,i.iD)("span",le,"Remark : "+(0,a.zw)(t.remark),1)):(0,i.kq)("",!0)],2)))),128))])])])]),re,(0,i._)("div",oe,[K.value?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"text",class:"form-control",style:{"max-width":"350px","font-size":"1rem"},placeholder:"Enter Brief Description ","onUpdate:modelValue":n[18]||(n[18]=t=>an.value=t)},null,512)),[[l.nr,an.value]]):(0,i.kq)("",!0)]),(0,i._)("div",de,[(0,i._)("div",ce,[(0,i._)("div",ue,[(0,i._)("table",pe,[(0,i._)("thead",null,[(0,i._)("tr",null,[ve,ge,me,he,be,ye,xe,K.value?((0,i.wg)(),(0,i.iD)("th",_e,"select")):(0,i.kq)("",!0),we])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(gn.value,(t=>((0,i.wg)(),(0,i.iD)("tr",null,[(0,i._)("td",null,(0,a.zw)(t.order_item_id),1),(0,i._)("td",null,(0,a.zw)(t.item),1),(0,i._)("td",null,["budget"!==Vn.value.requisition_type||t.requisition_items.asset_id?((0,i.wg)(),(0,i.iD)("span",fe,[t.selected?((0,i.wg)(),(0,i.iD)("span",ke,(0,a.zw)(t.description)+" ( "+(0,a.zw)(t.request_description)+" ) ",1)):((0,i.wg)(),(0,i.iD)("span",qe,(0,a.zw)(t.description),1))])):((0,i.wg)(),(0,i.j4)(r,{key:0,class:"btn btn-outline-primary",to:`/requisition-budget/${t.requisition_items.item_id}`},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(t.description),1)])),_:2},1032,["to"]))]),(0,i._)("td",null,[(0,i.Uk)((0,a.zw)(t.quantity)+" ",1),t?.requested_sum?((0,i.wg)(),(0,i.iD)("span",Ce,[$e,(0,i.Uk)(" Requested : "+(0,a.zw)(t?.requested_sum)+" ",1),Se,(0,i.Uk)(" Balance :"+(0,a.zw)((t.quantity-t?.requested_sum).toFixed(2)),1)])):(0,i.kq)("",!0),t.selected?((0,i.wg)(),(0,i.iD)("span",De,[Re,(0,i.Uk)("Requesting : "+(0,a.zw)(t.requesting_quantity),1)])):(0,i.kq)("",!0)]),(0,i._)("td",null,(0,a.zw)(t.rate),1),(0,i._)("td",null,[(0,i._)("span",null,[(0,i.Uk)((0,a.zw)(t.total),1),ze]),t.selected?((0,i.wg)(),(0,i.iD)("span",Le," Requesting : "+(0,a.zw)((0,s.SU)(_n)(t.requesting_quantity*t.rate_original)),1)):(0,i.kq)("",!0)]),(0,i._)("td",null,(0,a.zw)(t.receiver??t.beneficiary),1),K.value?((0,i.wg)(),(0,i.iD)("td",Oe,[t.selected?((0,i.wg)(),(0,i.iD)("svg",{key:0,onClick:e=>t.selected=!t.selected,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-check2-circle",viewBox:"0 0 16 16"},Te,8,Ae)):((0,i.wg)(),(0,i.iD)("svg",{key:1,onClick:e=>t.selected=!t.selected,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-circle",viewBox:"0 0 16 16"},Ee,8,He)),t.selected?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:2,type:"number",placeholder:"enter quantity",class:"form-control w-75",step:"any","onUpdate:modelValue":e=>t.requesting_quantity=e,onInput:e=>t.requesting_quantity=(0,s.SU)(qn)(t.requesting_quantity,(t.quantity-t?.requested_sum).toFixed(2))},null,40,Me)),[[l.nr,t.requesting_quantity]]):(0,i.kq)("",!0),t.selected?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:3,type:"text",placeholder:"enter Description",class:"form-control w-75 mt-1","onUpdate:modelValue":e=>t.request_description=e},null,8,Pe)),[[l.nr,t.request_description]]):(0,i.kq)("",!0),t.selected?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:4,type:"text",placeholder:"enter Beneficiary",class:"form-control w-75 mt-1","onUpdate:modelValue":e=>t.receiver=e},null,8,Ve)),[[l.nr,t.receiver]]):(0,i.kq)("",!0)])):(0,i.kq)("",!0),(0,i._)("td",null,[t.requisition_items.asset_id?((0,i.wg)(),(0,i.j4)(r,{key:0,to:`/assets/fuel-statement/${t.requisition_items.asset_id}`,class:"me-2"},{default:(0,i.w5)((()=>[Ie])),_:2},1032,["to"])):(0,i.kq)("",!0),"budget"===Vn.value.requisition_type?((0,i.wg)(),(0,i.j4)(r,{key:1,to:`/requisition-budget/${t.requisition_items.item_id}`},{default:(0,i.w5)((()=>[Be])),_:2},1032,["to"])):(0,i.kq)("",!0),Bn.value.subcontractor_agreement_id?((0,i.wg)(),(0,i.j4)(r,{key:2,to:`/subcontractor/${Bn.value.subcontractor_agreement_id}`},{default:(0,i.w5)((()=>[Fe])),_:1},8,["to"])):(0,i.kq)("",!0),(0,s.SU)(ln).includes("can_print_lpo")?((0,i.wg)(),(0,i.iD)("button",{key:3,class:"btn btn-outline-success",onClick:e=>Gn(t,Vn.value)},Qe,8,Ye)):(0,i.kq)("",!0)])])))),256))])])])])])]),(0,i._)("div",We,[(0,i._)("button",{type:"button",class:"btn btn-primary","data-dismiss":"modal","data-bs-dismiss":"modal",onClick:n[19]||(n[19]=t=>bn())},"close"),K.value?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn btn-success",onClick:n[20]||(n[20]=t=>sn()),disabled:An.value},[An.value?((0,i.wg)(),(0,i.iD)("span",{key:0,innerHTML:(0,s.SU)(kn)()},null,8,Ge)):((0,i.wg)(),(0,i.iD)("span",Ze,"Submit"))],8,Xe)):(0,i.kq)("",!0)])])])],512)],64)}}};const tn=Ke;var en=tn}}]);
//# sourceMappingURL=4616.0ff33e36.js.map