{"version":3,"file":"js/251.ff4b77eb.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/masters/addresses.vue","webpack://cork-vue3/./src/views/masters/addresses.vue?23ca"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">  \r\n        <ul class=\"navbar-nav flex-row mt-2\">\r\n            <li>\r\n                <div class=\"page-header\">\r\n                    <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                        <ol class=\"breadcrumb\">\r\n                            <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Masters</a></li>\r\n                            <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>address</span></li>\r\n                        </ol>\r\n                    </nav>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <h3 class=\"mb-3 text-center\">Address Management</h3>\r\n            </div>\r\n        </div>\r\n\r\n         <div class=\"d-flex me-4 mt-2 \">\r\n                        <div class=\"ms-auto\">\r\n                            <button class=\"btn btn-primary \" @click=\"create_address =! create_address\">                           \r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n  <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/>\r\n</svg>\r\n</button>\r\n \r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                             <!-- Address registration  starts -->\r\n <form v-if=\"create_address\" class=\"mt-3 p-3 border rounded bg-white shadow\" @submit.prevent=\"registerAddress\">\r\n        <h4 class=\"text-center\">REGISTER ADDRESS</h4>\r\n        <div class=\"row mb-2\">\r\n    \r\n            <div class=\"col-md-4\">\r\n                <label class=\"form-label\">Host</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Host\" v-model=\"host\" required>\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <label class=\"form-label\">House Number</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter House Number\" v-model=\"house_number\">\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <label class=\"form-label\">Postal Code</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Postal Code\" v-model=\"postal_code\">\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <label class=\"form-label\">Email</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Email\" v-model=\"email\">\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <label class=\"form-label\">Region</label>\r\n              <multiselect \r\n                v-model=\"region\"\r\n                :options= \"regionList\"\r\n                placeholder=\"select Region\"\r\n                label=\"name\"\r\n                :searchable = \"true\"        \r\n                multple=\"false\"\r\n                required=\"true\"\r\n                :allow-empty=\"false\"\r\n                @select=\"getDistrict\"\r\n            ></multiselect>\r\n            </div>\r\n            \r\n            <div class=\"col-md-4\" v-if=\"region\">\r\n                <label class=\"form-label\">District</label>\r\n              <multiselect \r\n                v-model=\"district\"\r\n                :options= \"districtList\"\r\n                placeholder=\"select District\"\r\n                label=\"name\"\r\n                :searchable = \"true\"        \r\n                multple=\"false\"\r\n                :required=\"true\"  \r\n                :allow-empty=\"false\"\r\n                @select=\"getWard\"\r\n            ></multiselect>\r\n            </div>\r\n\r\n            <div class=\"col-md-4\" v-if=\"district\">\r\n                <label class=\"form-label\">Ward</label>\r\n              <multiselect \r\n                v-model=\"ward\"\r\n                :options= \"wardList\"\r\n                placeholder=\"select Ward\"\r\n                label=\"name\"\r\n                :searchable = \"true\"        \r\n                multple=\"false\"\r\n                :required=\"true\"  \r\n                :allow-empty=\"false\"\r\n                @select=\"getStreet\"\r\n            ></multiselect>\r\n            </div>\r\n\r\n            <div class=\"col-md-4\" v-if=\"ward\">\r\n                <label class=\"form-label\">Street</label>\r\n              <multiselect \r\n                v-model=\"street\"\r\n                :options= \"streetList\"\r\n                placeholder=\"select Street\"\r\n                label=\"name\"\r\n                :searchable = \"true\"        \r\n                multple=\"false\"\r\n                :required=\"true\"  \r\n                :allow-empty=\"false\"\r\n            ></multiselect>\r\n            </div>\r\n            <div class=\"col-md-4\" v-if=\"ward\">\r\n                <label class=\"form-label\">Remark</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Remark\" v-model=\"remark\">\r\n            </div>\r\n\r\n\r\n        </div>\r\n        <div class=\"text-center gap-2 justify-content-end\">\r\n            <button type=\"button\" class=\"btn btn-danger me-3\" @click=\"create_address = false; resetForm();\">Cancel</button>\r\n            <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">\r\n                <span v-if=\"loading\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n                <span v-else>Register</span>\r\n            </button>\r\n        </div>\r\n    </form>\r\n             <!-- Address registration form ends-->\r\n       \r\n\r\n\r\n              <!-- loading spinner starts -->\r\n        <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n        <!-- Loading spinner ends -->\r\n        <div v-else class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table :data=\"address\" :columns=\"columns\" :options=\"table_option\">\r\n                            <template #actions=\"props\">\r\n                              \r\n                                <a href=\"javascript:;\" class=\"edit me-3\" @click=\"openEditModal(props.row)\" data-bs-toggle=\"modal\" :data-bs-target=\"'#edit-address-modal'\">\r\n                                   <svg\r\n                                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                width=\"24\"\r\n                                                height=\"24\"\r\n                                                viewBox=\"0 0 24 24\"\r\n                                                fill=\"none\"\r\n                                                stroke=\"currentColor\"\r\n                                                stroke-width=\"1.5\"\r\n                                                stroke-linecap=\"round\"\r\n                                                stroke-linejoin=\"round\"\r\n                                                class=\"text-primary\"\r\n                                            >\r\n                                                <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n                                                <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n                                            </svg>\r\n                                </a>                               \r\n\r\n                            </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n                <!-- Edit Address modal starts -->\r\n  <div class=\"modal fade mymodal\" id=\"edit-address-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"editConversionFactorModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"editConversionFactorModalLabel\">Edit Address</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"resetForm()\"></button>\r\n      </div>\r\n      <form @submit.prevent=\"updateAddress()\">\r\n        <div class=\"modal-body\">\r\n            <div class=\"row mb-3\">\r\n                <div class=\"col-md-4\">\r\n                    <label class=\"form-label\">Host</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter Host\" v-model=\"host\" required>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <label class=\"form-label\">House Number</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter House Number\" v-model=\"house_number\" >\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <label class=\"form-label\">Postal Code</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter Postal Code\" v-model=\"postal_code\" >\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <label class=\"form-label\">Region</label>\r\n                    <multiselect \r\n                        v-model=\"region\"\r\n                        :options=\"regionList\"\r\n                        placeholder=\"select Region\"\r\n                        label=\"name\"\r\n                        :searchable=\"true\"        \r\n                        :multiple=\"false\"\r\n                        :required=\"true\"\r\n                        :allow-empty=\"false\"\r\n                    ></multiselect>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <label class=\"form-label\">District</label>\r\n                    <multiselect \r\n                        v-model=\"district\"\r\n                        :options=\"districtList\"\r\n                        placeholder=\"select District\"\r\n                        label=\"name\"\r\n                        :searchable=\"true\"        \r\n                        :multiple=\"false\"\r\n                        :required=\"true\"  \r\n                        :allow-empty=\"false\"\r\n                    ></multiselect>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <label class=\"form-label\">Ward</label>\r\n                    <multiselect \r\n                        v-model=\"ward\"\r\n                        :options=\"wardList\"\r\n                        placeholder=\"select Ward\"\r\n                        label=\"name\"\r\n                        :searchable=\"true\"        \r\n                        :multiple=\"false\"\r\n                        :required=\"true\"  \r\n                        :allow-empty=\"false\"\r\n                    ></multiselect>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <label class=\"form-label\">Street</label>\r\n                    <multiselect \r\n                        v-model=\"street\"\r\n                        :options=\"streetList\"\r\n                        placeholder=\"select Street\"\r\n                        label=\"name\"\r\n                        :searchable=\"true\"        \r\n                        :multiple=\"false\"\r\n                        :required=\"true\"  \r\n                        :allow-empty=\"false\"\r\n                    ></multiselect>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <label class=\"form-label\">Remark</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter Remark\" v-model=\"remark\">\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <label class=\"form-label\">Email</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter Email\" v-model=\"email\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" id=\"close_editing\"  @click=\"resetForm()\">Close</button>\r\n          <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading_spinner\">\r\n            <span v-if=\"loading_spinner\" class=\"spinner-border spinner-border-sm text-white me-2\" role=\"status\"></span>\r\n            <span v-else>Edit</span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- Edit Address modal ends -->\r\n    \r\n      \r\n    </div>\r\n</template>\r\n\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n\r\n<script setup>\r\n    import { onMounted, ref, inject, computed, watch } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    \r\n    useMeta({ title: 'Address' });  \r\n    \r\n    const showMessage = inject('showMessage');\r\n    const create_address = ref(false);\r\n    const showError = inject('showError');\r\n    const user_permissions = JSON.parse(localStorage.getItem(\"user\")).permissions;\r\n    const formatDate = inject('formatDate');\r\n    const tableShimmer = inject('tableShimmer');\r\n    const loadingSpinner = inject('loadingSpinner'); \r\n    \r\n    const loading = ref(false);\r\n    const loading_spinner = ref(false);\r\n    const columns = ref(['SNo', 'host', 'region', 'house_number','postal_code','email', 'remark', 'actions']);\r\n    const host = ref('');\r\n    const house_number = ref('');\r\n    const postal_code = ref('');\r\n    const region = ref('');\r\n    const district = ref('');\r\n    const ward = ref('');\r\n    const street = ref('');\r\n    const email = ref('');\r\n    const remark = ref('');\r\n    const items = ref([]);\r\n    const address = ref([]);\r\n    const address_id = ref('');\r\n\r\n    \r\n    const table_option = ref({\r\n        perPage: 20,\r\n        perPageValues: [20, 50 ,100],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['SNo', 'name','short_name','status'],\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n\r\n    const getAddress = async () => {\r\n        loading_spinner.value = true;\r\n        try {\r\n            const response = await axiosInstance.get('addresses');\r\n            address.value = response.data.map((item, index) => ({\r\n    SNo: index + 1,\r\n    id: item.id,\r\n    host: item.host,\r\n    region: item.region?.name,\r\n    region_id: item.region_id,\r\n    house_number: item.house_number,\r\n    district_id: item.district_id,\r\n    ward_id: item.ward_id,\r\n    street_id: item.street_id,\r\n    postal_code: item.postal_code,\r\n    email: item.email,\r\n    remark: item.remark,\r\n}));\r\n        } catch (error) {\r\n          console.log(error)\r\n            showError(error.message);\r\n        }finally{\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n\r\n    const getAddressReactive = () => {\r\n        axiosInstance.get('/addresses').then((response) => {\r\n            address.value = response.data.map((item, index) => ({\r\n                ...item,\r\n                SNo: index + 1,\r\n                id: item.id,\r\n                host: item.host,\r\n                region: item.region?.name,\r\n                house_number: item.house_number,\r\n                postal_code: item.postal_code,\r\n                email: item.email,\r\n                remark: item.remark,\r\n            }));\r\n        });        \r\n    };\r\n    \r\n    const registerAddress = async () => {\r\n      if (!region.value || !region.value.id) {\r\n        showError('Please select a region');\r\n        return;\r\n    }\r\n        loading.value = true;\r\n        const itemData = {\r\n            host: host.value,\r\n            region_id: region.value.id,\r\n            district_id: district.value.id,\r\n            ward_id: ward.value.id,\r\n            street_id: street.value.id,\r\n            house_number: house_number.value,\r\n            postal_code: postal_code.value,\r\n            email: email.value,\r\n            remark: remark.value,\r\n        };\r\n    \r\n        try {\r\n            const response = await axiosInstance.post('/addresses', itemData);\r\n            getAddressReactive();\r\n             resetForm();\r\n            showMessage('address registered successfully!');\r\n           \r\n        } catch (error) {\r\n          console.log(error)\r\n            showError(error.message);\r\n        } finally {\r\n            loading.value = false;\r\n        }\r\n    }; \r\n\r\n    const resetForm = () => {\r\n    create_address.value = false;\r\n    host.value = '';\r\n    house_number.value = '';\r\n    region.value = '';\r\n    district.value = '';\r\n    ward.value = '';\r\n    street.value = '';\r\n    postal_code.value = '';\r\n    email.value = '';\r\n    remark.value = '';\r\n};\r\n\r\n    const updateAddress = async () => {\r\n        loading_spinner.value = true;\r\n        const payload = {\r\n            host: host.value,\r\n            region_id: region.value.id,\r\n            district_id: district.value.id,\r\n            ward_id: ward.value.id,\r\n            street_id: street.value.id,\r\n            house_number: house_number.value, \r\n            postal_code: postal_code.value,\r\n            email: email.value,\r\n            remark: remark.value,\r\n        };\r\n        try {\r\n            const response = await axiosInstance.put(`/addresses/${address_id.value}`, payload);\r\n            getAddressReactive();\r\n            document.getElementById('close_editing').click();\r\n            showMessage('address updated successfully!');\r\n        } catch (error) {\r\n            showError(error.message);\r\n        } finally {\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n\r\n    const openEditModal = async (row) => {\r\n        address_id.value = row.id;\r\n        host.value = row.host;\r\n        house_number.value = row.house_number;\r\n        postal_code.value = row.postal_code;\r\n        email.value = row.email;\r\n        remark.value = row.remark;\r\n        \r\n        // Set region first\r\n        region.value = regionList.value.find(a => a.id === row.region_id) || '';\r\n        \r\n        // Load districts for the selected region\r\n        if (region.value && region.value.id) {\r\n            await getDistrict();\r\n            district.value = districtList.value.find(a => a.id === row.district_id) || '';\r\n            \r\n            // Load wards for the selected district\r\n            if (district.value && district.value.id) {\r\n                await getWard();\r\n                ward.value = wardList.value.find(a => a.id === row.ward_id) || '';\r\n                \r\n                // Load streets for the selected ward\r\n                if (ward.value && ward.value.id) {\r\n                    await getStreet();\r\n                    street.value = streetList.value.find(a => a.id === row.street_id) || '';\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n     const regionList = ref([]);\r\n    const getRegion = async () => {\r\n        try {\r\n            const response = await axiosInstance.get('/regions');\r\n            regionList.value = response.data;\r\n        } catch (error) {\r\n            showError(error.message);\r\n        }\r\n    };\r\n\r\n     const districtList = ref([]);\r\n    const getDistrict = async () => {\r\n        try {\r\n            const response = await axiosInstance.get('/districts?region_id='+region.value.id);\r\n            districtList.value = response.data;\r\n        } catch (error) {\r\n            showError(error.message);\r\n        }\r\n    };\r\n\r\n      const wardList = ref([]);\r\n    const getWard = async () => {\r\n        try {\r\n            const response = await axiosInstance.get('/wards?district_id='+district.value.id);\r\n            wardList.value = response.data;\r\n        } catch (error) {\r\n            showError(error.message);\r\n        }\r\n    };\r\n\r\n    const streetList = ref([]);\r\n    const getStreet = async () => {\r\n        try {\r\n            const response = await axiosInstance.get('/streets?ward_id='+ward.value.id);\r\n            streetList.value = response.data;\r\n        } catch (error) {\r\n            showError(error.message);\r\n        }\r\n    };\r\n\r\n    // Add watchers for cascading dropdowns\r\n    watch(region, (newRegion) => {\r\n        if (newRegion && newRegion.id) {\r\n            district.value = '';\r\n            ward.value = '';\r\n            street.value = '';\r\n            getDistrict();\r\n        } else {\r\n            districtList.value = [];\r\n            wardList.value = [];\r\n            streetList.value = [];\r\n        }\r\n    });\r\n\r\n    watch(district, (newDistrict) => {\r\n        if (newDistrict && newDistrict.id) {\r\n            ward.value = '';\r\n            street.value = '';\r\n            getWard();\r\n        } else {\r\n            wardList.value = [];\r\n            streetList.value = [];\r\n        }\r\n    });\r\n\r\n    watch(ward, (newWard) => {\r\n        if (newWard && newWard.id) {\r\n            street.value = '';\r\n            getStreet();\r\n        } else {\r\n            streetList.value = [];\r\n        }\r\n    });\r\n    \r\n onMounted(() => {\r\n        getAddress();\r\n        getRegion();   \r\n    });\r\n</script>\r\n","import script from \"./addresses.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./addresses.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./addresses.vue?vue&type=style&index=0&id=37d23740&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useMeta","title","showMessage","inject","create_address","ref","showError","tableShimmer","JSON","parse","localStorage","getItem","permissions","loading","loading_spinner","columns","host","house_number","postal_code","region","district","ward","street","email","remark","address","address_id","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","axiosInstance","axios","baseURL","process","getAddress","async","value","response","get","data","map","item","index","SNo","id","name","region_id","district_id","ward_id","street_id","error","console","log","message","getAddressReactive","then","registerAddress","itemData","post","resetForm","updateAddress","payload","put","document","getElementById","click","openEditModal","row","regionList","find","a","getDistrict","districtList","getWard","wardList","getStreet","streetList","getRegion","watch","newRegion","newDistrict","newWard","onMounted","__exports__"],"sourceRoot":""}