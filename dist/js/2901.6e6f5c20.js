"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[2901],{42901:function(e,a,l){l.r(a),l.d(a,{default:function(){return ue}});var t=l(66252),n=l(49963),o=l(2262),s=l(87066),i=l(56296);l(26212);const d={class:"layout-px-spacing"},r=(0,t.uE)('<ul class="navbar-nav flex-row mt-2"><li><div class="page-header"><nav class="breadcrumb-one" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="javascript:;">Masters</a></li><li class="breadcrumb-item active" aria-current="page"><span> vendor </span></li></ol></nav></div></li></ul>',1),c={class:"d-flex me-4 mt-2"},u={class:"ms-auto"},m=(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,t._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})],-1),v=[m],p=(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,t._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1),b=[p],h=["onSubmit"],y=(0,t._)("h4",{class:"text-center"},"REGISTER VENDOR",-1),_={class:"row mb-2"},g={class:"col-md-4"},f=(0,t._)("label",{class:"form-label"},"Vendor Name",-1),w={class:"col-md-4"},x=(0,t._)("label",{class:"form-label"},"Email",-1),k={class:"col-md-4"},V=(0,t._)("label",{class:"form-label"},"Phone",-1),C={class:"row mb-2"},E={class:"col-md-6"},H=(0,t._)("label",{class:"form-label"},"Address",-1),M={class:"col-md-6"},N=(0,t._)("label",{class:"form-label"},"Location",-1),S={class:"text-center gap-2 justify-content-end"},L=["disabled"],U={key:0,class:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"},D={key:1},z=["innerHTML"],T={key:2,class:"row layout-top-spacing"},q={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},O={class:"panel p-0"},P={class:"custom-table table3"},R={class:"actions text-center"},$=["onClick"],A=(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-success"},[(0,t._)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,t._)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1),j=[A],I={class:"modal fade mymodal",id:"vendor-edit-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"VendorEditModalLabel","aria-hidden":"true"},B={class:"modal-dialog modal-xl"},W={class:"modal-content"},X=(0,t._)("div",{class:"modal-header"},[(0,t._)("h1",{class:"modal-title fs-5",id:"VendorEditModalLabel"},"Edit Vendor"),(0,t._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close_editing"})],-1),F={class:"modal-body"},G={class:"row mb-3"},J={class:"col-md-4"},Y=(0,t._)("label",{class:"form-label"},"Vendor Name",-1),Z={class:"col-md-4"},K=(0,t._)("label",{class:"form-label"},"Email",-1),Q={class:"col-md-4"},ee=(0,t._)("label",{class:"form-label"},"Phone",-1),ae={class:"col-md-6"},le=(0,t._)("label",{class:"form-label"},"Address",-1),te={class:"col-md-6"},ne=(0,t._)("label",{class:"form-label"},"Location",-1),oe={class:"modal-footer"},se=["disabled"],ie={key:0,class:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"},de={key:1};var re={setup(e){(0,i.j)({title:"vendor"});const a=(0,t.f3)("showMessage"),l=(0,t.f3)("showError"),m=(JSON.parse(localStorage.getItem("user")).permissions,(0,t.f3)("tableShimmer")),p=((0,t.f3)("loadingSpinner"),(0,o.iH)(!1)),A=(0,o.iH)(!1),re=(0,o.iH)(["SNo","name","email","phone","address","location","actions"]),ce=(0,o.iH)(""),ue=(0,o.iH)(""),me=(0,o.iH)(""),ve=(0,o.iH)(""),pe=(0,o.iH)(""),be=(0,o.iH)([]),he=(0,o.iH)({perPage:20,perPageValues:[20,50,100],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:["SNo","name","email","phone","address","location"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),ye=s.Z.create({baseURL:"https://bushman.ink/api/v1/"}),_e=async()=>{A.value=!0;try{const e=await ye.get("vendors");be.value=e.data.map(((e,a)=>({...e,SNo:a+1,id:e.id,name:e.name,email:e.email,phone:e.phone,address:e.address,location:e.location})))}catch(e){l(e.message)}finally{A.value=!1}},ge=(0,o.iH)(!1),fe=async()=>{ge.value=!0;const e={name:ce.value,phone:me.value,email:ue.value,address:ve.value,location:pe.value};try{await ye.post("vendors",e);_e(),a("Vendor registered successfully!"),we()}catch(t){console.log(t),l(t.message)}finally{ge.value=!1}},we=()=>{p.value=!1,ce.value="",ue.value="",me.value="",ve.value="",pe.value=""},xe=(0,o.iH)(null),ke=e=>{xe.value=e.id,ce.value=e.name,ue.value=e.email,me.value=e.phone,ve.value=e.address,pe.value=e.location},Ve=async()=>{ge.value=!0;const e={name:ce.value,phone:me.value,email:ue.value,address:ve.value,location:pe.value};try{await ye.put(`vendors/${xe.value}`,e);_e(),a("Vendor updated successfully!"),document.getElementById("close_editing").click()}catch(t){console.log(t),l(t.message)}finally{ge.value=!1}},Ce=async()=>{try{const e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e);const a=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Vendors List</title>\n<style>\n  body { font-family: 'Courier New', monospace; margin: 40px; font-size: 11px; }\n  .text-style { font-family: 'Courier New', monospace; }\n  .company-title { text-align: center; }\n  .title { text-align: center; font-size: 18px; margin: 10px 0; }\n  table { width: 95%; border-collapse: collapse; margin: 10px auto; font-size: 11px; }\n  th, td { border: 0.5px solid #000; padding: 4px; }\n  th { background-color: #f8f8f8; font-weight: bold; }\n  .text-right { text-align: right; }\n  .text-center { text-align: center; }\n  hr { border: 0; border-top: 0.5px solid #000; margin: 0px 0; }\n  @media print { body { margin: 10mm; } }\n</style>\n</head>\n<body>\n\n<div class="company-title text-style">\n  <i>\n  <h1>COPEX CONTRACTORS CO.LTD</h1>\n  <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\n  <div><b>Tel:</b> 0713 000 777, 0657 111 555</div>\n  <div><b>Email:</b> info@copexcontractors.co.tz</div>\n  <div><b>TIN:</b> 135-489-247 &nbsp;&nbsp; <b>VRN:</b> 40-032826C</div>\n  </i>\n</div>\n\n<hr style="margin-top:20px">\n\n<div class="title text-style">\n  VENDORS LIST\n</div>\n\n<hr>\n\n<table>\n  <thead>\n    <tr>\n      <th>No.</th>\n      <th>Name</th>\n      <th>Email</th>\n      <th>Phone</th>\n      <th>Address</th>\n      <th>Location</th>\n    </tr>\n  </thead>\n  <tbody>\n    ${be.value.map(((e,a)=>`\n    <tr>\n      <td>${a+1}</td>\n      <td>${e.name||"-"}</td>\n      <td>${e.email||"-"}</td>\n      <td>${e.phone||"-"}</td>\n      <td>${e.address||"-"}</td>\n      <td>${e.location||"-"}</td>\n    </tr>\n    `)).join("")}\n  </tbody>\n</table>\n\n</body>\n</html>\n`,l=e.contentWindow.document;l.open(),l.write(a),l.close(),e.onload=()=>{e.contentWindow.focus(),e.contentWindow.print(),setTimeout((()=>{document.body.removeChild(e)}),1e3)}}catch(e){l(`Failed to print report: ${e.message}`)}};return(0,t.bv)((()=>{_e()})),(e,a)=>{const l=(0,t.up)("v-client-table");return(0,t.wg)(),(0,t.iD)("div",d,[r,(0,t._)("div",c,[(0,t._)("div",u,[(0,t._)("button",{class:"btn btn-primary me-2",onClick:a[0]||(a[0]=e=>p.value=!p.value)},v),(0,t._)("button",{class:"btn btn-success",onClick:a[1]||(a[1]=e=>Ce())},b)])]),p.value?((0,t.wg)(),(0,t.iD)("form",{key:0,class:"mt-3 p-3 border rounded bg-white shadow",onSubmit:(0,n.iM)(fe,["prevent"])},[y,(0,t._)("div",_,[(0,t._)("div",g,[f,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Enter Vendor Name","onUpdate:modelValue":a[2]||(a[2]=e=>ce.value=e),required:""},null,512),[[n.nr,ce.value]])]),(0,t._)("div",w,[x,(0,t.wy)((0,t._)("input",{type:"email",class:"form-control",placeholder:"Enter Email","onUpdate:modelValue":a[3]||(a[3]=e=>ue.value=e)},null,512),[[n.nr,ue.value]])]),(0,t._)("div",k,[V,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Enter Phone Number","onUpdate:modelValue":a[4]||(a[4]=e=>me.value=e),required:""},null,512),[[n.nr,me.value]])])]),(0,t._)("div",C,[(0,t._)("div",E,[H,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Enter Address","onUpdate:modelValue":a[5]||(a[5]=e=>ve.value=e),required:""},null,512),[[n.nr,ve.value]])]),(0,t._)("div",M,[N,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Enter Location","onUpdate:modelValue":a[6]||(a[6]=e=>pe.value=e),required:""},null,512),[[n.nr,pe.value]])])]),(0,t._)("div",S,[(0,t._)("button",{type:"button",class:"btn btn-danger me-3",onClick:a[7]||(a[7]=e=>{p.value=!1,we()})},"Cancel"),(0,t._)("button",{type:"submit",class:"btn btn-primary",disabled:ge.value},[ge.value?((0,t.wg)(),(0,t.iD)("span",U)):((0,t.wg)(),(0,t.iD)("span",D,"Register"))],8,L)])],40,h)):(0,t.kq)("",!0),A.value?((0,t.wg)(),(0,t.iD)("div",{key:1,innerHTML:(0,o.SU)(m)()},null,8,z)):((0,t.wg)(),(0,t.iD)("div",T,[(0,t._)("div",q,[(0,t._)("div",O,[(0,t._)("div",P,[(0,t.Wm)(l,{data:be.value,columns:re.value,options:he.value},{actions:(0,t.w5)((e=>[(0,t._)("div",R,[(0,t._)("a",{href:"javascript:;",class:"edit me-3",onClick:a=>ke(e.row),"data-bs-toggle":"modal","data-bs-target":"#vendor-edit-modal"},j,8,$)])])),_:1},8,["data","columns","options"])])])])])),(0,t._)("div",I,[(0,t._)("div",B,[(0,t._)("div",W,[X,(0,t._)("form",{onSubmit:a[14]||(a[14]=(0,n.iM)((e=>Ve()),["prevent"]))},[(0,t._)("div",F,[(0,t._)("div",G,[(0,t._)("div",J,[Y,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=e=>ce.value=e),required:""},null,512),[[n.nr,ce.value]])]),(0,t._)("div",Z,[K,(0,t.wy)((0,t._)("input",{type:"email",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=e=>ue.value=e)},null,512),[[n.nr,ue.value]])]),(0,t._)("div",Q,[ee,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=e=>me.value=e),required:""},null,512),[[n.nr,me.value]])]),(0,t._)("div",ae,[le,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=e=>ve.value=e),required:""},null,512),[[n.nr,ve.value]])]),(0,t._)("div",te,[ne,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=e=>pe.value=e),required:""},null,512),[[n.nr,pe.value]])])])]),(0,t._)("div",oe,[(0,t._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:a[13]||(a[13]=e=>we()),id:"close_editing"},"Close"),(0,t._)("button",{type:"submit",class:"btn btn-primary",disabled:ge.value},[ge.value?((0,t.wg)(),(0,t.iD)("span",ie)):((0,t.wg)(),(0,t.iD)("span",de,"Update"))],8,se)])],32)])])])])}}};const ce=re;var ue=ce}}]);
//# sourceMappingURL=2901.6e6f5c20.js.map