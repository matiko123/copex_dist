"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[8330],{58330:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ks}});t(26699);var l=t(66252),r=t(3577),s=t(49963),o=t(2262),n=t(87066),i=t(26212),d=t.n(i),c=t(56296);const u={class:"layout-px-spacing"},v=(0,l.uE)('<ul class="navbar-nav flex-row"><li><div class="page-header"><nav class="breadcrumb-one" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="javascript:;">Purchase Order</a></li></ol></nav></div></li></ul>',1),p={key:0,class:"d-flex container position-relative"},m={class:"ms-auto"},g={"data-bs-toggle":"collapse","data-bs-target":"#collapseWidthExample","aria-expanded":"false","aria-controls":"collapseWidthExample"},h={href:"javascript:;",id:"ddlnotify",class:"btn dropdown-toggle nav-link position-relative p-0 shadow"},_=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-bell text-danger",style:{transform:"scale(2)"}},[(0,l._)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,l._)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})],-1),b={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},y={style:{position:"absolute",top:"100%",right:"0","z-index":"1050"}},w={class:"collapse shadow",id:"collapseWidthExample",style:{"min-width":"300px"}},k={class:"text-start card card-body text-dark"},f=(0,l._)("br",null,null,-1),x={class:"d-flex"},D=["onClick"],S=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"})],-1),C=[S],q={class:"d-flex mt-3 gap-3 justify-content-center align-items-center"},H={class:"form-group col-md-4"},U=(0,l._)("label",{for:"projectFilter",class:"form-label"},"Filter by Project",-1),V=(0,l._)("option",{value:""},"All Projects",-1),M=["value"],A={class:"form-group col-md-4"},z=(0,l._)("label",{for:"statusFilter",class:"form-label"},"Filter by Status",-1),P=(0,l._)("option",{value:""},"All Statuses",-1),E=(0,l._)("option",{value:"approved"},"Approved",-1),O=(0,l._)("option",{value:"Unapproved"},"Unapproved",-1),j=(0,l._)("option",{value:"Inactive"},"Inactive",-1),L=[P,E,O,j],R={class:"form-group col-md-2 mt-4"},B=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chat-square-text",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),(0,l._)("path",{d:"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"})],-1),N=(0,l.Uk)("  Remark "),I=[B,N],$={class:"d-flex me-4"},T={class:"ms-auto d-flex align-items-center"},W=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,l._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})],-1),F=[W],Y=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-x-square",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,l._)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1),J=[Y],G=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1),K=(0,l.Uk)("  Print "),X=[G,K],Q={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-lock-fill",viewBox:"0 0 16 16"},Z=(0,l._)("path",{"fill-rule":"evenodd",d:"M8 0a4 4 0 0 1 4 4v2.05a2.5 2.5 0 0 1 2 2.45v5a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 13.5v-5a2.5 2.5 0 0 1 2-2.45V4a4 4 0 0 1 4-4m0 1a3 3 0 0 0-3 3v2h6V4a3 3 0 0 0-3-3"},null,-1),ee=[Z],ae={key:1,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-unlock-fill",viewBox:"0 0 16 16"},te=(0,l._)("path",{"fill-rule":"evenodd",d:"M12 0a4 4 0 0 1 4 4v2.5h-1V4a3 3 0 1 0-6 0v2h.5A2.5 2.5 0 0 1 12 8.5v5A2.5 2.5 0 0 1 9.5 16h-7A2.5 2.5 0 0 1 0 13.5v-5A2.5 2.5 0 0 1 2.5 6H8V4a4 4 0 0 1 4-4"},null,-1),le=[te],re=["onSubmit"],se=(0,l._)("h4",{class:"text-center"},"LOCAL PURCHASE ORDER REGISTRATION",-1),oe={class:"row mb-2"},ne={key:0,class:"col-md-3"},ie=(0,l._)("label",{class:"form-label"},"Select A Supplier",-1),de=(0,l._)("option",{value:""},"Select Supplier",-1),ce=["value"],ue=(0,l._)("option",{value:"NEW_VENDOR"},"New Supplier",-1),ve={key:1,class:"col-md-3"},pe=(0,l._)("label",{class:"form-label"},"Supplier Name",-1),me={key:2,class:"col-md-3"},ge=(0,l._)("label",{class:"form-label"},"Supplier Email",-1),he={key:3,class:"col-md-3"},_e=(0,l._)("label",{class:"form-label"},"Supplier Phone",-1),be={key:4,class:"col-md-3"},ye=(0,l._)("label",{class:"form-label"},"Supplier Address",-1),we={key:5,class:"col-md-3"},ke=(0,l._)("label",{class:"form-label"},"Supplier Location",-1),fe={class:"col-md-3"},xe=(0,l._)("label",{class:"form-label"},"Select Project Name",-1),De={class:"col-md-3"},Se=(0,l._)("label",{class:"form-label"},"Payment Terms",-1),Ce={key:6,class:"col-md-3"},qe=(0,l._)("label",{class:"form-label"},"Select Company",-1),He={class:"text-center gap-2 justify-content-end"},Ue=(0,l._)("button",{type:"submit",class:"btn btn-primary"},"Register",-1),Ve={key:3,class:"d-flex justify-content-center align-items-center",style:{"block-size":"100px"}},Me=(0,l._)("span",{class:"text-primary spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z"}),(0,l._)("path",{d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z"}),(0,l._)("path",{d:"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z"})]),(0,l.Uk)(" Loading... ")],-1),Ae=[Me],ze={class:"text-center"},Pe={class:"row layout-top-spacing"},Ee={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},Oe={class:"panel p-0"},je={class:"custom-table table3"},Le={href:"javascript:void(0);",title:"Delete","data-bs-toggle":"tooltip","data-bs-placement":"top"},Re=["onClick"],Be=(0,l._)("polyline",{points:"3 6 5 6 21 6"},null,-1),Ne=(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},null,-1),Ie=[Be,Ne],$e=["onClick"],Te=(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1),We=(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1),Fe=[Te,We],Ye=["onClick"],Je={key:0,class:"spinner-border text-primary mt-1",role:"status",style:{width:"1.5rem",height:"1.5rem"}},Ge=(0,l._)("span",{class:"sr-only"},"Loading...",-1),Ke=[Ge],Xe={key:1,xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},Qe=(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"},null,-1),Ze=(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"},null,-1),ea=[Qe,Ze],aa=["href"],ta=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1),la=[ta],ra=["onClick"],sa=(0,l._)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"},null,-1),oa=[sa],na=["onClick"],ia=(0,l._)("path",{d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zM8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0z"},null,-1),da=(0,l._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"},null,-1),ca=[ia,da],ua={key:0,class:"modal fade show d-block",role:"dialog"},va={class:"modal-dialog modal-lg"},pa={class:"modal-content d-flex flex-column",style:{"block-size":"auto"}},ma=(0,l._)("h5",{class:"modal-title"},"LPO EDITING ",-1),ga=["onSubmit"],ha={class:"modal-body flex-grow-1"},_a={class:"row mb-2"},ba={key:0,class:"col-md-4"},ya=(0,l._)("label",{class:"form-label"},"Select A Supplier",-1),wa=(0,l._)("option",{value:""},"Select Supplier",-1),ka=["value"],fa=(0,l._)("option",{value:"NEW_VENDOR"},"New Supplier",-1),xa={key:1,class:"col-md-4"},Da=(0,l._)("label",{class:"form-label"},"Supplier Name",-1),Sa={key:2,class:"col-md-4"},Ca=(0,l._)("label",{class:"form-label"},"Supplier Email",-1),qa={key:3,class:"col-md-4"},Ha=(0,l._)("label",{class:"form-label"},"Supplier Location",-1),Ua={key:4,class:"col-md-4"},Va=(0,l._)("label",{class:"form-label"},"Supplier Phone",-1),Ma={key:5,class:"col-md-4"},Aa=(0,l._)("label",{class:"form-label"},"Supplier Address",-1),za={class:"col-md-4"},Pa=(0,l._)("label",{class:"form-label"},"Select Project Name",-1),Ea={class:"col-md-4"},Oa=(0,l._)("label",{class:"form-label"},"Payment Terms",-1),ja={class:"modal-footer"},La={key:0,class:"float-start"},Ra={class:"float-end"},Ba=(0,l.Uk)("   "),Na=["disabled"],Ia={key:0},$a=(0,l._)("span",{class:"spinner-border spinner-border-xs",role:"status","aria-hidden":"true"},null,-1),Ta=[$a],Wa={key:1},Fa={key:0,class:"modal fade show d-block",role:"dialog"},Ya={class:"modal-dialog modal-xl"},Ja={class:"modal-content d-flex flex-column",style:{height:"90vh"}},Ga=(0,l._)("h5",{class:"modal-title"},"Details for Local Purchase Order ",-1),Ka={class:"d-flex"},Xa={class:"form-group col-md-2 mt-4 ms-auto"},Qa=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chat-square-text",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),(0,l._)("path",{d:"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"})],-1),Za=(0,l.Uk)("  Remark "),et=[Qa,Za],at={key:0},tt={class:"col-md-10"},lt=(0,l._)("div",{class:"col-md-1"},[(0,l._)("button",{type:"submit",class:"btn btn-primary mb-3"},"Send")],-1),rt={key:1,class:"modal-body flex-grow-1",style:{"overflow-y":"auto"}},st={key:0,class:"d-flex justify-content-between align-items-center mb-3"},ot={class:"text-dark"},nt={style:{"font-weight":"bolder"}},it={key:0},dt={key:0,class:"spinner-border text-white",role:"status"},ct=(0,l._)("span",{class:"sr-only"},null,-1),ut=[ct],vt={key:1},pt={key:0,class:"spinner-border text-white",role:"status"},mt=(0,l._)("span",{class:"sr-only"},null,-1),gt=[mt],ht={key:1},_t={key:1},bt={key:0,class:"spinner-border text-white",role:"status"},yt=(0,l._)("span",{class:"sr-only"},null,-1),wt=[yt],kt={key:1},ft={key:0,class:"spinner-border text-white",role:"status"},xt=(0,l._)("span",{class:"sr-only"},null,-1),Dt=[xt],St={key:1},Ct={key:2},qt={key:0,class:"spinner-border text-white",role:"status"},Ht=(0,l._)("span",{class:"sr-only"},null,-1),Ut=[Ht],Vt={key:1},Mt={key:0,class:"spinner-border text-white",role:"status"},At=(0,l._)("span",{class:"sr-only"},null,-1),zt=[At],Pt={key:1},Et={key:3},Ot={key:0,class:"spinner-border text-white",role:"status"},jt=(0,l._)("span",{class:"sr-only"},null,-1),Lt=[jt],Rt={key:1},Bt={key:0,class:"spinner-border text-white",role:"status"},Nt=(0,l._)("span",{class:"sr-only"},null,-1),It=[Nt],$t={key:1},Tt={key:4},Wt={key:0,class:"spinner-border text-white",role:"status"},Ft=(0,l._)("span",{class:"sr-only"},null,-1),Yt=[Ft],Jt={key:1},Gt={key:0,class:"spinner-border text-white",role:"status"},Kt=(0,l._)("span",{class:"sr-only"},null,-1),Xt=[Kt],Qt={key:1},Zt={key:5},el={key:0,class:"spinner-border text-white",role:"status"},al=(0,l._)("span",{class:"sr-only"},null,-1),tl=[al],ll={key:1},rl={key:0,class:"spinner-border text-white",role:"status"},sl=(0,l._)("span",{class:"sr-only"},null,-1),ol=[sl],nl={key:1},il={class:"text-dark"},dl={key:1,class:"row layout-top-spacing"},cl={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},ul={class:"panel p-0"},vl=(0,l._)("div",{class:"d-flex"},[(0,l._)("h6",{class:"text-center mt-2 mx-2"},"Approval Status")],-1),pl={class:"custom-table table3 table-responsive"},ml={class:"table"},gl=(0,l._)("th",null,"Operation's Dept",-1),hl={key:0},_l={key:1},bl=(0,l._)("th",null,"Sr.Accountant",-1),yl=(0,l._)("th",null,"MD",-1),wl={class:"row layout-top-spacing"},kl={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},fl={class:"panel p-0"},xl={key:0,class:"d-flex justify-content-center align-items-center",style:{height:"100px"}},Dl=(0,l._)("span",{class:"text-primary spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z"}),(0,l._)("path",{d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z"}),(0,l._)("path",{d:"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z"})]),(0,l.Uk)(" Loading... ")],-1),Sl=[Dl],Cl={key:1,class:"custom-table table3"},ql=(0,l._)("a",{href:"javascript:void(0);",title:"Delete","data-bs-toggle":"tooltip","data-bs-placement":"top"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger"},[(0,l._)("polyline",{points:"3 6 5 6 21 6"}),(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})])],-1),Hl={key:2,class:"modal-body flex-grow-1",style:{"overflow-y":"auto"}},Ul=["onSubmit"],Vl={class:"d-flex"},Ml={class:"ms-auto"},Al=(0,l._)("h4",{class:"text-center"},"ITEM REGISTRATION FORM",-1),zl={class:"row mb-2"},Pl={class:"col-md-6"},El=(0,l._)("label",{class:"form-label"},"Budget ",-1),Ol={key:0,class:"col-md-6"},jl=(0,l._)("label",{class:"form-label"},"Description of good",-1),Ll=(0,l._)("option",{value:"",disabled:""},"Select Category",-1),Rl=(0,l._)("option",{value:"Direct"},"Direct Filling",-1),Bl=(0,l._)("option",{value:"Bulk"},"Bulk",-1),Nl=[Ll,Rl,Bl],Il={key:1,class:"col-md-6"},$l=(0,l._)("label",{class:"form-label"},"Select items",-1),Tl={key:2,class:"col-md-6"},Wl=(0,l._)("label",{class:"form-label"},"Category ",-1),Fl={key:3,class:"col-md-5"},Yl=(0,l._)("label",{class:"form-label"},"Item ",-1),Jl={key:4,class:"col-md-1 text-center"},Gl=(0,l._)("label",{for:"machineCheck",class:"form-label"},"Machine",-1),Kl={key:5,class:"col-md-6"},Xl=(0,l._)("label",{class:"form-label"},"Select Machine",-1),Ql={key:6,class:"col-md-2"},Zl=(0,l._)("label",{class:"form-label"},"Units",-1),er=["value"],ar={class:"form-control"},tr={key:7,class:"col-md-4"},lr=(0,l._)("label",{class:"form-label"},"specification",-1),rr={key:8,class:"col-md-6"},sr={class:"form-label"},or={key:0,class:"text-danger"},nr=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-exclamation-triangle",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"}),(0,l._)("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"})],-1),ir=(0,l.Uk)(" Over Budget Rate "),dr=[nr,ir],cr={key:9,class:"col-md-6"},ur={class:"form-label"},vr={key:0,class:"text-danger"},pr=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-exclamation-triangle",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"}),(0,l._)("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"})],-1),mr=(0,l.Uk)(" Over Budget Quantity "),gr=[pr,mr],hr={key:10,class:"col-md-6"},_r={class:"form-label"},br={key:0,class:"text-danger"},yr=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-exclamation-triangle",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"}),(0,l._)("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"})],-1),wr=(0,l.Uk)(" Over Budget Total "),kr=[yr,wr],fr={class:"form-control"},xr={class:"d-flex"},Dr={class:"ms-auto"},Sr=["disabled"],Cr={key:0},qr=(0,l._)("span",{class:"spinner-border spinner-border-xs",role:"status","aria-hidden":"true"},null,-1),Hr=[qr],Ur={key:1},Vr={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},Mr={class:"panel p-0"},Ar={key:0,class:"d-flex justify-content-between mb-3 p-3"},zr=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",fill:"currentColor",class:"bi bi-check2-square",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z"}),(0,l._)("path",{d:"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0"})],-1),Pr=(0,l.Uk)(" Ready "),Er=[zr,Pr],Or=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-plus",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0z"}),(0,l._)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h3V4a.5.5 0 0 1 1 0v3.5h3a.5.5 0 0 1 0 1h-3V12a.5.5 0 0 1-1 0V8.5h-3A.5.5 0 0 1 4 8z"})],-1),jr=(0,l.Uk)(" Add Item "),Lr=[Or,jr],Rr={key:1,class:"d-flex justify-content-center align-items-center",style:{height:"100px"}},Br=(0,l._)("span",{class:"text-primary spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z"}),(0,l._)("path",{d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z"}),(0,l._)("path",{d:"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z"})])],-1),Nr=[Br],Ir={key:2,class:"custom-table table3"},$r=["onClick"],Tr=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger"},[(0,l._)("polyline",{points:"3 6 5 6 21 6"}),(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),Wr=[Tr],Fr={key:0,class:"modal-backdrop fade show"},Yr={key:0,class:"modal fade show d-block",tabindex:"-1",role:"dialog","aria-labelledby":"deleteModalLabel","aria-hidden":"true"},Jr=(0,l._)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600;700&display=swap",rel:"stylesheet"},null,-1),Gr={class:"modal-dialog modal-dialog-centered modal-lg"},Kr={class:"modal-content",style:{"font-family":"'Roboto', sans-serif"}},Xr=(0,l._)("h5",{class:"modal-title text-white",id:"deleteModalLabel",style:{"font-weight":"600"}},"Confirm Lpo Deletion",-1),Qr={class:"modal-body"},Zr={class:"mb-3"},es=(0,l._)("label",{for:"deleteReason",class:"form-label",style:{"font-weight":"600"}},"Reason for deletion:",-1),as=(0,l._)("div",{class:"form-text",style:{"font-weight":"400"}},"This reason will be recorded in the copex ERP.",-1),ts={class:"modal-footer"},ls=(0,l._)("i",{class:"bi bi-x-circle me-1"},null,-1),rs=(0,l.Uk)(" Cancel "),ss=[ls,rs],os=["disabled"],ns={key:0,class:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"},is={key:1,class:"bi bi-trash3 me-1"},ds={key:1,class:"modal-backdrop fade show"},cs=["onClick"],us={class:"modal-dialog modal-dialog-centered modal-xl"},vs={class:"modal-content d-flex flex-column",style:{height:"90vh"}},ps=(0,l._)("h5",{class:"modal-title"},"Remarks for LPOs",-1),ms={class:"modal-body flex-grow-1 p-3 p-md-4 bg-light",style:{"overflow-y":"auto"}},gs={key:0,class:"d-flex justify-content-center align-items-center",style:{height:"100px"}},hs=(0,l._)("div",{class:"spinner-border text-primary",role:"status"},[(0,l._)("span",{class:"visually-hidden"},"Loading...")],-1),_s=[hs],bs={key:1},ys={key:0,class:"d-flex justify-content-center align-items-center",style:{"block-size":"100px"}},ws=(0,l._)("span",{class:"text-primary spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z"}),(0,l._)("path",{d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z"}),(0,l._)("path",{d:"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z"})]),(0,l.Uk)(" Loading... ")],-1),ks=[ws],fs={key:1},xs={key:0,class:"text-center py-5"},Ds=(0,l._)("div",{class:"mb-3 text-muted"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"currentColor",class:"bi bi-chat-square-text",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),(0,l._)("path",{d:"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"})])],-1),Ss=(0,l._)("p",{class:"text-muted"},"No remarks yet. Be the first to add one!",-1),Cs=[Ds,Ss],qs={key:1,class:"chat-messages"},Hs={key:0,class:"d-flex justify-content-end"},Us={class:"chat-message-outgoing shadow text-dark",style:{"background-color":"#E9E9E9","max-width":"250px"}},Vs={class:"small d-flex justify-content-between mb-1"},Ms=(0,l._)("span",{class:"fw-bold mx-2 mt-1"},"You",-1),As={class:"ms-2 mt-1"},zs={class:"p-3 rounded-3 rounded-bottom-start-0 shadow-sm"},Ps={key:1,class:"d-flex justify-content-start text-dark"},Es={class:"chat-message-incoming shadow me-2",style:{"background-color":"#E9E9E9"}},Os={class:"small d-flex justify-content-between mb-1"},js={class:"fw-bold mx-1 mt-1"},Ls={class:"text-muted ms-2 mt-1"},Rs={class:"p-3 rounded-3 rounded-bottom-start-0 shadow-sm"},Bs={class:"p-3 border-top bg-white"},Ns=["onSubmit"],Is={class:"mb-3"},$s={class:"d-flex justify-content-end gap-2"},Ts=["disabled"],Ws={key:0,class:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"},Fs=(0,l.Uk)(" Save "),Ys={key:2,class:"modal-backdrop fade show"};var Js={setup(e){(0,c.j)({title:"Purchase Order"});const a=async e=>{const a={status:"checked by "+JSON.parse(localStorage.getItem("user")).name};try{await Rl.put(`/remark/${e}`,a);i("checked"),qr()}catch(error){S(error.message),console.error("Error:",error)}},t=(0,o.iH)(!1),i=(0,l.f3)("showMessage"),S=(0,l.f3)("showError"),P=(0,l.f3)("printReport"),E=(0,l.f3)("whatsappNotification"),O=(0,l.f3)("whatsappNotification2"),j=(0,o.iH)(!1),B=(0,o.iH)(!1),N=(0,o.iH)(["SNo","LPO_number","requested_by","supplier","date","project","payment","status","awaits","actions"]),W=(0,o.iH)([]),Y=(0,o.iH)({perPage:200,perPageValues:[200,500,1e3],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:["SNo","LPO_number","date","phone"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1,searchable:!0}),G=(0,o.iH)(!1),K=(0,o.iH)(!1),Z=(0,o.iH)(""),te=(0,o.iH)(null),Me=(0,o.iH)(!1),Be=(0,o.iH)(!1),Ne=(0,o.iH)(0),Te=(0,o.iH)([""]),We=(0,o.iH)(""),Ge=JSON.parse(localStorage.getItem("user")).permissions,Qe=(0,o.iH)(""),Ze=(0,o.iH)(""),ta=(0,o.iH)(""),sa=(0,o.iH)(!1),ia=(0,o.iH)(""),da=(0,o.iH)(""),$a=(0,o.iH)(""),Qa=(0,o.iH)(""),Za=(0,o.iH)(""),ct=(0,o.iH)(""),mt=(0,o.iH)(!1),yt=(0,o.iH)([]),xt=(0,o.iH)(!1),Ht=(0,o.iH)(!1),At=(0,o.iH)(""),jt=(0,o.iH)(""),Nt=(0,o.iH)(""),Ft=(0,o.iH)(""),Kt=(0,o.iH)(""),al=(0,o.iH)(!0),sl=(0,o.iH)(""),Dl=(JSON.parse(localStorage.getItem("user")).role,JSON.parse(localStorage.getItem("user")).id),Ll=(0,o.iH)("https://bushman.ink/api/v1/"),Rl=n.Z.create({baseURL:"https://bushman.ink/api/v1/"}),Bl=n.Z.create({baseURL:{NODE_ENV:"production",VUE_APP_API_BASE_URL:"https://bushman.ink/api/v1/",BASE_URL:"/"}.VUE_APP_API_BASE_URL2}),nr=(0,o.iH)(""),ir=(0,o.iH)([]),pr=(0,o.iH)(""),mr=(0,o.iH)(!1),yr=async()=>{if(Be.value=!1,nr.value.trim()){0==t.value?nr.value="For lpo "+So.value+" "+nr.value:Ss.value=0,xt.value=!0;try{const e={remarker_id:Dl,description:nr.value,status:status.value,type_id:Ss.value,remark_type:"LPO",remarker:JSON.parse(localStorage.getItem("user")).name},a=await Rl.post("remark",e);201!==a.status&&200!==a.status||(a.data?ir.value.push(a.data):ir.value.push(e),nr.value="",i("Remark added successfully"),qr())}catch(error){console.log(error),S(error.message)}finally{xt.value=!1}}else S("Remark cannot be empty!")},wr=async()=>{mr.value=!0;try{const e=await Rl.get("remark?remark_type=LPO");Array.isArray(e.data)?ir.value=e.data:e.data&&Array.isArray(e.data.data)?ir.value=e.data.data:ir.value=[]}catch(error){console.error("Error fetching remarks:",error),S("Failed to load remarks")}finally{mr.value=!1}},qr=async()=>{try{const e=await Rl.get("remark?remark_type=LPO");Te.value=e.data.data.filter((e=>"unchecked"===e.status)),Ne.value=e.data.unchecked_count}catch(error){console.error("Error fetching amendment request:",error),S("Failed to load amendment request "+(error.response?.data?.message||error.message))}finally{Me.value=!1}},zr=()=>{wr(),t.value=!0},Pr=()=>{t.value=!1,nr.value="",ir.value=[]},Or=e=>{"NEW_VENDOR"===e.target.value&&(ct.value="",j.value=!0)},jr=()=>{ia.value="",Za.value="",Qa.value="",da.value="",$a.value="",ct.value="",At.value="",jt.value="",Nt.value="",Ft.value="",Kt.value="",B.value=!1,j.value=!1,Ze.value="",pr.value="",Lo.value=[""],Oo.value=[""],vo.value=""},Br=async()=>{Ge.includes("can_view_copex_lpo")&&Ge.includes("can_view_bushman_lpo")?Qe.value=Ze.value.id:Ge.includes("can_view_copex_lpo")?Qe.value=6:Ge.includes("can_view_bushman_lpo")&&(Qe.value=5);try{B.value=!1,sa.value=!0,!0===j.value&&await Tr();const e={company_id:Qe.value,vendor_id:ct.value,supplier:"none",address:"none",project_id:Za.value.id,project:"empty",payment_terms:Qa.value,location:"none",user_id:Dl,requested_by:JSON.parse(localStorage.getItem("user")).name,status_name:"Inactive",status_color:"dark"},a=await Rl.post("/purchase-order",e);jr(),rs(),sa.value=!1,al.value=!0,201===a.status?i("Purchase Order Registered Successfully"):(S("Failed to register Purchase Order"),console.error(error))}catch(error){S("Error code "+error.status),console.error("Error registering Order:",error),sa.value=!1}},Tr=async()=>{try{sa.value=!0;const e={name:At.value,phone:jt.value,email:Nt.value,address:Ft.value,location:Kt.value},a=await Rl.post("/vendors",e);return ct.value=a.data.id,sa.value=!1,a.data.id}catch(error){throw S("Error registering Vendor"+error.status),sa.value=!1,error}},ls=async()=>{sa.value=!0;try{const e=await Rl.get("/vendors");e.data&&Array.isArray(e.data)?(yt.value=e.data,sa.value=!1,Ht.value?B.value=!1:B.value=!0):console.error("Invalid response format")}catch(error){console.error("Error fetching purchase order : ",error)}},rs=async()=>{sa.value=!0;try{const e=await Rl.get("/purchase-order");if(e.data&&Array.isArray(e.data)){sl.value=e.data.status_name;let a=e.data;Ge.includes("can_view_copex_lpo")&&Ge.includes("can_view_bushman_lpo")?a=a.filter((e=>"Inactive"!==e.status_name||e.user_id==Dl)):Ge.includes("can_view_copex_lpo")?a=a.filter((e=>6==e.company_id&&("Inactive"!==e.status_name||e.user_id==Dl))):Ge.includes("can_view_bushman_lpo")?a=a.filter((e=>5==e.company_id&&("Inactive"!==e.status_name||e.user_id==Dl))):Ge.includes("can_view_all_lpo")||(a=[]),W.value=a.filter((e=>(!We.value||e.project_id===We.value)&&(!ta.value||e.status_name===ta.value))).map(((e,a)=>({SNo:a+1,id:e.id,grn_no:e.grn_no,LPO_number:`${String(e.id).padStart(4,"0")}/${e.date_created.slice(5,7)}/${e.date_created.slice(2,4)}`,company_id:e.company_id,supplier:e.supplier,address:e.address,requested_by:e.requested_by,date:e.date_created,project:e.project_aka,project_id:e.project_id,payment:e.payment_terms,location:e.location,requester:e.user_id,awaits:e.awaits,status:{key:e.status_name,class:e.status_color}})))}else console.error("Invalid response format")}catch(error){S(error.message)}finally{sa.value=!1}},hs=(0,o.iH)([]),ws=async()=>{sa.value=!0;try{const e=await Rl.get("/projects");if(e.data&&Array.isArray(e.data)){let a=e.data;Ge.includes("can_view_copex_lpo")&&Ge.includes("can_view_bushman_lpo")||(Ge.includes("can_view_copex_lpo")?a=a.filter((e=>6==e.company_id)):Ge.includes("can_view_bushman_lpo")&&(a=a.filter((e=>5==e.company_id)))),hs.value=a,sa.value=!1}else console.error("Invalid response format"),sa.value=!1}catch(error){sa.value=!1}},Ds=(0,o.iH)(!1),Ss=(0,o.iH)(),Js=e=>{Ht.value=!0,ls(),ws(),Ds.value=!0,Ss.value=e.id,ct.value=e.vendor_id,ia.value=e.supplier,da.value=e.address,$a.value=e.location,Qa.value=e.payment_terms,Za.value=e.project,e.vendor_id?ct.value=e.vendor_id:ct.value=""},Gs=()=>{ct.value="",ia.value="",da.value="",$a.value="",Qa.value="",Za.value="",j.value=!1,B.value=!1,Ss.value="",Ht.value=!1,Ds.value=!1},Ks=async()=>{try{xt.value=!0,!0===j.value&&await Tr();const e={vendor_id:ct.value,project_id:Za.value.id,payment_terms:Qa.value},a=await Rl.patch(`/purchase-order/${Ss.value}`,e);200===a.status?(jr(),xt.value=!1,Ds.value=!1,Ht.value=!1,B.value=!1,j.value=!1,rs(),i("Order Updated Successfully")):S("Error code "+a.status)}catch(error){S("Error code "+error.status),console.error("Error rUpdated Order:",error),sa.value=!1}},Xs=(0,o.iH)(!1),Qs=(0,o.iH)(!1),Zs=(0,o.iH)(0),eo=(0,o.iH)([]),ao=(0,o.iH)(["SNo","description","spec","units","quantity","rate","amount"]),to=(0,o.iH)(!1),lo=(0,o.iH)(!1),ro=(0,o.iH)(!1),so=(0,o.iH)({}),oo=(0,o.iH)([]),no=(0,o.iH)(!1),io=((0,o.iH)(!1),(0,o.iH)(!1)),co=(0,o.iH)(""),uo=(0,o.iH)(""),vo=((0,o.iH)(""),(0,o.iH)("")),po=(0,o.iH)(""),mo=(0,o.iH)([]),go=(0,o.iH)(""),ho=(0,o.iH)([""]),_o=((0,o.iH)(""),(0,o.iH)(!1)),bo=(0,o.iH)(""),yo=(0,o.iH)(""),wo=(0,o.iH)([]),ko=(0,o.iH)(""),fo=(0,o.iH)(0),xo=(0,o.iH)(!1),Do=(0,o.iH)(!1);(0,l.YP)([bo,yo],(()=>{fo.value=bo.value*yo.value}));const So=(0,o.iH)(""),Co=(0,o.iH)(0),qo=e=>{Eo(e.project_id),Co.value=e.grn_no,Ss.value=e.id,Za.value=e.project,So.value=e.LPO_number,"Inactive"===e.status.key?(ao.value.includes("actions")||ao.value.push("actions"),al.value=!0,ro.value=!1,Wo(),an()):(ao.value.includes("actions")&&ao.value.pop("actions"),an(),tn(),ro.value=!0,xo.value=!0,5==e.company_id&&(Qs.value=!0,Xs.value=!1),6==e.company_id&&(Qs.value=!1,Xs.value=!0)),to.value=!0},Ho=()=>{Ss.value="",Za.value="",eo.value=[],Zs.value=0,to.value=!1,ko.value=!1,jr(),Xo()},Uo=async e=>{try{const a=await Rl.get("/item-list");if(a.data&&Array.isArray(a.data)){const t=a.data.filter((a=>a.category_id==e));wo.value=t.map((e=>({id:e.id,name:e.name,unit_measure:e.unit_measure})))}else console.error("Invalid response format")}catch(error){console.error("Error fetching approval status: ",error)}},Vo=async(e,a)=>{try{await Rl.put(`/approval-check/${e}`,{[a]:1});tn(),rs()}catch(error){console.error("Error approving check:",error.message)}},Mo=async(e,a)=>{try{await Rl.put(`/approval-check/${e}`,{[a]:0});tn()}catch(error){console.error("Error approving check:",error.message)}await Rl.put(`/purchase-order/${e}`,{status_name:"Unapproved",status_color:"secondary"})},Ao=()=>{sa.value=!0;const e={status_name:"Unapproved",status_color:"secondary"};confirm("Are you sure you want to Confirm this Order?")?Rl.put(`/purchase-order/${Ss.value}`,e).then((e=>{sa.value=!1,200==e.status?(rs(),Ho(),i(" Activation Successfuly! Now Waiting for Approvals")):S("activation Fails")})).catch((e=>{console.error("Error activating order:",e.message),sa.value=!1})):sa.value=!1},zo=()=>{const e=uo.value.id;1==e&&(Uo(1),io.value=!0,no.value=!0,"Direct"===po.value?(Po(),_o.value=!0,io.value=!0):_o.value=!1),2==e&&(Uo(2),io.value=!0,_o.value=!1,no.value=!1,po.value=""),3==e&&(Uo(3),io.value=!0,_o.value=!1,no.value=!1,po.value="")},Po=async()=>{Rl.get("/machines").then((e=>{Array.isArray(e.data)?mo.value=e.data.map((e=>({id:e.id,name:e.name,type:e.type_name,category:e.category.name}))):(error_message.value="Error fetching machine data: "+error.message,console.error(error_message.value))})).catch((e=>{console.error("Error fetching machine data:",e.message)})).finally((()=>{}))},Eo=async e=>{Bl.get(`/projects/${e}`).then((e=>{ho.value=e.data})).catch((e=>{S(e.message),console.error(e)}))},Oo=(0,o.iH)(""),jo=(0,o.iH)([""]),Lo=(0,o.iH)([""]);(0,l.YP)(Oo,(e=>{e&&Bl.get(`/item/${e.id}`).then((e=>{jo.value=e.data,Lo.value=e.data.map((e=>({id:e.id,name:e.name,description:e.item_description.map((e=>({id:e.id,asset_id:e.asset_id,name:e.name,units:e.units,rate:e.cost,cost:e.cost,quantity:e.quantity*e.quantity_2,total:e.quantity*e.quantity_2*e.cost})))})))})).catch((e=>{S(e.message),console.error(e)}))})),(0,l.YP)(pr,(e=>{e&&Bo(e.id)}));const Ro=(0,o.iH)(""),Bo=e=>{Rl.get(`/items-used/${e}`).then((e=>{Ro.value=e.data.used_items})).catch((e=>{S(e.message),console.error("Error fetching item used quantity:",e)}))},No=(0,o.iH)(0),Io=async()=>{try{const e=Fo.value?"assigned to "+Fo.value.category+" "+Fo.value.type+" "+Fo.value.name:"",a={date:(new Date).toISOString().split("T")[0],remarker_id:JSON.parse(localStorage.getItem("user")).id,description:"Request from LPO number "+So.value+" From budget "+Oo.value.name+" on "+$o.value.name+" for "+pr.value.name+" "+e,remarker:JSON.parse(localStorage.getItem("user")).name,budget_item_description_id:pr.value.id,cost:yo.value*bo.value,status:"debit"},t=await Bl.post("budget-remarks",a);No.value=t.data.id}catch(error){S("Error adding remark:",error),console.log(error)}},$o=(0,o.iH)(""),To=(0,o.iH)([""]);(0,l.YP)($o,(e=>{e&&(To.value=e.description)}));const Wo=()=>{Rl.get("/item-list-category").then((e=>{Array.isArray(e.data)?oo.value=e.data.map((e=>({id:e.id,name:e.name}))):console.error("Invalid response format")})).catch((e=>{console.error("Error fetching item list category:",e.message)}))},Fo=(0,o.iH)(""),Yo=((0,o.iH)("nothing"),(0,o.iH)("")),Jo=async()=>{const e=Fo.value?"assigned to "+Fo.value.type+" "+Fo.value.category+" "+Fo.value.name:"";xt.value=!0,sa.value=!0,await Io();const a={budget_id:Oo.value.id,order_id:Ss.value,specification:Yo.value,description:"From budget "+Oo.value.name+" on "+$o.value.name+" for "+pr.value.name+" "+e,unit_measure:pr.value.units??"",quantity:bo.value,machine_id:Fo.value?.id??0,rate:yo.value,item_list_id:pr.value.id??"",category:$o.value.name,remark_id:No.value,grn_no:Co.value,asset_id:pr.value.asset_id??0};Rl.post("/items",a).then((e=>{an(),xt.value=!1,sa.value=!1,201===e.status?(Xo(),i("Item registered successfully")):(S("Error registering item"),console.error("Error registering Item:",e.data))})).catch((e=>{S(e.message),console.error("Error registering Order:",e)}))},Go=e=>{Bl.delete(`/budget-remarks/${e}`)},Ko=(e,a)=>{sa.value=!0,confirm("Are you sure you want to delete this item?")&&(Go(a),Rl.delete(`/items/${e}`).then((e=>{an(),sa.value=!1,200===e.status?i("Item Deleted successfully"):(S("Fail to Delete item"),console.error("Error deleting item :",e.data.message))})).catch((e=>{S("Error registering Order:",e.message),console.error(e)})))},Xo=()=>{xt.value=!1,vo.value="",go.value="",bo.value="",yo.value="",co.value="",Fo.value="",uo.value="",Oo.value="",_o.value=!1,$o.value="",pr.value="",Ro.value="",Yo.value=""},Qo=e=>{te.value=e,K.value=!0},Zo=()=>{K.value=!1,Z.value="",te.value=null},en=async()=>{if(Z.value.trim())try{sa.value=!0;const e=new Date,a=e.toISOString().slice(0,19).replace("T"," "),t={deleted:1,deleted_reason:Z.value,deleted_date:a,deleted_by:JSON.parse(localStorage.getItem("user")).name},l=await Rl.patch(`/purchase-order/${te.value}`,t);200===l.status?(i("LPO  deleted successfully"),rs()):S(error.message)}catch(error){S(error.message),console.error("Error deleting LPO:",error)}finally{sa.value=!1,Zo()}else S(error.message)},an=async()=>{lo.value=!0;try{const e=await Rl.get(`/order-items/${Ss.value}`);if(e.data&&Array.isArray(e.data))return Zs.value=e.data.reduce(((e,a)=>e+a.quantity*a.rate),0),ko.value=0===e.data.length,eo.value=e.data.map(((e,a)=>({SNo:a+1,category:e.category,id:e.id,description:e.description,type:e.machine?.type??"---",spec:e.specification??"---",units:e.unit_measure,quantity:e.quantity.toLocaleString(),rate:Number(e.rate).toLocaleString(),amount:(e.quantity*e.rate).toLocaleString(void 0,{maximumFractionDigits:3})}))),e.data;console.error("Invalid response format")}catch(error){console.error("Error fetching purchase order: ",error)}finally{lo.value=!1}return[]},tn=async()=>{try{const e=await Rl.get(`/approval-check-status/${Ss.value}`);return e.data&&"object"===typeof e.data?(so.value=e.data,Do.value=!1,e.data):(console.error("Invalid response format"),null)}catch(error){return console.error("Error fetching approval status: ",error),null}},ln=((0,o.iH)({}),async e=>{try{const a=await Rl.get(`/good-received-notes/${e}`);return a.data&&Object.keys(a.data).length>0?a.data:null}catch(error){return null}}),rn=e=>{const a=new Date(e);return a.toISOString().split("T")[0]},sn=(0,o.iH)(0),on=async e=>{sn.value=e.id,Ss.value=e.id,Co.value=e.grn_no;const a=await an()||[],t=await tn()||{},l=await ln(e.grn_no)||{};sn.value=0;const r=document.createElement("iframe");r.style.display="none",document.body.appendChild(r);const s=e.date.split("-"),o=`${s[1]}/${s[2].slice(-2)}`,n=(e,a)=>"Prepared By"===a?1===e?'<td style="color: green; font-weight: bold;text-align:center"">Checked</td>':'<td style="color: red; font-weight: bold;text-align:center"">Unchecked</td>':"Checked By"===a?1===e?'<td style="color: green; font-weight: bold;text-align:center">Checked</td>':'<td style="color: red; font-weight: bold;text-align:center"">Unchecked</td>':"Verified By"===a?1===e?'<td style="color: green; font-weight: bold;text-align:center"">Verified</td>':'<td style="color: red; font-weight: bold;text-align:center"">Unverified</td>':"Approved By"===a?1===e?'<td style="color: green; font-weight: bold;text-align:center"">Approved</td>':'<td style="color: red; font-weight: bold;text-align:center"">Unapproved</td>':'<td style="color: gray;">Unchecked</td>',i=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Print LPO</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .lpo-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 13px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td, .signatures th, .signatures td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  table tr:first-child th:first-child, table tr:first-child td:first-child { border-top-left-radius: 8px; }\n  table tr:first-child th:last-child, table tr:first-child td:last-child { border-top-right-radius: 8px; }\n  table tr:last-child td:first-child { border-bottom-left-radius: 8px; }\n  table tr:last-child td:last-child { border-bottom-right-radius: 8px; }\n  .goods-received { border: 1px solid #000; padding: 10px; margin-top: 30px; font-size: 13px; border-radius: 10px; }\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="lpo-box">\n    LPO NO:<br>\n    <span style="color:red;">${("0000"+e.id).slice(-4)} /${o}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 135-489-247<br>\n  VRN: 40-032826C\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n<div class="section-title">PURCHASE ORDER</div>\n<table class="details">\n  <tr>\n    <td><strong>Supplier's Name:</strong> ${e.supplier}</td>\n    <td><strong>Date:</strong> ${e.date}</td>\n  </tr>\n  <tr>\n    <td><strong>Address:</strong> ${e.location}</td>\n    <td><strong>Payment Terms:</strong> ${e.payment}</td>\n  </tr>\n  <tr>\n    <td><strong>Project Name:</strong> ${e.project}</td>\n    <td><strong>Location:</strong> ${e.location}</td>\n  </tr>\n</table>\n<p><strong>Please Supply the goods as per details below</strong></p>\n<table class="items">\n  <thead>\n    <tr>\n      <th>SN</th>\n      <th>Description of Goods</th>\n      <th>Spec</th>\n      <th>Units</th>\n      <th>Quantity</th>\n      <th>Rate</th>\n      <th>Amount</th>\n    </tr>\n  </thead>\n  <tbody>\n    ${a.map(((e,a)=>`\n    <tr>\n      <td >${a+1}</td>\n      <td>${e.description}</td>\n      <td>${e.specification??"---"}</td>\n      <td>${e.unit_measure}</td>\n      <td style="text-align:right">${parseFloat(e.quantity).toFixed(2)}</td>\n      <td style="text-align:right">${parseFloat(e.rate).toLocaleString()}/=</td>\n      <td style="text-align:right">${(e.quantity*e.rate).toLocaleString()}/=</td>\n    </tr>\n    `)).join("")}\n    <tr>\n      <td colspan="6" style="text-align:right;"><strong>TOTAL</strong></td>\n      <td><strong>${a.reduce(((e,a)=>e+a.quantity*a.rate),0).toLocaleString()}</strong></td>\n    </tr>\n  </tbody>\n</table>\n<table class="signatures" style="margin-top: 20px;">\n  <thead>\n    <tr>\n      <th>Prepared By</th>\n      <th>Checked By</th>\n      <th>Verified By</th>\n      <th>Approved By</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      ${n(t.operation_department,"Prepared By")}\n      ${n(t.engineer,"Checked By")}\n      ${n(t.senior_accountant,"Verified By")}\n      ${n(t.managing_director,"Approved By")}\n    </tr>\n    <tr>\n      <td style="text-align:center">Operation's Dept</td>\n      <td style="text-align:center">Engineer</td>\n      <td style="text-align:center">Sr.Accountant</td>\n      <td style="text-align:center">MD</td>\n    </tr>\n  </tbody>\n</table>\n${l?`\n<div class="goods-received" style="border: 1px solid #000; padding: 15px; margin-top: 20px; border-radius: 8px; font-size: 13px;">\n  <strong>Details of Goods Received</strong>\n  <table style="width: 100%; margin-top: 10px; font-size: 13px; border-collapse: collapse; border: 1px solid #000; text-align: center;">\n    <thead>\n      <tr>\n        <th style="padding: 8px; border: 1px solid #000; background-color: #f2f2f2;">GRN No</th>\n        <th style="padding: 8px; border: 1px solid #000; background-color: #f2f2f2;">Receiver</th>\n        <th style="padding: 8px; border: 1px solid #000; background-color: #f2f2f2;">Received Date</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n      <td style="padding: 8px; border: 1px solid #000;">GRN-00${l.id??"N/A"}</td>\n      <td style="padding: 8px; border: 1px solid #000;">${l.receiver?.name||"No Reveiver yet"}</td>\n      <td style="padding: 8px; border: 1px solid #000;">${l.updated_at?rn(l.updated_at):"N/A"}</td>\n      </tr>\n    </tbody>\n  </table>\n  <div style="margin-top: 10px; border-top: 1px solid #000; padding-top: 10px;">\n    <strong>Receiver Remarks:</strong><br>\n    ${l.remarks||"No remarks"}\n  </div>\n</div>\n`:'\n<div class="goods-received" style="border: 1px solid #000; padding: 15px; margin-top: 20px; border-radius: 8px; font-size: 13px; text-align: center;">\n  <strong>No GRN data found.</strong>\n</div>\n'}\n\n\n</body>\n</html>\n`,d=r.contentWindow.document;d.open(),d.write(i),d.close(),r.onload=()=>{r.contentWindow.focus(),r.contentWindow.print(),setTimeout((()=>{document.body.removeChild(r)}),1e3)}};return(0,l.bv)((()=>{rs(),ws(),qr(),Po(),(0,l.YP)(sl,(e=>{ro.value="Inactive"!==e}))})),(e,n)=>{const i=(0,l.up)("v-client-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",u,[v,Ne.value>0?((0,l.wg)(),(0,l.iD)("div",p,[(0,l._)("div",m,[(0,l._)("span",g,[(0,l._)("a",h,[_,(0,l._)("span",b,(0,r.zw)(Ne.value),1)])]),(0,l._)("div",y,[(0,l._)("div",w,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Te.value,(e=>((0,l.wg)(),(0,l.iD)("div",k,[(0,l.Uk)(" From: "+(0,r.zw)(e.sender_name),1),f,(0,l.Uk)(" Message: "+(0,r.zw)(e.description)+" ",1),(0,l._)("div",x,[(0,l._)("button",{class:"btn btn-success p-1 btn-sm me-1 ms-auto",style:{cursor:"pointer"},onClick:t=>a(e.id)},"✔",8,D)])])))),256))])])])])):(0,l.kq)("",!0),mt.value?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"btn btn-dark me-2 px-3",onClick:n[0]||(n[0]=a=>e.$router.go(-1))},C)):(0,l.kq)("",!0),(0,l._)("div",q,[(0,l._)("div",H,[U,(0,l.wy)((0,l._)("select",{id:"projectFilter",class:"form-select","onUpdate:modelValue":n[1]||(n[1]=e=>We.value=e),onChange:rs},[V,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(hs.value,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id},(0,r.zw)(e.short_name),9,M)))),128))],544),[[s.bM,We.value]])]),(0,l._)("div",A,[z,(0,l.wy)((0,l._)("select",{id:"statusFilter",class:"form-select","onUpdate:modelValue":n[2]||(n[2]=e=>ta.value=e),onChange:rs},L,544),[[s.bM,ta.value]])]),(0,l._)("div",R,[(0,l._)("button",{class:"btn btn-info mx-2",onClick:n[3]||(n[3]=e=>zr()),title:"Print Report"},I)])]),(0,l._)("div",$,[(0,l._)("div",T,[al.value?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-primary",onClick:n[4]||(n[4]=e=>{ls(),al.value=!1})},F)):((0,l.wg)(),(0,l.iD)("button",{key:1,class:"btn btn-danger",onClick:n[5]||(n[5]=e=>{B.value=!1,al.value=!0})},J)),(0,l._)("button",{class:"btn btn-success mx-2",onClick:n[6]||(n[6]=e=>(0,o.SU)(P)(W.value,"Local Purchase Order Report")),title:"Print Report"},X),(0,l._)("div",{class:"text-dark",style:{cursor:"pointer",display:"none"},onClick:n[7]||(n[7]=e=>G.value=!G.value)},[G.value?((0,l.wg)(),(0,l.iD)("svg",ae,le)):((0,l.wg)(),(0,l.iD)("svg",Q,ee))])])]),B.value?((0,l.wg)(),(0,l.iD)("form",{key:2,class:"mt-1 p-3 border rounded bg-white shadow",onSubmit:(0,s.iM)(Br,["prevent"])},[se,(0,l._)("div",oe,[j.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",ne,[ie,(0,l.wy)((0,l._)("select",{class:"form-select","onUpdate:modelValue":n[8]||(n[8]=e=>ct.value=e),required:"",onChange:Or},[de,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(yt.value,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id},(0,r.zw)(e.name),9,ce)))),128)),ue],544),[[s.bM,ct.value]])])),j.value?((0,l.wg)(),(0,l.iD)("div",ve,[pe,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[9]||(n[9]=e=>At.value=e),name:"Vendor_name",required:""},null,512),[[s.nr,At.value]])])):(0,l.kq)("",!0),j.value?((0,l.wg)(),(0,l.iD)("div",me,[ge,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[10]||(n[10]=e=>Nt.value=e),name:"Vendor_name",required:""},null,512),[[s.nr,Nt.value]])])):(0,l.kq)("",!0),j.value?((0,l.wg)(),(0,l.iD)("div",he,[_e,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[11]||(n[11]=e=>jt.value=e),name:"Vendor_name",required:""},null,512),[[s.nr,jt.value]])])):(0,l.kq)("",!0),j.value?((0,l.wg)(),(0,l.iD)("div",be,[ye,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[12]||(n[12]=e=>Ft.value=e),name:"Vendor_name",required:""},null,512),[[s.nr,Ft.value]])])):(0,l.kq)("",!0),j.value?((0,l.wg)(),(0,l.iD)("div",we,[ke,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[13]||(n[13]=e=>Kt.value=e),name:"Vendor_name",required:""},null,512),[[s.nr,Kt.value]])])):(0,l.kq)("",!0),(0,l._)("div",fe,[xe,(0,l.Wm)((0,o.SU)(d()),{modelValue:Za.value,"onUpdate:modelValue":n[14]||(n[14]=e=>Za.value=e),"track-by":"id",options:hs.value,label:"short_name",placeholder:"Select Project",required:!0,searchable:!0,multple:"false"},null,8,["modelValue","options"])]),(0,l._)("div",De,[Se,(0,l.Wm)((0,o.SU)(d()),{modelValue:Qa.value,"onUpdate:modelValue":n[15]||(n[15]=e=>Qa.value=e),options:["Bank /TT ","Cash","Cheque","M-Pesa","On-Account","Wakala"],multiple:!1,searchable:!0,required:"",placeholder:"Select Payment Terms"},null,8,["modelValue"])]),(0,o.SU)(Ge).includes("can_view_copex_lpo")&&(0,o.SU)(Ge).includes("can_view_bushman_lpo")?((0,l.wg)(),(0,l.iD)("div",Ce,[qe,(0,l.Wm)((0,o.SU)(d()),{modelValue:Ze.value,"onUpdate:modelValue":n[16]||(n[16]=e=>Ze.value=e),options:[{id:5,name:"BUSHMAN"},{id:6,name:"COPEX"}],"track-by":"id",label:"name",multiple:!1,searchable:!0,required:"",placeholder:"Select Company"},null,8,["modelValue"])])):(0,l.kq)("",!0)]),(0,l._)("div",He,[j.value?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-dark me-3",onClick:n[17]||(n[17]=e=>j.value=!1)},"Back")):(0,l.kq)("",!0),(0,l._)("button",{type:"button",class:"btn btn-danger me-3",onClick:n[18]||(n[18]=e=>{B.value=!1,j.value=!1,al.value=!0})},"Cancel"),Ue])],40,re)):(0,l.kq)("",!0),sa.value?((0,l.wg)(),(0,l.iD)("div",Ve,Ae)):(0,l.kq)("",!0),(0,l._)("div",ze,[(0,l._)("h6",{onClick:n[19]||(n[19]=e=>(0,o.SU)(O)("255698267662","Sr Accountant","check","deal with","Managing Director"))},"LOCAL PURCHASE ORDER LIST")]),(0,l._)("div",Pe,[(0,l._)("div",Ee,[(0,l._)("div",Oe,[(0,l._)("div",je,[(0,l.Wm)(i,{data:W.value,columns:N.value,options:Y.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,r.C_)(["badge inv-status","badge-"+(e.row.status?e.row.status.class:"")])},(0,r.zw)(e.row.status?e.row.status.key:"Unknown"),3)])),actions:(0,l.w5)((e=>[(0,l._)("a",Le,[(0,o.SU)(Ge).includes("can_delete_lpo")?((0,l.wg)(),(0,l.iD)("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger",onClick:a=>Qo(e.row.id)},Ie,8,Re)):(0,l.kq)("",!0)]),"Inactive"!==e.row.status.key?((0,l.wg)(),(0,l.iD)("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-eye text-secondary",viewBox:"0 0 16 16",onClick:a=>qo(e.row)},Fe,8,$e)):(0,l.kq)("",!0),"Inactive"!==e.row.status.key&&6==e.row.company_id&&(0,o.SU)(Ge).includes("can_print_lpo")?((0,l.wg)(),(0,l.iD)("a",{key:1,class:"text-primary",title:"Print","data-bs-toggle":"tooltip","data-bs-placement":"top",target:"_blank",rel:"noopener noreferrer",onClick:a=>on(e.row)},[sn.value==e.row.id?((0,l.wg)(),(0,l.iD)("div",Je,Ke)):((0,l.wg)(),(0,l.iD)("svg",Xe,ea))],8,Ye)):(0,l.kq)("",!0),"Inactive"!==e.row.status.key&&5==e.row.company_id?((0,l.wg)(),(0,l.iD)("a",{key:2,href:`${Ll.value}bushman-lpo-pdf/${e.row.id}`,class:"text-success",title:"Print","data-bs-toggle":"tooltip","data-bs-placement":"top",target:"_blank",rel:"noopener noreferrer"},la,8,aa)):(0,l.kq)("",!0),(0,o.SU)(Ge).includes("can_edit_lpo")||"Inactive"===e.row.status.key&&e.row.requester===(0,o.SU)(Dl)?((0,l.wg)(),(0,l.iD)("svg",{key:3,class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",onClick:a=>Js(e.row)},oa,8,ra)):(0,l.kq)("",!0),"Inactive"===e.row.status.key&&e.row.requester===(0,o.SU)(Dl)?((0,l.wg)(),(0,l.iD)("svg",{key:4,xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-plus-circle",viewBox:"0 0 16 16",onClick:a=>qo(e.row)},ca,8,na)):(0,l.kq)("",!0),((0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[Ds.value?((0,l.wg)(),(0,l.iD)("div",ua,[(0,l._)("div",va,[(0,l._)("div",pa,[(0,l._)("div",{class:"modal-header"},[ma,(0,l._)("button",{type:"button",class:"btn-close",onClick:Gs})]),(0,l._)("form",{class:"mt-1 p-3 border rounded bg-white shadow",onSubmit:(0,s.iM)(Ks,["prevent"])},[(0,l._)("div",ha,[(0,l._)("div",_a,[j.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",ba,[ya,(0,l.wy)((0,l._)("select",{class:"form-select","onUpdate:modelValue":n[20]||(n[20]=e=>ct.value=e),required:"",onChange:Or},[wa,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(yt.value,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id},(0,r.zw)(e.name),9,ka)))),128)),fa],544),[[s.bM,ct.value]])])),j.value?((0,l.wg)(),(0,l.iD)("div",xa,[Da,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[21]||(n[21]=e=>At.value=e),name:"Vendor_name",required:""},null,512),[[s.nr,At.value]])])):(0,l.kq)("",!0),j.value?((0,l.wg)(),(0,l.iD)("div",Sa,[Ca,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[22]||(n[22]=e=>Nt.value=e),name:"Vendor_name",required:""},null,512),[[s.nr,Nt.value]])])):(0,l.kq)("",!0),j.value?((0,l.wg)(),(0,l.iD)("div",qa,[Ha,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[23]||(n[23]=e=>Kt.value=e),name:"Vendor_name",required:""},null,512),[[s.nr,Kt.value]])])):(0,l.kq)("",!0),j.value?((0,l.wg)(),(0,l.iD)("div",Ua,[Va,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[24]||(n[24]=e=>jt.value=e),name:"Vendor_name",required:""},null,512),[[s.nr,jt.value]])])):(0,l.kq)("",!0),j.value?((0,l.wg)(),(0,l.iD)("div",Ma,[Aa,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[25]||(n[25]=e=>Ft.value=e),name:"Vendor_name",required:""},null,512),[[s.nr,Ft.value]])])):(0,l.kq)("",!0),(0,l._)("div",za,[Pa,(0,l.Wm)((0,o.SU)(d()),{modelValue:Za.value,"onUpdate:modelValue":n[26]||(n[26]=e=>Za.value=e),"track-by":"id",options:hs.value,label:"short_name",placeholder:"Select Project",required:!0,searchable:!0,multple:"false"},null,8,["modelValue","options"])]),(0,l._)("div",Ea,[Oa,(0,l.Wm)((0,o.SU)(d()),{modelValue:Qa.value,"onUpdate:modelValue":n[27]||(n[27]=e=>Qa.value=e),options:["Bank /TT ","Cash","Cheque","M-Pesa","On-Account","Wakala"],multiple:!1,searchable:!0,required:"",placeholder:"Select Payment Terms"},null,8,["modelValue"])])])]),(0,l._)("div",ja,[j.value?((0,l.wg)(),(0,l.iD)("div",La,[(0,l._)("button",{type:"button",class:"btn btn-dark",onClick:n[28]||(n[28]=e=>j.value=!1)},"Back")])):(0,l.kq)("",!0),(0,l._)("div",Ra,[(0,l._)("button",{type:"button",class:"btn btn-danger",onClick:Gs},"Cancel"),Ba,(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:xt.value},[xt.value?((0,l.wg)(),(0,l.iD)("span",Ia,Ta)):((0,l.wg)(),(0,l.iD)("span",Wa,"Update"))],8,Na)])])],40,ga)])])])):(0,l.kq)("",!0)]))])),_:1},8,["data","columns","options"])])])])])]),((0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[to.value?((0,l.wg)(),(0,l.iD)("div",Fa,[(0,l._)("div",Ya,[(0,l._)("div",Ja,[(0,l._)("div",{class:"modal-header"},[Ga,(0,l._)("button",{type:"button",class:"btn-close",onClick:Ho})]),(0,l._)("div",Ka,[(0,l._)("div",Xa,[(0,l._)("button",{class:"btn btn-info mx-2",onClick:n[29]||(n[29]=e=>Be.value=!Be.value),title:"Print Report"},et)])]),Be.value?((0,l.wg)(),(0,l.iD)("div",at,[(0,l._)("form",{class:"row mx-4",onSubmit:n[31]||(n[31]=(0,s.iM)((e=>yr()),["prevent"]))},[(0,l._)("div",tt,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":n[30]||(n[30]=e=>nr.value=e),class:"form-control",placeholder:"Enter Remark"},null,512),[[s.nr,nr.value]])]),lt],32)])):(0,l.kq)("",!0),ro.value?((0,l.wg)(),(0,l.iD)("div",rt,[lo.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",st,[(0,l._)("h5",ot,[(0,l._)("span",nt,(0,r.zw)(Za.value),1)]),(0,o.SU)(Ge).includes("can_verify_copex_operator")?((0,l.wg)(),(0,l.iD)("div",it,[(0,l._)("div",{onClick:n[33]||(n[33]=e=>(0,o.SU)(O)("255677771888","Engineer","check","deal with","Sr Accountant"))},[0===so.value.operation_department&&(0,o.SU)(Ge).includes("can_verify_copex_operator")?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:n[32]||(n[32]=e=>(Vo(so.value.id,"operation_department"),Do.value=!Do.value)),class:(0,r.C_)([{disabled:Do.value},"btn btn-primary"])},[Do.value?((0,l.wg)(),(0,l.iD)("div",dt,ut)):((0,l.wg)(),(0,l.iD)("div",vt,"Check"))],2)):(0,l.kq)("",!0)]),1===so.value.operation_department&&(0,o.SU)(Ge).includes("can_verify_copex_operator")?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:n[34]||(n[34]=e=>(Mo(so.value.id,"operation_department"),Do.value=!Do.value)),class:(0,r.C_)([{disabled:Do.value},"btn btn-dark"])},[Do.value?((0,l.wg)(),(0,l.iD)("div",pt,gt)):((0,l.wg)(),(0,l.iD)("div",ht,"Uncheck"))],2)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),(0,o.SU)(Ge).includes("can_verify_engineer")?((0,l.wg)(),(0,l.iD)("div",_t,[(0,l._)("div",{onClick:n[36]||(n[36]=e=>(0,o.SU)(O)("255657111555","Sr Accountant","check","deal with","Managing Director"))},[1===so.value.operation_department&&0===so.value.engineer&&(0,o.SU)(Ge).includes("can_verify_engineer")?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:n[35]||(n[35]=e=>(Vo(so.value.id,"engineer"),Do.value=!Do.value)),class:(0,r.C_)([{disabled:Do.value},"btn btn-primary"])},[Do.value?((0,l.wg)(),(0,l.iD)("div",bt,wt)):((0,l.wg)(),(0,l.iD)("div",kt,"Check"))],2)):(0,l.kq)("",!0)]),1===so.value.engineer&&(0,o.SU)(Ge).includes("can_verify_engineer")?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:n[37]||(n[37]=e=>(Mo(so.value.id,"engineer"),Do.value=!Do.value)),class:(0,r.C_)([{disabled:Do.value},"btn btn-dark"])},[Do.value?((0,l.wg)(),(0,l.iD)("div",ft,Dt)):((0,l.wg)(),(0,l.iD)("div",St,"Uncheck"))],2)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),(0,o.SU)(Ge).includes("can_verify_project_manager")?((0,l.wg)(),(0,l.iD)("div",Ct,[1===so.value.operation_department&&0===so.value.project_manager&&(0,o.SU)(Ge).includes("can_verify_project_manager")?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:n[38]||(n[38]=e=>(Vo(so.value.id,"project_manager"),Do.value=!Do.value)),class:(0,r.C_)([{disabled:Do.value},"btn btn-primary"])},[Do.value?((0,l.wg)(),(0,l.iD)("div",qt,Ut)):((0,l.wg)(),(0,l.iD)("div",Vt,"Check"))],2)):(0,l.kq)("",!0),1===so.value.project_manager&&(0,o.SU)(Ge).includes("can_verify_project_manager")?((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:n[39]||(n[39]=e=>(Mo(so.value.id,"project_manager"),Do.value=!Do.value)),class:(0,r.C_)([{disabled:Do.value},"btn btn-dark"])},[Do.value?((0,l.wg)(),(0,l.iD)("div",Mt,zt)):((0,l.wg)(),(0,l.iD)("div",Pt,"Uncheck"))],2)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),(0,o.SU)(Ge).includes("can_verify_sr_accountant")&&Xs.value?((0,l.wg)(),(0,l.iD)("div",Et,[(0,l._)("div",{onClick:n[41]||(n[41]=e=>(0,o.SU)(E)("255713222333","Managing Director","LPO Requisition ","approve."))},[1===so.value.engineer&&0===so.value.senior_accountant&&(0,o.SU)(Ge).includes("can_verify_sr_accountant")?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:n[40]||(n[40]=e=>(Vo(so.value.id,"senior_accountant"),Do.value=!Do.value)),class:(0,r.C_)([{disabled:Do.value},"btn btn-primary"])},[Do.value?((0,l.wg)(),(0,l.iD)("div",Ot,Lt)):((0,l.wg)(),(0,l.iD)("div",Rt,"Check"))],2)):(0,l.kq)("",!0)]),1===so.value.senior_accountant&&(0,o.SU)(Ge).includes("can_verify_sr_accountant")?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:n[42]||(n[42]=e=>(Mo(so.value.id,"senior_accountant"),Do.value=!Do.value)),class:(0,r.C_)([{disabled:Do.value},"btn btn-dark p-1"])},[Do.value?((0,l.wg)(),(0,l.iD)("div",Bt,It)):((0,l.wg)(),(0,l.iD)("div",$t,"Uncheck"))],2)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),(0,o.SU)(Ge).includes("can_verify_sr_accountant")&&Qs.value?((0,l.wg)(),(0,l.iD)("div",Tt,[1===so.value.project_manager&&0===so.value.senior_accountant&&(0,o.SU)(Ge).includes("can_verify_sr_accountant")?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:n[43]||(n[43]=e=>(Vo(so.value.id,"senior_accountant"),Do.value=!Do.value)),class:(0,r.C_)([{disabled:Do.value},"btn btn-primary"])},[Do.value?((0,l.wg)(),(0,l.iD)("div",Wt,Yt)):((0,l.wg)(),(0,l.iD)("div",Jt,"Check"))],2)):(0,l.kq)("",!0),1===so.value.senior_accountant&&(0,o.SU)(Ge).includes("can_verify_sr_accountant")?((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:n[44]||(n[44]=e=>(Mo(so.value.id,"senior_accountant"),Do.value=!Do.value)),class:(0,r.C_)([{disabled:Do.value},"btn btn-dark p-1 btn-sm me-3"])},[Do.value?((0,l.wg)(),(0,l.iD)("div",Gt,Xt)):((0,l.wg)(),(0,l.iD)("div",Qt,"Uncheck"))],2)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),(0,o.SU)(Ge).includes("is_md")?((0,l.wg)(),(0,l.iD)("div",Zt,[0===so.value.managing_director&&1===so.value.senior_accountant&&(0,o.SU)(Ge).includes("is_md")?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:n[45]||(n[45]=e=>(Vo(so.value.id,"managing_director"),Do.value=!Do.value)),class:(0,r.C_)([{disabled:Do.value},"btn btn-primary"])},[Do.value?((0,l.wg)(),(0,l.iD)("div",el,tl)):((0,l.wg)(),(0,l.iD)("div",ll,"Check"))],2)):(0,l.kq)("",!0),1===so.value.managing_director&&(0,o.SU)(Ge).includes("is_md")?((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:n[46]||(n[46]=e=>(Mo(so.value.id,"managing_director"),Do.value=!Do.value)),class:(0,r.C_)([{disabled:Do.value},"btn btn-dark p-1"])},[Do.value?((0,l.wg)(),(0,l.iD)("div",rl,ol)):((0,l.wg)(),(0,l.iD)("div",nl,"Uncheck"))],2)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),(0,l._)("h5",il,"Tsh "+(0,r.zw)(Number(Zs.value).toLocaleString()),1)])),lo.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",dl,[(0,l._)("div",cl,[(0,l._)("div",ul,[vl,(0,l._)("div",pl,[(0,l._)("table",ml,[(0,l._)("thead",null,[(0,l._)("tr",null,[gl,Xs.value?((0,l.wg)(),(0,l.iD)("th",hl,"Engineer ")):(0,l.kq)("",!0),Qs.value?((0,l.wg)(),(0,l.iD)("th",_l,"Project Manager ")):(0,l.kq)("",!0),bl,yl])]),(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",{class:(0,r.C_)(0===so.value.operation_department?"text-danger":"text-success")},(0,r.zw)(0===so.value.operation_department?"unchecked":"checked"),3),Xs.value?((0,l.wg)(),(0,l.iD)("td",{key:0,class:(0,r.C_)(0===so.value.engineer?"text-danger":"text-success")},(0,r.zw)(0===so.value.engineer?"unchecked":"checked"),3)):(0,l.kq)("",!0),Qs.value?((0,l.wg)(),(0,l.iD)("td",{key:1,class:(0,r.C_)(0===so.value.project_manager?"text-danger":"text-success")},(0,r.zw)(0===so.value.project_manager?"unchecked":"checked"),3)):(0,l.kq)("",!0),(0,l._)("td",{class:(0,r.C_)(0===so.value.senior_accountant?"text-danger":"text-success")},(0,r.zw)(0===so.value.senior_accountant?"unchecked":"checked"),3),(0,l._)("td",{class:(0,r.C_)(0===so.value.managing_director?"text-danger":"text-success")},(0,r.zw)(0===so.value.managing_director?"unchecked":"checked"),3)])])])])])])])),(0,l._)("div",wl,[(0,l._)("div",kl,[(0,l._)("div",fl,[lo.value?((0,l.wg)(),(0,l.iD)("div",xl,Sl)):((0,l.wg)(),(0,l.iD)("div",Cl,[(0,l.Wm)(i,{data:eo.value,columns:ao.value,options:Y.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,r.C_)(["badge inv-status","badge-"+e.row.status.class])},(0,r.zw)(e.row.status.key),3)])),actions:(0,l.w5)((e=>[ql])),_:1},8,["data","columns","options"])]))])])])])):(0,l.kq)("",!0),ro.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Hl,[ko.value?((0,l.wg)(),(0,l.iD)("form",{key:0,class:"mt-3 p-3 border rounded bg-white shadow",onSubmit:(0,s.iM)(Jo,["prevent"])},[(0,l._)("div",Vl,[(0,l._)("div",Ml,[(0,l._)("button",{type:"button",class:"btn btn-danger me-2",onClick:n[47]||(n[47]=e=>ko.value=!1)},"X")])]),Al,(0,l._)("div",zl,[(0,l._)("div",Pl,[El,(0,l.Wm)((0,o.SU)(d()),{modelValue:Oo.value,"onUpdate:modelValue":n[48]||(n[48]=e=>Oo.value=e),options:ho.value,label:"name",placeholder:"Select Budget",searchable:!0,multiple:!1,required:!0,"track-by":"id",onInput:e.getBudgetItems},null,8,["modelValue","options","onInput"])]),no.value?((0,l.wg)(),(0,l.iD)("div",Ol,[jl,(0,l.wy)((0,l._)("select",{class:"form-select","onUpdate:modelValue":n[49]||(n[49]=e=>po.value=e),onChange:zo},Nl,544),[[s.bM,po.value]])])):(0,l.kq)("",!0),io.value?((0,l.wg)(),(0,l.iD)("div",Il,[$l,(0,l.Wm)((0,o.SU)(d()),{modelValue:vo.value,"onUpdate:modelValue":n[50]||(n[50]=e=>vo.value=e),searchable:!0,options:wo.value,multiple:!1,required:"","track-by":"name",label:"name"},null,8,["modelValue","options"])])):(0,l.kq)("",!0),""!==Oo.value?((0,l.wg)(),(0,l.iD)("div",Tl,[Wl,(0,l.Wm)((0,o.SU)(d()),{modelValue:$o.value,"onUpdate:modelValue":n[51]||(n[51]=e=>$o.value=e),options:Lo.value,label:"name",placeholder:"Select Category",searchable:!0,multiple:!1,required:""},null,8,["modelValue","options"])])):(0,l.kq)("",!0),""!==$o.value?((0,l.wg)(),(0,l.iD)("div",Fl,[Yl,(0,l.Wm)((0,o.SU)(d()),{modelValue:pr.value,"onUpdate:modelValue":n[52]||(n[52]=e=>pr.value=e),options:To.value,label:"name",placeholder:"Select Item",searchable:!0,multiple:!1,required:""},null,8,["modelValue","options"])])):(0,l.kq)("",!0),""!==pr.value?((0,l.wg)(),(0,l.iD)("div",Jl,[Gl,(0,l.wy)((0,l._)("input",{class:"form-check-input mt-1",type:"checkbox",id:"machineCheck","onUpdate:modelValue":n[53]||(n[53]=e=>_o.value=e),style:{width:"25px",height:"25px"}},null,512),[[s.e8,_o.value]])])):(0,l.kq)("",!0),_o.value?((0,l.wg)(),(0,l.iD)("div",Kl,[Xl,(0,l.Wm)((0,o.SU)(d()),{modelValue:Fo.value,"onUpdate:modelValue":n[54]||(n[54]=e=>Fo.value=e),searchable:!0,options:mo.value,multiple:!1,required:"","track-by":"id",label:"name"},null,8,["modelValue","options"])])):(0,l.kq)("",!0),""!==pr.value?((0,l.wg)(),(0,l.iD)("div",Ql,[Zl,(0,l._)("input",{type:"hidden",value:pr.value.units,name:"item_unit"},null,8,er),(0,l._)("label",ar,(0,r.zw)(pr.value.units??"nill"),1)])):(0,l.kq)("",!0),""!==pr.value?((0,l.wg)(),(0,l.iD)("div",tr,[lr,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":n[55]||(n[55]=e=>Yo.value=e)},null,512),[[s.nr,Yo.value]])])):(0,l.kq)("",!0),""!==pr.value?((0,l.wg)(),(0,l.iD)("div",rr,[(0,l._)("label",sr,[(0,l.Uk)("Budgeted Rate "+(0,r.zw)(pr.value.rate?.toLocaleString())+" ",1),yo.value>pr.value.cost?((0,l.wg)(),(0,l.iD)("span",or,dr)):(0,l.kq)("",!0)]),(0,l.wy)((0,l._)("input",{type:"number",class:"form-control","onUpdate:modelValue":n[56]||(n[56]=e=>yo.value=e),required:""},null,512),[[s.nr,yo.value]])])):(0,l.kq)("",!0),""!==Ro.value?((0,l.wg)(),(0,l.iD)("div",cr,[(0,l._)("label",ur,[(0,l.Uk)("Quantity maximum "+(0,r.zw)(pr.value.quantity-Ro.value)+" ",1),bo.value>pr.value.quantity-Ro.value?((0,l.wg)(),(0,l.iD)("span",vr,gr)):(0,l.kq)("",!0)]),(0,l.wy)((0,l._)("input",{type:"number",class:"form-control","onUpdate:modelValue":n[57]||(n[57]=e=>bo.value=e),step:"any",required:""},null,512),[[s.nr,bo.value]])])):(0,l.kq)("",!0),""!==Ro.value?((0,l.wg)(),(0,l.iD)("div",hr,[(0,l._)("label",_r,[(0,l.Uk)("Amount maximum "+(0,r.zw)((pr.value.rate*(pr.value.quantity-Ro.value))?.toLocaleString())+" ",1),fo.value>pr.value.total?((0,l.wg)(),(0,l.iD)("span",br,kr)):(0,l.kq)("",!0)]),(0,l._)("label",fr,(0,r.zw)(fo.value.toLocaleString()),1)])):(0,l.kq)("",!0)]),(0,l._)("div",xr,[(0,l._)("div",Dr,[(0,l._)("button",{type:"button",class:"btn btn-secondary me-2",onClick:Xo},"Clear"),fo.value<=pr.value.rate*(pr.value.quantity-Ro.value)?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"submit",class:"btn btn-primary me-2",disabled:xt.value},[xt.value?((0,l.wg)(),(0,l.iD)("span",Cr,Hr)):((0,l.wg)(),(0,l.iD)("span",Ur,"Register"))],8,Sr)):(0,l.kq)("",!0)])])],40,Ul)):(0,l.kq)("",!0),(0,l._)("div",Vr,[(0,l._)("div",Mr,[ko.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Ar,[(0,l._)("button",{class:"btn btn-warning",onClick:n[58]||(n[58]=e=>Ao())},Er),(0,l._)("button",{class:"btn btn-primary",onClick:n[59]||(n[59]=e=>ko.value=!0)},Lr)])),lo.value?((0,l.wg)(),(0,l.iD)("div",Rr,Nr)):((0,l.wg)(),(0,l.iD)("div",Ir,[(0,l.Wm)(i,{data:eo.value,columns:ao.value,options:Y.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,r.C_)(["badge inv-status","badge-"+e.row.status.class])},(0,r.zw)(e.row.status.key),3)])),actions:(0,l.w5)((e=>[(0,l._)("a",{href:"javascript:void(0);",title:"Delete","data-bs-toggle":"tooltip","data-bs-placement":"top",onClick:a=>{Ko(e.row.id,e.row.remark_id)}},Wr,8,$r)])),_:1},8,["data","columns","options"])]))])])]))])])])):(0,l.kq)("",!0)])),to.value?((0,l.wg)(),(0,l.iD)("div",Fr)):(0,l.kq)("",!0),((0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[K.value?((0,l.wg)(),(0,l.iD)("div",Yr,[Jr,(0,l._)("div",Gr,[(0,l._)("div",Kr,[(0,l._)("div",{class:"modal-header bg-danger text-white"},[Xr,(0,l._)("button",{type:"button",class:"btn-close btn-close-white",onClick:Zo,"aria-label":"Close"})]),(0,l._)("div",Qr,[(0,l._)("div",Zr,[es,(0,l.wy)((0,l._)("textarea",{id:"deleteReason",class:"form-control","onUpdate:modelValue":n[60]||(n[60]=e=>Z.value=e),placeholder:"Please provide a reason for deleting this LPO...",rows:"5",required:"",style:{"font-weight":"400"}},null,512),[[s.nr,Z.value]]),as])]),(0,l._)("div",ts,[(0,l._)("button",{type:"button",class:"btn btn-secondary",onClick:Zo,style:{"font-weight":"500"}},ss),(0,l._)("button",{type:"button",class:"btn btn-danger",onClick:en,disabled:!Z.value.trim()||sa.value,style:{"font-weight":"500"}},[sa.value?((0,l.wg)(),(0,l.iD)("span",ns)):((0,l.wg)(),(0,l.iD)("i",is)),(0,l.Uk)(" "+(0,r.zw)(sa.value?"Deleting...":" Delete"),1)],8,os)])])])])):(0,l.kq)("",!0)])),K.value?((0,l.wg)(),(0,l.iD)("div",ds)):(0,l.kq)("",!0),((0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[t.value?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"modal fade show d-block",role:"dialog",onClick:(0,s.iM)(Pr,["self"])},[(0,l._)("div",us,[(0,l._)("div",vs,[(0,l._)("div",{class:"modal-header"},[ps,(0,l._)("button",{type:"button",class:"btn-close",onClick:Pr})]),(0,l._)("div",ms,[Me.value?((0,l.wg)(),(0,l.iD)("div",gs,_s)):((0,l.wg)(),(0,l.iD)("div",bs,[mr.value?((0,l.wg)(),(0,l.iD)("div",ys,ks)):((0,l.wg)(),(0,l.iD)("div",fs,[0===ir.value.length?((0,l.wg)(),(0,l.iD)("div",xs,Cs)):((0,l.wg)(),(0,l.iD)("div",qs,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(ir.value,((e,a)=>((0,l.wg)(),(0,l.iD)("div",{key:a,class:"mb-3"},[e.remarker_id==(0,o.SU)(Dl)?((0,l.wg)(),(0,l.iD)("div",Hs,[(0,l._)("div",Us,[(0,l._)("div",Vs,[Ms,(0,l._)("span",As,(0,r.zw)(new Date(e.created_at).toLocaleString()),1)]),(0,l._)("div",zs,(0,r.zw)(e.description),1)])])):((0,l.wg)(),(0,l.iD)("div",Ps,[(0,l._)("div",Es,[(0,l._)("div",Os,[(0,l._)("span",js,(0,r.zw)(e.remarker||e.sender_name),1),(0,l._)("span",Ls,(0,r.zw)(new Date(e.created_at).toLocaleString()),1)]),(0,l._)("div",Rs,(0,r.zw)(e.description),1)])]))])))),128))]))]))]))]),(0,l._)("div",Bs,[(0,l._)("form",{onSubmit:(0,s.iM)(yr,["prevent"])},[(0,l._)("div",Is,[(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":n[61]||(n[61]=e=>nr.value=e),class:"form-control",rows:"2",placeholder:"Type your remark here..."},null,512),[[s.nr,nr.value]])]),(0,l._)("div",$s,[(0,l._)("button",{type:"button",class:"btn btn-secondary",onClick:Pr}," Close "),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:xt.value||!nr.value.trim()},[xt.value?((0,l.wg)(),(0,l.iD)("span",Ws)):(0,l.kq)("",!0),Fs],8,Ts)])],40,Ns)])])])],8,cs)):(0,l.kq)("",!0)])),t.value?((0,l.wg)(),(0,l.iD)("div",Ys)):(0,l.kq)("",!0)],64)}}};const Gs=Js;var Ks=Gs}}]);
//# sourceMappingURL=8330.2440287e.js.map