{"version":3,"file":"js/5526.dd782211.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/masters/items/dashboard.vue","webpack://cork-vue3/./src/views/masters/items/dashboard.vue?a2fc"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">  \r\n            <ul class=\"navbar-nav flex-row mt-2\">\r\n                <li>\r\n                    <div class=\"page-header\">\r\n                        <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                            <ol class=\"breadcrumb\">\r\n                                <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Masters</a></li>\r\n                                <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Items</span></li>\r\n                            </ol>\r\n                        </nav>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n\r\n            <div class=\"d-flex me-4 mt-2 \">\r\n                        <div class=\"ms-auto\">\r\n                            <button class=\"btn btn-primary \" @click=\"item_registration =! item_registration\">                           \r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n  <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/>\r\n</svg>\r\n</button>\r\n \r\n                        </div>\r\n                    </div>  \r\n\r\n         \r\n        <!-- loading spinner starts -->\r\n        <div v-if=\"loading_spinner\" v-html=\"loadingIndicator()\"></div>\r\n        <!-- Loading spinner ends -->\r\n\r\n        \r\n <!-- item registration form starts -->\r\n <form v-if=\"item_registration\" class=\"mt-3 p-3 border rounded bg-white shadow\" @submit.prevent=\"registerItem\">\r\n        <h4 class=\"text-center\">ITEM  REGISTRATION FORM</h4>\r\n        <div class=\"row mb-2\">\r\n    \r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Item Name</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Item Name\" v-model=\"name\" required>\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Item </label>\r\n                <multiselect \r\n                    v-model=\"category\"\r\n                    :options=\"itemCategory\"\r\n                    track-by=\"id\"\r\n                    label=\"name\"\r\n                    placeholder=\"Select Item Category\"\r\n                    :searchable=\"true\"\r\n                    :multiple=\"false\"\r\n                    required>\r\n                </multiselect>\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n                <label class=\"form-label\">Item Description</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Item Description\" v-model=\"description\" >\r\n            </div>\r\n        </div>\r\n        <div class=\"text-center gap-2 justify-content-end\">\r\n            <button type=\"button\" class=\"btn btn-danger me-3\" @click=\"item_registration = false\">Cancel</button>\r\n            <button type=\"submit\" class=\"btn btn-primary\">Register</button>\r\n        </div>\r\n    </form>\r\n\r\n<!-- item edit modal starts -->\r\n<div class=\"modal fade\" id=\"edit_role\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-lg\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"staticBackdropLabel\">ITEM EDITING {{category}}</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"close_editing\" @click=\"clearForm\"></button>\r\n      </div>\r\n      <form @submit.prevent=\"updateItem()\">\r\n      <div class=\"modal-body\">\r\n        <div class=\"row mb-2\">\r\n            <div class=\"col-md-4\">\r\n                <label class=\"form-label\">Item Name</label>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"editName\" placeholder=\"Enter Item Name\" required>\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <label class=\"form-label\">Description</label>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"editDescription\" placeholder=\"Enter Description\" required>\r\n            </div>\r\n\r\n            <div class=\"col-md-4\">\r\n                <label class=\"form-label\">Item Category</label>\r\n                <multiselect \r\n                    v-model=\"editCategory\"\r\n                    :options=\"itemCategory\"\r\n                    track-by=\"id\"\r\n                    label=\"name\"\r\n                    placeholder=\"Select Item Category\"\r\n                    :searchable=\"true\"\r\n                    :multiple=\"false\"\r\n                    required>\r\n                </multiselect>\r\n            </div>\r\n       \r\n            </div>\r\n       \r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-danger btn-sm py-2 px-2\" data-bs-dismiss=\"modal\">Close</button>\r\n        <button type=\"submit\" class=\"btn btn-success py-2 px-2\">\r\n          <div v-if=\"sending\" class=\"spinner-border text-white\" role=\"status\">\r\n            <span class=\"sr-only\"></span>\r\n          </div>\r\n          <span v-else>Save changes</span>\r\n        </button>\r\n      </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n             <!-- item registration form ends-->\r\n      \r\n        <div class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table :data=\"items\" :columns=\"columns\" :options=\"table_option\" >\r\n                            <template #status=\"props\">\r\n                                <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.class\">{{ props.row.status.key }} </span>\r\n                            </template>\r\n                            <template #actions=\"props\">\r\n                               <a href=\"javascript:;\" class=\"edit me-2\" >\r\n                                            <svg\r\n                                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                width=\"24\"\r\n                                                height=\"24\"\r\n                                                viewBox=\"0 0 24 24\"\r\n                                                fill=\"none\"\r\n                                                stroke=\"currentColor\"\r\n                                                stroke-width=\"1.5\"\r\n                                                stroke-linecap=\"round\"\r\n                                                stroke-linejoin=\"round\"\r\n                                                class=\"text-primary\"\r\n                                                data-bs-toggle=\"modal\" \r\n                                                data-bs-target=\"#edit_role\"\r\n                                                @click=\"editItem(props.row)\"\r\n                                            >\r\n                                                <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n                                                <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n                                            </svg>\r\n                                    </a>\r\n\r\n\r\n                        \r\n                         <a href=\"javascript:void(0);\" class=\"text-success\"  \r\n                         data-bs-toggle=\"modal\" data-bs-target=\"#rates\"\r\n                         @click=\"selected_item = props.row\"\r\n                         >\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-cash-coin\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8m5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0\"/>\r\n  <path d=\"M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195z\"/>\r\n  <path d=\"M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083q.088-.517.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1z\"/>\r\n  <path d=\"M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 6 6 0 0 1 3.13-1.567\"/>\r\n</svg>\r\n                                </a>\r\n                                \r\n                                <a href=\"javascript:void(0);\" title=\"Delete\" @click=\"deleteItem(props.row.id)\" v-if=\"user_permissions.includes('can_delete_item')\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        width=\"24\"\r\n                                        height=\"24\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                        fill=\"none\"\r\n                                        stroke=\"currentColor\"\r\n                                        stroke-width=\"1.5\"\r\n                                        stroke-linecap=\"round\"\r\n                                        stroke-linejoin=\"round\"\r\n                                        class=\"text-danger\"\r\n                                    >\r\n                                        <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n                                        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                                    </svg>\r\n                                </a>\r\n                              \r\n<!-- modal starts -->\r\n\r\n \r\n                                \r\n                            </template>\r\n                           \r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- rates modal starts -->\r\n                      <div class=\"modal fade mymodal\" id=\"rates\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\" >\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"staticBackdropLabel\">RATE CUSTOMIZATION  {{ selected_item.name?.toUpperCase() }} {{ selected_item.description?.toUpperCase() }}</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"close-rate-ragistry\" ></button>\r\n      </div>\r\n<div class=\"modal-body\" >\r\n      <div class=\"row layout-top-spacing\" style=\"max-height: 67vh; overflow-y: auto;\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                      <div class=\"row p-2\">\r\n                        <div class=\"col-md-8\">\r\n                          <label class=\"form-label\">Customizable Rate </label>\r\n                          <input  class=\"form-control\" type=\"number\" step=\"any\" placeholder=\"Enter Rate\" v-model=\"rate\">\r\n                        </div>\r\n\r\n                           <div class=\"col-md-4\">\r\n                          <label class=\"form-label\">Date Customized</label>\r\n                          <input class=\"form-control\" type=\"date\"   v-model=\"date\" required>\r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-danger  py-2 px-2\" data-bs-dismiss=\"modal\">Close</button>\r\n        <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading || !date\" @click=\"registerRate()\">\r\n           <span v-if=\"loading\" v-html=\"loadingSpinner()\"></span>\r\n           <span v-else>Save</span>\r\n        </button>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n     <!-- rates modal ends -->\r\n</template>\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n<script setup>\r\n    import { onMounted, ref,inject,computed } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    import Swal from 'sweetalert2';\r\n    useMeta({ title: 'Custom Table' });\r\n\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n\r\n    const selected_item = ref('')\r\n    const user_permissions = JSON.parse(localStorage.getItem('user')).permissions\r\n    const loadingIndicator = inject('loadingIndicator'); \r\n    const formatNumber = inject('formatNumber')\r\n    const loadingSpinner = inject('loadingSpinner')\r\n    const name = ref('');\r\n    const loading_spinner = ref(false);\r\n    const category = ref('');\r\n    const columns = ref(['Sno','id', 'name','description','category','rate','actions']);\r\n    const items = ref([]);\r\n    const itemCategory = ref([]);\r\n    const item_registration = ref(false);\r\n    const description = ref('');\r\n    const editName = ref('');\r\n    const editDescription = ref('');\r\n    const editCategory = ref({});\r\n    const editId = ref(null);\r\n    const sending = ref(false);\r\n    const table_option = ref({\r\n        perPage: 100,\r\n        perPageValues: [100, 200, 500],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['id', 'service_name'],\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n    const getItems = () => {\r\n        loading_spinner.value = true;\r\n        axiosInstance.get('/item-list').then((response) => {\r\n            items.value = response.data.map((item, index) => ({\r\n                ...item,\r\n                Sno: index + 1,\r\n                category: item.category ? item.category.name : '',\r\n                rate : formatNumber(item.rates_avg_rate ?? 0)\r\n            }));\r\n            loading_spinner.value = false;\r\n        });\r\n    };\r\n\r\n    const getItemCategory = () => {\r\n        loading_spinner.value = true;\r\n        axiosInstance.get('/store-item-categories').then((response) => {\r\n            itemCategory.value = response.data;\r\n            loading_spinner.value = false;\r\n        });\r\n    };\r\n\r\n    const registerItem = () => {\r\n        item_registration.value = false;\r\n        loading_spinner.value = true;\r\n        const itemData = {\r\n            name: name.value,\r\n            category_id: category.value.id,\r\n            description: description.value,\r\n        };\r\n\r\n        axiosInstance\r\n            .post('/item-list', itemData)\r\n            .then((response) => {\r\n                getItems();\r\n                loading_spinner.value = false;\r\n                showMessage('Item registered successfully!');\r\n                if (response.data.status === 201) {\r\n                } else {\r\n                    console.error(response.data.message);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n                showError(error.response.data.message)\r\n            });\r\n              loading_spinner.value = false;\r\n    };\r\n\r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n\r\n   const deleteItem = (id) => {\r\n        Swal.fire({\r\n            title: 'Are you sure?',\r\n            text: \"You won't be able to revert this!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes, delete it!'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                loading_spinner.value = true;\r\n                axiosInstance.delete(`/item-list/${id}`)\r\n                    .then((response) => {\r\n                        getItems();\r\n                        showMessage(response.data.message);\r\n                        loading_spinner.value = false;\r\n                    });\r\n            }\r\n        })\r\n    };\r\n\r\n \r\n\r\n\r\n\r\n  \r\n    const editItem = (row) => {\r\n        editId.value = row.id;\r\n        editName.value = row.name;\r\n        editDescription.value = row.description;\r\n        editCategory.value = row.category;\r\n        editCategory.value = itemCategory.value.find(item => item.name === row.category);\r\n    };\r\n\r\n    const updateItem = () => {\r\n        sending.value = true;\r\n        const itemData = {\r\n            name: editName.value,\r\n            category_id: editCategory.value.id,\r\n            description: editDescription.value,\r\n        };\r\n\r\n        axiosInstance.put(`/item-list/${editId.value}`, itemData)\r\n            .then((response) => {\r\n                getItems();\r\n                sending.value = false;\r\n                document.getElementById('close_editing').click();\r\n                showMessage('Item updated successfully!');\r\n            })\r\n            .catch((error) => {\r\n                sending.value = false;\r\n                showError(error.message);\r\n                console.error(\"Error updating item:\", error.message);\r\n            });\r\n    };\r\n\r\n    const clearForm = ()=>{\r\n        rate.value = ''\r\n        date.value = ''\r\n        document.getElementById('close-rate-ragistry').click()\r\n    }\r\n    const loading = ref(false)\r\n    const rate = ref('')\r\n    const date = ref('')\r\n    const registerRate = async()=>{\r\n        loading.value = true\r\n        const payload = {\r\n            item_id : selected_item.value.id,\r\n            rate : rate.value,\r\n            date : date.value\r\n        }\r\n        try{\r\n           const response = await axiosInstance.post('item-rates',payload)\r\n           showMessage('Rate Saved!')\r\n           getItems()\r\n           clearForm()\r\n        }catch(error){\r\n          console.log(error)\r\n          showError(error.message)\r\n        }finally{\r\n            loading.value = false\r\n        }\r\n    }\r\n    onMounted(() => {\r\n        getItems();\r\n        getItemCategory();\r\n    });\r\n</script>\r\n","import script from \"./dashboard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./dashboard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./dashboard.vue?vue&type=style&index=0&id=0216a806&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useMeta","title","axiosInstance","axios","baseURL","process","selected_item","ref","user_permissions","JSON","parse","localStorage","getItem","permissions","loadingIndicator","inject","formatNumber","loadingSpinner","name","loading_spinner","category","columns","items","itemCategory","item_registration","description","editName","editDescription","editCategory","editId","sending","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","getItems","value","get","then","response","data","map","item","index","Sno","rate","rates_avg_rate","getItemCategory","registerItem","itemData","category_id","id","post","showMessage","status","console","error","message","catch","showError","deleteItem","Swal","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","delete","editItem","row","find","updateItem","put","document","getElementById","click","clearForm","date","loading","registerRate","async","payload","item_id","log","onMounted","__exports__"],"sourceRoot":""}