"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[8369],{58483:function(t,e,n){n.d(e,{i:function(){return i}});n(26699);function i(t,e){const n=e.toLowerCase().trim();if(!n)return t;const i=t=>null!=t&&("string"===typeof t?t.toLowerCase().includes(n):Array.isArray(t)?t.some(i):"object"===typeof t&&Object.values(t).some(i));return t.filter((t=>i(t)))}},86500:function(t,e,n){n.d(e,{Z:function(){return d}});var i=n(66252),a=n(49963),l=n(2262);const s=(0,i._)("span",{class:"input-group-text bg-white border-start-0"},[(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.415l-3.85-3.85zm-5.442.656a5 5 0 1 1 \r\n        0-10 5 5 0 0 1 0 10z"})])],-1);var r={props:{filterValue:String},emits:["update:filterValue"],setup(t,{emit:e}){const n=t,r=(0,l.iH)(n.filterValue||null);return(0,i.YP)(r,(t=>e("update:filterValue",t))),(t,e)=>((0,i.wg)(),(0,i.iD)("form",{onSubmit:e[1]||(e[1]=(0,a.iM)((()=>{}),["prevent"])),class:"input-group container"},[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control border-end-0",placeholder:"Search a word...","onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t)},null,512),[[a.nr,r.value]]),s],32))}};const o=r;var d=o},86730:function(t,e,n){n.r(e),n.d(e,{default:function(){return ne}});n(26699);var i=n(66252),a=n(2262),l=n(3577),s=n(49963),r=n(87066),o=n(56296),d=(n(86500),n(58483)),c=n(42119);n(84730),n(18159),n(69218);const u={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing my-4"},p={class:"panel p-0"},g={class:"custom-table table3 table-responsive"},v={class:"table table-bordered table-striped"},m=(0,i._)("th",null,"Order No",-1),h=(0,i._)("th",null,"Requester",-1),b=(0,i._)("th",null,"Date Requested",-1),y=(0,i._)("th",null,"Purpose",-1),x=(0,i._)("th",null,"Approval Chain",-1),_={key:0},w={key:1},f={key:0},k={key:1},q=(0,i._)("th",null,"Awaits",-1),$=(0,i._)("th",null,"Cost",-1),C={key:2},D={key:0},S={key:1},R=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),(0,i._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})],-1),O=[R],H={key:0},T={colspan:"8"},A=(0,i._)("b",null," Brief Description : ",-1),z={key:0},L={key:1},N={colspan:"8"},E=(0,i._)("b",null," Remark : ",-1),P={key:0,class:"d-flex justify-content-center mt-2 mb-2"},U=["disabled"],V=["innerHTML"],j={key:1},M={class:"input-group container"},I=["disabled"],B=["innerHTML"],Y={key:1},F={class:"modal-body"},J={key:0,class:"d-flex justify-content-center mb-2"},W={class:"btn-group"},Q=["disabled"],X=["disabled"],K=["disabled"],Z={key:1,class:"mb-2 text-center"},G={key:2,class:"input-group"},tt=["placeholder"],et=["disabled"],nt=["innerHTML"],it={key:1},at={class:"custom-table table3 table-responsive"},lt={class:"table"},st=(0,i._)("br",null,null,-1),rt=(0,i._)("br",null,null,-1),ot={key:0,class:"text-dark"},dt=(0,i.Uk)(),ct=(0,i._)("br",null,null,-1),ut={key:1,class:"text-dark"},pt=(0,i._)("h4",{class:"text-center",style:{"font-size":"1.3rem"}},"APPROVAL ITEMS",-1),gt={class:"d-flex justify-content-center mb-3"},vt={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},mt={class:"panel p-0"},ht={class:"custom-table table3"},bt={class:"table table-bordered table-striped"},yt=(0,i._)("th",null,"ID",-1),xt=(0,i._)("th",null,"Item",-1),_t=(0,i._)("th",null,"Decription",-1),wt=(0,i._)("th",null,"Quantity",-1),ft=(0,i._)("th",null,"Rate",-1),kt=(0,i._)("th",null,"Total",-1),qt=(0,i._)("th",null,"Receiver",-1),$t={key:0,class:"text-center"},Ct=(0,i._)("th",null,"Actions",-1),Dt={key:1},St={key:0},Rt={key:1},Ot={key:0},Ht=(0,i._)("br",null,null,-1),Tt=(0,i._)("br",null,null,-1),At={key:1},zt=(0,i._)("br",null,null,-1),Lt=(0,i._)("br",null,null,-1),Nt={key:0},Et={key:0,class:"text-center"},Pt=["onClick"],Ut=(0,i._)("path",{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0"},null,-1),Vt=(0,i._)("path",{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"},null,-1),jt=[Ut,Vt],Mt=["onClick"],It=(0,i._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1),Bt=[It],Yt=["onUpdate:modelValue","onInput"],Ft=["onUpdate:modelValue"],Jt=["onUpdate:modelValue"],Wt=(0,i._)("button",{class:"btn btn-outline-primary me-2"},"Diesel ",-1),Qt=(0,i._)("button",{class:"btn btn-outline-primary me-2"},"Budget",-1),Xt=(0,i._)("button",{class:"btn btn-outline-primary me-2"},"Subcontractor",-1),Kt=["onClick"],Zt=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),(0,i._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})],-1),Gt=[Zt];var te={setup(t){const e=(0,a.iH)("");(0,o.j)({title:"Approval Chains"});const n=(0,c.yj)(),R=r.Z.create({baseURL:"https://bushman.ink/api/v1/"}),Ut=(0,a.iH)(!1),Vt=async t=>{const e={status_id:16,remark:Te.value};try{fe.value=!0;await R.put(`approval-lists/${t}`,e);oe("Transaction Completed"),ke(),Te.value="",Ut.value=!1}catch(n){de(n.message),console.log(n)}finally{fe.value=!1}},It=(0,a.iH)(!1),Zt=()=>{It.value=!It.value},te=((0,a.iH)(""),(0,a.iH)("")),ee=JSON.parse(localStorage.getItem("user")).permissions,ne=(0,a.iH)(!1),ie=(JSON.parse(localStorage.getItem("user")).id,(0,a.iH)(0)),ae=(0,a.iH)(JSON.parse(localStorage.getItem("user")).role),le=((0,a.iH)(["Sno","requisition","approval","purpose","type","requester","project","cost","status","date","awaits","actions"]),(0,a.iH)(["Sno","item","description","quantity","rate","total","actions"]),(0,a.iH)([])),se=((0,i.f3)("whatsappAlert"),(0,a.iH)([])),re=((0,a.iH)({perPage:50,perPageValues:[50,100,200],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:["id","service_name"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1,headings:{vendor:function(){return re.value?"Beneficiary":"Vendor"}}}),(0,i.Fl)((()=>"4"==n.params.group_id||"8"==n.params.group_id))),oe=(0,i.f3)("showMessage"),de=(0,i.f3)("showError"),ce=(0,i.f3)("formatNumber"),ue=((0,i.f3)("tableShimmer"),(0,i.f3)("formatDate")),pe=(0,i.f3)("loadingSpinner"),ge=(0,i.f3)("enforceMax"),ve=(0,a.iH)([]),me=(0,a.iH)({}),he=(0,a.iH)(""),be=(0,a.iH)(""),ye=(0,a.iH)(""),xe=(0,a.iH)(!1),_e=(0,a.iH)(null);let we=null;const fe=(0,a.iH)(!1),ke=async()=>{try{const t=await R.get(`get-approval-lists?approval_list_id=${n.params.approval_list_id}`);le.value=t.data.map(((t,e)=>{let n=t.status;4!=t.last_checked_in?.status?.id&&14!=t.last_checked_in?.status?.id||(n={name:t.last_checked_in.status.name,color:t.last_checked_in.status.color});let i=t.awaiting_approval?.name||"no one";4!=t.last_checked_in?.status?.id&&14!=t.last_checked_in?.status?.id||(i="no one");let a=t.awaiting_approval?.role_id||null;return 4!=t.last_checked_in?.status?.id&&14!=t.last_checked_in?.status?.id||(a=null),{...t,status:n,Sno:e+1,group_id:t.group_id,purpose:t.approval_group,type:t.requisition_type??t?.source,approval:"0"+t.id,approval_id:t.id,requisition:t?.requisition_id??t?.source_id,requester:t.requester?.name??t?.requester,requester_id:t.requester?.id,awaits:i,awaiter_role_id:a,vendor:t.vendor&&t.vendor.name?t.vendor.name:t.beneficiary,vendor_data:t.vendor,date:ue(t.date),created_at:t.date,last_checked:ue(t.last_checked_in?.approved_at),cost:t.items?ce(t.items.reduce(((t,e)=>t+(e?.quantity||0)*(e.requisition_items?.rate||0)),0)):0,approved_at:t.last_checked_in?.approved_at?new Date(t.last_checked_in.approved_at).toLocaleString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):null}})),le.value.sort(((t,e)=>{const n=Number(ae.value),i=t.awaiter_role_id===n,a=e.awaiter_role_id===n;return i&&!a?-1:!i&&a?1:0}))}catch(t){de(t.message),console.error(t)}};(0,i.Fl)((()=>(0,d.i)(le.value,e.value)));(0,i.YP)((()=>n.params.group_id),((t,e)=>{t!==e&&(Ue(),ke())}));const qe=(0,a.iH)(""),$e=(0,a.iH)(0),Ce=(0,a.iH)(""),De=(0,a.iH)(""),Se=(0,a.iH)(""),Re=(0,a.iH)(""),Oe=(0,a.iH)(""),He=t=>{Oe.value=t,se.value=t.items.map(((t,e)=>({...t,order_item_id:t?.requisition_items?.id,Sno:e+1,item:t?.requisition_items?.remark,description:t?.requisition_items?.description+(t.description?" ( "+t.description+" )":""),rate:Number(t?.requisition_items?.rate).toLocaleString()+"/=",rate_original:t?.requisition_items?.rate,total:(t?.quantity*t?.requisition_items?.rate).toLocaleString()+"/=",selected:!1,rate_original:t?.requisition_items?.rate,requesting_quantity:"",request_description:""}))),De.value=t.awaits,Re.value=t.approval_description,ve.value=(t.roles_sequence||[]).slice(),qe.value=t.roles_sequence?.length>0?t.roles_sequence[t.roles_sequence.length-1].role_id:null,me.value=t.awaiting_approval||{},he.value=t.awaiting_approval?.role_id||null,be.value=t.id,Ce.value=t.date,$e.value=t,Se.value=t,xe.value=!1},Te=(0,a.iH)(""),Ae=async()=>{const t={subcontractor_agreement_id:Se.value.subcontractor_agreement_id,approval_group_id:n.params.group_id,status_id:ye.value,approval_item_id:be.value,role_id:ae.value,remark:Te.value,last_role:qe.value,requisition_type:$e.value.requisition_type,project:$e.value,requisition_items:$e.value.items.map((t=>({source_id:t.requisition_items.item_id,cost:t.requisition_items.quantity*t.requisition_items.rate,description:t.requisition_items.description,remark:"From LPO NO : "+be.value+" created on date "+Ce.value,remarker_id:JSON.parse(localStorage.getItem("user")).id,remarker:JSON.parse(localStorage.getItem("user")).name})))};await R.post("approval-chains",t),he.value="",Te.value="",oe("data saved successfully")},ze=async()=>{try{ne.value=!0,await Ae(),xe.value=!0,me.value.role_id="",Te.value="",ye.value=""}catch(t){de(t.message),console.error(t)}finally{ne.value=!1}},Le=async(t,e)=>{console.log(t),ie.value=t.items.reduce(((t,e)=>t+e.quantity*e.requisition_items?.rate),0);try{const e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e);new Date;const n=new Date(t.created_at),i=`${n.getDate().toString().padStart(2,"0")}/${(n.getMonth()+1).toString().padStart(2,"0")}`,a=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Print Voucher</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .voucher-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 13px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  .title { text-align: center; font-weight: bold;  margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td, .signatures th, .signatures td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  .text-right { text-align: right; }\n  .text-center { text-align: center; }\n  .text-success { color: green; }\n .signature-area { margin-top: 30px; }\n  .signature-line { border-top: 1px solid #000; width: 200px; display: inline-block; margin-top: 50px; }\n  .text-danger { color: red; }\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="voucher-box">\n    ${t.type.toLowerCase().includes("voucher")||t.type.toLowerCase().includes("labour")?"Voucher":"LPO"} NO: <br>\n    <span style="color:red;">${("0000"+t.approval).slice(-4)}/${i}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 135-489-247<br>\n  VRN: 40-032826C\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n<div class="section-title"> ${t?.purpose?.toUpperCase()} DETAILS</div>\n\n<div class="title">PROJECT :  ${t?.project?.toUpperCase()??"NO PROJECT"}</div>\n\n\n<p><strong>ORDER ITEMS</strong></p>\n<table class="items">\n  <thead>\n    <tr>\n      <th>SN</th>\n      <th>Item</th>\n      <th>Description</th>\n      <th>Quantity</th>\n      <th>Rate</th>\n      <th>Total</th>\n      <th>Receiver</th>\n    </tr>\n  </thead>\n  <tbody>\n    ${t.items.map(((t,e)=>`\n    <tr>\n      <td>${e+1}</td>\n      <td>${t.requisition_items?.remark||"N/A"}</td>\n      <td>${t.requisition_items?.description+(t.description?" , "+t.description:"")||"N/A"}</td>\n      <td class="text-right">${t.requisition_items?.quantity||"0"}</td>\n      <td class="text-right">${Number(t.rate||0).toLocaleString()}/=</td>\n      <td class="text-right">${(t.quantity*t.requisition_items?.rate||0).toLocaleString()}/=</td>\n      <td>${t.receiver||t.beneficiary||"N/A"}</td>\n    </tr>\n\n    `)).join("")}\n ${t.description?`\n  <tr>\n    <td colspan="7" style="text-align:start;">\n      Brief Description : ${t.description+(t.approval_description?" , "+t.approval_description:"")} \n    </td>\n  </tr>\n`:""}\n\n    <tr>\n     <td colspan="7" style="text-align:right;"><strong>TOTAL</strong>  <strong>${ie.value.toLocaleString()}/=</strong></td>\n    </tr>\n  </tbody>\n</table>\n\n<div class="section-title">APPROVAL CHAIN </div>\n<table class="signatures" style="margin-top: 20px;">\n  <thead>\n    <tr>\n          ${t.roles_sequence.map((t=>`\n      <th>${t.name||"N/A"}</td>\n            `)).join("")}\n    </tr>\n\n  </thead>\n  <tbody>\n    <tr>\n          ${t.roles_sequence.map((t=>`\n      <td class="text-center ${3==t?.status?.id?"text-success":"text-danger"}">${t?.status?.name??"Pending"}</td>\n       `)).join("")}\n      </tr>\n  </tbody>\n</table>\n\n\n\n${t.purpose.toLowerCase().includes("voucher")?`\n<div class="signature-area" style="display: flex; justify-content: space-between; margin-top: 20px;">\n  <div style="text-align: center;">\n    \n<div style="text-align: center; margin-top: 30px;">\n  \x3c!-- Beneficiary name above the line --\x3e\n  <div style="margin-bottom: 5px;">\n    <strong>${t.beneficiary||"&nbsp;"}</strong>\n  </div>\n\n  \x3c!-- The signature line --\x3e\n  <div style="border-bottom: 1px solid #000; width: 200px; margin: 0 auto;"></div>\n</div>    <p>Received By: </p>\n  </div>\n  <div style="text-align: center;">\n    <div class="signature-line"></div>\n    <p>Receiver's Signature</p>\n  </div>\n  <div style="text-align: center;">\n    <div class="signature-line"></div>\n    <p>Received Date</p>\n  </div>\n</div>\n`:""}\n</body>\n</html>\n`,l=e.contentWindow.document;l.open(),l.write(a),l.close(),e.onload=()=>{e.contentWindow.focus(),e.contentWindow.print(),setTimeout((()=>{document.body.removeChild(e)}),1e3)}}catch(n){de(`Failed to print voucher: ${n.message}`)}},Ne=async(t,e)=>{ie.value=e.items.reduce(((t,e)=>t+e.quantity*e.requisition_items?.rate),0);try{const n=document.createElement("iframe");n.style.display="none",document.body.appendChild(n);new Date;const i=new Date(e.created_at),a=`${ue(i)}`,l=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Print Order</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .voucher-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 8px;  margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 11px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  .title { text-align: center; font-weight: bold;  margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td, .signatures th, .signatures td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  .text-right { text-align: right; }\n  .text-center { text-align: center; }\n  .text-success { color: green; }\n .signature-area { margin-top: 30px; }\n  .signature-line { border-top: 1px solid #000; width: 200px; display: inline-block; margin-top: 50px; }\n  .text-danger { color: red; }\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="voucher-box">\n    Date : ${a}<br>\n    ${t.requisition_items.beneficiary||e.type.toLowerCase().includes("labour"),"ORDER"} NO: <span style="color:red;">${("0000"+e.approval).slice(-4)}</span><br>\n    ${t.requisition_items.beneficiary||e.type.toLowerCase().includes("labour")?"VOUCHER":"LPO"} NO: <span style="color:red;">${("00"+t.requisition_items.id).slice(-4)}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 135-489-247<br>\n  VRN: 40-032826C\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n<div class="section-title"> ${t.requisition_items.beneficiary||e.type.toLowerCase().includes("labour")?"VOUCHER":"PURCHASE ORDER"} DETAILS </div>\n\n<div class="title">PROJECT :  ${e?.project?.toUpperCase()??"NO PROJECT"}</div>\n\n${t.vendor?`\n\n\n<p><strong>Vendor Details </strong></p>\n<table class="items">\n  <thead>\n    <tr>\n      <th>Vendor Name</th>\n      <th>Location</th>\n      <th>Email</th>\n      <th>Phone</th>\n      <th>Address</th>\n    </tr>\n  </thead>\n  <tbody>\n\n    <tr>\n      <td>${t?.vendor?.name||"&nbsp;"}</td>\n      <td>${t?.vendor?.location||" "}</td>\n      <td class="text-right">${t?.vendor?.email||" "}</td>\n      <td class="text-right">${t?.vendor?.phone||" "}</td>\n      <td class="text-right">${t?.vendor?.address||" "}</td>\n    </tr>\n\n  </tbody>\n</table>\n    `:""}\n\n<p><strong>Please provide the following as per requisition details belows</strong></p>\n<table class="items">\n  <thead>\n    <tr>\n      <th>Item</th>\n      <th>Description</th>\n      <th>Quantity</th>\n      <th>Rate</th>\n      <th>Total</th>\n    </tr>\n  </thead>\n  <tbody>\n    \n    <tr>\n      <td>${t.requisition_items?.remark||"N/A"}</td>\n      <td>${t.requisition_items?.description||"N/A"}</td>\n      <td class="text-right">${t.quantity||"0"}</td>\n      <td class="text-right">${Number(t.requisition_items?.rate||0).toLocaleString()}/=</td>\n      <td class="text-right">${(t.quantity*t.requisition_items?.rate||0).toLocaleString()}/=</td>\n    </tr>\n\n    \n\n ${e.description?`\n  <tr>\n    <td colspan="6" style="text-align:start;">\n      Brief Description : ${e.description+(e.approval_description?" , "+e.approval_description:"")} \n    </td>\n  </tr>\n`:""}\n\n    <tr>\n     <td colspan="6" style="text-align:right;"><strong>TOTAL</strong>  <strong>${ie.value.toLocaleString()}/=</strong></td>\n    </tr>\n  </tbody>\n</table>\n\n<div class="section-title">APPROVAL CHAIN</div>\n<table class="signatures" style="margin-top: 20px;">\n  <thead>\n    <tr>\n          ${e.roles_sequence.map((t=>`\n      <th>${t.name||"N/A"}</td>\n            `)).join("")}\n    </tr>\n\n  </thead>\n  <tbody>\n    <tr>\n          ${e.roles_sequence.map((t=>`\n      <td class="text-center ${3==t?.status?.id?"text-success":"text-danger"}">${t?.status?.name??"Pending"}</td>\n       `)).join("")}\n      </tr>\n  </tbody>\n</table>\n\n\n\n${t.requisition_items.beneficiary||t.beneficiary?`\n<div class="signature-area" style="display: flex; justify-content: space-between; margin-top: 20px;">\n  <div style="text-align: center;">\n    \n<div style="text-align: center; margin-top: 30px;">\n  <div style="margin-bottom: 5px;">\n    <strong>${t.requisition_items.beneficiary||t.beneficiary||"&nbsp;"}</strong>\n  </div>\n\n  \x3c!-- The signature line --\x3e\n  <div style="border-bottom: 1px solid #000; width: 200px; margin: 0 auto;"></div>\n</div>    <p>Received By: </p>\n  </div>\n  <div style="text-align: center;">\n    <div class="signature-line"></div>\n    <p>Receiver's Signature</p>\n  </div>\n  <div style="text-align: center;">\n    <div class="signature-line"></div>\n    <p>Received Date</p>\n  </div>\n</div>\n`:""}\n</body>\n</html>\n`,s=n.contentWindow.document;s.open(),s.write(l),s.close(),n.onload=()=>{n.contentWindow.focus(),n.contentWindow.print(),setTimeout((()=>{document.body.removeChild(n)}),1e3)}}catch(n){de(`Failed to print voucher: ${n.message}`)}},Ee=async(t,e)=>{ie.value=t.items.reduce(((t,e)=>t+e.requisition_items?.quantity*e.requisition_items?.rate),0);try{const n=document.createElement("iframe");n.style.display="none",document.body.appendChild(n);new Date;const i=new Date(t.created_at),a=`${i.getDate().toString().padStart(2,"0")}/${(i.getMonth()+1).toString().padStart(2,"0")}`,l=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Print Voucher</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header {  display: flex; justify-content: space-between; align-items: flex-start;font-weight:bold }\n  .logo { width: 160px; height: auto; }\n  .text-style { font-family: 'Courier New', monospace; }\n  .voucher-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 13px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  .title { text-align: center;   margin: 10px 0 10px 0; font-size:20px }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td, .signatures th, .signatures td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  .text-right { text-align: right; }\n  .text-center { text-align: center; }\n  .text-success { color: green; }\n .signature-area { margin-top: 30px; }\n  .signature-line { border-top: 1px solid #000; width: 200px; display: inline-block; margin-top: 50px; }\n  .text-danger { color: red; }\n  hr {\n  border: 0;\n  border-top: 0.4px solid #000 !important;\n  opacity: 1 !important;\n  margin: 0px 0;\n}\n\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="text-style">\n  ${t.purpose.toLowerCase().includes("voucher")?"VOUCHER":"LPO"}  NO. ${t.approval}\n</div>\n<div class="company-title text-style">\n  <i>\n  <h1>COPEX CONTRACTORS CO.LTD</h1>\n  <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\n  <div><b>Tel:</b> , 0713 000 777, 0657 111 555</div>\n  <div><b>Email:</b> info@copexcontractors.co.tz</div>\n  <div><b>TIN:</b> 135-489-247    <b>VRN:</b> 40-032826C</div>\n  </i>\n</div>\n<hr style="margin-top:20px">\n<div class="title text-style">  ${t?.purpose?.toUpperCase()} :  ${t?.project?.toUpperCase()??"NO PROJECT"}</div>\n<hr>\n${t.purpose.toLowerCase().includes("voucher")?"":`\n\n<div style="display:flex;justify-content:space-between;gap:20px;margin-top:10px;font-size:13px;">\n  <div style="flex:1;border:1px solid #f0f0f0;padding:8px;">\n  <table style="width:100%; border-collapse: collapse;">\n  <tr><td style="background:#333; border-top:1px solid #000; border-right:1px solid #000; border-bottom:1px solid #000; padding:5px;width:2cm">\n  <b>Vendor</b>\n</td>\n</tr>\n  <tr ><td>Name</td><td style="border-bottom:1px solid #000;">${e?.name||""}</td></tr>\n  <tr ><td>Address</td><td class="text-style" style="border-bottom:1px solid #000;">${e?.address||""}</td></tr>\n  <tr ><td>City</td><td class="text-style" style="border-bottom:1px solid #000;">${e?.location||""}</td></tr>\n  <tr ><td>Phone</td><td class="text-style" style="border-bottom:1px solid #000;">${e?.phone||""}</td></tr>\n  <tr ><td >TIN</td><td class="text-style" style="border-bottom:1px solid #000;">${e?.tin||""}</td></tr>\n  <tr ><td >VRN</td><td  class="text-style" style="border-bottom:1px solid #000;">${e?.vrn||""}</td></tr>\n</table>\n\n  </div>\n  <div style="width:35%;border:1px solid #f0f0f0;padding:8px;margin-top:1cm">\n    <table style="width:100%;border-collapse:collapse;">\n      <tr><td class="text-style"> ${t.purpose.toLowerCase().includes("voucher")?"VOUCHER":"LPO"} :</td><td class="text-style">${t?.requisition||""}</td></tr>\n      <tr><td class="text-style"> ${t.purpose.toLowerCase().includes("voucher")?"VOUCHER":"LPO"} DATE:</td><td class="text-style">${a}/${i.getFullYear()}</td></tr>\n      <tr><td class="text-style">REQ:</td><td class="text-style">${t?.id||""}</td></tr>\n      <tr><td class="text-style">REQ DATE:</td><td class="text-style">${a}/${i.getFullYear()}</td></tr>\n      <tr><td class="text-style">STATUS:</td><td class="text-style">${t?.status.name||""}</td></tr>\n      <tr><td class="text-style">AWAITS:</td><td class="text-style">${t?.awaits||""}</td></tr>\n    </table>\n  </div>\n</div>\n<br>\n\n  </tbody>\n</table>\n    `}\n\n<p class="text-style">Please provide the following as per requisition details below</p>\n<h2 class="text-style">CURRENCY : TSH</h2>\n<table class="items">\n  <thead>\n    <tr>\n      <th class="text-style">No.</th>\n      <th class="text-style">ITEM NAME</th>\n      <th class="text-style">DESCRIPTION</th>\n      <th class="text-style">QUANTITY</th>\n      <th class="text-style">RATE</th>\n      <th class="text-style">TOTAL</th>\n    </tr>\n  </thead>\n  <tbody>\n    ${t.items.map(((t,e)=>`\n    <tr>\n      <td class="text-style">${e+1}</td>\n      <td class="text-style">${t.requisition_items?.remark||"N/A"}</td>\n      <td class="text-style">${t.requisition_items?.description||"N/A"}</td>\n      <td class="text-style text-right">${t.requisition_items?.quantity||"0"}</td>\n      <td class=" text-style text-right">${Number(t.requisition_items?.rate||0).toLocaleString()}/=</td>\n      <td class="text-style text-right">${(t.requisition_items?.quantity*t.requisition_items?.rate||0).toLocaleString()}/=</td>\n    </tr>\n\n    `)).join("")}\n\n    <tr>\n     <td colspan="6" class="text-style" style="text-align:right;"><strong>TOTAL</strong>  <strong>${ie.value.toLocaleString()}/=</strong></td>\n    </tr>\n  </tbody>\n</table>\n\n<h2 style="text-style">Note : </h2>\n<p class="text-style">${t.description??""}</p>\n<div class="title text-style" style="margin-top:40px">APPROVAL CHAIN</div>\n<table class="signatures" style="margin-top: 10px;">\n  <tbody>\n    <tr>\n          ${t.roles_sequence.map((t=>`\n      <td style="border-bottom:1px solid #000;border-top:1px solid #fff;border-right:1px solid #fff;border-left:1px solid #fff;" class="text-center ${3==t?.status?.id?"text-success":"text-danger"}">${t?.status?.name??"Pending"}</td>\n       `)).join("")}\n      </tr>\n  </tbody>\n    <tfooter>\n    <tr>\n          ${t.roles_sequence.map((t=>`\n      <th style="border-bottom:1px solid #fff;border-top:1px solid #fff;border-right:55px solid #fff;border-left:1px solid #fff;">${t.name||"N/A"}</td>\n            `)).join("")}\n    </tr>\n\n  </tfooter>\n</table>\n\n\n\n${t.purpose.toLowerCase().includes("voucher")?`\n    <div class="title text-style" style="margin-top:40px;margin-bottom:-20px">BENEFICIARY</div>\n\n<div class="signature-area" style="display: flex; justify-content: space-between; margin-top: 20px;">\n  <div style="text-align: center;">\n<div style="text-align: center; margin-top: 30px;">\n  \x3c!-- Beneficiary name above the line --\x3e\n  <div class="text-style" style="margin-bottom: 5px;">\n    <strong>${t.beneficiary||"&nbsp;"}</strong>\n  </div>\n\n  \x3c!-- The signature line --\x3e\n  <div style="border-bottom: 1px solid #000; width: 200px; margin: 0 auto;"></div>\n</div>    <p>Received By: </p>\n  </div>\n  <div style="text-align: center;">\n    <div class="signature-line"></div>\n    <p>Receiver's Signature</p>\n  </div>\n  <div style="text-align: center;">\n    <div class="signature-line"></div>\n    <p>Received Date</p>\n  </div>\n</div>\n`:""}\n</body>\n</html>\n`,s=n.contentWindow.document;s.open(),s.write(l),s.close(),n.onload=()=>{n.contentWindow.focus(),n.contentWindow.print(),setTimeout((()=>{document.body.removeChild(n)}),1e3)}}catch(n){de(`Failed to print voucher: ${n.message}`)}},Pe=(0,a.iH)(""),Ue=async(t=null)=>{Pe.value="";let e=t;if(!e&&le.value.length>0&&(e=le.value[0].group_id),e)try{const t=await R.get(`approval-groups/${e}`);Pe.value=t.data}catch(n){de(`Failed to fetch approval group: ${n.message}`)}else console.warn("No group ID available for fetching approval group")};return(0,i.bv)((async()=>{await ke(),await Ue(),le.value.length>0&&He(le.value[0]),_e.value&&(we=()=>{xe.value=!1,ne.value=!1},_e.value.addEventListener("hidden.bs.modal",we))})),(0,i.Jd)((()=>{_e.value&&we&&_e.value.removeEventListener("hidden.bs.modal",we)})),(t,e)=>{const n=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",u,[(0,i._)("div",p,[(0,i._)("div",g,[(0,i._)("table",v,[(0,i._)("thead",null,[(0,i._)("tr",null,[m,h,b,y,x,Se.value.project?((0,i.wg)(),(0,i.iD)("th",_,"Project")):(0,i.kq)("",!0),Se.value.vendor?((0,i.wg)(),(0,i.iD)("th",w,[Se.value?.type?.toLowerCase().includes("voucher")?((0,i.wg)(),(0,i.iD)("span",f," Beneficiary ")):((0,i.wg)(),(0,i.iD)("span",k," Vendor "))])):(0,i.kq)("",!0),q,$,(0,a.SU)(ee).includes("can_print_lpo")?((0,i.wg)(),(0,i.iD)("th",C,"Action")):(0,i.kq)("",!0)])]),(0,i._)("tbody",null,[(0,i._)("tr",null,[(0,i._)("td",null,(0,l.zw)(Se.value?.approval),1),(0,i._)("td",{onClick:e[0]||(e[0]=t=>Ee(Se.value,Se.value.vendor_data))},(0,l.zw)(Se.value.requester),1),(0,i._)("td",null,(0,l.zw)(Se.value?.date),1),(0,i._)("td",null,(0,l.zw)(Se.value?.type),1),(0,i._)("td",null,(0,l.zw)(Se.value?.purpose),1),Se.value.project?((0,i.wg)(),(0,i.iD)("td",D,(0,l.zw)(Se.value.project),1)):(0,i.kq)("",!0),Se.value.vendor?((0,i.wg)(),(0,i.iD)("td",S,(0,l.zw)(Se.value.vendor),1)):(0,i.kq)("",!0),(0,i._)("td",null,(0,l.zw)(Se.value?.awaits),1),(0,i._)("td",null,(0,l.zw)(Se.value?.cost),1),(0,i._)("td",null,[(0,a.SU)(ee).includes("can_print_lpo")?((0,i.wg)(),(0,i.iD)("a",{key:0,href:"javascript:void(0);",onClick:e[1]||(e[1]=t=>Le(Se.value,Se.value.vendor_data)),class:"text-success me-2"},O)):(0,i.kq)("",!0),"Labour Request"===Se.value.purpose&&(0,a.SU)(ee).includes("can_create_labour_voucher")?((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:e[2]||(e[2]=t=>Zt()),class:"btn btn-outline-primary"},"Create Voucher")):(0,i.kq)("",!0)])]),Se.value.description?((0,i.wg)(),(0,i.iD)("tr",H,[(0,i._)("td",T,[A,(0,i.Uk)(" "+(0,l.zw)(Se.value.description)+" ",1),Re.value?((0,i.wg)(),(0,i.iD)("span",z," ( "+(0,l.zw)(Re.value)+" )",1)):(0,i.kq)("",!0)])])):(0,i.kq)("",!0),Se.value.remark?((0,i.wg)(),(0,i.iD)("tr",L,[(0,i._)("td",N,[E,(0,i.Uk)(" "+(0,l.zw)(Se.value.remark),1)])])):(0,i.kq)("",!0)])])])])]),"approved"===Se.value.status?.name&&(0,a.SU)(ee).includes("can_complete_transaction")?((0,i.wg)(),(0,i.iD)("div",P,[(0,i._)("button",{class:"btn btn-primary",type:"button",disabled:fe.value,onClick:e[3]||(e[3]=t=>Ut.value=!Ut.value)},[fe.value?((0,i.wg)(),(0,i.iD)("span",{key:0,innerHTML:(0,a.SU)(pe)()},null,8,V)):((0,i.wg)(),(0,i.iD)("span",j,"Received"))],8,U)])):(0,i.kq)("",!0),Ut.value?((0,i.wg)(),(0,i.iD)("form",{key:1,onSubmit:e[5]||(e[5]=(0,s.iM)((t=>Vt(Se.value.id)),["prevent"]))},[(0,i._)("div",M,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Enter Transaction details eg cheque No or MPESA Transaction Id ",required:"","onUpdate:modelValue":e[4]||(e[4]=t=>Te.value=t)},null,512),[[s.nr,Te.value]]),(0,i._)("button",{class:"btn btn-primary me-2",type:"submit",disabled:fe.value},[fe.value?((0,i.wg)(),(0,i.iD)("span",{key:0,innerHTML:(0,a.SU)(pe)()},null,8,B)):((0,i.wg)(),(0,i.iD)("span",Y,"Save"))],8,I)])],32)):(0,i.kq)("",!0),(0,i._)("div",F,[ae.value==me.value.role_id&&"no one"!==De.value?((0,i.wg)(),(0,i.iD)("div",J,[(0,i._)("div",W,[(0,i._)("button",{class:"btn btn-primary me-2",onClick:e[6]||(e[6]=t=>ye.value=3),disabled:ne.value}," Check ",8,Q),(0,i._)("button",{class:"btn btn-danger me-2",onClick:e[7]||(e[7]=t=>ye.value=4),disabled:ne.value}," Reject ",8,X),(0,i._)("button",{class:"btn btn-info",onClick:e[8]||(e[8]=t=>ye.value=14),disabled:ne.value}," Remark ",8,K)])])):(0,i.kq)("",!0),ye.value?((0,i.wg)(),(0,i.iD)("div",Z,[(0,i._)("span",{class:(0,l.C_)(["badge rounded-pill",{"bg-danger":4==ye.value,"bg-success":3==ye.value,"bg-info":14==ye.value}]),style:{"font-size":"1rem"}},(0,l.zw)(3==ye.value?"Check / Approve Request":4==ye.value?"Reject Request":"Fill Remark"),3)])):(0,i.kq)("",!0),ye.value?((0,i.wg)(),(0,i.iD)("div",G,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:3==ye.value?"Enter Approval Remark":4==ye.value?"Enter Rejection Remark":"Enter Remark","onUpdate:modelValue":e[9]||(e[9]=t=>Te.value=t)},null,8,tt),[[s.nr,Te.value]]),(0,i._)("button",{onClick:e[10]||(e[10]=t=>ze()),class:"btn btn-primary me-2",type:"button",disabled:ne.value},[ne.value?((0,i.wg)(),(0,i.iD)("span",{key:0,innerHTML:(0,a.SU)(pe)()},null,8,nt)):((0,i.wg)(),(0,i.iD)("span",it,"Save"))],8,et)])):(0,i.kq)("",!0),(0,i._)("div",at,[(0,i._)("table",lt,[(0,i._)("thead",null,[(0,i._)("tr",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(ve.value,(t=>((0,i.wg)(),(0,i.iD)("th",{key:t.role_id||t.position||t.name},[(0,i.Uk)((0,l.zw)(t.name)+" ",1),st])))),128))])]),(0,i._)("tbody",null,[(0,i._)("tr",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(ve.value,((t,e)=>((0,i.wg)(),(0,i.iD)("td",{key:t.role_id||t.position||e,class:(0,l.C_)(t?.status?.color?"text-"+t.status.color:"text-danger")},[(0,i._)("span",null,(0,l.zw)(t?.status?.name??"Unchecked"),1),rt,t.approved_at?((0,i.wg)(),(0,i.iD)("span",ot,"Checked At :"+(0,l.zw)((0,a.SU)(ue)(t.approved_at)),1)):(0,i.kq)("",!0),dt,ct,t.remark?((0,i.wg)(),(0,i.iD)("span",ut,"Remark : "+(0,l.zw)(t.remark),1)):(0,i.kq)("",!0)],2)))),128))])])])]),pt,(0,i._)("div",gt,[It.value?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"text",class:"form-control",style:{"max-width":"350px","font-size":"1rem"},placeholder:"Enter Brief Description ","onUpdate:modelValue":e[11]||(e[11]=t=>te.value=t)},null,512)),[[s.nr,te.value]]):(0,i.kq)("",!0)]),(0,i._)("div",vt,[(0,i._)("div",mt,[(0,i._)("div",ht,[(0,i._)("table",bt,[(0,i._)("thead",null,[(0,i._)("tr",null,[yt,xt,_t,wt,ft,kt,qt,It.value?((0,i.wg)(),(0,i.iD)("th",$t,"select")):(0,i.kq)("",!0),Ct])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(se.value,(t=>((0,i.wg)(),(0,i.iD)("tr",null,[(0,i._)("td",null,(0,l.zw)(t.order_item_id),1),(0,i._)("td",null,(0,l.zw)(t.item),1),(0,i._)("td",null,["budget"!==Se.value.requisition_type||t.requisition_items.asset_id?((0,i.wg)(),(0,i.iD)("span",Dt,[t.selected?((0,i.wg)(),(0,i.iD)("span",St,(0,l.zw)(t.description)+" ( "+(0,l.zw)(t.request_description)+" ) ",1)):((0,i.wg)(),(0,i.iD)("span",Rt,(0,l.zw)(t.description),1))])):((0,i.wg)(),(0,i.j4)(n,{key:0,class:"btn btn-outline-primary",to:`/requisition-budget/${t.requisition_items.item_id}`},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(t.description),1)])),_:2},1032,["to"]))]),(0,i._)("td",null,[(0,i.Uk)((0,l.zw)(t.quantity)+" ",1),t?.requested_sum?((0,i.wg)(),(0,i.iD)("span",Ot,[Ht,(0,i.Uk)(" Requested : "+(0,l.zw)(t?.requested_sum)+" ",1),Tt,(0,i.Uk)(" Balance :"+(0,l.zw)((t.quantity-t?.requested_sum).toFixed(2)),1)])):(0,i.kq)("",!0),t.selected?((0,i.wg)(),(0,i.iD)("span",At,[zt,(0,i.Uk)("Requesting : "+(0,l.zw)(t.requesting_quantity),1)])):(0,i.kq)("",!0)]),(0,i._)("td",null,(0,l.zw)(t.rate),1),(0,i._)("td",null,[(0,i._)("span",null,[(0,i.Uk)((0,l.zw)(t.total),1),Lt]),t.selected?((0,i.wg)(),(0,i.iD)("span",Nt," Requesting : "+(0,l.zw)((0,a.SU)(ce)(t.requesting_quantity*t.rate_original)),1)):(0,i.kq)("",!0)]),(0,i._)("td",null,(0,l.zw)(t.receiver??t.beneficiary),1),It.value?((0,i.wg)(),(0,i.iD)("td",Et,[t.selected?((0,i.wg)(),(0,i.iD)("svg",{key:0,onClick:e=>t.selected=!t.selected,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-check2-circle",viewBox:"0 0 16 16"},jt,8,Pt)):((0,i.wg)(),(0,i.iD)("svg",{key:1,onClick:e=>t.selected=!t.selected,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-circle",viewBox:"0 0 16 16"},Bt,8,Mt)),t.selected?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:2,type:"number",placeholder:"enter quantity",class:"form-control w-75",step:"any","onUpdate:modelValue":e=>t.requesting_quantity=e,onInput:e=>t.requesting_quantity=(0,a.SU)(ge)(t.requesting_quantity,(t.quantity-t?.requested_sum).toFixed(2))},null,40,Yt)),[[s.nr,t.requesting_quantity]]):(0,i.kq)("",!0),t.selected?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:3,type:"text",placeholder:"enter Description",class:"form-control w-75 mt-1","onUpdate:modelValue":e=>t.request_description=e},null,8,Ft)),[[s.nr,t.request_description]]):(0,i.kq)("",!0),t.selected?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:4,type:"text",placeholder:"enter Beneficiary",class:"form-control w-75 mt-1","onUpdate:modelValue":e=>t.receiver=e},null,8,Jt)),[[s.nr,t.receiver]]):(0,i.kq)("",!0)])):(0,i.kq)("",!0),(0,i._)("td",null,[t.requisition_items.asset_id?((0,i.wg)(),(0,i.j4)(n,{key:0,to:`/assets/fuel-statement/${t.requisition_items.asset_id}`,class:"me-2"},{default:(0,i.w5)((()=>[Wt])),_:2},1032,["to"])):(0,i.kq)("",!0),"budget"===Se.value.requisition_type?((0,i.wg)(),(0,i.j4)(n,{key:1,to:`/requisition-budget/${t.requisition_items.item_id}`},{default:(0,i.w5)((()=>[Qt])),_:2},1032,["to"])):(0,i.kq)("",!0),Oe.value.subcontractor_agreement_id?((0,i.wg)(),(0,i.j4)(n,{key:2,to:`/subcontractor/${Oe.value.subcontractor_agreement_id}`},{default:(0,i.w5)((()=>[Xt])),_:1},8,["to"])):(0,i.kq)("",!0),(0,a.SU)(ee).includes("can_print_lpo")?((0,i.wg)(),(0,i.iD)("button",{key:3,class:"btn btn-outline-success",onClick:e=>Ne(t,Se.value)},Gt,8,Kt)):(0,i.kq)("",!0)])])))),256))])])])])])])],64)}}};const ee=te;var ne=ee},69218:function(t,e,n){t.exports=n.p+"img/logo.fce749d6.jpg"},3336:function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}n.d(e,{Z:function(){return i}})}}]);
//# sourceMappingURL=8369.3eb8ed85.js.map