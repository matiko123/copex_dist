{"version":3,"file":"js/758.7c9a5967.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/orders/copex_items_list.vue","webpack://cork-vue3/./src/views/orders/copex_items_list.vue?c6be"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">\r\n\r\n            <ul class=\"navbar-nav flex-row\">\r\n                <li>\r\n                    <div class=\"page-header\">\r\n                        <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                            <ol class=\"breadcrumb\">\r\n                                <li class=\"breadcrumb-item\"><a href=\"javascript:;\">DataTables</a></li>\r\n                                <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Custom</span></li>\r\n                            </ol>\r\n                        </nav>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n\r\n        <!-- approval officers starts -->\r\n\r\n    <div v-if=\"approval_status\" class=\"row layout-top-spacing\">\r\n        <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n            <div class=\"panel p-0\">\r\n                <!-- close button starts -->\r\n                 <div class=\"d-flex\">\r\n                    <h6 class=\"text-center mt-2 mx-2\">Approval Status</h6>\r\n                    <button class=\"btn-close ms-auto bg-danger me-3 mt-2\" @click=\"approval_status=!approval_status\"></button>\r\n                  </div>  \r\n                 <!-- close button ends -->\r\n                <div class=\"custom-table table-responsive table3\">\r\n                    <table class=\"table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th @click=\"triggerNotification('255698267662','Managing Director','approve','Supervisors at site')\">Operation's Dept</th>\r\n                                <th>Engineer</th>                                \r\n                                <th>Sr.Accountant</th>\r\n                                <th>MD</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td :class=\"approval_status_data.operation_department === 0 ? 'text-danger' : 'text-success'\">\r\n                                    {{ approval_status_data.operation_department === 0 ? 'unchecked' : 'checked' }}\r\n                                    <button v-if=\"approval_status_data.operation_department === 0 && is_operator\" @click=\"approveCheck(approval_status_data.id, 'operation_department'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else @click=\"triggerNotification('255677771888','Engineer','check','Senior Accountant')\">Check</div>\r\n                                    </button>\r\n                                    <button v-if=\"approval_status_data.operation_department === 1 && is_operator\" @click=\"approveUnCheck(approval_status_data.id, 'operation_department'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-danger p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Uncheck</div>\r\n                                    </button>\r\n                                </td>\r\n                                <td :class=\"approval_status_data.engineer === 0 ? 'text-danger' : 'text-success'\">\r\n                                    {{ approval_status_data.engineer === 0 ? 'unchecked' : 'checked' }}\r\n                                    <button v-if=\"approval_status_data.engineer === 0 && is_engineer\" @click=\"approveCheck(approval_status_data.id, 'engineer'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Check</div>\r\n                                    </button>\r\n                                    <button v-if=\"approval_status_data.engineer === 1 && is_engineer\" @click=\"approveUnCheck(approval_status_data.id, 'engineer'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-danger p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Uncheck</div>\r\n                                    </button>\r\n                                </td>\r\n                                <!-- <td :class=\"approval_status_data.quantity_surveyor === 0 ? 'text-danger' : 'text-success'\">\r\n                                    {{ approval_status_data.quantity_surveyor === 0 ? 'unchecked' : 'checked' }}\r\n                                    <button v-if=\"approval_status_data.quantity_surveyor === 0 && is_qs\" @click=\"approveCheck(approval_status_data.id, 'quantity_surveyor'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Check</div>\r\n                                    </button>\r\n                                </td> -->\r\n                                <td :class=\"approval_status_data.senior_accountant === 0 ? 'text-danger' : 'text-success'\">\r\n                                    {{ approval_status_data.senior_accountant === 0 ? 'unchecked' : 'checked' }}\r\n                                    <button v-if=\"approval_status_data.senior_accountant === 0 && approval_status_data.engineer === 1 && is_sa\" @click=\"approveCheck(approval_status_data.id, 'senior_accountant'),spinner=!spinner;triggerNotification()\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else @click=\"triggerNotification('255713222333','Managing Director','Supervisors at site','approve')\">Check</div>\r\n                                    </button>\r\n                                    <button v-if=\"approval_status_data.senior_accountant === 1 && is_sa \" @click=\"approveUnCheck(approval_status_data.id, 'senior_accountant'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-danger p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Uncheck</div>\r\n                                    </button>\r\n                                </td>\r\n                                <!-- <td :class=\"approval_status_data.financial_controller === 0 ? 'text-danger' : 'text-success'\">\r\n                                    {{ approval_status_data.financial_controller === 0 ? 'unchecked' : 'checked' }}\r\n                                    <button v-if=\"approval_status_data.financial_controller === 0 && is_fc\" @click=\"approveCheck(approval_status_data.id, 'financial_controller'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Check</div>\r\n                                    </button>\r\n                                </td> -->\r\n                                <td :class=\"approval_status_data.managing_director === 0 ? 'text-danger' : 'text-success'\">\r\n                                    {{ approval_status_data.managing_director === 0 ? 'unchecked' : 'checked' }}\r\n                                    <button v-if=\"approval_status_data.managing_director === 0 && is_md\" @click=\"approveCheck(approval_status_data.id, 'managing_director'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Check</div>\r\n                                    </button>\r\n                                    <button v-if=\"approval_status_data.managing_director === 1 && is_md\" @click=\"approveUnCheck(approval_status_data.id, 'managing_director'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-danger p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Uncheck</div>\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n         <!-- approval officers ends -->\r\n          \r\n              <!-- form button starts -->\r\n \r\n<div class=\"d-flex me-4 mt-2\">\r\n    <button class=\"btn btn-dark me-2 px-3\" @click=\"$router.go(-1)\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8\"/>\r\n</svg>\r\n                </button>\r\n    <button v-if=\"!approval_status\" class=\"btn btn-secondary btn-sm\" @click=\"approval_status=!approval_status\">   \r\n        <span >View Checking Status</span>\r\n    </button>\r\n                        <div class=\"ms-auto\">\r\n                            <a  v-if=\"order_status !== 'Inactive'\" :href=\"`${print_url}copex-lpo-pdf/${route.params.order_id}`\" \r\n                                  class=\"text-success me-3\" \r\n                                  title=\"Print\" \r\n                                  data-bs-toggle=\"tooltip\" \r\n                                  data-bs-placement=\"top\" \r\n                                  target=\"_blank\" \r\n                                  rel=\"noopener noreferrer\">\r\n                                     <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"34\" height=\"34\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n                                       <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n                                       <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n                                    </svg>\r\n                                </a>\r\n                                <div v-if=\"order_status === 'Inactive' && requester === user_id \">\r\n                                <a  href=\"javascript:void(0)\" class=\"me-2 text-warning\" title=\"Approve\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"  @click=\"activatePurchaseOrder(route.params.order_id)\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"34\" height=\"34\" fill=\"currentColor\" class=\"bi bi-check2-square\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z\"/>\r\n                                        <path d=\"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0\"/>\r\n                                    </svg>\r\n                                </a>\r\n                            <a  href=\"javascript:void(0)\" class=\"text-primary\" @click=\"item_registration=!item_registration\">                           \r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"34\" height=\"34\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n                                   <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n                                   <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/>\r\n                                </svg>\r\n                            </a>\r\n                             </div> \r\n \r\n                        </div>\r\n                    </div>  \r\n                    <!-- form button ends -->\r\n              <!-- loading spinner starts -->\r\n        <div v-if=\"loading_spinner\" class=\"d-flex justify-content-center align-items-center\" style=\"height: 100px;\">\r\n            <span class=\"text-primary spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-arrow-repeat\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z\"/>\r\n                    <path d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z\"/>\r\n                    <path d=\"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z\"/>\r\n                </svg>\r\n                Loading...\r\n            </span>\r\n        </div>\r\n        <!-- Loading spinner ends -->\r\n <!-- item registration form starts -->\r\n <form v-if=\"item_registration\" class=\"mt-3 p-3 border rounded bg-white shadow\" @submit.prevent=\"registerItem\">\r\n        <h4 class=\"text-center\">ITEM  REGISTRATION FORM</h4>\r\n        <div class=\"row mb-2\">\r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Description of good</label>\r\n                <select class=\"form-select\" v-model=\"description\" @change=\"handleDescriptionChange\" :required=\"!machine_field\">\r\n                    <option value=\"\">Select Item</option>\r\n                    <option v-for=\"item in items_list\" :value=\"item.name\">{{ item.name }}</option>\r\n                    <option value=\"Direct\">Direct Fuel Filling</option>\r\n                </select>\r\n            </div>\r\n            <div v-if=\"machine_field\" class=\"col-md-3\">\r\n                <label class=\"form-label\">Select Machine</label>\r\n\r\n                    <!-- <option v-for=\"machine in machines\" :key=\"machine.id\" :value=\"machine.name\">\r\n                        {{ machine.name }}\r\n                    </option> -->\r\n                    <Multiselect\r\n      v-model=\"description\"\r\n      :options=\"machines\"\r\n      :close-on-select=\"true\"\r\n      label=\"name\"\r\n      value-prop=\"name\"\r\n      :multiple=\"true\"\r\n      placeholder=\"Select Machines\"\r\n      @change=\"handleDescriptionChange\"\r\n      :required=\"!machine_field\"\r\n      :searchable=\"true\" \r\n    />\r\n\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Unit of measurement</label>\r\n                <select class=\"form-select\" v-model=\"unit\" required>\r\n                    <option value=\"\">Select Unit</option>\r\n                    <option value=\"Litre\">Litre</option>\r\n                    <option value=\"PC\">PC</option>\r\n                    <option value=\"Roll\">Roll</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Quantity</label>\r\n                <input type=\"number\" class=\"form-control\" placeholder=\"Enter Quantity\" v-model=\"quantity\" step=\"any\" required>\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Rate</label>\r\n                <input type=\"number\" class=\"form-control\" placeholder=\"Enter Rate\" v-model=\"rate\" step=\"any\" required>\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Amount</label>\r\n                <input type=\"text\" class=\"form-control\" :value=\"amount.toLocaleString()\" readonly>\r\n            </div>\r\n        </div>\r\n        <div class=\"text-center gap-2 justify-content-end\">\r\n            <button type=\"button\" class=\"btn btn-danger me-3\" @click=\"item_registration = false\">Cancel</button>\r\n            <button type=\"submit\" class=\"btn btn-primary\">Register</button>\r\n        </div>\r\n    </form>\r\n             <!-- item registration form ends-->\r\n     \r\n        <div class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table :data=\"items\" :columns=\"columns\" :options=\"table_option\" >\r\n                            <template #status=\"props\">\r\n                                <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.class\">{{ props.row.status.key }} </span>\r\n                            </template>\r\n                            <template #actions=\"props\">\r\n                                <a href=\"javascript:void(0)\" class=\"text-success\" title=\"Approve\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-check2-square\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z\"/>\r\n                                        <path d=\"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0\"/>\r\n                                    </svg>\r\n                                </a>\r\n\r\n                        \r\n                                <!-- <router-link :to=\"'/requisition-list/' + props.row.id\" class=\"text-primary\"  title=\"View\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-eye\" viewBox=\"0 0 16 16\">\r\n                                      <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z\"/>\r\n                                      <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0\"/>\r\n                                    </svg>\r\n                                </router-link> -->\r\n\r\n                                <router-link :to=\"'/requisition-list/'\" class=\"text-primary\"  title=\"View\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-eye\" viewBox=\"0 0 16 16\">\r\n                                      <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z\"/>\r\n                                      <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0\"/>\r\n                                    </svg>\r\n                                </router-link>\r\n\r\n\r\n                                <a href=\"javascript:void(0);\" title=\"Delete\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        width=\"24\"\r\n                                        height=\"24\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                        fill=\"none\"\r\n                                        stroke=\"currentColor\"\r\n                                        stroke-width=\"1.5\"\r\n                                        stroke-linecap=\"round\"\r\n                                        stroke-linejoin=\"round\"\r\n                                        class=\"text-danger\"\r\n                                    >\r\n                                        <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n                                        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                                    </svg>\r\n                                </a>\r\n                              \r\n\r\n                                \r\n                            </template>\r\n                           \r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n\r\n<script setup>\r\n    import Multiselect from '@vueform/multiselect';\r\n    import { onMounted, ref, watch,inject } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    useMeta({ title: 'Custom Table' });\r\n    import { useRoute } from 'vue-router';\r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n    const route = useRoute();\r\n    const selectedMachine = ref('');\r\n    const user_id = ref(JSON.parse(localStorage.getItem(\"user\")).id);\r\n    const columns = ref(['SNo', 'description', 'units','quantity', 'rate', 'amount']);\r\n    const items = ref([]);\r\n    const item_registration = ref(false);\r\n    const description = ref('');\r\n    const machines = ref([]);\r\n    const unit = ref('');\r\n    const machine_field = ref(false);\r\n    const quantity = ref('');\r\n    const rate = ref('');\r\n    const order_status= ref('');\r\n    const amount = ref(0);\r\n    \r\n    const user_role = JSON.parse(localStorage.getItem(\"user\")).role;\r\n    const loading_spinner = ref(false);\r\n    const approval_status = ref(true);\r\n    const spinner = ref(false);\r\n    const print_url = ref(process.env.VUE_APP_API_BASE_URL);\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n\r\n    watch([quantity, rate], () => {\r\n        amount.value = quantity.value * rate.value;\r\n    });\r\n    const table_option = ref({\r\n        perPage: 5,\r\n        perPageValues: [5, 10, 20, 50],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['SNo', 'first_name', 'last_name', 'email', 'phone'],\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search Data...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n    //for togle machine\r\n    const handleDescriptionChange = () => {\r\n        if (description.value === 'Direct') {\r\n            fetchMachines();\r\n            machine_field.value = true;\r\n        } else {\r\n            machine_field.value = false;\r\n        }\r\n    };\r\n\r\n    const mdPhone = \"255713222333\";\r\n\r\n    const triggerNotification = async (phone,sender,action,next_designation) => {\r\n  const recipientPhone = phone;\r\n  const endpoint = 'https://graph.facebook.com/v22.0/721816217672551/messages';\r\n  const accessToken = 'EAAXZAN9ZAW4VoBOZBhohedZA7pfKZBfzMghywTumPW7yFY0ZAI7u6Kh9DFtai4usEnmKsOnMZBYisZAQ0ojZBtEpDC72XXNyf6qFmtFtTCX61hv3I2eZCdZAevM9ahsDXGcIhT8stZAoTGstgOsujK4G1pxcSGqwFxiucZBcLr8HUoRxTLlB0IdVlLLlRGQ7n831T93WGUQZDZD';\r\n\r\n  const requestData = {\r\n    messaging_product: \"whatsapp\",\r\n    to: recipientPhone,\r\n    type: \"interactive\",\r\n    interactive: {\r\n      type: \"cta_url\",\r\n      header: {\r\n        type: \"image\",\r\n        image: {\r\n          link: \"https://copexcontractors.co.tz/assets/img/copex-about-img.jpg\"\r\n        }\r\n      },\r\n      body: {\r\n        text: \"*Dear \"+sender+\"*\\n\\nYou have a new LPO awaiting for you to \" + action + \" it.\\n\\nIt seems that \"+next_designation+\"  won't be able to work on it before you \"+action+\" it.\\n\\n_Thank you_.\"\r\n      },\r\n      action: {\r\n        name: \"cta_url\",\r\n        parameters: {\r\n          display_text: \"Visit Website\",\r\n          url: \"https://cftrack.trustdigital.space/#/orders\"\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(endpoint, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${accessToken}`,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(requestData)\r\n    });\r\n    const data = await response.json();\r\n    console.log('Success:', data);\r\n  } catch (error) {\r\n    console.error('Error:', error);\r\n  }\r\n};\r\n\r\n   //fetching machine list\r\n   const  fetchMachines= async () => {\r\n   // loading_spinner = true;\r\n    axiosInstance\r\n      .get(`/machines`)\r\n      .then((response) => {\r\n        if (Array.isArray(response.data)) {\r\n          machines.value = response.data.map(machine => ({\r\n            id: machine.id,\r\n            name: machine.name,\r\n            type: machine.type_name,          \r\n          }));\r\n        } else {\r\n        error_message.value = \"Error fetching machine data: \" + error.message;\r\n        showError(error_message.value);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        showError(error.message);\r\n        \r\n      }\r\n      \r\n    )\r\n     \r\n      .finally(() => {\r\n      //  loading_spinner = false;\r\n      });\r\n}\r\n\r\n\r\n    const registerItem = () => {\r\n        item_registration.value = false;\r\n        loading_spinner.value = true;\r\n        const itemData = {\r\n            order_id: route.params.order_id,\r\n            description: description.value,\r\n            unit_measure:unit.value,\r\n            quantity:quantity.value,\r\n            rate:rate.value,\r\n        };\r\n\r\n        axiosInstance\r\n            .post('/items', itemData)\r\n            .then((response) => {\r\n                getItems();\r\n                loading_spinner.value = false;\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error registering Order:\", error.message);\r\n            });\r\n    };\r\n\r\n    const getItems = async () => {\r\n        loading_spinner.value = true;\r\n        try {\r\n            const response = await    \r\n            axiosInstance.get(`/order-items/${route.params.order_id}`);\r\n            if (response.data && Array.isArray(response.data)) {\r\n                    items.value = response.data.map((order, index) => ({\r\n                        SNo: index + 1,\r\n                        id: order.id,\r\n                        description: order.description,\r\n                        units: order.unit_measure,\r\n                        quantity: order.quantity.toLocaleString(),\r\n                        rate: Number(order.rate).toLocaleString(),\r\n                        amount: (order.quantity * order.rate).toLocaleString(undefined, { maximumFractionDigits: 3 })\r\n                    }));\r\n                    loading_spinner.value = false;\r\n                } else {\r\n                    console.error(\"Invalid response format\");\r\n                }\r\n        } catch (error) {\r\n            console.error(\"Error fetching purchase order : \", error);\r\n        }\r\n    };\r\n\r\n    const approval_status_data = ref({});\r\n\r\n    const getApprovalStatus = async () => {\r\n        try {\r\n            const response = await axiosInstance.get(`/approval-check-status/${route.params.order_id}`);\r\n            if (response.data && typeof response.data === 'object') {\r\n                approval_status_data.value = response.data;\r\n                spinner.value=false;\r\n            } else {\r\n                console.error(\"Invalid response format\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching approval status: \", error);\r\n        }\r\n    };\r\n\r\n    const items_list = ref([]);\r\n    const getItemsList = async () => {\r\n        try {\r\n            const response = await axiosInstance.get(`/item-list`);\r\n            if (response.data && Array.isArray(response.data)) {\r\n                items_list.value = response.data;\r\n            } else {\r\n                console.error(\"Invalid response format\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching approval status: \", error);\r\n        }\r\n    };\r\n\r\n    const approveCheck = async (id, role) => {\r\n        try {\r\n            const response = await axiosInstance.put(`/approval-check/${id}`, {\r\n                [role]: 1\r\n            });\r\n            getApprovalStatus();\r\n        } catch (error) {\r\n            console.error(\"Error approving check:\", error.message);\r\n        }\r\n    };\r\n\r\n    const approveUnCheck = async (id, role) => {\r\n        try {\r\n            const response = await axiosInstance.put(`/approval-check/${id}`, {\r\n                [role]: 0\r\n            });\r\n            getApprovalStatus();\r\n        } catch (error) {\r\n            console.error(\"Error approving check:\", error.message);\r\n        }\r\n\r\n        const response = await axiosInstance.put(`/purchase-order/${route.params.order_id}`, {\r\n                status_name: \"Unapproved\",\r\n                status_color:\"secondary\",\r\n            });\r\n    };\r\n\r\n    const requester = ref('');\r\n    const getPurchaseOrder = async () => {\r\n    try {\r\n        const response = await axiosInstance.get(`/purchase-order/${route.params.order_id}`);\r\n        if (response.data) {\r\n            order_status.value = response.data.status_name;\r\n            requester.value = response.data.user_id;\r\n        } else {\r\n            console.error(\"Invalid response format\");\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error fetching purchase order: \", error);\r\n    } finally {\r\n        loading_spinner.value = false;\r\n    }\r\n};\r\n    const is_operator = ref(false);\r\n    const is_engineer = ref(false);\r\n    const is_md= ref(false);\r\n    const is_fc= ref(false);\r\n    const is_qs= ref(false);\r\n    const is_sa= ref(false);\r\n    const is_admin= ref(false);\r\n\r\n\r\n    const activatePurchaseOrder = (id) => {\r\n        loading_spinner.value = true;\r\n        const activationData = {\r\n            status_name: 'Unapproved',\r\n            status_color: 'secondary',\r\n        };\r\n        \r\n        if (confirm(\"Are you sure you want to Confirm this Order?\")) {\r\n            axiosInstance\r\n                .put(`/purchase-order/${id}`, activationData)\r\n                .then((response) => {\r\n                    getPurchaseOrder();\r\n                   if(user_role == 1){\r\n                    // triggerAdmin();\r\n                   }\r\n                  \r\n                    loading_spinner.value = false;\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Error activating order:\", error.message);\r\n                    loading_spinner.value = false;\r\n                });\r\n        } else {\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n\r\n\r\n\r\n// notification ends\r\nonMounted(() => {\r\n        getPurchaseOrder();\r\n        getItemsList();\r\n        getApprovalStatus();\r\n        getItems();\r\n    const storedUser = localStorage.getItem(\"user\");\r\n    const user=ref(null);\r\n    if (storedUser) {\r\n       user.value = JSON.parse(storedUser);\r\n       \r\n       if(user.value.role == 1){\r\n         is_admin.value=true;\r\n       } \r\n       if(user.value.role == 2){\r\n         is_md.value=true;\r\n       }\r\n       if(user.value.role == 3){\r\n         is_fc.value=true;\r\n       }\r\n       if(user.value.role == 4){\r\n        is_sa.value=true;\r\n       }\r\n       if(user.value.role == 5){\r\n        is_qs.value=true;\r\n       }\r\n       if(user.value.role == 6){\r\n        is_engineer.value=true;\r\n       }\r\n       if(user.value.role == 7){\r\n        is_operator.value=true;\r\n       }\r\n    }\r\n    });\r\n</script>\r\n","import script from \"./copex_items_list.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./copex_items_list.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./copex_items_list.vue?vue&type=style&index=0&id=4bf540e6&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useMeta","title","inject","showError","route","useRoute","user_id","ref","JSON","parse","localStorage","getItem","id","columns","items","item_registration","description","machines","unit","machine_field","quantity","rate","order_status","amount","loading_spinner","role","approval_status","spinner","print_url","process","axiosInstance","axios","baseURL","watch","value","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","handleDescriptionChange","fetchMachines","triggerNotification","async","phone","sender","action","next_designation","recipientPhone","endpoint","accessToken","requestData","messaging_product","to","type","interactive","header","image","link","body","text","name","parameters","display_text","url","response","fetch","method","headers","stringify","data","json","console","log","error","get","then","Array","isArray","map","machine","type_name","error_message","message","catch","finally","registerItem","itemData","order_id","params","unit_measure","post","getItems","order","index","SNo","units","toLocaleString","Number","undefined","maximumFractionDigits","approval_status_data","getApprovalStatus","items_list","getItemsList","approveCheck","put","approveUnCheck","status_name","status_color","requester","getPurchaseOrder","is_operator","is_engineer","is_md","is_fc","is_qs","is_sa","is_admin","activatePurchaseOrder","activationData","confirm","onMounted","storedUser","user","__exports__"],"sourceRoot":""}