{"version":3,"file":"js/5492.de050d90.js","mappings":"s3GA+KIA,EAAAA,EAAAA,GAAQ,CAAEC,MAAO,iBAEjB,MAAMC,EAAmBC,KAAKC,MAAMC,aAAaC,QAAQ,SAASC,YAC5DC,EAAgBC,EAAAA,EAAAA,OAAa,CAC/BC,QAASC,gCAGPC,GAAeC,EAAAA,EAAAA,IAAO,gBACtBC,GAAcD,EAAAA,EAAAA,IAAO,eACrBE,GAAYF,EAAAA,EAAAA,IAAO,aACnBG,GAAmBH,EAAAA,EAAAA,IAAO,oBAC1BI,IAAaC,EAAAA,EAAAA,IAAI,IACjBC,IAAOD,EAAAA,EAAAA,IAAI,IACXE,IAAcF,EAAAA,EAAAA,IAAI,IAClBG,IAASH,EAAAA,EAAAA,IAAI,IACbI,IAAkBJ,EAAAA,EAAAA,KAAI,GACtBK,IAAUL,EAAAA,EAAAA,IAAI,CAAC,MAAO,OAAQ,cAAe,SAAU,YACvDM,IAAQN,EAAAA,EAAAA,IAAI,IACZO,IAAoBP,EAAAA,EAAAA,KAAI,GACxBQ,IAAeR,EAAAA,EAAAA,IAAI,CACrBS,QAAS,GACTC,cAAe,CAAC,GAAI,GAAI,IACxBC,KAAM,kCACNC,eAAgB,CAAEC,QAAS,uBAC3BC,SAAU,CAAC,MAAO,OAAO,aAAa,UACtCC,SAAU,CACNC,KAAM,iBACNC,GAAI,gBACJC,KAAM,kBAEVC,WAAY,CAAEC,IAAK,SAAUC,MAAO,GACpCC,MAAO,CACHC,MAAO,oCACPC,OAAQ,GACRC,kBAAmB,YACnBC,MAAO,YAEXC,kBAAkB,IAGhBC,GAAsBC,UAC9BzB,GAAgB0B,OAAQ,EAExB,IACE,MAAMC,QAAiBzC,EAAc0C,IAAI,sBACzC1B,GAAMwB,MAAQC,EAASE,KAAKC,KAAI,CAACC,EAAMC,KAAP,CAC9BC,IAAKD,EAAQ,EACbE,GAAIH,EAAKG,GACTrC,KAAMkC,EAAKlC,KACXC,YAAaiC,EAAKjC,YAClBC,OAAQgC,EAAKhC,WAEf,MAAOoC,GACP1C,EAAU0C,EAAMC,SAVlB,QAYEpC,GAAgB0B,OAAQ,IAKlBW,GAAyB,KAC3BlC,GAAkBuB,OAAQ,EAC1B1B,GAAgB0B,OAAQ,EACxB,MAAMY,EAAW,CACbzC,KAAMA,GAAK6B,MACX5B,YAAaA,GAAY4B,OAE7BxC,EACKqD,KAAK,qBAAsBD,GAC3BE,MAAMb,IACHH,KACAxB,GAAgB0B,OAAQ,EACxBlC,EAAY,4CACZiD,KACId,EAASE,KAAK9B,UAGrB2C,OAAOP,IACJ1C,EAAU0C,EAAMC,aAK1BO,GAAalB,MAAAA,IAEnB/B,EAAiB,uBAAuB,0BAA4BkD,EAAI/C,KAAM,WAAa,qBAAoB+C,EAAIV,KAAK,WAsB9GW,GAAYD,IACdjD,GAAW+B,MAAQ,IAAKkB,GACxB/C,GAAK6B,MAAQkB,EAAI/C,KACjBC,GAAY4B,MAAQkB,EAAI9C,YACxBC,GAAO2B,MAAQkB,EAAI7C,QAGjB+C,GAAYrB,UACdzB,GAAgB0B,OAAQ,EAC5B,MAAMqB,EAAW,CACblD,KAAMA,GAAK6B,MACX5B,YAAaA,GAAY4B,MACzB3B,OAAQA,GAAO2B,OAEf,IACI,MAAMC,QAAiBzC,EAAc8D,IAAK,sBAAqBrD,GAAW+B,MAAMQ,KAAMa,GAC9D,MAApBpB,EAAS5B,SACTP,EAAY,yCACZgC,KACAyB,SAASC,eAAe,eAAeC,SAG7C,MAAOhB,GACL1C,EAAU0C,EAAMC,SATpB,QAWIpC,GAAgB0B,OAAQ,IAK1Be,GAAY,KAClB5C,GAAK6B,MAAQ,GACb5B,GAAY4B,MAAQ,IAGlB0B,GAAiB,KACnBX,M,OAGAY,EAAAA,EAAAA,KAAU,KACN7B,Q,62FC7TR,MAAM8B,GAAc,GAEpB","sources":["webpack://cork-vue3/./src/views/masters/moduleStatus.vue","webpack://cork-vue3/./src/views/masters/moduleStatus.vue?b81b"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">  \r\n            <ul class=\"navbar-nav flex-row mt-2\">\r\n                <li>\r\n                    <div class=\"page-header\">\r\n                        <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                            <ol class=\"breadcrumb\">\r\n                                <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Masters</a></li>\r\n                                <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Activity Status</span></li>\r\n                            </ol>\r\n                        </nav>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n\r\n            <div class=\"d-flex me-4 mt-2 \">\r\n                        <div class=\"ms-auto\">\r\n                            <button class=\"btn btn-primary \" @click=\"unit_registration =! unit_registration\">                           \r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n  <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/>\r\n</svg>\r\n</button>\r\n \r\n                        </div>\r\n                    </div>  \r\n\r\n           \r\n <!-- item registration form starts -->\r\n <form v-if=\"unit_registration\" class=\"mt-3 p-3 border rounded bg-white shadow\" @submit.prevent=\"registerActivityStatus\">\r\n        <h4 class=\"text-center\">ACTIVITY STATUS REGISTRATION FORM</h4>\r\n        <div class=\"row mb-2\">\r\n    \r\n            <div class=\"col-md-6\">\r\n                <label class=\"form-label\">Name</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Name\" v-model=\"name\" required>\r\n            </div>\r\n\r\n            <div class=\"col-md-6\">\r\n                <label class=\"form-label\">Description</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Description\" v-model=\"description\">\r\n            </div>\r\n        </div>\r\n        <div class=\"text-center gap-2 justify-content-end\">\r\n            <button type=\"button\" class=\"btn btn-danger me-3\" @click=\"unit_registration = false; resetForm();\">Cancel</button>\r\n            <button type=\"submit\" class=\"btn btn-primary\">Register</button>\r\n        </div>\r\n    </form>\r\n             <!-- item registration form ends-->\r\n      \r\n        <div class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n                        <v-client-table v-else :data=\"units\" :columns=\"columns\" :options=\"table_option\">\r\n                            <template #status=\"props\">\r\n                                <span class=\"badge\" :class=\"props.row.status === 'open' ? 'bg-success' : 'bg-danger'\">\r\n                                    {{ props.row.status }}\r\n                                </span>\r\n                            </template>\r\n                            <template #actions=\"props\">\r\n                                \r\n                                    <a href=\"javascript:;\" class=\"edit me-3\" @click=\"edit_row(props.row)\">\r\n                                            <svg\r\n                                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                width=\"24\"\r\n                                                height=\"24\"\r\n                                                viewBox=\"0 0 24 24\"\r\n                                                fill=\"none\"\r\n                                                stroke=\"currentColor\"\r\n                                                stroke-width=\"1.5\"\r\n                                                stroke-linecap=\"round\"\r\n                                                stroke-linejoin=\"round\"\r\n                                                class=\"text-primary\"\r\n                                                data-bs-toggle=\"modal\" \r\n                                                data-bs-target=\"#edit-modal\"\r\n                                            >\r\n                                                <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n                                                <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n                                            </svg>\r\n                                        </a>\r\n                                <a href=\"javascript:;\" class=\"cancel\" @click=\"delete_row(props.row)\" v-if=\"user_permissions.includes('can_delete_module_status')\">\r\n                                            <svg\r\n                                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                                            width=\"24\"\r\n                                            height=\"24\"\r\n                                            viewBox=\"0 0 24 24\"\r\n                                            fill=\"none\"\r\n                                            stroke=\"currentColor\"\r\n                                            stroke-width=\"1.5\"\r\n                                            stroke-linecap=\"round\"\r\n                                            stroke-linejoin=\"round\"\r\n                                            class=\"text-danger\"\r\n                                        >\r\n                                            <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n                                            <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                                        </svg>\r\n                                        </a>\r\n                                \r\n                            </template>\r\n                           <template #footer>\r\n                               <div class=\"modal-footer\">\r\n                                   <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                                   <button type=\"button\" class=\"btn btn-primary\" @click=\"save_edit\" :disabled=\"isSaving\" >Save changes</button>\r\n                               </div>\r\n                           </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n <!-- Edit Labour Modal -->\r\n<div class=\"modal fade mymodal\" id=\"edit-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"editModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"editModalLabel\">Edit Activity Status</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"closeEditModal()\"></button>\r\n      </div>\r\n      <form @submit.prevent=\" save_edit()\">\r\n        <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n                <label for=\"name\">Name</label>\r\n              <input type=\"text\" v-model=\"name\" class=\"form-control\" placeholder=\"Enter Name\" >\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n                <label for=\"description\">Description</label>\r\n              <input type=\"text\" v-model=\"description\" class=\"form-control\" placeholder=\"Description\" >\r\n            </div>\r\n            <div \r\n        class=\"col-md-4\">\r\n            <label for=\"Status\">Status</label>\r\n            <multiselect \r\n                v-model=\"status\"\r\n                :options= \"['open','closed']\"\r\n                placeholder=\"Select Status\"\r\n                :searchable = \"true\"        \r\n                multple=\"false\"\r\n                :required=\"true\"\r\n                :allow-empty=\"false\"\r\n            ></multiselect>\r\n        </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" @click=\"closeEditModal()\" id=\"close_modal\" >Close</button>\r\n          <button type=\"submit\" class=\"btn btn-primary\">\r\n            <span v-if=\"loading_spinner\" class=\"spinner-border spinner-border-sm text-white me-2\" role=\"status\"></span>\r\n            Edit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n   </div>\r\n</template>\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n<script setup>\r\n    import { onMounted, ref,inject,computed } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    useMeta({ title: 'Custom Table' });\r\n\r\n    const user_permissions = JSON.parse(localStorage.getItem('user')).permissions\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n    \r\n    const tableShimmer = inject('tableShimmer');\r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n    const showConfirmation = inject('showConfirmation');\r\n    const editingRow = ref({});\r\n    const name = ref('');\r\n    const description = ref('');\r\n    const status = ref('');\r\n    const loading_spinner = ref(false);\r\n    const columns = ref(['SNo', 'name', 'description', 'status', 'actions']);\r\n    const units = ref([]);\r\n    const unit_registration = ref(false);\r\n    const table_option = ref({\r\n        perPage: 10,\r\n        perPageValues: [10, 20, 50],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['SNo', 'name','short_name','status'],\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n    const getActivityStatuses = async () => {\r\n  loading_spinner.value = true;\r\n\r\n  try {\r\n    const response = await axiosInstance.get('/activity-statuses');\r\n    units.value = response.data.map((item, index) => ({\r\n      SNo: index + 1,\r\n      id: item.id,\r\n      name: item.name,\r\n      description: item.description,\r\n      status: item.status,\r\n    }));\r\n  } catch (error) {\r\n    showError(error.message);\r\n  } finally {\r\n    loading_spinner.value = false;\r\n  }\r\n};\r\n\r\n\r\n    const registerActivityStatus = () => {\r\n        unit_registration.value = false;\r\n        loading_spinner.value = true;\r\n        const itemData = {\r\n            name: name.value,\r\n            description: description.value,\r\n        };\r\n        axiosInstance\r\n            .post('/activity-statuses', itemData)\r\n            .then((response) => {\r\n                getActivityStatuses();\r\n                loading_spinner.value = false;\r\n                showMessage('Activity Status registered successfully!');\r\n                resetForm();\r\n                if (response.data.status === 201) {\r\n                } \r\n            })\r\n            .catch((error) => {\r\n                showError(error.message);\r\n            });\r\n    };\r\n\r\n\r\nconst delete_row = async (row) => {\r\n    \r\nshowConfirmation('Delete Module Status','Are you sure to delete ' + row.name +' module?' ,`activity-statuses/${row.id}`,'delete')\r\n\r\n//   try {\r\n//     await axiosInstance.delete(`/activity-statuses/${row.id}`, {\r\n//       method: 'DELETE',\r\n//       headers: {\r\n//         'Content-Type': 'application/json'\r\n//       }\r\n//     });\r\n//     units.value = units.value.filter((d) => d.id !== row.id);\r\n//     units.value = units.value.map((item, index) => ({\r\n//       ...item,\r\n//       SNo: index + 1\r\n//     }));\r\n\r\n//     showMessage('Item deleted successfully');\r\n//   } catch (error) {\r\n//     showError(error.message);\r\n//   }\r\n};\r\n\r\n\r\n    const edit_row = (row) => {\r\n        editingRow.value = { ...row }; \r\n        name.value = row.name;\r\n        description.value = row.description;\r\n        status.value = row.status;\r\n    };\r\n\r\n    const save_edit = async () => {\r\n        loading_spinner.value = true;\r\n    const payloaad = {\r\n        name: name.value,\r\n        description: description.value,\r\n        status: status.value,\r\n    };\r\n        try {\r\n            const response = await axiosInstance.put(`/activity-statuses/${editingRow.value.id}`, payloaad);\r\n            if (response.status === 200) {\r\n                showMessage('Activity Status updated successfully!');\r\n                getActivityStatuses();\r\n                document.getElementById('close_modal').click();\r\n            }\r\n           \r\n        } catch (error) {\r\n            showError(error.message);\r\n        } finally {\r\n            loading_spinner.value = false;\r\n        }\r\n      \r\n    }; \r\n\r\n    const resetForm = () => {\r\n    name.value = '';\r\n    description.value = '';\r\n};\r\n\r\nconst closeEditModal = () => {\r\n    resetForm();\r\n};\r\n\r\n    onMounted(() => {\r\n        getActivityStatuses();\r\n    });\r\n</script>\r\n\r\n","import script from \"./moduleStatus.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./moduleStatus.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./moduleStatus.vue?vue&type=style&index=0&id=c7710af4&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useMeta","title","user_permissions","JSON","parse","localStorage","getItem","permissions","axiosInstance","axios","baseURL","process","tableShimmer","inject","showMessage","showError","showConfirmation","editingRow","ref","name","description","status","loading_spinner","columns","units","unit_registration","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","getActivityStatuses","async","value","response","get","data","map","item","index","SNo","id","error","message","registerActivityStatus","itemData","post","then","resetForm","catch","delete_row","row","edit_row","save_edit","payloaad","put","document","getElementById","click","closeEditModal","onMounted","__exports__"],"sourceRoot":""}