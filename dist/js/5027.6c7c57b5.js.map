{"version":3,"file":"js/5027.6c7c57b5.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/stores/gatePasses.vue","webpack://cork-vue3/./src/views/stores/gatePasses.vue?2ceb"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">  \r\n        <ul class=\"navbar-nav flex-row mt-2\">\r\n            <li>\r\n                <div class=\"page-header\">\r\n                    <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                        <ol class=\"breadcrumb\">\r\n                            <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Masters</a></li>\r\n                            <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Gate Passes</span></li>\r\n                        </ol>\r\n                    </nav>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n\r\n          <div class=\"d-flex me-4 mt-2 \">\r\n                        <div class=\"ms-auto\">\r\n                            <button class=\"btn btn-primary \" @click=\"gate_pass = !gate_pass; getAssets() ; getItems()\">                           \r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n  <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/>\r\n</svg>\r\n</button>\r\n \r\n                        </div>\r\n                    </div>\r\n\r\n       \r\n         <!-- gate pass registration form starts -->\r\n <form v-if=\"gate_pass\" class=\"mt-3 p-3 border rounded bg-white shadow\" @submit.prevent=\"registerGatePass\">\r\n        <h4 class=\"text-center\">REGISTER GATE PASS</h4>\r\n        <div class=\"row mb-2\">\r\n    \r\n            \r\n            <div class=\"col-md-4\">\r\n            <label class=\"form-label small\">Select An Asset</label>\r\n            <multiselect \r\n                v-model=\"asset\"\r\n                :options= \"assets\"\r\n                placeholder=\"Select An Asset\"\r\n                label=\"name\"\r\n                :searchable = \"true\"        \r\n                multple=\"false\"\r\n                :required=\"true\"\r\n                :allow-empty=\"false\"\r\n            ></multiselect>\r\n        </div>\r\n\r\n            <div class=\"col-md-4\">\r\n                <label class=\"form-label\">Driver Name</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Driver Name\" v-model=\"driver_name\" required>\r\n            </div>\r\n\r\n            <div class=\"col-md-4\">\r\n                <label class=\"form-label\">Security Name</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Security Name\" v-model=\"security_name\" required>\r\n            </div>\r\n            <div class=\"col-md-3 mt-3\">\r\n                <label class=\"form-label small\">Source Location </label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Source Location\" v-model=\"source_location\" required>\r\n            </div>\r\n\r\n            <div class=\"col-md-3 mt-3\">\r\n                <label class=\"form-label small\">Destination location </label>\r\n            <input type=\"text\" class=\"form-control\" placeholder=\"Enter Destination Location\" v-model=\"destination_location\" required>\r\n            </div>\r\n            <div class=\"col-md-3 mt-3\">\r\n                <label class=\"form-label\">Description</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Description\" v-model=\"description\" required>\r\n            </div>\r\n\r\n\r\n            <div class=\"col-md-3 mt-3\">\r\n                <label class=\"form-label\">Select Cargo Type</label>\r\n                <multiselect \r\n                    v-model=\"selection_type\"\r\n                    :options=\"['Asset', 'Item']\"\r\n                    placeholder=\"Select Asset or Item\"\r\n                    :searchable=\"true\"        \r\n                    :multiple=\"false\"\r\n                    :allow-empty=\"false\"\r\n                    :required=\"true\"\r\n                ></multiselect>\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n     \r\n\r\n      <div class = \"row mt-3\" v-if=\"selection_type\">\r\n                <div class=\"col-md-3\" v-if=\"selection_type === 'Item'\">\r\n                  <label class=\"form-label\">Item</label>\r\n                  <multiselect \r\n                    v-model=\"gate_pass_item\"\r\n                    :options=\"item_lists\"\r\n                    placeholder=\"Select Item\"\r\n                    label=\"name\"\r\n                    :searchable=\"true\"        \r\n                    :multiple=\"false\"\r\n                    :allow-empty=\"true\"\r\n                  ></multiselect>\r\n                </div>\r\n                <div class=\"col-md-3\" v-if=\"selection_type === 'Asset'\">\r\n            <label class=\"form-label small\">Select An Asset</label>\r\n            <multiselect \r\n                v-model=\"gate_pass_asset\"\r\n                :options= \"assets\"\r\n                placeholder=\"Select An Asset\"\r\n                label=\"name\"\r\n                :searchable = \"true\"        \r\n                multple=\"false\"\r\n                :required=\"true\"\r\n                :allow-empty=\"false\"\r\n            ></multiselect>\r\n        </div>\r\n\r\n        <div class=\"col-md-3\">\r\n            <label class=\"form-label\">Description</label>\r\n            <input \r\n                type=\"text\" \r\n                class=\"form-control\" \r\n                placeholder=\"Enter Description\" \r\n                v-model=\"item_description\"\r\n            />\r\n        </div>\r\n\r\n                 <div class=\"col-md-3\">\r\n                    <label class=\"form-label small\">Unit</label>\r\n                    <multiselect \r\n                        v-model=\"unit\"\r\n                        :options=\"units\"\r\n                        placeholder=\"select unit\"\r\n                        label=\"short_name\"\r\n                        :searchable=\"true\"        \r\n                        :multiple=\"false\"\r\n                        :required=\"true\"\r\n                      \r\n                    ></multiselect>\r\n                </div> \r\n                <div class=\"col-md-3\">\r\n                  <label class=\"form-label\">Quantity</label>\r\n                  <input type=\"number\" class=\"form-control\" placeholder=\"Enter Quantity\" v-model=\"quantity\"  step=\"any\">\r\n                </div>\r\n                <div class=\"col-md-12 col-lg-12 mb-2 text-end\">\r\n            <button \r\n                type=\"button\" \r\n                class=\"btn btn-outline-success btn-sm mt-4\"\r\n                @click=\"pushGatePassItem()\"\r\n            >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-plus-square\">\r\n                    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\r\n                    <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\"></line>\r\n                    <line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line>\r\n                </svg>\r\n                Add Item\r\n            </button>\r\n        </div>\r\n        <div \r\n        v-if=\"gatePassItems.length>0\"\r\n        class=\"row mb-3\">\r\n        <div class=\"col-12\">\r\n          <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n            <div class=\"custom-table table3\">\r\n                <v-client-table \r\n                    :data=\"gatePassItems\" \r\n                    :columns=\"gatePassItemColumns\" \r\n                    :options=\"table_option\"\r\n                >\r\n                    <template #actions=\"props\">\r\n                        <a href=\"javascript:void(0);\" title=\"Delete\" @click=\"pullGatePassItem(props.row.Sno)\">\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-trash text-danger\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z\"/>\r\n                                <path d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1z\"/>\r\n                            </svg>\r\n                        </a>\r\n                    </template>\r\n                </v-client-table>\r\n            </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n              </div>\r\n\r\n\r\n        <div class=\"text-center gap-2 justify-content-end\">\r\n            <button type=\"button\" class=\"btn btn-danger me-3\" @click=\"gate_pass = false; resetForm();\">Cancel</button>\r\n            <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">\r\n                <span v-if=\"loading\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n                <span v-else>Register</span>\r\n            </button>\r\n        </div>\r\n    </form>\r\n             <!-- gate pass registration form ends-->\r\n\r\n        <!-- loading spinner starts -->\r\n        <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n        <!-- Loading spinner ends -->\r\n\r\n        <div v-else class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table :data=\"gatePass\" :columns=\"columns\" :options=\"table_option\">\r\n                            <template #actions=\"props\">\r\n                                <a href=\"javascript:;\" @click=\"printGatePass(props.row)\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        width=\"24\"\r\n                                        height=\"24\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                        fill=\"none\"\r\n                                        stroke=\"currentColor\"\r\n                                        stroke-width=\"1.5\"\r\n                                        stroke-linecap=\"round\"\r\n                                        stroke-linejoin=\"round\"\r\n                                        class=\"text-primary\"\r\n                                    >\r\n                                        <polyline points=\"6 9 6 2 18 2 18 9\"></polyline>\r\n                                        <path d=\"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2\"></path>\r\n                                        <rect x=\"6\" y=\"14\" width=\"12\" height=\"8\"></rect>\r\n                                    </svg>\r\n                                </a>\r\n\r\n                                <a href=\"javascript:;\" @click=\"viewGatePass(props.row)\" data-bs-toggle=\"modal\" data-bs-target=\"#gate-pass-modal\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        width=\"24\"\r\n                                        height=\"24\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                        fill=\"none\"\r\n                                        stroke=\"currentColor\"\r\n                                        stroke-width=\"1.5\"\r\n                                        stroke-linecap=\"round\"\r\n                                        stroke-linejoin=\"round\"\r\n                                        class=\"text-info\"\r\n                                    >\r\n                                        <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\r\n                                        <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\r\n                                    </svg>\r\n                                </a>\r\n                            </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- View Gate Pass Items Modal -->\r\n        <div class=\"modal fade mymodal\" id=\"gate-pass-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"gatePassModalLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog modal-xl\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h1 class=\"modal-title fs-5\" id=\"gatePassModalLabel\">\r\n                            Gate Pass Items - #{{ selectedGatePass?.id|| 'N/A' }}\r\n                        </h1>\r\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"closeModal()\"></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <!-- Gate Pass Details -->\r\n                         <div class=\"card shadow-lg p-3\">\r\n                        <div class=\"row mb-4\" v-if=\"selectedGatePass\">\r\n                            <div class=\"col-md-6 text-start\">\r\n                                <p><strong>Gate Pass ID:</strong> {{ selectedGatePass.id }}</p>\r\n                                <p><strong>Asset:</strong> {{ selectedGatePass.asset }}</p>\r\n                                <p><strong>Source:</strong> {{ selectedGatePass.source }}</p>\r\n                                \r\n                                \r\n                            </div>\r\n                            <div class=\"col-md-6 text-start\">\r\n                                <p><strong>Driver:</strong> {{ selectedGatePass.driver_name }}</p>\r\n                                <p><strong>Security:</strong> {{ selectedGatePass.security_name }}</p>\r\n                                <p><strong>Destination:</strong> {{ selectedGatePass.destination }}</p>\r\n                                \r\n                            </div>\r\n                            <div class=\"col-md-12 mt-4 text-start\">\r\n                                <p><strong>Description:</strong> {{ selectedGatePass.description }}</p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <!-- Items Table -->\r\n                         <div class=\"panel p-0\">\r\n                        <div class=\"custom-table table3\">\r\n                            <v-client-table \r\n                                :data=\"items\" \r\n                                :columns=\"Itemscolumn\" \r\n                                :options=\"table_option\"\r\n                                v-if=\"items.length > 0\"\r\n                            >\r\n                            </v-client-table>\r\n                            <div v-else class=\"text-center p-4\">\r\n                                <p class=\"text-muted\">No items found for this gate pass</p>\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" @click=\"closeModal()\">Close</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n\r\n<script setup>\r\n    import { onMounted, ref, inject, watch } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    \r\n    useMeta({ title: 'Gate Passes' });  \r\n    \r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n    const user_permissions = JSON.parse(localStorage.getItem(\"user\")).permissions;\r\n    const formatDate = inject('formatDate');\r\n    const tableShimmer = inject('tableShimmer');\r\n    const loadingSpinner = inject('loadingSpinner'); \r\n    const gate_pass = ref(false);\r\n    const asset = ref(null);\r\n    const gate_pass_asset = ref(null);\r\n    const driver_name = ref('');\r\n    const security_name = ref('');\r\n    const description = ref('');\r\n    const item_description = ref('');\r\n    const loading = ref(false);\r\n    const selection_type = ref();\r\n    const gate_pass_item = ref(null);\r\n    \r\n    const loading_spinner = ref(false);\r\n    const columns = ref(['SNo','GIN','issuer','asset','source','destination','driver_name','security_name','date', 'actions']);\r\n    const Itemscolumn = ref(['SNo','item','category','unit','quantity']);    \r\n    const gatePass = ref([]);\r\n    const selectedGatePass = ref(null);\r\n    \r\n    const table_option = ref({\r\n        perPage: 20,\r\n        perPageValues: [20, 50 ,100],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['SNo', 'name','short_name','status'],\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n\r\n\r\n    const gatePassItems = ref([]);\r\n    const gatePassItemColumns = ref(['Sno', 'item','description', 'unit', 'quantity', 'actions']);\r\n    const item = ref('');\r\n    const unit = ref(null);\r\n    const quantity = ref('');\r\n    const units = ref([]);\r\n\r\n    const getUnits = async () => {\r\n        try {\r\n            const response = await axiosInstance.get('units');\r\n            units.value = response.data;\r\n        } catch (error) {\r\n            console.error('Error fetching units:', error);\r\n            showError('Failed to load units');\r\n        }\r\n    };\r\n\r\n    const items = ref([]);\r\n    const pushGatePassItem = () => {\r\n        if (!gate_pass_item.value && !gate_pass_asset.value) {\r\n            showError('Please provide either an item name or select an asset');\r\n            return;\r\n        }\r\n        gatePassItems.value.push({\r\n            Sno: gatePassItems.value.length + 1,\r\n            item_id: gate_pass_item.value?.id || null,\r\n            description: item_description.value,\r\n            item: gate_pass_item.value?.name || gate_pass_asset.value?.name,\r\n            asset_id: gate_pass_asset.value?.id || null,\r\n            asset: gate_pass_asset.value?.name + ' - ' + gate_pass_asset.value?.type_name,\r\n            unit_id: unit.value?.id,\r\n            unit: unit.value?.short_name,\r\n            quantity: quantity.value,\r\n        });\r\n\r\n        gate_pass_item.value = null;\r\n        unit.value = null;\r\n        gate_pass_asset.value = null;\r\n        quantity.value = '';\r\n        item_description.value = '';\r\n    };\r\n\r\n    const pullGatePassItem = (sno) => {\r\n        gatePassItems.value = gatePassItems.value.filter(item => item.Sno !== sno);\r\n        gatePassItems.value = gatePassItems.value.map((item, index) => ({\r\n            ...item,\r\n            Sno: index + 1\r\n        }));\r\n    };\r\n\r\n\r\n    const getGatePasses = async () => {\r\n        loading_spinner.value = true;\r\n        try {\r\n            const response = await axiosInstance.get('/gate-passes');\r\n            gatePass.value = response.data.map((item, index) => {\r\n                const items = item.good_issue_note?.items || item.items;\r\n                return {\r\n                    ...item,\r\n                    SNo: index + 1,\r\n                    id: item.id,\r\n                    GIN: item.good_issue_note_id || '--',\r\n                    current_reading: item.current_reading,\r\n                    return_reading: item.return_reading,\r\n                    driver_name: item.driver_name,\r\n                    security_name: item.security_name,\r\n                    description: item.remark,\r\n                    date: item.date,\r\n                    asset: item.asset?.name + ' - ' + item.asset?.type_name,\r\n                    assetNo: item.asset?.name,\r\n                    assetType: item.asset?.type_name,\r\n                    source: item.source_store?.name && item.source_store?.project?.short_name \r\n                        ? item.source_store.name + ' - ' + item.source_store.project.short_name \r\n                        : item.source_location,\r\n                    destination: item.destination_store?.name && item.destination_store?.project?.short_name \r\n                        ? item.destination_store.name + ' - ' + item.destination_store.project.short_name \r\n                        : item.destination_location,\r\n                    items: items,\r\n                    issuer: item.good_issue_note?.issuer?.name || item.issuer?.name,\r\n                };\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            showError(error.message);\r\n        } finally {\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n\r\n    const viewGatePass = (row) => {\r\n        selectedGatePass.value = row;\r\n        if (row.items && row.items.length > 0) {\r\n            items.value = row.items.map((item, index) => ({\r\n                SNo: index + 1,\r\n                item: item.store_item?.item?.name ||  item.item?.name || item.asset.name + ' - ' + item.asset.type_name,\r\n                category: item.store_item?.item?.category?.name || item.item?.category?.name || '--',\r\n                unit: item.store_item?.item?.unit?.short_name || item.unit?.short_name || '--',\r\n                quantity: item.quantity || '0'\r\n            }));\r\n        } else {\r\n            items.value = [];\r\n        }\r\n    };\r\n\r\n    const closeModal = () => {\r\n        selectedGatePass.value = null;\r\n        items.value = [];\r\n    };\r\n\r\n    const printGatePass = async (row) => {\r\n        try {\r\n            const iframe = document.createElement(\"iframe\");\r\n            iframe.style.display = \"none\";\r\n            document.body.appendChild(iframe);\r\n            const today = new Date();\r\n            const date = new Date(row.created_at || today);\r\n            const dateString = `${date.getDate().toString().padStart(2,'0')}/${(date.getMonth()+1).toString().padStart(2,'0')}`\r\n\r\n            const assetName = row.asset?.name || 'N/A';\r\n            const assetType = row.asset?.type_name || 'N/A';\r\n            const projectName = row.destination_store?.project?.short_name?.toUpperCase() || 'N/A';\r\n\r\n            // Check if there are items to display\r\n            const hasItems = row.items && row.items.length > 0;\r\n\r\nconst printContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>Print Gate Pass</title>\r\n<style>\r\n  body { font-family: 'Segoe UI', Arial, sans-serif; margin: 40px; font-size: 13px; color: #222; }\r\n  .header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #000; padding-bottom: 10px; }\r\n  .logo { width: 150px; height: auto; }\r\n  .gatepass-box { border: 2px solid #000; padding: 6px 14px; font-weight: bold; font-size: 14px; border-radius: 6px; background: #f9f9f9; box-shadow: 0 0 3px rgba(0,0,0,0.2); }\r\n  .company-title { text-align: center; margin: 25px 0 15px 0; }\r\n  .company-title h2 { margin: 0; font-size: 18px; text-transform: uppercase;  }\r\n  .details { margin-top: 15px; line-height: 2; }\r\n  .line-field { display: flex; justify-content: space-between; margin-bottom: 6px; }\r\n  .label { width: 35%; font-weight: bold; }\r\n  .value { flex: 1; border-bottom: 1px solid #000; text-align: center; padding-bottom: 2px; }\r\n  table { width: 100%; border-collapse: collapse; margin-top: 15px; border-radius: 6px; overflow: hidden; }\r\n  table.items thead th { background: #f0f0f0; border: 1px solid #000; font-weight: bold; text-align: center; }\r\n  table.items td { border: 1px solid #000; padding: 6px; vertical-align: middle; text-align: center; }\r\n  .signatures { margin-top: 40px; display: flex; justify-content: space-between; align-items: center; }\r\n  .signature-box { text-align: center; width: 45%; }\r\n  .signature-line { margin-top: 50px; border-top: 1px solid #000; width: 80%; margin-left: auto; margin-right: auto; }\r\n\r\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\r\n</style>\r\n</head>\r\n<body>\r\n\r\n<div class=\"header\">\r\n  <img src=\"https://bushman.ink/copex.jpg\" class=\"logo\" />\r\n  <div class=\"gatepass-box\">\r\n    PASS NO: <span style=\"color:red;\">${\"00\" + row.id || ''}</span><br>\r\n    GIN NO: ${row.good_issue_note_id}<br>\r\n    Date : ${formatDate(row.created_at)}\r\n  </div>\r\n</div>\r\n\r\n<div class=\"company-title\">\r\n  <h2>Gate Pass for Construction Equipment / Vehicles</h2>\r\n</div>\r\n\r\n<table style=\"width:100%; border-collapse:separate; border-spacing:0 8px; margin-top:15px; font-size:13px;\">\r\n  <tr>\r\n    <td style=\"font-weight:bold; width:20%;\">Driver Name:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px;\">${row.driver_name || ''}</td>\r\n     <td style=\"font-weight:bold; padding-left:20px;\">Security Name:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px;\">${row.security_name || ''}</td>\r\n  </tr>\r\n  <tr>\r\n    <td style=\"font-weight:bold;\">Reg No:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px;\">${row.assetNo || ''}</td>\r\n    <td style=\"font-weight:bold; padding-left:20px;\">Type:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px;\">${row.assetType || ''}</td>\r\n  </tr>\r\n  <tr>\r\n    <td style=\"font-weight:bold;\">Start Kms/Hrs:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px;\">${row.current_reading || '--'}</td>\r\n    <td style=\"font-weight:bold; padding-left:20px;\">Return&nbsp;Kms/Hrs:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px; white-space:nowrap;\">${row.return_reading || '--'}</td>\r\n  </tr>\r\n  <tr>\r\n    <td style=\"font-weight:bold;\">Source Location:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px;\">${row.source || ''}</td>\r\n    <td style=\"font-weight:bold; padding-left:20px;\">Destination:</td>\r\n    <td style=\"border-bottom:1px solid #000; padding:4px;\">${row.destination || ''}</td>\r\n  </tr>\r\n</table>\r\n\r\n<div style=\"margin-top:15px;\">\r\n  <p style=\"margin:0;\"><span style=\"font-weight:bold;\">Description:</span> ${row.description || ''}</p>\r\n</div>\r\n\r\n<table style=\"width:100%; border-collapse:separate; border-spacing:0 8px; margin-top:15px; font-size:13px;\">\r\n  </tr>\r\n\r\n</table>\r\n\r\n${hasItems ? `\r\n<h4 style=\"margin-top:25px;\">CARRIED ITEMS:</h4>\r\n<table class=\"items\">\r\n  <thead>\r\n    <tr>\r\n      <th>SN</th>\r\n      <th>Item</th>\r\n      <th>Description</th>\r\n      <th>Quantity</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    ${row.items.map((item, index) => `\r\n    <tr>\r\n      <td>${index + 1}</td>\r\n      <td>${item.store_item?.item?.name || item.item?.name || item.asset.name + ' - ' + item.asset.type_name}</td>\r\n      <td>${item.description || '--'}</td>\r\n      <td style=\"text-align: right;\">${item.quantity || '0'}</td>\r\n    </tr>`).join(\"\")}\r\n  </tbody>\r\n</table>\r\n` : ''}\r\n\r\n<div class=\"signatures\">\r\n  <div class=\"signature-box\">\r\n    <div class=\"signature-line\"></div>\r\n    <p>Driver's Signature</p>\r\n  </div>\r\n  <div class=\"signature-box\">\r\n    <div class=\"signature-line\"></div>\r\n    <p>Security Signature</p>\r\n  </div>\r\n</div>\r\n\r\n</body>\r\n</html>\r\n`;\r\n\r\n            const iframeDoc = iframe.contentWindow.document;\r\n            iframeDoc.open();\r\n            iframeDoc.write(printContent);\r\n            iframeDoc.close();\r\n\r\n            iframe.onload = () => {\r\n                iframe.contentWindow.focus();\r\n                iframe.contentWindow.print();\r\n                setTimeout(() => {\r\n                    document.body.removeChild(iframe);\r\n                }, 1000);\r\n            };\r\n        } catch (error) {\r\n            console.error('Print error:', error);\r\n            showError(`Failed to print gate pass: ${error.message}`);\r\n        }\r\n    };\r\n\r\nconst assets= ref([])\r\nconst getAssets = async ()=>{\r\n  const response = await axiosInstance.get('machines')\r\n  assets.value = response.data.map((item)=>({\r\n  ...item,\r\n  name : item.name + ' - ' + item.type_name\r\n  }))\r\n}\r\n\r\nconst item_lists = ref([])\r\nconst getItems = async () =>{\r\n  const response = await axiosInstance.get('item-list')\r\n  item_lists.value = response.data.map((item)=>({\r\n  ...item,\r\n  name : item.name + ' - ' + item.description\r\n  }))\r\n}\r\n\r\nconst source_location = ref('')\r\nconst destination_location = ref('')\r\n\r\nconst registerGatePass = async () => {\r\n  loading.value = true;\r\n  const payload = {\r\n    issuer_id: JSON.parse(localStorage.getItem(\"user\")).id,\r\n    asset_id: asset.value.id,\r\n    driver_name: driver_name.value,\r\n    source_location: source_location.value,\r\n    destination_location: destination_location.value,\r\n    security_name: security_name.value,\r\n    remark: description.value,\r\n    date : new Date().toISOString().split('T')[0],\r\n    items:gatePassItems.value,\r\n  };\r\n\r\n  try {             \r\n    const response = await axiosInstance.post('gate-passes', payload);\r\n    showMessage('Gate Pass created successfully!');\r\n    getGatePasses()\r\n    resetForm()\r\n    gate_pass.value = false;\r\n  } catch (error) {\r\n    console.log(error)\r\n    showError(error.message);\r\n  }finally{\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\nconst resetForm = () => {\r\n    asset.value = null;\r\n    gate_pass_asset.value = null;\r\n    driver_name.value = '';\r\n    security_name.value = '';\r\n    description.value = '';\r\n    item_description.value = '';\r\n    selection_type.value = null;\r\n    gate_pass_item.value = null;\r\n    unit.value = null;\r\n    quantity.value = '';\r\n    gatePassItems.value = [];\r\n    source_location.value = null;\r\n    destination_location.value = null;\r\n};\r\n\r\n    onMounted(() => {\r\n        getGatePasses();\r\n        getAssets();\r\n        getUnits()\r\n    });\r\n</script>","import script from \"./gatePasses.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./gatePasses.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./gatePasses.vue?vue&type=style&index=0&id=055dbde2&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useMeta","title","showMessage","inject","showError","formatDate","JSON","parse","localStorage","getItem","permissions","tableShimmer","gate_pass","ref","asset","gate_pass_asset","driver_name","security_name","description","item_description","loading","selection_type","gate_pass_item","loading_spinner","columns","Itemscolumn","gatePass","selectedGatePass","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","axiosInstance","axios","baseURL","process","gatePassItems","gatePassItemColumns","unit","quantity","units","getUnits","async","response","get","value","data","error","console","items","pushGatePassItem","push","Sno","length","item_id","id","item","name","asset_id","type_name","unit_id","short_name","pullGatePassItem","sno","map","index","getGatePasses","good_issue_note","SNo","GIN","good_issue_note_id","current_reading","return_reading","remark","date","assetNo","assetType","source","source_store","project","source_location","destination","destination_store","destination_location","issuer","log","message","viewGatePass","row","store_item","category","closeModal","printGatePass","iframe","document","createElement","style","display","body","appendChild","today","Date","created_at","hasItems","getDate","toString","padStart","getMonth","toUpperCase","printContent","join","iframeDoc","contentWindow","open","write","close","onload","focus","print","setTimeout","removeChild","assets","getAssets","item_lists","getItems","registerGatePass","payload","issuer_id","toISOString","split","post","resetForm","onMounted","__exports__"],"sourceRoot":""}