{"version":3,"file":"js/8057.d9d1800c.js","mappings":"qvDAkFAA,EAAAA,EAAAA,GAAQ,CAAEC,MAAO,gCAEjB,MAAMC,GAAQC,EAAAA,EAAAA,MAERC,GAAUC,EAAAA,EAAAA,IAAI,CAAC,MAAO,cAAc,SAAS,UAAW,cAAc,UACtEC,GAAmBD,EAAAA,EAAAA,IAAI,IACvBE,GAAkBF,EAAAA,EAAAA,KAAI,GACtBG,GAAeH,EAAAA,EAAAA,IAAI,CACrBI,QAAS,GACTC,cAAe,CAAC,EAAG,GAAI,GAAI,IAC3BC,KAAM,oBACNC,eAAgB,CAAEC,QAAS,uBAC3BC,WAAY,CAAEC,IAAK,SAAUC,MAAO,GACpCC,MAAO,CACHC,MAAO,oCACPC,OAAQ,GACRC,kBAAmB,YACnBC,MAAO,YAEXC,SAAU,CAAC,MAAO,cAAe,eACjCC,SAAU,CACNC,KAAM,iBACNC,GAAI,gBACJC,KAAM,kBAEVC,kBAAkB,IAGhBC,EAAgBC,EAAAA,EAAAA,OAAa,CAC/BC,QAASC,gCAGPC,EAAwBC,UAC1B1B,EAAgB2B,OAAQ,EACxBN,EACKO,IAAK,uBAAsBjC,EAAMkC,OAAOC,cACxCC,MAAMC,IACCC,MAAMC,QAAQF,EAASG,MACvBpC,EAAiB4B,MAAQK,EAASG,KAAKC,KAAI,CAACC,EAAcC,KACtD,MAAMC,EAAaF,EAAaG,cAAgBH,EAAaI,gBAC7D,IAAIC,EAAsC,aAA9BL,EAAaM,aAClBN,EAAaO,cAAgBL,EAC7BA,EAAaF,EAAaO,cAIjC,OAFAF,EAAQA,EAAQ,GAAK,MAAQA,EAAMG,QAAQ,GAEpC,CACHC,IAAKR,EAAQ,EACbS,GAAIV,EAAaU,GACjBC,OAAOX,EAAaW,OACpBC,YAAaZ,EAAaa,WAC1BC,QAASd,EAAac,QACtBC,YAAaf,EAAaO,cAAgB,UAC1CD,aAAcN,EAAaM,aAC3BD,MAAAA,MAIRW,QAAQC,MAAM,8BAGrBC,OAAOD,IACJD,QAAQC,MAAM,+BAAgCA,MAEjDE,SAAQ,KACLxD,EAAgB2B,OAAQ,M,OAIpC8B,EAAAA,EAAAA,KAAU,KACNhC,O,ohBCrJJ,MAAMiC,EAAc,EAEpB","sources":["webpack://cork-vue3/./src/views/report/machine_report.vue","webpack://cork-vue3/./src/views/report/machine_report.vue?460c"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">  \r\n        <div class=\"seperator-header layout-top-spacing\">\r\n            <div class=\"d-flex justify-content-between mt-3\">\r\n              <button class=\"btn btn-dark me-2 px-3\" @click=\"$router.go(-1)\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8\"/>\r\n</svg>\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n        \r\n   \r\n      \r\n      \r\n        <!-- table ends -->\r\n         <!-- notificatio starts -->\r\n      <div class=\"toast-container position-fixed top-0 end-0 p-3\" style=\"z-index: 11\">\r\n        <div\r\n          class=\"toast align-items-center text-dark border-0\"\r\n          role=\"alert\"\r\n          aria-live=\"assertive\"\r\n          aria-atomic=\"true\"\r\n          ref=\"toast\"\r\n          style=\"background-color: #afe8fa\"\r\n        >\r\n          <div class=\"d-flex\">\r\n            <div class=\"toast-body\">\r\n              Registration successful! Redirecting to user/home...\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-close btn-close-dark me-2 m-auto\"\r\n              data-bs-dismiss=\"toast\"\r\n              aria-label=\"Close\"\r\n            ></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n\r\n        <div class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel br-6 p-0\">\r\n                    <div class=\"custom-table\">\r\n                         <!-- loading spinner starts -->\r\n            <div class=\"mt-3 mx-2\">             \r\n             <div v-if=\"loading_spinner\" class=\"text-center text-primary mt-2 mb-2\">\r\n                <span class=\" text-sm\">\r\n                  <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n                  Please wait ... \r\n                </span>\r\n              </div>\r\n       </div>   \r\n             <!-- Loading spinner ends -->\r\n                        <v-client-table :data=\"fuelDistribution\" :columns=\"columns\" :options=\"table_option\">\r\n                            <template #actions=\"props\">\r\n                                <div class=\"actions text-center\">\r\n                                    <a href=\"javascript:;\">\r\n                                        <button type=\"button\" class=\"btn btn-primary btn-sm\">View</button>\r\n                                    </a>\r\n                                    &nbsp;\r\n                                </div>\r\n                            \r\n                            </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, ref } from 'vue';\r\nimport { useRoute } from 'vue-router'; // âœ… Import useRoute\r\nimport { useMeta } from '@/composables/use-meta';\r\nimport axios from 'axios';\r\n\r\nuseMeta({ title: 'Default Order Sorting Table' });\r\n\r\nconst route = useRoute();\r\n\r\nconst columns = ref(['SNo', 'date_issued','driver','project', 'fuel_issued','ratio']);\r\nconst fuelDistribution = ref([]);\r\nconst loading_spinner = ref(false);\r\nconst table_option = ref({\r\n    perPage: 10,\r\n    perPageValues: [5, 10, 20, 50],\r\n    skin: 'table table-hover',\r\n    columnsClasses: { actions: 'actions text-center' },\r\n    pagination: { nav: 'scroll', chunk: 5 },\r\n    texts: {\r\n        count: 'Showing {from} to {to} of {count}',\r\n        filter: '',\r\n        filterPlaceholder: 'Search...',\r\n        limit: 'Results:',\r\n    },\r\n    sortable: ['SNo', 'date_issued', 'fuel_issued'],\r\n    sortIcon: {\r\n        base: 'sort-icon-none',\r\n        up: 'sort-icon-asc',\r\n        down: 'sort-icon-desc',\r\n    },\r\n    resizableColumns: false,\r\n});\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: process.env.VUE_APP_API_BASE_URL\r\n});\r\n\r\nconst fetchFuelDistribution = async () => {\r\n    loading_spinner.value = true;\r\n    axiosInstance\r\n        .get(`/machine-fuel-usage/${route.params.machine_id}`)\r\n        .then((response) => {\r\n            if (Array.isArray(response.data)) {\r\n                fuelDistribution.value = response.data.map((distribution, index) => {\r\n                    const difference = distribution.final_reading - distribution.initial_reading;\r\n                    let ratio = distribution.ratio_factor === \"Litre/hr\" \r\n                        ? (distribution.fuel_quantity / difference) \r\n                        : (difference / distribution.fuel_quantity);\r\n                    \r\n                    ratio = ratio > 50 ? \"---\" : ratio.toFixed(2);\r\n                    \r\n                    return {\r\n                        SNo: index + 1,\r\n                        id: distribution.id,\r\n                        driver:distribution.driver,\r\n                        date_issued: distribution.usage_date,\r\n                        project: distribution.project,\r\n                        fuel_issued: distribution.fuel_quantity + ' Litres',\r\n                        ratio_factor: distribution.ratio_factor,\r\n                        ratio\r\n                    };\r\n                });\r\n            } else {\r\n                console.error(\"Invalid response format\");\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error fetching machine data:\", error);\r\n        })\r\n        .finally(() => {\r\n            loading_spinner.value = false;\r\n        });\r\n};\r\n\r\nonMounted(() => {\r\n    fetchFuelDistribution();\r\n});\r\n</script>\r\n","import script from \"./machine_report.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./machine_report.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useMeta","title","route","useRoute","columns","ref","fuelDistribution","loading_spinner","table_option","perPage","perPageValues","skin","columnsClasses","actions","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","sortable","sortIcon","base","up","down","resizableColumns","axiosInstance","axios","baseURL","process","fetchFuelDistribution","async","value","get","params","machine_id","then","response","Array","isArray","data","map","distribution","index","difference","final_reading","initial_reading","ratio","ratio_factor","fuel_quantity","toFixed","SNo","id","driver","date_issued","usage_date","project","fuel_issued","console","error","catch","finally","onMounted","__exports__"],"sourceRoot":""}