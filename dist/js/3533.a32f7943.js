"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[3533],{3533:function(e,a,t){t.r(a),t.d(a,{default:function(){return Z}});var l=t(66252),s=t(2262),o=t(49963),n=t(3577),i=t(87066),r=t(56296);const c={class:"layout-px-spacing"},u=(0,l.uE)('<ul class="navbar-nav flex-row mt-2"><li><div class="page-header"><nav class="breadcrumb-one" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="javascript:;">Masters</a></li><li class="breadcrumb-item active" aria-current="page"><span>Store Item Categories</span></li></ol></nav></div></li></ul>',1),d={class:"d-flex me-4 mt-2"},m={class:"ms-auto"},v={key:0,class:"spinner-border spinner-border-sm text-success ms-2",role:"status","aria-hidden":"true"},b={key:1,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},p=(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1),g=(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"},null,-1),w=(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"},null,-1),h=[p,g,w],y=["innerHTML"],f=["onSubmit"],_=(0,l._)("h4",{class:"text-center"},"ITEM CATEGORY REGISTRATION FORM",-1),k={class:"row mb-2"},C={class:"col-md-12"},x=(0,l._)("label",{class:"form-label"}," Name",-1),I={class:"text-center gap-2 justify-content-end"},M=(0,l._)("button",{type:"submit",class:"btn btn-primary"},"Register",-1),S={class:"row layout-top-spacing"},H={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},N={class:"panel p-0"},j={class:"custom-table table3"},B=["onClick"],D=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-primary"},[(0,l._)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,l._)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1),E=[D],T=["onClick"],R=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger"},[(0,l._)("polyline",{points:"3 6 5 6 21 6"}),(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),L=[R],V={class:"modal fade",id:"editModal",tabindex:"-1",role:"dialog","aria-labelledby":"editModalLabel","aria-hidden":"true"},q={class:"modal-dialog modal-lg modal-dialog-scrollable",role:"document"},A={class:"modal-content"},U=(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title",id:"editModalLabel"},"Edit Item Category"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),z={class:"modal-body"},O={class:"row mb-2"},P={class:"col-md-12"},G=(0,l._)("label",{for:"editunitName"},"Item Category Name",-1),Y={class:"modal-footer"},$=(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),F=["disabled"];var W={setup(e){(0,r.j)({title:"Custom Table"});const a=i.Z.create({baseURL:"https://bushman.ink/api/v1/"}),t=(0,l.f3)("loadingIndicator");let p=null;const g=(0,s.iH)({}),w=(0,s.iH)(""),D=(0,s.iH)(!1),R=(0,s.iH)(["SNo","name","actions"]),W=(0,s.iH)([]),X=(0,s.iH)(!1),Z=(0,s.iH)(!1),J=(0,s.iH)({perPage:10,perPageValues:[10,20,50],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:["SNo","name"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),K=()=>{D.value=!0,a.get("store-item-categories").then((e=>{W.value=e.data.map(((e,a)=>({...e,SNo:a+1}))),D.value=!1})).catch((e=>{ee(e.message),D.value=!1}))},Q=(0,l.f3)("showMessage"),ee=(0,l.f3)("showError"),ae=()=>{D.value=!0,X.value=!1;const e={name:w.value};a.post("store-item-categories",e).then((e=>{K(),D.value=!1,Q("Item Category registered successfully!"),oe()})).catch((e=>{ee(e.message),D.value=!1}))},te=async e=>{window.Swal&&window.Swal.fire({title:"Delete Item Category",text:"Are you sure you want to delete Item Category?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async t=>{if(t.isConfirmed){D.value=!0;try{await a.delete(`store-item-categories/${e.id}`),W.value=W.value.filter((a=>a.id!==e.id)),W.value=W.value.map(((e,a)=>({...e,SNo:a+1}))),Q("Item Category deleted successfully")}catch(l){ee(l.message)}finally{D.value=!1}}}))},le=e=>{g.value={...e},p.show()},se=async()=>{if(p.hide(),!D.value)try{D.value=!0;const e=await a.put(`/store-item-categories/${g.value.id}`,{name:g.value.name});if(200===e.status){const e=W.value.findIndex((e=>e.id===g.value.id));-1!==e&&(W.value[e].name=g.value.name),Q("Item Category updated successfully!")}}catch(e){ee(e.message)}finally{D.value=!1}},oe=()=>{w.value=""};return(0,l.bv)((()=>{K(),p=new bootstrap.Modal(document.getElementById("editModal"))})),(e,a)=>{const i=(0,l.up)("v-client-table");return(0,l.wg)(),(0,l.iD)("div",c,[u,(0,l._)("div",d,[(0,l._)("div",m,[X.value?((0,l.wg)(),(0,l.iD)("button",{key:1,type:"button",class:"btn btn-danger mb-2",onClick:a[1]||(a[1]=e=>X.value=!1)}," X ")):((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-outline-primary mb-2",onClick:a[0]||(a[0]=e=>X.value=!0)},[e.s&&D.value?((0,l.wg)(),(0,l.iD)("span",v)):((0,l.wg)(),(0,l.iD)("svg",b,h))]))])]),D.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(t)()},null,8,y)):(0,l.kq)("",!0),X.value?((0,l.wg)(),(0,l.iD)("form",{key:1,class:"mt-3 p-3 border rounded bg-white shadow",onSubmit:(0,o.iM)(ae,["prevent"])},[_,(0,l._)("div",k,[(0,l._)("div",C,[x,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Item Category Name","onUpdate:modelValue":a[2]||(a[2]=e=>w.value=e),required:""},null,512),[[o.nr,w.value]])])]),(0,l._)("div",I,[(0,l._)("button",{type:"button",class:"btn btn-danger me-3",onClick:a[3]||(a[3]=e=>{X.value=!1,oe()})},"Cancel"),M])],40,f)):(0,l.kq)("",!0),(0,l._)("div",S,[(0,l._)("div",H,[(0,l._)("div",N,[(0,l._)("div",j,[(0,l.Wm)(i,{data:W.value,columns:R.value,options:J.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,n.C_)(["badge","Active"===e.row.status?"bg-success":"bg-secondary"])},(0,n.zw)(e.row.status),3)])),actions:(0,l.w5)((e=>[(0,l._)("a",{href:"javascript:;",class:"edit me-3",onClick:a=>le(e.row)},E,8,B),(0,l._)("a",{href:"javascript:;",class:"cancel",onClick:a=>te(e.row)},L,8,T)])),_:1},8,["data","columns","options"])])])])]),(0,l._)("div",V,[(0,l._)("div",q,[(0,l._)("div",A,[U,(0,l._)("div",z,[(0,l._)("div",O,[(0,l._)("div",P,[G,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"editunitName","onUpdate:modelValue":a[4]||(a[4]=e=>g.value.name=e)},null,512),[[o.nr,g.value.name]])])])]),(0,l._)("div",Y,[$,(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:se,disabled:Z.value},"Save changes",8,F)])])])])])}}};const X=W;var Z=X}}]);
//# sourceMappingURL=3533.a32f7943.js.map