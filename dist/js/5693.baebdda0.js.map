{"version":3,"file":"js/5693.baebdda0.js","mappings":"q7HAyLIA,EAAAA,EAAAA,GAAQ,CAAEC,MAAO,uBACjB,MAAMC,GAAQC,EAAAA,EAAAA,MACRC,GAAcC,EAAAA,EAAAA,IAAO,eACrBC,GAAYD,EAAAA,EAAAA,IAAO,aACnBE,EAAmBC,KAAKC,MAAMC,aAAaC,QAAQ,SAASC,YAC5DC,GAAeR,EAAAA,EAAAA,IAAO,gBAAgBG,KAAKC,MAAMC,aAAaC,QAAQ,UACrDN,EAAAA,EAAAA,IAAO,kBAA9B,MACMS,IAAmBC,EAAAA,EAAAA,KAAI,GAEvBC,IAAkBD,EAAAA,EAAAA,KAAI,GACtBE,IAAUF,EAAAA,EAAAA,IAAK,CAAC,MAAM,OAAO,gBAAgB,iBAAiB,iBAAiB,iBAAiB,gBAAgB,eAAe,kBAAkB,gBAAgB,YAMjKG,KALOH,EAAAA,EAAAA,IAAI,KACHA,EAAAA,EAAAA,IAAI,KACJA,EAAAA,EAAAA,IAAI,KACFA,EAAAA,EAAAA,IAAI,KACHA,EAAAA,EAAAA,IAAI,KACNA,EAAAA,EAAAA,IAAI,KAEbI,IAAeJ,EAAAA,EAAAA,IAAI,CACrBK,QAAS,GACTC,cAAe,CAAC,GAAI,GAAI,KACxBC,KAAM,kCACNC,eAAgB,CAAEC,QAAS,uBAC3BC,SAAU,CAAC,MAAM,OAAQ,gBAAgB,iBAAiB,iBAAiB,iBAAiB,gBAAgB,gBAC5GC,SAAU,CACNC,KAAM,iBACNC,GAAI,gBACJC,KAAM,kBAEVC,WAAY,CAAEC,IAAK,SAAUC,MAAO,GACpCC,MAAO,CACHC,MAAO,oCACPC,OAAQ,GACRC,kBAAmB,YACnBC,MAAO,YAEXC,kBAAkB,IAGhBC,GAAgBC,EAAAA,EAAAA,OAAa,CAC/BC,QAASC,gCAIPC,GAAkBC,UACpB5B,GAAgB6B,OAAQ,EACxB,IACI,MAAMC,QAAiBP,GAAcQ,IAAK,2BAA0B7C,EAAM8C,OAAOC,YACjF/B,GAAO2B,MAAQC,EAASI,KAAKC,KAAI,CAACC,EAAMC,KAAP,IAC1BD,EACHE,IAAKD,EAAQ,EACbE,cAAgBH,EAAKI,OAAS,MAC9BC,eAAiBL,EAAKK,eAAiB,KACvCC,eAAkBN,EAAKO,eAAiBP,EAAKQ,eAAeR,EAAKO,eAAiBP,EAAKI,QAAQK,QAAQ,GAAK,MAC5GC,MAAQV,EAAKU,MAAMC,KAAO,IAAMX,EAAKU,MAAME,UAC3CL,eAAiBP,EAAKO,eAAiB,KAAOP,EAAKa,YAAa,QAEtE,MAAOC,GACL5D,EAAU4D,EAAMC,SAZpB,QAcInD,GAAgB6B,OAAQ,IAI1BuB,IAAUrD,EAAAA,EAAAA,KAAI,GACd0C,IAAiB1C,EAAAA,EAAAA,IAAI,IACrBkD,IAAclD,EAAAA,EAAAA,IAAI,IAClBsD,IAAkBtD,EAAAA,EAAAA,IAAI,IACtBuD,IAAQvD,EAAAA,EAAAA,IAAI,IACZwD,IAAQxD,EAAAA,EAAAA,IAAI,IACZyC,IAAQzC,EAAAA,EAAAA,IAAI,IACZyD,IAAOzD,EAAAA,EAAAA,IAAI,IACX6C,IAAgB7C,EAAAA,EAAAA,IAAI,IACpB0D,GAAuB7B,UACzBwB,GAAQvB,OAAQ,EAChB,MAAM6B,EAAU,CACbzB,SAAU/C,EAAM8C,OAAOC,SACvB0B,aAAanE,KAAKC,MAAMC,aAAaC,QAAQ,SAASiE,GACtDpB,OAAQA,GAAOX,MACfgC,KAAM,KACNL,KAAMA,GAAK3B,MACXiC,eAAiBR,GAAMzB,MACvBY,eAAgBA,GAAeZ,MAC/BoB,YAAcA,GAAYpB,MAC1BwB,gBAAkBA,GAAgBxB,MAClCc,eAAiBY,GAAM1B,OAG1B,UAC2BN,GAAcwC,KAAK,iBAAkBL,GAC5D/B,KACAvC,EAAY,mCACZ4E,KACF,MAAOd,GACPe,QAAQC,IAAIhB,GACV5D,EAAU4D,EAAMC,SAPpB,QASIC,GAAQvB,OAAQ,IAIlBmC,GAAY,KACnBlE,GAAiB+B,OAAQ,EACxBY,GAAeZ,MAAQ,GACxBoB,GAAYpB,MAAQ,GAClBwB,GAAgBxB,MAAQ,GAC1ByB,GAAMzB,MAAQ,GACf0B,GAAM1B,MAAQ,GACZW,GAAOX,MAAQ,GACf2B,GAAK3B,MAAQ,IAGXsC,IAASpE,EAAAA,EAAAA,IAAI,MACbqE,IAAgBrE,EAAAA,EAAAA,IAAI,IACpBsE,GAAiBC,IACnB1B,GAAcf,MAAQyC,EAAI1B,cAC1BuB,GAAOtC,MAAQyC,EAAIV,GACnBQ,GAAcvC,MAAQyC,EAAIF,eAGrBG,GAAe3C,UACpBwB,GAAQvB,OAAQ,EAChB,MAAM6B,EAAU,CACZd,cAAgBA,GAAcf,MAC9BuC,cAAgBA,GAAcvC,OAGlC,UAC2BN,GAAciD,IAAK,kBAAiBL,GAAOtC,QAAS6B,GAC3E/B,KACAvC,EAAY,gCACZqF,SAASC,eAAe,iBAAiBC,QAC3C,MAAOzB,GACPe,QAAQC,IAAIhB,GACV5D,EAAU4D,EAAMC,SAPpB,QASIC,GAAQvB,OAAQ,IAIlB+C,GAAchD,UAClB,IACE,MAAMiD,EAASJ,SAASK,cAAc,UACtCD,EAAOE,MAAMC,QAAU,OACvBP,SAASQ,KAAKC,YAAYL,GAE1B,MAAMM,EAAgB,8nCAkCrBrC,GAAMjB,MAAMkB,QAASD,GAAMjB,MAAMmB,uZAqBhC9C,GAAO2B,MAAMM,KAAI,CAACiD,EAAG/C,IAAW,yBAE1BA,EAAQ,qBACR+C,EAAE5B,MAAQ,uBACV4B,EAAE3C,gBAAkB,uBACpB2C,EAAE7C,eAAiB,uBACnB6C,EAAEtB,gBAAkB,uBACpBsB,EAAEzC,gBAAkB,uBACpByC,EAAExC,eAAiB,uBACnBwC,EAAE1C,cAAgB,uBAClB0C,EAAE/B,iBAAmB,uBACrB+B,EAAEhB,eAAiB,8BAExBiB,KAAK,kDAQFC,EAAYT,EAAOU,cAAcd,SACvCa,EAAUE,OACVF,EAAUG,MAAMN,GAChBG,EAAUI,QAEVb,EAAOc,OAAS,KACdd,EAAOU,cAAcK,QACrBf,EAAOU,cAAcM,QACrBC,YAAW,KACTrB,SAASQ,KAAKc,YAAYlB,KACzB,MAEL,MAAO3B,GACP5D,EAAW,2BAA0B4D,EAAMC,aAIzCL,IAAQ/C,EAAAA,EAAAA,IAAI,IACAiG,GAAWpE,UAC1B,IACG,MAAME,QAAiBP,GAAcQ,IAAK,YAAW7C,EAAM8C,OAAOC,YAClEa,GAAMjB,MAAQC,EAASI,KACzB,MAAMgB,GACN5D,EAAU4D,EAAMC,SAChBc,QAAQC,IAAIhB,K,OAOZ+C,EAAAA,EAAAA,KAAU,KACNtE,KACAqE,Q,8rHCnbR,MAAME,GAAc,GAEpB","sources":["webpack://cork-vue3/./src/views/assets/bincard.vue","webpack://cork-vue3/./src/views/assets/bincard.vue?1e99"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">  \r\n        <ul class=\"navbar-nav flex-row mt-2\">\r\n            <li>\r\n                <div class=\"page-header\">\r\n                    <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                        <ol class=\"breadcrumb\">\r\n                            <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Assets</a></li>\r\n                            <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Fuel Cards </span></li>\r\n                        </ol>\r\n                    </nav>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n\r\n           <div class=\"d-flex me-4 mt-2 \">\r\n                        <div class=\"ms-auto\">\r\n                            <button \r\n                            v-if=\"user_permissions.includes('can_register_asset_bincard')\"\r\n                            class=\"btn btn-primary me-2 \" @click=\"register_bincard =! register_bincard\">                           \r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n  <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/>\r\n</svg>\r\n</button>\r\n                            <button class=\"btn btn-success \"\r\n                             @click=\"printReport()\" \r\n                             v-if=\"user_permissions.includes('can_register_print_bincard')\"\r\n                            >                           \r\n                              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n  <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n</svg>\r\n</button>\r\n \r\n                        </div>\r\n                    </div>\r\n\r\n       \r\n         <!-- vendor registration form starts -->\r\n <form v-if=\"register_bincard\" class=\"mt-3 p-3 border rounded bg-white shadow\" @submit.prevent=\"registerAssetBincard\">\r\n        <h4 class=\"text-center\">REGISTER NEW RECORD</h4>\r\n        <div class=\"row mb-2\">\r\n    \r\n            <div class=\"col-md-2\">\r\n                <label class=\"form-label\">Date</label>\r\n                <input type=\"date\" class=\"form-control\" v-model=\"date\" required>\r\n            </div>\r\n\r\n\r\n                <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Required Fuel (LTs)</label>\r\n                <input type=\"number\" class=\"form-control\" placeholder=\"Enter Fuel Required\" v-model=\"amount\" required step=\"any\">\r\n            </div>\r\n\r\n             <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Distance to cover (KM)</label>\r\n                <input type=\"number\" class=\"form-control\" placeholder=\"Distance to cover\" v-model=\"distance_cover\" step=\"any\" required>\r\n            </div>\r\n                        <div class=\"col-md-2\">\r\n                <label class=\"form-label\">Expected Ratio</label>\r\n                <input type=\"number\" class=\"form-control\" placeholder=\"Enter Expected Ratio\" v-model=\"ratio\" required  step=\"any\">\r\n            </div>\r\n\r\n                        <div class=\"col-md-2\">\r\n                <label class=\"form-label\">Expected Trips</label>\r\n                <input type=\"number\" class=\"form-control\" placeholder=\"Enter Expected Trips\" v-model=\"trips\" required>\r\n            </div>\r\n\r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Initial Odometer Reading</label>\r\n                <input type=\"number\" class=\"form-control\" placeholder=\"Enter Initial Reading\" v-model=\"initial_reading\" required>\r\n            </div>\r\n\r\n\r\n\r\n\r\n            <div class=\"col-md-9\">\r\n                <label class=\"form-label\">Description</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter any description\" v-model=\"description\" step=\"any\" required=\"\">\r\n            </div>\r\n\r\n        </div>\r\n          \r\n\r\n        <div class=\"text-center gap-2 justify-content-end\">\r\n            <button type=\"button\" class=\"btn btn-danger me-3\" @click=\"register_bincard = false; resetForm();\">Cancel</button>\r\n            <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">\r\n                <span v-if=\"loading\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n                <span v-else>Register</span>\r\n            </button>\r\n        </div>\r\n    </form>\r\n             <!-- vendor registration form ends-->\r\n\r\n\r\n\r\n              <!-- loading spinner starts -->\r\n        <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n        <!-- Loading spinner ends -->\r\n        <div v-else class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table :data=\"vendor\" :columns=\"columns\" :options=\"table_option\">\r\n                            <template #actions=\"props\">\r\n                                <div class=\"actions text-center\">\r\n\r\n                                    <a href=\"javascript:;\" class=\"edit me-3\" @click=\"openEditModal(props.row)\" data-bs-toggle=\"modal\" :data-bs-target=\"'#vendor-edit-modal'\">\r\n                                        <svg\r\n                                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                                            width=\"24\"\r\n                                            height=\"24\"\r\n                                            viewBox=\"0 0 24 24\"\r\n                                            fill=\"none\"\r\n                                            stroke=\"currentColor\"\r\n                                            stroke-width=\"1.5\"\r\n                                            stroke-linecap=\"round\"\r\n                                            stroke-linejoin=\"round\"\r\n                                            class=\"text-success\"\r\n                                        >\r\n                                            <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n                                            <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n                                        </svg>\r\n                                    </a>\r\n                                </div>                                 \r\n                            </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n             <!-- Edit vendor modal starts -->\r\n<div class=\"modal fade mymodal\" id=\"vendor-edit-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"VendorEditModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-md\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"VendorEditModalLabel\">Update Trips Covered</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"  id=\"close_editing\"></button>\r\n      </div>\r\n      <form @submit.prevent=\"updateRecord()\">\r\n        <div class=\"modal-body\">\r\n          <div class=\"row mb-3\">\r\n            <div class=\"col-md-6\">\r\n              <label class=\"form-label\">Trips Covered</label>\r\n              <input type=\"text\" placeholder=\"Enter Trips Covered\" class=\"form-control\" v-model=\"trips_covered\" required>\r\n            </div>\r\n           \r\n             <div class=\"col-md-6\">\r\n              <label class=\"form-label\">Final Odometer Reading</label>\r\n              <input type=\"text\" class=\"form-control\" placeholder=\"Enter Final Odometer Readings\" v-model=\"final_reading\" >\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" @click=\"resetForm()\" id=\"close_editing\">Close</button>\r\n          <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">\r\n            <span v-if=\"loading\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n            <span v-else>Update</span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- Edit vendor modal ends -->\r\n\r\n    </div>\r\n</template>\r\n\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n\r\n<script setup>\r\n    import { onMounted, ref, inject } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n     import { useRoute } from 'vue-router';\r\n    useMeta({ title: 'Asset Fuel Manager' });  \r\n    const route = useRoute();\r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n    const user_permissions = JSON.parse(localStorage.getItem(\"user\")).permissions;\r\n    const tableShimmer = inject('tableShimmer');JSON.parse(localStorage.getItem(\"user\"))\r\n    const loadingSpinner = inject('loadingSpinner'); \r\n    const register_bincard = ref(false);\r\n    \r\n    const loading_spinner = ref(false);\r\n    const columns = ref( ['SNo','date','fuel_required','distance_cover','expected_ratio','expected_trips','trips_covered','fuel_balance','initial_reading','final_reading','actions']);    \r\n    const name = ref('');\r\n    const email = ref('');\r\n    const phone = ref('');\r\n    const address = ref('');\r\n    const location = ref('');\r\n    const vendor = ref([]);\r\n\r\n    const table_option = ref({\r\n        perPage: 20,\r\n        perPageValues: [20, 50 ,100],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['SNo','date', 'fuel_required','distance_cover','expected_ratio','expected_trips','trips_covered','fuel_balance',],        \r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n\r\n\r\n    const getAssetBincard = async () => {\r\n        loading_spinner.value = true;\r\n        try {\r\n            const response = await axiosInstance.get(`asset-bincards?asset_id=${route.params.asset_id}`);\r\n            vendor.value = response.data.map((item, index) => ({\r\n                ...item,\r\n                SNo: index + 1,\r\n                fuel_required : item.amount + 'LTs',\r\n                distance_cover : item.distance_cover + 'KM',\r\n                fuel_balance : ( (item.expected_trips - item.trips_covered)/item.expected_trips * item.amount).toFixed(2) + 'LTs',\r\n                asset : item.asset.name + \" \" + item.asset.type_name  ,\r\n                expected_trips : item.expected_trips + ' (' + item.description +')'         \r\n            }));\r\n        } catch (error) {\r\n            showError(error.message);\r\n        }finally{\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n\r\n    const loading = ref(false);\r\n    const distance_cover = ref('')\r\n    const description = ref('')\r\n    const initial_reading = ref('')\r\n    const ratio = ref('')\r\n    const trips = ref('')\r\n    const amount =ref('')\r\n    const date = ref('')\r\n    const trips_covered = ref('')\r\n    const registerAssetBincard = async () => {\r\n        loading.value = true;\r\n        const payload = {\r\n           asset_id: route.params.asset_id,\r\n           registrar_id:JSON.parse(localStorage.getItem(\"user\")).id,\r\n           amount: amount.value,\r\n           unit :'KM',\r\n           date: date.value,\r\n           expected_ratio : ratio.value,\r\n           distance_cover :distance_cover.value,\r\n           description : description.value,\r\n           initial_reading : initial_reading.value,\r\n           expected_trips : trips.value\r\n        };\r\n\r\n        try {\r\n            const response = await axiosInstance.post('asset-bincards', payload);\r\n            getAssetBincard();\r\n            showMessage('Record registered successfully!');\r\n            resetForm();\r\n        } catch (error) {\r\n          console.log(error);\r\n            showError(error.message);\r\n        } finally {\r\n            loading.value = false;\r\n        }\r\n    };\r\n\r\n    const resetForm = () => {\r\n   register_bincard.value = false;\r\n    distance_cover.value = ''\r\n   description.value = ''\r\n     initial_reading.value = ''\r\n   ratio.value = ''\r\n  trips.value = ''\r\n    amount.value = ''\r\n    date.value = ''\r\n};\r\n\r\nconst editId = ref(null);\r\nconst final_reading = ref('')\r\nconst openEditModal = (row) => {\r\n    trips_covered.value = row.trips_covered\r\n    editId.value = row.id\r\n    final_reading.value = row.final_reading\r\n};\r\n\r\n   const updateRecord = async () => {\r\n    loading.value = true; \r\n    const payload = {\r\n        trips_covered : trips_covered.value,\r\n        final_reading : final_reading.value\r\n    };\r\n\r\n    try {\r\n        const response = await axiosInstance.put(`asset-bincards/${editId.value}`, payload);\r\n        getAssetBincard();\r\n        showMessage('Record updated successfully!');\r\n        document.getElementById('close_editing').click();\r\n    } catch (error) {\r\n      console.log(error);\r\n        showError(error.message);\r\n    } finally {\r\n        loading.value = false;\r\n    }\r\n};\r\n\r\nconst printReport = async () => {\r\n  try {\r\n    const iframe = document.createElement(\"iframe\");\r\n    iframe.style.display = \"none\";\r\n    document.body.appendChild(iframe);\r\n\r\n    const printContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>Vendors List</title>\r\n<style>\r\n  body { font-family: 'Courier New', monospace; margin: 40px; font-size: 11px; }\r\n  .text-style { font-family: 'Courier New', monospace; }\r\n  .company-title { text-align: center; }\r\n  .title { text-align: center; font-size: 18px; margin: 10px 0; }\r\n  table { width: 95%; border-collapse: collapse; margin: 10px auto; font-size: 11px; }\r\n  th, td { border: 0.5px solid #000; padding: 4px; }\r\n  th { background-color: #f8f8f8; font-weight: bold; }\r\n  .text-right { text-align: right; }\r\n  .text-center { text-align: center; }\r\n  hr { border: 0; border-top: 0.5px solid #000; margin: 0px 0; }\r\n  @media print { body { margin: 10mm; } }\r\n</style>\r\n</head>\r\n<body>\r\n\r\n<div class=\"company-title text-style\">\r\n  <i>\r\n  <h1>COPEX CONTRACTORS CO.LTD</h1>\r\n  <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\r\n  <div><b>Tel:</b> 0713 000 777, 0657 111 555</div>\r\n  <div><b>Email:</b> info@copexcontractors.co.tz</div>\r\n  <div><b>TIN:</b> 135-489-247 &nbsp;&nbsp; <b>VRN:</b> 40-032826C</div>\r\n  </i>\r\n</div>\r\n\r\n<hr style=\"margin-top:20px\">\r\n\r\n<div class=\"title text-style\">\r\n  ${ asset.value.name } ${asset.value.type_name} FUEL MANAGEMENT\r\n</div>\r\n\r\n<hr>\r\n\r\n<table>\r\n  <thead>\r\n    <tr>\r\n      <th>No.</th>\r\n      <th>Date</th>\r\n      <th>Fuel Required</th>\r\n      <th>Distance To Cover</th>\r\n      <th>Expected Ratio</th>\r\n      <th>Expected Trips</th>\r\n      <th>Trips Covered</th>\r\n      <th>Fuel Balance </th>\r\n      <th>Initial Reading </th>\r\n      <th>Final Reading </th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    ${vendor.value.map((v, index) => `\r\n    <tr>\r\n      <td>${index + 1}</td>\r\n      <td>${v.date || '-'}</td>\r\n      <td>${v.distance_cover || '-'}</td>\r\n      <td>${v.fuel_required || '-'}</td>\r\n      <td>${v.expected_ratio || '-'}</td>\r\n      <td>${v.expected_trips || '-'}</td>\r\n      <td>${v.trips_covered || '-'}</td>\r\n      <td>${v.fuel_balance || '-'}</td>\r\n      <td>${v.initial_reading || '-'}</td>\r\n      <td>${v.final_reading || '-'}</td>\r\n    </tr>\r\n    `).join('')}\r\n  </tbody>\r\n</table>\r\n\r\n</body>\r\n</html>\r\n`;\r\n\r\n    const iframeDoc = iframe.contentWindow.document;\r\n    iframeDoc.open();\r\n    iframeDoc.write(printContent);\r\n    iframeDoc.close();\r\n\r\n    iframe.onload = () => {\r\n      iframe.contentWindow.focus();\r\n      iframe.contentWindow.print();\r\n      setTimeout(() => {\r\n        document.body.removeChild(iframe);\r\n      }, 1000);\r\n    };\r\n  } catch (error) {\r\n    showError(`Failed to print report: ${error.message}`);\r\n  }\r\n};\r\n\r\nconst asset = ref('')\r\n            const getAsset = async () => {\r\n   try{\r\n      const response = await axiosInstance.get(`machines/${route.params.asset_id}`)\r\n      asset.value = response.data\r\n   }catch(error){\r\n    showError(error.message)\r\n    console.log(error)\r\n   }finally{\r\n\r\n   }\r\n};\r\n\r\n    \r\n    onMounted(() => {\r\n        getAssetBincard();\r\n        getAsset()\r\n    });\r\n</script>","import script from \"./bincard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./bincard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./bincard.vue?vue&type=style&index=0&id=4c8f4d06&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useMeta","title","route","useRoute","showMessage","inject","showError","user_permissions","JSON","parse","localStorage","getItem","permissions","tableShimmer","register_bincard","ref","loading_spinner","columns","vendor","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","axiosInstance","axios","baseURL","process","getAssetBincard","async","value","response","get","params","asset_id","data","map","item","index","SNo","fuel_required","amount","distance_cover","fuel_balance","expected_trips","trips_covered","toFixed","asset","name","type_name","description","error","message","loading","initial_reading","ratio","trips","date","registerAssetBincard","payload","registrar_id","id","unit","expected_ratio","post","resetForm","console","log","editId","final_reading","openEditModal","row","updateRecord","put","document","getElementById","click","printReport","iframe","createElement","style","display","body","appendChild","printContent","v","join","iframeDoc","contentWindow","open","write","close","onload","focus","print","setTimeout","removeChild","getAsset","onMounted","__exports__"],"sourceRoot":""}