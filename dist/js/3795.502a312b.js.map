{"version":3,"file":"js/3795.502a312b.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/hr/attendance.vue","webpack://cork-vue3/./src/views/hr/attendance.vue?bc20"],"sourcesContent":["<template>\r\n  <div class=\"w-100 px-0\">\r\n    <teleport to=\"#breadcrumb\">\r\n      <ul class=\"navbar-nav flex-row\">\r\n        <li>\r\n          <div class=\"page-header\">\r\n            <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n              <ol class=\"breadcrumb\">\r\n                <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Charts</a></li>\r\n                <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Apex</span></li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </teleport>\r\n\r\n    <div v-scroll-spy class=\"row g-0 my-4\">\r\n      <!-- Key Metrics Section -->\r\n      <div class=\"col-12 mb-4\">\r\n        <div class=\"row ms-0 me-0\">\r\n          <!-- Total Tasks -->\r\n          <div class=\"col-lg-4 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox2 panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h6 class=\"mb-1\">Head Office Attendance</h6>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Total Approved Budget -->\r\n          <div class=\"col-lg-4 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox2 panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h6 class=\"mb-1\">Site Supervisors</h6>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Budget Consumed -->\r\n          <div class=\"col-lg-4 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox2 panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                    <h6 class=\"mb-1\">Site Labour Attendance</h6>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n        </div>\r\n        <div class=\"row ms-0 me-0\">\r\n\r\n\r\n          <!-- Remaining Budget Value -->\r\n      <div class=\"col-lg-4 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                     <h3 class=\"mb-0 cost-body\">{{ report?.head_office || 0 }}</h3>\r\n                  </div>\r\n                                    <a \r\n                                          :href=\"`https://ghrm.abooderp.com/api/employees/attendance/print?company_id=6&date=${date}`\"\r\n                                          target=\"_blank\"\r\n                                    style=\"cursor: pointer;\" class=\"ms-auto bg-danger p-2 rounded-pill\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-filetype-pdf\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z\"/>\r\n</svg>\r\n</a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Amount Paid Value -->\r\n      <div class=\"col-lg-4 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                     <h3 class=\"mb-0 cost-body\">{{ site_attendance?.site_officers?.total || 0 }}</h3>\r\n                  </div>\r\n                              <div style=\"cursor: pointer;\" class=\"ms-auto bg-danger p-2 rounded-pill\">\r\n                      <div  v-if=\"loading === 'all'\" class=\"spinner-border spinner-border-sm text-white\" role=\"status\"></div>\r\n                    <svg v-else @click=\"printSupervisorsAttendance(date);loading = 'all'\"  xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-filetype-pdf\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z\"/>\r\n</svg>\r\n                   \r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- Amount Due Value -->\r\n      <div class=\"col-lg-4 col-md-4 col-sm-6 mb-3\">\r\n            <div class=\"statbox panel box box-shadow\">\r\n              <div class=\"panel-body p-3\">\r\n                <div class=\"d-flex justify-content-between align-items-center\">\r\n                  <div>\r\n                     <h3 class=\"mb-0 cost-body\">{{ site_attendance?.site_labours?.total || 0 }}</h3>\r\n                  </div>\r\n                              <div style=\"cursor: pointer;\" class=\"ms-auto bg-danger p-2 rounded-pill\">\r\n                      <div  v-if=\"loading === 'site-labour'\" class=\"spinner-border spinner-border-sm text-white\" role=\"status\"></div>\r\n                    <svg v-else @click=\"printSiteLabourAttendance(date);loading = 'site-labour'\"  xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-filetype-pdf\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z\"/>\r\n</svg>\r\n                   \r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n      <!-- Row 2: Status Overview & Project Progress -->\r\n      <div class=\"col-12 mb-4\">\r\n        <div class=\"row ms-0 me-0\">\r\n         <div class=\"col-lg-6 col-md-12 mb-4\">\r\n    <div class=\"statbox panel box box-shadow h-100\">\r\n  <div class=\"panel-heading d-flex align-items-center justify-content-center position-relative\">\r\n    <h5 class=\"mb-0 text-center\">\r\n      <span v-if=\"loading\" v-html=\"waitIndicator()\"></span>\r\n      <span v-else>Head Office Attendance Bar Graph Analysis</span>\r\n    </h5>\r\n\r\n  </div>\r\n\r\n  <div class=\"panel-body\">\r\n    <apexchart\r\n      v-if=\"attendanceAnalysis\"\r\n      height=\"450\"\r\n      type=\"bar\"\r\n      :options=\"attendanceAnalysis\"\r\n      :series=\"attendanceAnalysisSeries\"\r\n    />\r\n  </div>\r\n</div>\r\n\r\n          </div>\r\n\r\n          <!-- Overall Project Progress (Pie Chart) -->\r\n          <div class=\"col-lg-6 col-md-12 mb-4\">\r\n<div class=\"statbox panel box box-shadow h-100\">\r\n  <div class=\"panel-heading d-flex justify-content-between align-items-center\">\r\n    <h5 class=\"mb-0 text-center flex-grow-1\"><span class=\"text-center\" v-if=\"loading\" v-html=\"waitIndicator()\"></span><span v-else>Overall Head Office Percentage Attendance</span></h5>\r\n    <input type=\"date\" class=\"form-control w-auto ms-3\" v-model=\"date\">\r\n  </div>\r\n  <div class=\"panel-body\">\r\n    <div class=\"text-center\">\r\n      <apexchart\r\n        v-if=\"labourAttendance\"\r\n        height=\"450\"\r\n        type=\"pie\"\r\n        :options=\"labourAttendance\"\r\n        :series=\"labourAttendanceSeries\"\r\n      />\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, inject, watch } from 'vue';\r\nimport '@/assets/sass/scrollspyNav.scss';\r\nimport apexchart from 'vue3-apexcharts';\r\nimport { useStore } from 'vuex';\r\nimport { useMeta } from '@/composables/use-meta';\r\nimport axios from 'axios';\r\nimport Multiselect from '@suadelabs/vue3-multiselect';\r\nimport '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n\r\nuseMeta({ title: 'Employees Attendance' });\r\nconst formatNumber = inject('formatNumber');\r\nconst showMessage = inject('showMessage');\r\nconst showError = inject('showError');\r\nconst waitIndicator = inject('waitIndicator')\r\nconst printSupervisorsAttendance = inject('printRemoteAttendance')\r\nconst printSiteLabourAttendance = inject('printSiteLabourAttendance')\r\nconst store = useStore();\r\n\r\n\r\n\r\nconst labourAttendanceSeries = ref([0,0, 0,0]); \r\n\r\nconst attendanceAnalysisSeries = ref([\r\n  { name: 'Labour Counts', data: [0, 0, 0, 0] },\r\n]);\r\n\r\n\r\n// Overall Project Progress (Pie Chart)\r\nconst labourAttendance = computed(() => {\r\n  const is_dark = store.state.is_dark_mode;\r\n  return {\r\n    chart: {\r\n      type: 'pie',\r\n      fontFamily: 'inherit'\r\n    },\r\n    labels: ['Early', 'Absent', 'Late','Permitted'],\r\n    colors: ['#139c40', '#636363','#f7071f',\"#58cedb\"],\r\n    legend: {\r\n      position: 'bottom',\r\n      fontSize: '12px',\r\n      labels: {\r\n        colors: is_dark ? '#888ea8' : '#3b3f5c'\r\n      }\r\n    },\r\n    dataLabels: {\r\n      enabled: true,\r\n      formatter: function(val) {\r\n        return val.toFixed(1) + '%';\r\n      },\r\n      style: {\r\n        fontSize: '12px',\r\n        colors: ['#fff'] \r\n      }\r\n    },\r\n    tooltip: {\r\n      theme: is_dark ? 'dark' : 'light',\r\n      y: {\r\n        formatter: function(val) {\r\n          return val.toFixed(1) + '%';\r\n        }\r\n      }\r\n    },\r\n    plotOptions: {\r\n      pie: {\r\n        donut: {\r\n          size: '0%'\r\n        },\r\n        expandOnClick: true\r\n      }\r\n    },\r\n    responsive: [{\r\n      breakpoint: 480,\r\n      options: {\r\n        chart: {\r\n          width: 200\r\n        },\r\n        legend: {\r\n          position: 'bottom'\r\n        }\r\n      }\r\n    }]\r\n  };\r\n});\r\n\r\nconst attendanceAnalysis = computed(() => {\r\n  const is_dark = store.state.is_dark_mode;\r\n  return {\r\n    chart: {\r\n      type: 'bar',\r\n      toolbar: { show: false },\r\n      fontFamily: 'inherit',\r\n      height: 350\r\n    },\r\n    plotOptions: {\r\n      bar: {\r\n        horizontal: false,\r\n        columnWidth: '55%',\r\n        borderRadius: 4,\r\n        distributed: true\r\n      }\r\n    },\r\n    colors: ['#139c40', '#636363','#f7071f',\"#58cedb\"],\r\n    xaxis: {\r\n      categories: ['Early', 'Absent', 'Late', 'Permitted'],\r\n      labels: {\r\n        style: {\r\n          colors: is_dark ? '#888ea8' : '#3b3f5c',\r\n          fontSize: '12px'\r\n        }\r\n      }\r\n    },\r\n    yaxis: {\r\n      labels: {\r\n        style: {\r\n          colors: is_dark ? '#888ea8' : '#3b3f5c',\r\n          fontSize: '12px'\r\n        },\r\n        formatter: function(val) {\r\n          return val;\r\n        }\r\n      }\r\n    },\r\n    legend: {\r\n      show: false\r\n    },\r\n    tooltip: {\r\n      theme: is_dark ? 'dark' : 'light',\r\n      y: {\r\n        formatter: function(val) {\r\n          return val;\r\n        }\r\n      }\r\n    },\r\n    grid: {\r\n      borderColor: is_dark ? '#191e3a' : '#e0e6ed',\r\n      strokeDashArray: 3\r\n    },\r\n    dataLabels: {\r\n      enabled: false\r\n    }\r\n  };\r\n});\r\n\r\n\r\n    const office_attendance = ref('')\r\n    const loading = ref(false)\r\n    const report = ref({\r\n        head_office : 0,\r\n        site_officers : 0,\r\n        site_labours : 0\r\n    })\r\n    const getOfficeAttendances = async()=>{\r\n        loading.value = true\r\n        try{\r\n        const response = await axios.get(`https://ghrm.abooderp.com/api/employees/attendance/summary?company_id=6&date=${date.value}`)\r\n        office_attendance.value = response.data\r\n        const data = response.data\r\n       \r\n        labourAttendanceSeries.value = [\r\n            data.early_count,\r\n            data.absentees_count,\r\n            data.late_count,\r\n            data.permitted_count,\r\n        ]\r\n\r\n        attendanceAnalysisSeries.value = \r\n        [\r\n          { \r\n            name: 'Labour Counts', \r\n            data: [\r\n            data.early_count,\r\n            data.absentees_count,\r\n            data.late_count,\r\n            data.permitted_count,\r\n            ] \r\n        },\r\n         ]\r\n          report.value.head_office = data.early_count + data.late_count\r\n        }catch(error){\r\n            console.log(error)\r\n            showError(error.message)\r\n        }finally{\r\n            loading.value\r\n            = false\r\n        }\r\n      \r\n    }\r\n\r\n\r\n    \r\nconst date = ref(new Date().toISOString().slice(0, 10))\r\n\r\n\r\n    watch(date, (newVal) => {\r\n    if (newVal) {\r\n       getOfficeAttendances()\r\n       getSiteAttendances()\r\n    }\r\n});\r\n\r\nwatch(loading, (newVal) => {\r\n    if (newVal !== true && newVal !== false) {\r\n        setTimeout(() => {\r\n            loading.value = false\r\n        }, 2000)\r\n    }\r\n})\r\n\r\n\r\n    const site_attendance = ref('')\r\n    const getSiteAttendances = async()=>{\r\n        loading.value = true\r\n        try{\r\n        const response = await axiosInstance.get(`human-resources?date=${date.value}`)\r\n        site_attendance.value = response.data.attendance\r\n        }catch(error){\r\n            console.log(error)\r\n            showError(error.message)\r\n        }finally{\r\n            loading.value\r\n            = false\r\n        }\r\n      \r\n    }\r\n\r\n    onMounted(() => {\r\n       getOfficeAttendances()\r\n       getSiteAttendances()\r\n    });\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.statbox {\r\n  border-radius: 8px;\r\n  border: 1px solid #e0e6ed;\r\n}\r\n\r\n.statbox2 {\r\n  background-color: #1b2e4b;\r\n  border-radius: 8px;\r\n  border: 1px solid #e0e6ed;\r\n}\r\n\r\n.panel-heading {\r\n  padding: 1rem;\r\n  border-bottom: 1px solid #e0e6ed;\r\n}\r\n\r\n.panel-body {\r\n  padding: 1rem;\r\n}\r\n\r\nh3 {\r\n  font-weight: 600;\r\n}\r\n\r\nh5 {\r\n  font-weight: 600;\r\n}\r\n\r\nh6 {\r\n  font-size: 0.875rem;\r\n  font-weight: 600;\r\n  color: white;\r\n}\r\n\r\n.small {\r\n  font-size: 0.875rem;\r\n  color: #6c757d;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Dark mode support */\r\n:deep(.apexcharts-tooltip) {\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n:deep(.apexcharts-text) {\r\n  font-family: inherit !important;\r\n}\r\n\r\n/* Ensure consistent chart heights */\r\n:deep(.apexcharts-canvas) {\r\n  margin: 0 auto;\r\n}\r\n\r\n/* Additional styles for horizontal bar charts */\r\n:deep(.horizontal-bar-chart .apexcharts-bar-area) {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n:deep(.horizontal-bar-chart .apexcharts-bar-area:hover) {\r\n  filter: brightness(1.1);\r\n}\r\n\r\n/* Ensure proper spacing for long category names */\r\n:deep(.apexcharts-yaxis-texts-g text) {\r\n  dominant-baseline: middle;\r\n}\r\n\r\n/* Custom styling for horizontal bars */\r\n:deep(.apexcharts-bar-series.apexcharts-plot-series .apexcharts-bar-area) {\r\n  stroke-width: 0;\r\n}\r\n\r\n:deep(.apexcharts-bar-series.apexcharts-plot-series .apexcharts-bar-area:hover) {\r\n  stroke-width: 1;\r\n  stroke: #ffffff;\r\n}\r\n\r\n/* Responsive adjustments */\r\n@media (max-width: 768px) {\r\n  .col-lg-2, .col-md-4, .col-sm-6 {\r\n    margin-bottom: 1rem;\r\n  }\r\n  \r\n  h3 {\r\n    font-size: 1.5rem;\r\n  }\r\n  \r\n  h6 {\r\n    font-size: 0.8rem;\r\n  }\r\n}\r\n\r\n/* Add subtle animation to bars */\r\n@keyframes barGrow {\r\n  from {\r\n    transform: scaleX(0);\r\n    transform-origin: left;\r\n  }\r\n  to {\r\n    transform: scaleX(1);\r\n    transform-origin: left;\r\n  }\r\n}\r\n\r\n:deep(.apexcharts-bar-area) {\r\n  animation: barGrow 0.8s ease-out;\r\n}\r\n</style>\r\n","import script from \"./attendance.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./attendance.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./attendance.vue?vue&type=style&index=0&id=7576fcc4&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\copexErp\\\\frontEnd\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7576fcc4\"]])\n\nexport default __exports__"],"names":["axiosInstance","axios","baseURL","process","useMeta","title","inject","showError","waitIndicator","printSupervisorsAttendance","printSiteLabourAttendance","store","useStore","labourAttendanceSeries","ref","attendanceAnalysisSeries","name","data","labourAttendance","computed","is_dark","state","is_dark_mode","chart","type","fontFamily","labels","colors","legend","position","fontSize","dataLabels","enabled","formatter","val","toFixed","style","tooltip","theme","y","plotOptions","pie","donut","size","expandOnClick","responsive","breakpoint","options","width","attendanceAnalysis","toolbar","show","height","bar","horizontal","columnWidth","borderRadius","distributed","xaxis","categories","yaxis","grid","borderColor","strokeDashArray","office_attendance","loading","report","head_office","site_officers","site_labours","getOfficeAttendances","async","value","response","date","early_count","absentees_count","late_count","permitted_count","error","console","log","message","Date","toISOString","slice","watch","newVal","getSiteAttendances","setTimeout","site_attendance","get","attendance","onMounted","__exports__"],"sourceRoot":""}