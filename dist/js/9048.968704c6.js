(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[9048,1703],{96077:function(e,t,a){var l=a(17854),n=a(60614),s=l.String,i=l.TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw i("Can't set "+s(e)+" as a prototype")}},70648:function(e,t,a){var l=a(17854),n=a(51694),s=a(60614),i=a(84326),o=a(5112),r=o("toStringTag"),d=l.Object,c="Arguments"==i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(error){}};e.exports=n?i:function(e){var t,a,l;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=u(t=d(e),r))?a:c?i(t):"Object"==(l=i(t))&&s(t.callee)?"Arguments":l}},77741:function(e,t,a){var l=a(1702),n=Error,s=l("".replace),i=function(e){return String(n(e).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,r=o.test(i);e.exports=function(e,t){if(r&&"string"==typeof e&&!n.prepareStackTrace)while(t--)e=s(e,o,"");return e}},22914:function(e,t,a){var l=a(47293),n=a(79114);e.exports=!l((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",n(1,7)),7!==e.stack)}))},22104:function(e,t,a){var l=a(34374),n=Function.prototype,s=n.apply,i=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(l?i.bind(s):function(){return i.apply(s,arguments)})},79587:function(e,t,a){var l=a(60614),n=a(70111),s=a(27674);e.exports=function(e,t,a){var i,o;return s&&l(i=t.constructor)&&i!==a&&n(o=i.prototype)&&o!==a.prototype&&s(e,o),e}},58340:function(e,t,a){var l=a(70111),n=a(68880);e.exports=function(e,t){l(t)&&"cause"in t&&n(e,"cause",t.cause)}},56277:function(e,t,a){var l=a(41340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:l(e)}},27674:function(e,t,a){var l=a(1702),n=a(19670),s=a(96077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,a={};try{e=l(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(a,[]),t=a instanceof Array}catch(error){}return function(a,l){return n(a),s(l),t?e(a,l):a.__proto__=l,a}}():void 0)},2626:function(e,t,a){var l=a(3070).f;e.exports=function(e,t,a){a in e||l(e,a,{configurable:!0,get:function(){return t[a]},set:function(e){t[a]=e}})}},51694:function(e,t,a){var l=a(5112),n=l("toStringTag"),s={};s[n]="z",e.exports="[object z]"===String(s)},41340:function(e,t,a){var l=a(17854),n=a(70648),s=l.String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return s(e)}},89191:function(e,t,a){"use strict";var l=a(35005),n=a(92597),s=a(68880),i=a(47976),o=a(27674),r=a(99920),d=a(2626),c=a(79587),u=a(56277),m=a(58340),v=a(77741),p=a(22914),b=a(19781),_=a(31913);e.exports=function(e,t,a,h){var g="stackTraceLimit",y=h?2:1,f=e.split("."),w=f[f.length-1],k=l.apply(null,f);if(k){var x=k.prototype;if(!_&&n(x,"cause")&&delete x.cause,!a)return k;var S=l("Error"),C=t((function(e,t){var a=u(h?t:e,void 0),l=h?new k(e):new k;return void 0!==a&&s(l,"message",a),p&&s(l,"stack",v(l.stack,2)),this&&i(x,this)&&c(l,this,C),arguments.length>y&&m(l,arguments[y]),l}));if(C.prototype=x,"Error"!==w?o?o(C,S):r(C,S,{name:!0}):b&&g in k&&(d(C,k,g),d(C,k,"prepareStackTrace")),r(C,k),!_)try{x.name!==w&&s(x,"name",w),x.constructor=C}catch(error){}return C}}},21703:function(e,t,a){var l=a(82109),n=a(17854),s=a(22104),i=a(89191),o="WebAssembly",r=n[o],d=7!==Error("e",{cause:7}).cause,c=function(e,t){var a={};a[e]=i(e,t,d),l({global:!0,constructor:!0,arity:1,forced:d},a)},u=function(e,t){if(r&&r[e]){var a={};a[e]=i(o+"."+e,t,d),l({target:o,stat:!0,constructor:!0,arity:1,forced:d},a)}};c("Error",(function(e){return function(t){return s(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return s(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return s(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return s(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return s(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return s(e,this,arguments)}})),c("URIError",(function(e){return function(t){return s(e,this,arguments)}})),u("CompileError",(function(e){return function(t){return s(e,this,arguments)}})),u("LinkError",(function(e){return function(t){return s(e,this,arguments)}})),u("RuntimeError",(function(e){return function(t){return s(e,this,arguments)}}))},69048:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return fu}});a(21703),a(26699);var l=a(66252),n=a(49963),s=a(2262),i=a(3577),o=a(87066),r=a(56296),d=a(42119),c=a(26212),u=a.n(c),m=a(45243),v=a.n(m);const p=e=>((0,l.dD)("data-v-80a4203e"),e=e(),(0,l.Cn)(),e),b={class:"layout-px-spacing"},_=(0,l.uE)('<ul class="navbar-nav flex-row mt-2" data-v-80a4203e><li data-v-80a4203e><div class="page-header" data-v-80a4203e><nav class="breadcrumb-one" aria-label="breadcrumb" data-v-80a4203e><ol class="breadcrumb" data-v-80a4203e><li class="breadcrumb-item active" aria-current="page" data-v-80a4203e><span data-v-80a4203e> Work Report</span></li></ol></nav></div></li></ul>',1),h={key:0,class:"d-flex justify-content-end align-items-center gap-3"},g=["disabled"],y=["innerHTML"],f={key:1},w=p((()=>(0,l._)("div",{style:{"border-left":"1px solid #ccc",height:"28px"}},null,-1))),k=["disabled"],x=["innerHTML"],S={key:1},C=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-paperclip me-1",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0z"})],-1))),T=[C],D={key:0,href:"https://bushman.ink/daily_construction_report.pdf",target:"_blank",class:"btn btn-dark btn-sm"},E=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer me-1",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),U=(0,l.Uk)(" Print Empty report "),$=[E,U],M={key:1,class:"panel-body simple-tab tabs"},H={class:"d-flex justify-content-between align-items-center"},R={class:"nav nav-tabs mb-3 mt-3",id:"simpletab",role:"tablist"},L=p((()=>(0,l._)("li",{class:"nav-item"},[(0,l._)("a",{class:"nav-link",id:"home-tab","data-bs-toggle":"tab",href:"#home",role:"tab","aria-controls":"home","aria-selected":"false"},"project details")],-1))),A=p((()=>(0,l._)("a",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab",href:"#profile",role:"tab","aria-controls":"profile","aria-selected":"true"},"Materials used",-1))),O=[A],I=p((()=>(0,l._)("a",{class:"nav-link",id:"diesel-tab","data-bs-toggle":"tab",href:"#diesel",role:"tab","aria-controls":"diesel","aria-selected":"true"},"Bulk Diesel ",-1))),N=[I],V=p((()=>(0,l._)("a",{class:"nav-link",id:"petrol-tab","data-bs-toggle":"tab",href:"#petrol",role:"tab","aria-controls":"petrol","aria-selected":"true"},"Bulk Petrol",-1))),q=[V],j=p((()=>(0,l._)("a",{class:"nav-link",id:"diesel-tab","data-bs-toggle":"tab",href:"#diesel",role:"tab","aria-controls":"diesel","aria-selected":"true"},"Project Fuel Statement",-1))),z=[j],P=p((()=>(0,l._)("a",{class:"nav-link",id:"delivery-notes-tab","data-bs-toggle":"tab",href:"#delivery-notes",role:"tab","aria-controls":"delivery-notes","aria-selected":"true"},"Delivery Notes",-1))),B=[P],F=["tabindex"],W={class:"nav-item"},Y=["tabindex"],Q={class:"nav-item"},J=["tabindex"],X={class:"nav-item"},K={class:"nav-item"},G={class:"tab-content",id:"simpletabContent"},Z={class:"tab-pane fade",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},ee={class:"row card shadow"},te={class:"col-md-12 text-start mt-3"},ae={class:"mb-1 text-start"},le=p((()=>(0,l._)("strong",null,"Project Details: ",-1))),ne=(0,l.Uk)(),se=p((()=>(0,l._)("br",null,null,-1))),ie={class:"mb-1 text-start"},oe=p((()=>(0,l._)("strong",null,"Financial Year:",-1))),re=p((()=>(0,l._)("br",null,null,-1))),de={class:"mb-1 text-start"},ce=p((()=>(0,l._)("strong",null,"Client:",-1))),ue=p((()=>(0,l._)("br",null,null,-1))),me={class:"mb-1 text-start"},ve=p((()=>(0,l._)("strong",null,"Contract Number:",-1))),pe=p((()=>(0,l._)("br",null,null,-1))),be={class:"mb-1 text-start"},_e=p((()=>(0,l._)("strong",null,"Store Name:",-1))),he=p((()=>(0,l._)("br",null,null,-1))),ge={class:"mb-1 text-start"},ye=p((()=>(0,l._)("strong",null,"Officer Incharge:",-1))),fe=p((()=>(0,l._)("br",null,null,-1))),we={class:"mb-1 text-start"},ke=p((()=>(0,l._)("strong",null,"Phone No:",-1))),xe=p((()=>(0,l._)("br",null,null,-1))),Se={class:"tab-pane fade",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"},Ce=p((()=>(0,l._)("h5",{class:"text-center"},"SITE MATERIALS USED STETEMENT ",-1))),Te={class:"d-flex justify-content-end"},De=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},[(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1))),Ee=[De],Ue=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),$e=(0,l.Uk)(" Â Print "),Me=[Ue,$e],He={class:"panel p-0"},Re={class:"custom-table table3"},Le=["innerHTML"],Ae=["onClick"],Oe=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-arrow-left-square",viewBox:"0 0 16 16"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm11.5 5.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"})],-1))),Ie=[Oe],Ne={class:"tab-pane fade",id:"diesel",role:"tabpanel","aria-labelledby":"diesel-tab"},Ve={class:"panel p-0"},qe={key:0,class:"text-center mt-2"},je={class:"custom-table table3 p-2"},ze={key:0,class:"d-flex align-items-start"},Pe={class:"table mb-0"},Be=p((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th"),(0,l._)("th",{class:"text-primary"},"Used"),(0,l._)("th",{class:"text-success"},"Balance")])],-1))),Fe=p((()=>(0,l._)("td",{class:"fw-bold"},"Diesel",-1))),We={class:"ms-auto"},Ye={key:1},Qe=p((()=>(0,l._)("h5",{class:"text-center"},"DIESEL AND PETROL STATEMENT",-1))),Je=[Qe],Xe=["innerHTML"],Ke={key:1,class:"panel p-0 mt-3"},Ge={class:"custom-table table3"},Ze={class:"position-relative d-inline-block"},et=["onClick"],tt=p((()=>(0,l._)("path",{d:"M4 4h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7l-4 4v-16a2 2 0 0 1 2-2z",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linejoin":"round"},null,-1))),at=p((()=>(0,l._)("line",{x1:"7",y1:"9",x2:"17",y2:"9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1))),lt=p((()=>(0,l._)("line",{x1:"7",y1:"13",x2:"14",y2:"13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1))),nt={key:0,cx:"19",cy:"6",r:"6",fill:"red",stroke:"white","stroke-width":"1.5"},st={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-exclamation-triangle-fill text-warning position-absolute top-0 start-100 translate-middle",viewBox:"0 0 16 16",title:"Missing readings",style:{cursor:"pointer","z-index":"10"}},it=p((()=>(0,l._)("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5m.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"},null,-1))),ot=[it],rt={class:"tab-pane fade",id:"shortage",role:"tabpanel","aria-labelledby":"shortage-tab"},dt=p((()=>(0,l._)("h5",{class:"text-center mb-0"},"SITE DELIVERY NOTE SHORTAGE STATEMENT",-1))),ct={class:"bg-white px-3 py-2 rounded fw-bold"},ut={class:"panel p-0"},mt={class:"custom-table table3"},vt={class:"modal-footer"},pt=p((()=>(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1))),bt=["disabled"],_t={class:"tab-pane fade",id:"petrol",role:"tabpanel","aria-labelledby":"petrol-tab"},ht={class:"panel p-0"},gt=p((()=>(0,l._)("h5",{class:"text-center mt-2"},"SITE PETROL STETEMENT",-1))),yt={class:"custom-table table3 p-2"},ft={class:"d-flex align-items-start"},wt={class:"table mb-0"},kt=p((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th"),(0,l._)("th",{class:"text-primary"},"Used"),(0,l._)("th",{class:"text-success"},"Balance")])],-1))),xt=p((()=>(0,l._)("td",{class:"fw-bold"},"Petrol",-1))),St={class:"ms-auto"},Ct=["innerHTML"],Tt={key:1,class:"panel p-0 mt-3"},Dt={class:"custom-table table3"},Et=["onClick"],Ut=p((()=>(0,l._)("path",{d:"M4 4h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7l-4 4v-16a2 2 0 0 1 2-2z",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linejoin":"round"},null,-1))),$t=p((()=>(0,l._)("line",{x1:"7",y1:"9",x2:"17",y2:"9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1))),Mt=p((()=>(0,l._)("line",{x1:"7",y1:"13",x2:"14",y2:"13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1))),Ht={key:0,cx:"19",cy:"6",r:"6",fill:"red",stroke:"white","stroke-width":"1.5"},Rt={class:"tab-pane fade",id:"delivery-notes",role:"tabpanel","aria-labelledby":"delivery-notes-tab"},Lt={class:"panel p-0"},At={class:"custom-table table3 p-2"},Ot=p((()=>(0,l._)("h5",{class:"text-center"},"SITE DELIVERY NOTES",-1))),It={class:"d-flex align-items-start"},Nt={class:"ms-auto"},Vt=["innerHTML"],qt={key:1,class:"panel p-0 mt-3"},jt={class:"custom-table table3"},zt=["onClick"],Pt=p((()=>(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1))),Bt=p((()=>(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1))),Ft=[Pt,Bt],Wt={class:"tab-pane fade",id:"store",role:"tabpanel","aria-labelledby":"store-tab"},Yt=["innerHTML"],Qt={key:1,class:"panel p-0 mt-3"},Jt={class:"d-flex flex-column flex-md-row align-items-center justify-content-between text-center text-md-start"},Xt={class:"mb-3 mb-md-0 w-100 text-center"},Kt={class:"btn-group mt-2 mt-md-0"},Gt={class:"custom-table table3"},Zt=p((()=>(0,l._)("div",{class:"d-flex justify-content-center align-items-center"},null,-1))),ea={class:"tab-pane fade",id:"challenge",role:"tabpanel","aria-labelledby":"challenge-tab"},ta=["innerHTML"],aa={key:1,class:"panel p-0 mt-3"},la=p((()=>(0,l._)("h5",{class:"text-center mt-3"},"CHALLENGES FACED AT SITE",-1))),na={class:"d-flex"},sa={class:"ms-auto"},ia={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},oa=p((()=>(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1))),ra=p((()=>(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"},null,-1))),da=p((()=>(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"},null,-1))),ca=[oa,ra,da],ua={key:1},ma={class:"row mt-2"},va={class:"col-md-6"},pa=p((()=>(0,l._)("label",{class:"form-label mx-2"},"Challenge Faced",-1))),ba={class:"col-md-6"},_a=p((()=>(0,l._)("label",{class:"form-label mx-2"},"Proposed Measure",-1))),ha={class:"d-flex"},ga={class:"ms-auto"},ya=["disabled"],fa=["innerHTML"],wa=p((()=>(0,l._)("span",null,"Save",-1))),ka={class:"custom-table table3"},xa=["onClick"],Sa=p((()=>(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1))),Ca=p((()=>(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1))),Ta=[Sa,Ca],Da={class:"tab-pane fade show active",id:"labour",role:"tabpanel","aria-labelledby":"labour-tab"},Ea=["innerHTML"],Ua={key:1,class:"panel p-0 mt-3"},$a=p((()=>(0,l._)("h5",{class:"text-center mt-3"},"LABOUR ATTENDANCE",-1))),Ma={class:"d-flex justify-content-end"},Ha={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},Ra=p((()=>(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1))),La=p((()=>(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"},null,-1))),Aa=p((()=>(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"},null,-1))),Oa=[Ra,La,Aa],Ia={key:1},Na=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),Va=[Na],qa=p((()=>(0,l._)("button",{class:"btn btn-info align-items-center me-2",title:"Your Attendances"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-geo-alt-fill",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6"})])],-1))),ja={class:"row"},za={class:"col-md-6"},Pa=p((()=>(0,l._)("label",{class:"form-label"},"Labour Name",-1))),Ba={class:"col-md-6"},Fa=p((()=>(0,l._)("label",{class:"form-label small"},"Labour Type",-1))),Wa={class:"col-md-6"},Ya=p((()=>(0,l._)("label",{class:"form-label"},"Reporting Time",-1))),Qa={class:"col-md-6"},Ja=p((()=>(0,l._)("label",{class:"form-label"},"Task",-1))),Xa={class:"d-flex"},Ka={class:"ms-auto"},Ga=["disabled"],Za=["innerHTML"],el=p((()=>(0,l._)("span",null,"Save",-1))),tl={class:"custom-table table3"},al=["onClick"],ll=p((()=>(0,l._)("path",{d:"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z"},null,-1))),nl=p((()=>(0,l._)("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"},null,-1))),sl=[ll,nl],il={class:"tab-pane fade",id:"work",role:"tabpanel","aria-labelledby":"work-tab"},ol=["innerHTML"],rl={key:1,class:"panel p-0 mt-3"},dl=p((()=>(0,l._)("h5",{class:"text-center mt-3"},"WORK CARRIED OUT ",-1))),cl={class:"d-flex"},ul={class:"ms-auto d-flex gap-2"},ml={key:0,class:"btn btn-primary me-2","data-bs-toggle":"modal","data-bs-target":"#report-modal"},vl=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},[(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1))),pl=[vl],bl={class:"row mt-4"},_l={class:"card shadow"},hl={class:"card-body"},gl={class:"d-flex justify-content-between align-items-center"},yl={class:"card-title text-dark fw-bold text-start mb-0"},fl={class:"ms-auto me-2"},wl=["onClick"],kl=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),xl=[kl],Sl={class:"d-flex gap-2"},Cl=["onClick"],Tl=["onClick","disabled"],Dl={key:0,class:"spinner-border spinner-border-sm me-1",role:"status",style:{width:"14px",height:"14px"}},El=p((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),Ul=[El],$l={key:1},Ml={key:2},Hl={class:"my-4"},Rl={class:"text-muted mb-1 text-start"},Ll=p((()=>(0,l._)("strong",null,"Supervisor:",-1))),Al={key:0,class:"text-muted mb-1 text-start mt-3"},Ol=p((()=>(0,l._)("strong",null,"Remark:",-1))),Il={class:"panel p-0 mt-3"},Nl={class:"custom-table table3 mt-3"},Vl=["onClick"],ql=p((()=>(0,l._)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},null,-1))),jl=p((()=>(0,l._)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},null,-1))),zl=[ql,jl],Pl={key:1,class:"spinner-border spinner-border-sm text-danger ms-2",role:"status",style:{width:"24px",height:"24px",display:"inline-flex","align-items":"center","justify-content":"center"},title:"Deleting..."},Bl=p((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),Fl=[Bl],Wl=["onClick"],Yl=p((()=>(0,l._)("polyline",{points:"3 6 5 6 21 6"},null,-1))),Ql=p((()=>(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},null,-1))),Jl=p((()=>(0,l._)("line",{x1:"10",y1:"11",x2:"10",y2:"17"},null,-1))),Xl=p((()=>(0,l._)("line",{x1:"14",y1:"11",x2:"14",y2:"17"},null,-1))),Kl=[Yl,Ql,Jl,Xl],Gl={class:"d-flex gap-2 justify-content-end"},Zl=["onClick"],en=["onClick"],tn=p((()=>(0,l._)("path",{d:"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"},null,-1))),an=p((()=>(0,l._)("path",{d:"M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2zm13 1a.5.5 0 0 1 .5.5v6l-3.775-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12v.54L1 12.5v-9a.5.5 0 0 1 .5-.5z"},null,-1))),ln=[tn,an],nn={key:0,class:"row mt-3"},sn={class:"col-12"},on=p((()=>(0,l._)("h6",{class:"text-start fw-bold mb-3"},"Activity Attachments",-1))),rn={class:"row g-3"},dn={class:"card shadow-sm h-100"},cn={class:"card-body p-2"},un={class:"attachment-preview mb-2",style:{height:"150px",overflow:"hidden","border-radius":"9px",display:"flex","align-items":"center","justify-content":"center","background-color":"#f8f9fa"}},mn=["src","alt","onClick"],vn={class:"d-flex justify-content-between align-items-center"},pn={class:"mb-1 small text-muted"},bn={key:0,class:"spinner-border spinner-border-sm text-danger",role:"status",style:{width:"20px",height:"20px"}},_n=p((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),hn=[_n],gn=["onClick"],yn=p((()=>(0,l._)("polyline",{points:"3 6 5 6 21 6"},null,-1))),fn=p((()=>(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},null,-1))),wn=p((()=>(0,l._)("line",{x1:"10",y1:"11",x2:"10",y2:"17"},null,-1))),kn=p((()=>(0,l._)("line",{x1:"14",y1:"11",x2:"14",y2:"17"},null,-1))),xn=[yn,fn,wn,kn],Sn=p((()=>(0,l._)("div",{class:"card-footer bg-transparent border-0 d-flex justify-content-between"},null,-1))),Cn={key:2,class:"container text-center mt-5"},Tn=["disabled"],Dn={key:0,class:"spinner-border spinner-border-sm me-2",width:"20",height:"20",role:"status"},En={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-check-circle me-2",viewBox:"0 0 16 16"},Un=p((()=>(0,l._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1))),$n=p((()=>(0,l._)("path",{d:"m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"},null,-1))),Mn=[Un,$n],Hn={key:2},Rn={key:3},Ln=["disabled"],An={key:0,class:"spinner-border spinner-border-sm me-2",width:"20",height:"20",role:"status"},On={key:1,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-geo-alt",viewBox:"0 0 16 16"},In=p((()=>(0,l._)("path",{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A32 32 0 0 1 8 14.58a32 32 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"},null,-1))),Nn=p((()=>(0,l._)("path",{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6"},null,-1))),Vn=[In,Nn],qn=(0,l.Uk)(),jn={key:2},zn={key:3},Pn=p((()=>(0,l._)("div",{class:"alert alert-dark mt-5 text-start alert-dismissible fade show",role:"alert"},[(0,l.Uk)(' NB: You must report your current location to proceed! , Make sure to allow an app to access your location . If Location is not precise according to map click "Refresh Location" Button. '),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",style:{filter:"invert(1)"}})],-1))),Bn=p((()=>(0,l._)("link",{rel:"stylesheet",href:"https://unpkg.com/leaflet/dist/leaflet.css"},null,-1))),Fn=p((()=>(0,l._)("div",{id:"map",style:{height:"600px"},class:"mb-2 mt-5"},null,-1))),Wn={class:"modal fade mymodal","data-bs-backdrop":"false",id:"work-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Yn={class:"modal-dialog modal-xl"},Qn={class:"modal-content"},Jn=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"STORE ITEM USAGE FORM"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close"})],-1))),Xn={class:"modal-body"},Kn={class:"row"},Gn={class:"col-md-3"},Zn=p((()=>(0,l._)("label",{class:"form-label"},"Select An Item ",-1))),es={class:"col-md-3"},ts={class:"form-label"},as=["readonly","min"],ls={class:"col-md-3"},ns=p((()=>(0,l._)("label",{class:"form-label"},"Condition",-1))),ss={class:"form-control"},is={class:"col-md-3"},os=p((()=>(0,l._)("label",{class:"form-label"},"Date",-1))),rs={class:"mb-3"},ds=p((()=>(0,l._)("label",{for:"message-text",class:"col-form-label"},"Work Carried Out :",-1))),cs={class:"modal-footer"},us=p((()=>(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",id:"close"},"Close",-1))),ms=["disabled"],vs=["innerHTML"],ps={key:1},bs={class:"modal fade mymodal","data-bs-backdrop":"false",id:"fuel-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_s={class:"modal-dialog modal-xl"},hs={class:"modal-content"},gs={class:"modal-header"},ys={class:"modal-title fs-5",id:"exampleModalLabel"},fs={class:"modal-body"},ws={class:"row"},ks={class:"col-md-4"},xs=p((()=>(0,l._)("label",{class:"form-label"},"Select An Asset ",-1))),Ss={class:"col-md-4"},Cs={class:"form-label"},Ts=["readonly","min"],Ds={class:"col-md-4"},Es=p((()=>(0,l._)("label",{class:"form-label"},"Date",-1))),Us={class:"col-md-4"},$s=p((()=>(0,l._)("label",{for:"consuption_type"},"Consuption Ratio",-1))),Ms=p((()=>(0,l._)("option",{value:""},"Select Consuption Type",-1))),Hs=p((()=>(0,l._)("option",{value:"km/Litre"},"km/Litre",-1))),Rs=p((()=>(0,l._)("option",{value:"Litre/hr"},"Litre/hr",-1))),Ls=[Ms,Hs,Rs],As={class:"col-md-4"},Os=p((()=>(0,l._)("label",{class:"form-label"},"Driver Name",-1))),Is={class:"col-md-2"},Ns=p((()=>(0,l._)("label",{class:"form-label"},"Initial Reading",-1))),Vs={class:"col-md-2"},qs=p((()=>(0,l._)("label",{class:"form-label"},"Final Reading",-1))),js={class:"col-md-4"},zs=p((()=>(0,l._)("label",{class:"form-label"},"Volume of work",-1))),Ps={class:"col-md-4"},Bs=p((()=>(0,l._)("label",{class:"form-label"},"Unit",-1))),Fs={class:"mb-3"},Ws=p((()=>(0,l._)("label",{for:"message-text",class:"col-form-label"},"Work Carried Out :",-1))),Ys={class:"modal-footer"},Qs=["disabled"],Js=["innerHTML"],Xs={key:1},Ks={class:"modal fade mymodal",id:"return-items","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gs={class:"modal-dialog modal-xl"},Zs={class:"modal-content"},ei=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"TO STORE RETURN FORM"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close-return"})],-1))),ti={class:"modal-body"},ai={class:"row layout-top-spacing",style:{"max-height":"67vh","overflow-y":"auto"}},li={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},ni={class:"panel p-0"},si={class:"custom-table table3"},ii={class:"row"},oi={class:"col-md-4"},ri=p((()=>(0,l._)("label",{class:"form-label"},"Item ",-1))),di={class:"form-control"},ci={class:"col-md-4"},ui=p((()=>(0,l._)("label",{class:"form-label"},"Used Quantity",-1))),mi={class:"form-control"},vi={class:"col-md-4"},pi={class:"form-label"},bi=["min","max"],_i={class:"col-md-4"},hi=p((()=>(0,l._)("label",{class:"form-label"},"Condition",-1))),gi=p((()=>(0,l._)("option",{value:""},"Select Condition",-1))),yi=p((()=>(0,l._)("option",{value:"used"},"Used",-1))),fi=p((()=>(0,l._)("option",{value:"new"},"New",-1))),wi=p((()=>(0,l._)("option",{value:"damaged"},"Damaged",-1))),ki=[gi,yi,fi,wi],xi={class:"modal-footer"},Si=p((()=>(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm","data-bs-dismiss":"modal"},"Close",-1))),Ci=["disabled"],Ti=["innerHTML"],Di={key:1},Ei={class:"modal fade mymodal",id:"edit","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ui={class:"modal-dialog modal-xl"},$i={class:"modal-content"},Mi={class:"modal-header"},Hi={class:"modal-title fs-5",id:"staticBackdropLabel"},Ri=p((()=>(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close"},null,-1))),Li={class:"modal-body"},Ai={class:"card mb-3"},Oi={class:"card-body"},Ii={class:"row mb-2 text-start"},Ni={class:"col-md-4"},Vi=p((()=>(0,l._)("strong",null,"Issued Date:",-1))),qi={class:"col-md-4"},ji=p((()=>(0,l._)("strong",null,"Issuer:",-1))),zi={class:"col-md-4"},Pi=p((()=>(0,l._)("strong",null,"Driver:",-1))),Bi={class:"row mb-2 text-start"},Fi={class:"col-md-4"},Wi=p((()=>(0,l._)("strong",null,"Machine:",-1))),Yi={class:"col-md-4"},Qi=p((()=>(0,l._)("strong",null,"Type:",-1))),Ji={class:"col-md-4"},Xi=p((()=>(0,l._)("strong",null,"Issued:",-1))),Ki={class:"row mb-2 text-start"},Gi={class:"col-md-4"},Zi=p((()=>(0,l._)("strong",null,"Initial:",-1))),eo={class:"col-md-4"},to=p((()=>(0,l._)("strong",null,"Final:",-1))),ao={class:"col-md-4"},lo=p((()=>(0,l._)("strong",null,"Ratio:",-1))),no={class:"row mb-2 text-start"},so={class:"col-md-4 my-2"},io=p((()=>(0,l._)("strong",null,"consumption type:",-1))),oo={class:"col-md-4 my-2"},ro=p((()=>(0,l._)("strong",null,"Work:",-1))),co={class:"col-md-4 my-2"},uo=p((()=>(0,l._)("strong",null,"Used:",-1))),mo={class:"col-md-12"},vo=p((()=>(0,l._)("strong",null,"Task:",-1))),po={key:0,class:"row text-start"},bo={class:"col-md-12"},_o=p((()=>(0,l._)("strong",null,"Remark :",-1))),ho={class:"row layout-top-spacing"},go={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},yo={class:"panel p-0"},fo={class:"custom-table table3"},wo={class:"row g-3"},ko={key:0,class:"col-md-4"},xo=p((()=>(0,l._)("label",{class:"form-label"},"Initial Reading",-1))),So={key:1,class:"col-md-4"},Co=p((()=>(0,l._)("label",{class:"form-label"},"Final Reading",-1))),To={key:2,class:"col-md-4"},Do=p((()=>(0,l._)("label",{class:"form-label"},"Volume of work",-1))),Eo={key:3,class:"col-md-4"},Uo=p((()=>(0,l._)("label",{class:"form-label"},"Unit",-1))),$o={key:4,class:"col-md-8"},Mo=p((()=>(0,l._)("label",{class:"form-label"}," Task ",-1))),Ho={key:5,class:"col-md-11"},Ro=p((()=>(0,l._)("label",{class:"form-label"},"Enter Remark",-1))),Lo={class:"col-md-1 d-flex justify-content-between align-items-center"},Ao={class:"pt-4"},Oo=["disabled"],Io=["innerHTML"],No={key:1},Vo=p((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm py-2 px-2","data-bs-dismiss":"modal",id:"close"},"Close")],-1))),qo={class:"modal fade mymodal",id:"delivery","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},jo={class:"modal-dialog modal-xl"},zo={class:"modal-content"},Po={class:"modal-header"},Bo={class:"modal-title fs-5",id:"staticBackdropLabel"},Fo=(0,l.Uk)(" GOOD DELIVERY NOTE STATEMENT FOR : "),Wo=p((()=>(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close"},null,-1))),Yo={class:"modal-body"},Qo={class:"panel p-0 mt-3"},Jo={class:"custom-table table3"},Xo=p((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm","data-bs-dismiss":"modal",id:"close"},"Close")],-1))),Ko={class:"modal fade mymodal",id:"remark-challenge","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Go={class:"modal-dialog modal-xl"},Zo={class:"modal-content"},er=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"}," SITE CHALLENGE REMARK"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close-challenge-remark"})],-1))),tr={class:"modal-body"},ar={class:"row mb-2 fw-bolder"},lr={class:"col-md-4"},nr={class:"col-md-4"},sr={class:"col-md-4"},ir={key:0,class:"col-md-12"},or={class:"input-group"},rr=["disabled"],dr=["innerHTML"],cr={key:1},ur=p((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm","data-bs-dismiss":"modal",id:"close"},"Close")],-1))),mr={class:"modal fade mymodal",id:"edit-labour-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"editConversionFactorModalLabel","aria-hidden":"true"},vr={class:"modal-dialog modal-xl"},pr={class:"modal-content"},br={class:"modal-header"},_r=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"editConversionFactorModalLabel"},"Labour Attendance",-1))),hr={class:"modal-body"},gr={class:"row mb-3"},yr={class:"col-md-6"},fr=p((()=>(0,l._)("label",{class:"form-label"},"Derpurture Time",-1))),wr={class:"col-md-6"},kr=p((()=>(0,l._)("label",{class:"form-label"},"Task Status",-1))),xr={class:"col-md-12"},Sr=p((()=>(0,l._)("label",{class:"form-label"},"Description",-1))),Cr={class:"modal-footer"},Tr=["disabled"],Dr={key:0,class:"spinner-border spinner-border-sm text-white me-2",role:"status"},Er=(0,l.Uk)(" Save "),Ur={class:"modal fade mymodal",id:"report-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"reportModalLabel","aria-hidden":"true"},$r={class:"modal-dialog modal-xl"},Mr={class:"modal-content"},Hr={class:"modal-header"},Rr=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"reportModalLabel"},"Work Carried Out Form",-1))),Lr={class:"modal-body"},Ar={class:"row"},Or={class:"col-md-8"},Ir=p((()=>(0,l._)("label",{class:"form-label"},"Title",-1))),Nr={class:"col-md-4"},Vr=p((()=>(0,l._)("label",{class:"form-label"},"Date",-1))),qr={key:0,class:"row mt-3"},jr={class:"col-md-3"},zr=p((()=>(0,l._)("label",{class:"form-label"},"Activity",-1))),Pr={class:"col-md-3"},Br=p((()=>(0,l._)("label",{class:"form-label small"},"Unit",-1))),Fr={class:"col-md-3"},Wr=p((()=>(0,l._)("label",{class:"form-label"},"Quantity",-1))),Yr={class:"col-md-3"},Qr=p((()=>(0,l._)("label",{class:"form-label"},"Description",-1))),Jr={class:"col-md-12 col-lg-12 mb-2 text-end"},Xr=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},[(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1))),Kr=(0,l.Uk)(" Add activity "),Gr=[Xr,Kr],Zr={key:0,class:"row mb-3"},ed={class:"col-12"},td={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},ad={class:"panel p-0"},ld={class:"custom-table table3"},nd=["onClick"],sd=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-trash text-danger",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),(0,l._)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1z"})],-1))),id=[sd],od={class:"modal-footer"},rd=["disabled"],dd=["innerHTML"],cd=p((()=>(0,l._)("span",null,"Save",-1))),ud={class:"modal fade mymodal",id:"remark-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"remarkModalLabel","aria-hidden":"true"},md={class:"modal-dialog modal-xl"},vd={class:"modal-content"},pd={class:"modal-header"},bd=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"reportModalLabel"},"Remark",-1))),_d={class:"modal-body"},hd={class:"row"},gd={class:"col-md-12"},yd=p((()=>(0,l._)("label",{class:"form-label"},"Remark",-1))),fd={class:"modal-footer"},wd=["disabled"],kd=["innerHTML"],xd=p((()=>(0,l._)("span",null,"Save",-1))),Sd={class:"modal fade mymodal",id:"edit-activity-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"activityModalLabel","aria-hidden":"true"},Cd={class:"modal-dialog modal-xl"},Td={class:"modal-content"},Dd={class:"modal-header"},Ed=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"activityModalLabel"},"Edit Activity",-1))),Ud={class:"modal-body"},$d={class:"row mb-3"},Md={class:"col-md-4"},Hd=p((()=>(0,l._)("label",{for:"Activity"},"name",-1))),Rd={class:"col-md-4"},Ld=p((()=>(0,l._)("label",{class:"form-label small"},"Unit",-1))),Ad={class:"col-md-4"},Od=p((()=>(0,l._)("label",{for:"quantity"},"Quantity",-1))),Id={class:"modal-footer"},Nd=["disabled"],Vd=["innerHTML"],qd=p((()=>(0,l._)("span",null,"Save",-1))),jd={class:"modal fade mymodal",id:"add-activity-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"activityModalLabel","aria-hidden":"true"},zd={class:"modal-dialog modal-xl"},Pd={class:"modal-content"},Bd={class:"modal-header"},Fd=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"activityModalLabel"},"Add Activity",-1))),Wd={class:"modal-body"},Yd={class:"row mb-3"},Qd={class:"col-md-4"},Jd=p((()=>(0,l._)("label",{for:"Activity"},"name",-1))),Xd={class:"col-md-4"},Kd=p((()=>(0,l._)("label",{class:"form-label small"},"Unit",-1))),Gd={class:"col-md-4"},Zd=p((()=>(0,l._)("label",{for:"quantity"},"Quantity",-1))),ec={class:"modal-footer"},tc=["disabled"],ac=["innerHTML"],lc=p((()=>(0,l._)("span",null,"Save",-1))),nc={class:"modal fade mymodal",id:"add-attachment-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"attachmentModalLabel","aria-hidden":"true"},sc={class:"modal-dialog modal-xl"},ic={class:"modal-content"},oc={class:"modal-header"},rc=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"attachmentModalLabel"},"Add Attachment",-1))),dc={class:"modal-body"},cc={class:"row mb-3"},uc={class:"col-md-6"},mc=p((()=>(0,l._)("label",{class:"form-label"},"Attachment (Image)",-1))),vc={class:"col-md-6"},pc=p((()=>(0,l._)("label",{for:"Activity"},"Descreption",-1))),bc={class:"modal-footer"},_c=["disabled"],hc=["innerHTML"],gc=p((()=>(0,l._)("span",null,"Save",-1))),yc={class:"modal fade mymodal",id:"view-attachment-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"attachmentModalLabel","aria-hidden":"true"},fc={class:"modal-dialog modal-fullscreen"},wc={class:"modal-content"},kc=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"attachmentModalLabel"},"Attachment"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),xc={class:"modal-body p-0"},Sc={class:"attachment-wrapper"},Cc=["src"],Tc=p((()=>(0,l._)("path",{d:"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"},null,-1))),Dc=[Tc],Ec=p((()=>(0,l._)("button",{type:"button",class:"btn btn-danger ms-4","data-bs-dismiss":"modal"},"Close",-1))),Uc={class:"modal fade mymodal",id:"view-site-attachment-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"viewSiteAttachmentModalLabel","aria-hidden":"true"},$c={class:"modal-dialog modal-xl"},Mc={class:"modal-content"},Hc=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"viewSiteAttachmentModalLabel"},"DAILY CONSTRUCTION ATTACHMENTS REPORT"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Rc={class:"modal-body"},Lc={class:"mb-3"},Ac={class:"row"},Oc={class:"col-md-6"},Ic={class:"mb-2 text-start"},Nc=p((()=>(0,l._)("strong",null,"Project Name:",-1))),Vc={class:"mb-2 text-start"},qc=p((()=>(0,l._)("strong",null,"Contract Number:",-1))),jc={class:"col-md-6"},zc={class:"mb-2 text-start"},Pc=p((()=>(0,l._)("strong",null,"Officer In Charge:",-1))),Bc={class:"mb-2 text-start"},Fc=p((()=>(0,l._)("strong",null,"Client:",-1))),Wc={class:"d-flex justify-content-between align-items-center mb-3"},Yc=p((()=>(0,l._)("h5",{class:"mb-0"},null,-1))),Qc={key:0,class:"row mb-3"},Jc={class:"col-md-12"},Xc={class:"row"},Kc={class:"col-md-6"},Gc=p((()=>(0,l._)("label",{class:"form-label"},"Attachment Description",-1))),Zc={class:"col-md-6"},eu=p((()=>(0,l._)("label",{class:"form-label"},"Attachment (PDF)",-1))),tu={class:"row mt-3"},au={class:"col-md-12 text-end"},lu=["disabled"],nu={key:0,class:"spinner-border spinner-border-sm text-white me-2",role:"status"},su=(0,l.Uk)(" Upload "),iu=p((()=>(0,l._)("h5",{class:"text-start mb-3 mt-3"},"Daily Report Attachments",-1))),ou=["innerHTML"],ru={key:2,class:"panel p-0"},du={class:"custom-table table3"},cu=["href"],uu=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye text-primary",viewBox:"0 0 16 16",style:{cursor:"pointer"}},[(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}),(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"})],-1))),mu=[uu],vu=["onClick"],pu=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger"},[(0,l._)("polyline",{points:"3 6 5 6 21 6"}),(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1))),bu=[pu],_u=p((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1)));var hu={setup(e){const t="https://bushman.ink",a=(0,s.iH)([]),c=(0,d.yj)(),m=(0,s.iH)(0),p=(0,s.iH)(!0),C=(0,l.f3)("showMessage"),E=(0,l.f3)("loadingSpinner"),U=(0,l.f3)("showError"),A=(0,l.f3)("tableShimmer"),I=(0,l.f3)("formatNumber"),V=(0,l.f3)("formatDate"),j=(0,l.f3)("enforceMax");(0,l.f3)("mapShimmer");(0,r.j)({title:"DAILY WORK REPORT"});const P=(0,s.iH)(""),De=JSON.parse(localStorage.getItem("user")).permissions;let Ue,$e;const Oe=()=>{Ue=v().map("map").setView([0,0],2),v().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(Ue)},Qe=()=>{navigator.geolocation.getCurrentPosition((async e=>{const{latitude:t,longitude:a}=e.coords;Ca.value=!0,Ue.setView([t,a],16),$e?$e.setLatLng([t,a]):$e=v().marker([t,a]).addTo(Ue);const l=await o.Z.get(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${a}`);Ca.value=!1,mv.value={latitude:t,longitude:a,address:l.data.display_name},$e.bindPopup(l.data.display_name).openPopup()}))},it=(0,s.iH)({}),Pt=(0,s.iH)(""),Bt=(0,s.iH)(""),oa=async()=>{const e={returned:Number(fn.value)+Number(Pt.value.returned),store_item:{item_id:Pt.value.store_item.item.id,store_id:gi.value.id,item_condition:Bt.value}};Ca.value=!0;try{await an.put(`item-usage/${Pt.value.id}`,e);C("Item Returned To Store"),$n();(0,s.iH)(["Sno","activity","unit","quantity","actions"]);Nn(),document.getElementById("close-return").click(),_n()}catch(error){U(error.message),console.log(error)}finally{Ca.value=!1}},ra=(0,s.iH)(""),da=(0,s.iH)(""),Sa=(0,s.iH)([]),Ca=(0,s.iH)(!1),Ra=(0,s.iH)((new Date).toISOString().split("T")[0]),La=(0,s.iH)(""),Aa=(0,s.iH)(["SNo","name","category_name","condition","used_quantity","balance_quantity","total_quantity"]),Na=(0,s.iH)(["SNo","issuer","machine","type","task","volume","issued","balance","fuel_type","ratio","issued_date","actions"]),ll=(0,s.iH)(["SNo","challenge","reported_by","proposed_measure","date","remark","actions"]),nl=(0,s.iH)(["sno","item","category","description","used","returned","date","action"]),vl=async e=>{const t=(0,s.iH)(e),a=document.createElement("iframe");a.style.display="none",document.body.appendChild(a),p.value=!1;const l=new Date,n=l.getDate().toString().padStart(2,"0"),i=(l.getMonth()+1).toString().padStart(2,"0"),o=l.getFullYear(),r=`${n}/${i}`,d=`${r}/${o}`,c=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Store Items Report</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  table tr:first-child th:first-child, table tr:first-child td:first-child { border-top-left-radius: 8px; }\n  table tr:first-child th:last-child, table tr:first-child td:last-child { border-top-right-radius: 8px; }\n  table tr:last-child td:first-child { border-bottom-left-radius: 8px; }\n  table tr:last-child td:last-child { border-bottom-right-radius: 8px; }\n  .summary-section { margin-top: 30px; font-size: 12px; }\n  .text-center {text-align: center;}\n    .text-right { text-align: right; }\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="report-box">\n    REPORT ON.<br>\n    <span style="color:red;">${V(P.value)}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 103-826-519<br>\n  VRN: 20-01-017530R\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n\n<div class="section-title">SITE ACTIVITIES REPORT</div>\n<h3 class="header">REPORT DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>PROJECT</th>\n            <th>SUPERVISOR</th>\n            <th>SUPERVISOR'S EMAIL</th>\n            <th>SUPERVISOR'S PHONE</th>\n        </tr>\n    </thead>\n     <tbody>\n        <tr>\n          <td class="text-center">${gi.value.project.short_name}</td>\n          <td class="text-center"> ${gi.value.officer?.name}</td>\n          <td class="text-center"> ${gi.value.officer?.email}</td>\n          <td class="text-center"> ${gi.value.officer?.phone_no}</td>\n        </tr>\n        <tr>\n          <td  colspan="6" >\n             Brief Description : ${(t.value.report_name||"")+(t.value.description?" , "+t.value.description:"")}\n          </td>\n    </tbody>\n</table>\n\n\n<h3 class="header">ACTIVITY DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>S.No</th>\n            <th>Activity</th>\n            <th>Unit Measure</th>\n            <th>Quantity</th>\n        </tr>\n    </thead>\n    <tbody>\n        ${t.value.activities.map(((e,t)=>`\n        <tr>\n            <td >${t+1}</td>\n            <td>${e.activity||"--"}</td>\n            <td>${e.unit||"--"}</td>\n            <td class="text-right">${e.quantity||"--"}</td>\n        </tr>\n        `)).join("")}\n    </tbody>\n   \n</table>\n\n<div style="margin-top: 30px; text-align: right;">\n    <div>Printed on: ${d}</div>\n</div>\n\n</body>\n</html>\n`,u=a.contentWindow.document;u.open(),u.write(c),u.close(),a.onload=()=>{a.contentWindow.focus(),a.contentWindow.print(),setTimeout((()=>{document.body.removeChild(a)}),1e3)}},kl=async()=>{const e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e),p.value=!1;const t=new Date,a=t.getDate().toString().padStart(2,"0"),l=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getFullYear(),s=`${a}/${l}`,i=`${s}/${n}`,o=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Store Items Report</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  table tr:first-child th:first-child, table tr:first-child td:first-child { border-top-left-radius: 8px; }\n  table tr:first-child th:last-child, table tr:first-child td:last-child { border-top-right-radius: 8px; }\n  table tr:last-child td:first-child { border-bottom-left-radius: 8px; }\n  table tr:last-child td:last-child { border-bottom-right-radius: 8px; }\n  .summary-section { margin-top: 30px; font-size: 12px; }\n  .text-center {text-align: center;}\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="report-box">\n    REPORT ON.<br>\n    <span style="color:red;">${V(P.value)}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 103-826-519<br>\n  VRN: 20-01-017530R\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n\n<div class="section-title">LABOUR ATTENDANCE REPORT</div>\n<h3 class="header">REPORT DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>PROJECT</th>\n            <th>SUPERVISOR</th>\n            <th>SUPERVISOR'S EMAIL</th>\n            <th>SUPERVISOR'S PHONE</th>\n        </tr>\n    </thead>\n     <tbody>\n        <tr>\n          <td class="text-center">${gi.value.project.short_name}</td>\n          <td class="text-center"> ${gi.value.officer?.name}</td>\n          <td class="text-center"> ${gi.value.officer?.email}</td>\n           <td class="text-center"> ${gi.value.officer?.phone_no}</td>\n        </tr>\n    </tbody>\n</table>\n\n\n<h3 class="header">ATTENDANCE DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>S.No</th>\n            <th>Labour Name</th>\n            <th>Labour Type</th>\n            <th>Task</th>\n            <th>Reporting Time</th>\n            <th>Departure Time</th>\n            <th>Work Status</th>\n        </tr>\n    </thead>\n    <tbody>\n        ${Gm.value.map(((e,t)=>`\n        <tr>\n            <td >${t+1}</td>\n            <td>${e.name||"--"}</td>\n            <td>${e.labour_type||"--"}</td>\n            <td>${e.task||"--"}</td>\n            <td>${e.reporting_time||"--"}</td>\n            <td>${e.departure_time||"--"}</td>\n            <td>${e.status.key||"--"}</td>\n        </tr>\n        `)).join("")}\n    </tbody>\n   \n</table>\n\n<div style="margin-top: 30px; text-align: right;">\n    <div>Printed on: ${i}</div>\n</div>\n\n</body>\n</html>\n`,r=e.contentWindow.document;r.open(),r.write(o),r.close(),e.onload=()=>{e.contentWindow.focus(),e.contentWindow.print(),setTimeout((()=>{document.body.removeChild(e)}),1e3)}},El=(0,s.iH)(!1),ql=(0,s.iH)(!1),jl=(0,s.iH)(""),Bl=(0,s.iH)(""),Yl=(0,s.iH)([]),Ql=(0,s.iH)(""),Jl=async()=>{p.value=!0;try{const e=await an.get(`site-challenges?store_id=${c.params.store_id}`);Yl.value=e.data.map(((e,t)=>({...e,SNo:t+1,challenge:e.description,reported_by:e.remarker.name,proposed_measure:e.measure.description,date:V(e.created_at),remark:e.remark,raw_date:e.created_at})))}catch(error){U(error.message),console.log(error)}finally{p.value=!1}},Xl=async()=>{const e={challenge:Bl.value,measure:jl.value,remarker_id:Tu,store_id:c.params.store_id};Du.value=!0;try{const t=await an.post("register-site-challenge",e);C(t.data),Jl(),El.value=!1,jl.value="",Bl.value=""}catch(error){U(error.message),console.log(error)}finally{Du.value=!1}},tn=(0,s.iH)({perPage:20,perPageValues:[20,50,100,200,500,1e3],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),an=o.Z.create({baseURL:"https://bushman.ink/api/v1/"});(0,l.YP)(La,(e=>{e&&(fn.value="")}));const _n=()=>{yn.value="",fn.value="",La.value="",fi.value="",document.getElementById("close").click(),Kr.value="",sd.value="",uu.value="",Tc.value="",Bt.value=""},yn=(0,s.iH)(""),fn=(0,s.iH)(""),wn=async()=>{Ca.value=!0;const e={item_id:La.value.id,category:"store",category_id:c.params.store_id,quantity:fn.value,usage_type:La.value.category_name,description:yn.value,rate:0,issuer_id:JSON.parse(localStorage.getItem("user")).id};try{await an.post("item-usage",e);C("Item Registered"),Nn(),$n(),_n()}catch(error){console.log(error),U(error.message)}finally{Ca.value=!1}},kn=(0,s.iH)(""),Un=(0,s.iH)([]),$n=async()=>{p.value=!0;try{const e=await an.get(`daily-report?category_id=${c.params.store_id}`);if(Un.value=e.data.map(((e,t)=>({...e,sno:t+1,item:e.store_item?.item.name,category:e.usage_type,used:e.quantity,task:e.description,raw_date:e.created_at,date:V(e.created_at)}))),e.data.length>0){const t=e.data[e.data.length-1];kn.value=t.issuer}}catch(error){U(error.message),console.log(error)}finally{p.value=!1}},In=(0,s.iH)([]),Nn=async()=>{try{const e=await an.get(`get-store-items?store_id=${c.params.store_id}`);In.value=e.data.filter((e=>"Fuel"!==e.category_name)).map(((e,t)=>({...e,SNo:t+1}))),Ms.value=In.value}catch(error){U(error.message),console.log(error)}finally{p.value=!1}},Ms=(0,s.iH)([]),Hs=(0,s.iH)("all"),Rs=e=>{Hs.value=e,Ms.value="all"===e?In.value:In.value.filter((t=>t.category_name===e))},gi=(0,s.iH)(),yi=async()=>{try{const e=await an.get(`stores/${c.params.store_id}`);gi.value=e.data}catch(error){U(error.message),console.log(error)}finally{p.value=!1}},fi=(0,s.iH)(""),wi=(0,s.iH)([]),Xr=async()=>{try{const e=await an.get("machines");wi.value=e.data.map((e=>({...e,name:e.name+" - "+e.type_name})))}catch(error){U(error.message),console.log(error)}finally{p.value=!1}},Kr=(0,s.iH)(""),sd=(0,s.iH)(""),Tc=(0,s.iH)(""),uu=(0,s.iH)(""),pu=(0,s.iH)(""),hu=(0,s.iH)(""),gu=async()=>{Ca.value=!0,"diesel"===ra.value?pu.value=fu.value.store_diesel_id:pu.value=fu.value.store_petrol_id;const e={store_item_id:pu.value,asset_id:fi.value.id,project_id:gi.value.project.id,consumption_type:Tc.value,issuer_id:JSON.parse(localStorage.getItem("user")).id,quantity:fn.value,usage_date:Ra.value,initial_reading:Kr.value,final_reading:sd.value,task:yn.value,driver_name:uu.value,volume:hu.value,unit:hm.value.short_name};try{await an.post("asset-consumptions",e);C("Fuel Issued"),xu(),wu(),document.getElementById("distribution-form").click()}catch(error){console.log(error),U(error.message)}finally{Ca.value=!1}console.log(e)},yu=async()=>{In.value;const e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e),p.value=!1;const t=new Date,a=t.getDate().toString().padStart(2,"0"),l=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getFullYear(),s=`${a}/${l}`,i=`${s}/${n}`,o=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Store Items Report</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  table tr:first-child th:first-child, table tr:first-child td:first-child { border-top-left-radius: 8px; }\n  table tr:first-child th:last-child, table tr:first-child td:last-child { border-top-right-radius: 8px; }\n  table tr:last-child td:first-child { border-bottom-left-radius: 8px; }\n  table tr:last-child td:last-child { border-bottom-right-radius: 8px; }\n  .summary-section { margin-top: 30px; font-size: 12px; }\n  .text-center {text-align: center;}\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="report-box">\n    REPORT ON.<br>\n    <span style="color:red;">${s}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 103-826-519<br>\n  VRN: 20-01-017530R\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n\n<div class="section-title">SITE STORE MATERIAL USAGE REPORT</div>\n<h3 class="header">STORE DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>PROJECT</th>\n            <th>STORE</th>\n            <th>SUPERVISOR</th>\n            <th>SUPERVISOR'S EMAIL</th>\n        </tr>\n    </thead>\n     <tbody>\n        <tr>\n          <td class="text-center">${gi.value.project.short_name}</td>\n          <td class="text-center"> ${gi.value.officer?.name}</td>\n          <td class="text-center"> ${gi.value.officer?.email}</td>\n           <td class="text-center"> ${gi.value.officer?.phone_no}</td>\n        </tr>\n    </tbody>\n</table>\n\n\n<h3 class="header">USAGE DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>S.No</th>\n            <th>Item Name</th>\n            <th>Category</th>\n            <th>Description</th>\n            <th>Quantity Used</th>\n            <th>Date Used</th>\n        </tr>\n    </thead>\n    <tbody>\n        ${Km.value.map(((e,t)=>`\n        <tr>\n            <td >${t+1}</td>\n            <td>${e.item||"--"}</td>\n            <td>${e.category||"--"}</td>\n            <td>${e.description||"--"}</td>\n            <td>${e.used||"--"}</td>\n            <td>${e.date||"--"}</td>\n        </tr>\n        `)).join("")}\n    </tbody>\n   \n</table>\n\n<div style="margin-top: 30px; text-align: right;">\n    <div>Printed on: ${i}</div>\n</div>\n\n</body>\n</html>\n`,r=e.contentWindow.document;r.open(),r.write(o),r.close(),e.onload=()=>{e.contentWindow.focus(),e.contentWindow.print(),setTimeout((()=>{document.body.removeChild(e)}),1e3)}},fu=(0,s.iH)([]),wu=async()=>{const e=await an.get(`get-fuel?store_id=${c.params.store_id}`);fu.value=e.data.map(((e,t)=>({...e,Sno:t+1,project_id:e.project_id,store_diesel_id:e.store_diesel_id,store_petrol_id:e.store_petrol_id,diesel_quantity:e.diesel_quantity,petrol_quantity:e.petrol_quantity,petrol_used:e.petrol_used,diesel_used:e.diesel_used,diesel_balance:e.diesel_quantity-e.diesel_used,petrol_balance:e.petrol_quantity-e.petrol_used})))[0]},ku=(0,s.iH)(0),xu=async()=>{wu(),p.value=!0;try{const e=await an.get(`/asset-consumptions?store_id=${c.params.store_id}`);Array.isArray(e.data)?(Sa.value=e.data.filter((e=>e.store_id==c.params.store_id&&e.item_id==m.value)).map(((e,t)=>{const a=Number(e.rate),l=a*e.quantity,n=e.final_reading-e.initial_reading,s=e.machine_average_ratio||0,i=e.machine_consumption_type;let o=0;return s>0&&n>0&&(o="Litre/hr"===i?(s*n).toFixed(2):(n/s).toFixed(2)),{SNo:t+1,asset_id:e.asset_id,work:(e.final_reading-e.initial_reading).toFixed(2),fuel:e.quantity,issued:e.quantity,used:e.initial_reading&&e.final_reading&&0!==parseFloat(e.initial_reading)&&0!==parseFloat(e.final_reading)?o:"---",balance:e.initial_reading&&e.final_reading&&0!==parseFloat(e.initial_reading)&&0!==parseFloat(e.final_reading)?(e.quantity-o).toFixed(2):"---",fuel_type:e.item_name,consuption:e.consumption_type,issued_date:V(e.created_at),task:e.task,driver:e.driver_name,issuer:e.issuer_name,initial:e.initial_reading,final:e.final_reading,machine:e.machine_name,type:e.machine_type,ratio:e.machine_average_ratio,consumption_type:e.machine_consumption_type,project_id:e.project_id,store_id:e.store_id,id:e.id,remark:e.remark,volume:e.volume,used_cost:I(o*a),rate:I(a),cost:I(l),cost_original:l}})),ku.value=Sa.value.reduce(((e,t)=>e+Number(t.fuel)),0),p.value=!1):(U(error.message),console.error("Invalid response format"))}catch(error){U(error.message),p.value=!1,console.error("Error fetching Bulk Distribution: ",error)}},Su=async()=>{p.value=!0;try{const e=await an.get(`/asset-consumptions?project_id=${gi.value.project_id}`);Array.isArray(e.data)?(Sa.value=e.data.map(((e,t)=>{const a=Number(e.rate),l=a*e.quantity,n=e.final_reading-e.initial_reading,s=e.machine_average_ratio||0,i=e.machine_consumption_type;let o=0;return s>0&&n>0&&(o="Litre/hr"===i?(s*n).toFixed(2):(n/s).toFixed(2)),{SNo:t+1,work:(e.final_reading-e.initial_reading).toFixed(2),fuel:e.quantity,issued:e.quantity,used:e.initial_reading&&e.final_reading&&0!==parseFloat(e.initial_reading)&&0!==parseFloat(e.final_reading)?o:"---",balance:e.initial_reading&&e.final_reading&&0!==parseFloat(e.initial_reading)&&0!==parseFloat(e.final_reading)?(e.quantity-o).toFixed(2):"---",asset_id:e.asset_id,fuel_type:e.item_name,consuption:e.consumption_type,issued_date:V(e.created_at),task:e.task,volume:e.volume,driver:e.driver_name,issuer:e.issuer_name,initial:e.initial_reading,final:e.final_reading,machine:e.machine_name,ratio:e.machine_average_ratio,consumption_type:e.machine_consumption_type,type:e.machine_type,project_id:e.project_id,store_id:e.store_id,id:e.id,remark:e.remark,raw_date:e.created_at,used_cost:I(o*a),rate:I(a),cost:I(l),cost_original:l}})),p.value=!1):(U(error.message),console.error("Invalid response format"))}catch(error){U(error.message),p.value=!1,console.error("Error fetching Bulk Distribution: ",error)}},Cu=((0,s.iH)(),JSON.parse(localStorage.getItem("user")).role,(0,s.iH)(!1),(0,s.iH)("unchecked"),(0,s.iH)(),(0,s.iH)(),(0,s.iH)([]),(0,s.iH)("")),Tu=JSON.parse(localStorage.getItem("user")).id,Du=(0,s.iH)(!1),Eu=async e=>{const t={remark:Ql.value.remark+"\n"+Cu.value};Du.value=!0;try{await an.put(`remarks/${e}`,t),C("Remark Saved"),Jl(),Cu.value="",document.getElementById("close-challenge-remark").click()}catch(error){U(error.message),console.log(error)}finally{Du.value=!1}},Uu=async()=>{Du.value=!0;const e={initial_reading:it.value.initial,final_reading:it.value.final,remark:it.value.remark,task:it.value.task,volume:it.value.volume,unit:it.value.unit.short_name};try{await an.put(`asset-consumptions/${it.value.id}`,e);C("Readings Updated"),xu();const t=document.getElementById("edit");if(t){const e=window.bootstrap?.Modal?.getInstance(t)||(window.bootstrap?.Modal?new window.bootstrap.Modal(t):null);e?e.hide():t.classList.remove("show")}}catch(error){U(error.message),console.log(error)}finally{Du.value=!1}},$u=(0,s.iH)(["sno","name","category","total_issued","total_received","action"]),Mu=(0,s.iH)(["sno","delivery_no","issuer","issued","receiver","received","date_issued","date_received"]),Hu=(0,s.iH)([]),Ru=(0,s.iH)(""),Lu=(0,s.iH)([]),Au=async()=>{p.value=!0;const e=await an.get(`good-delivery-note-items?project_id=${gi.value.project_id}`);Lu.value=e.data.map(((e,t)=>({...e,sno:t+1,name:e.name+" - "+e.description,raw_date:e.records[0]?.date_received}))),p.value=!1},Ou=(0,s.iH)(["SNo","item","description","units","receiver","date","approved","received","shortage","briefing","remark","cost","status"]),Iu=(0,s.iH)([]),Nu=()=>{p.value=!0,an.get(`/grn-items?project_id=${gi?.value.project_id}`).then((e=>{Iu.value=e.data.map(((e,t)=>({...e,SNo:t+1,id:e.id,receiver:e?.receiver?.name,grn:e.grn_id,remark:e.remark,date:V(e.created_at),item:e.approval_item.requisition_item.remark,description:e.approval_item.requisition_item.description,units:e.approval_item.requisition_item.units,rate:e.approval_item.requisition_item.rate,received:e.quantity,approved:e.approval_item.quantity,shortage:(e.approval_item.quantity-e.quantity).toFixed(2),briefing:e.description,cost:I(e.approval_item.requisition_item.rate*(e.approval_item.quantity-e.quantity)),rate:e.approval_item.requisition_item.rate}))),p.value=!1})).catch((e=>{U(e.message||"Failed to fetch units"),p.value=!1}))},Vu=(0,l.Fl)((()=>Iu.value.filter((e=>"Rejected"===e.status?.name)).reduce(((e,t)=>{const a=t.approval_item.requisition_item.rate*(t.approval_item.quantity-t.quantity)||0;return e+a}),0))),qu=(0,s.iH)([]),ju=(0,s.iH)(["Sno","name","labour_type","task","date","reporting_time","departure_time","description","remark","status","actions"]),zu=async()=>{p.value=!0;try{const e=await an.get(`labour-attendants?project_id=${gi.value.project_id}`);qu.value=e.data.map(((e,t)=>({...e,raw_date:e.created_at,Sno:t+1,name:e.labour_name,task:e.task,remark:e.remark,description:e.description,date:V(e.created_at),reporting_time:e.reporting_time,departure_time:e.departure_time,labour_type:e.labour_type?.name,status_id:e.status.id,status:{key:e.status.name,class:e.status.color}})))}catch(error){console.log(error),U(error.message)}finally{p.value=!1}},Pu=(0,s.iH)(""),Bu=(0,s.iH)(""),Fu=(0,s.iH)(""),Wu=(0,s.iH)(""),Yu=(0,s.iH)(""),Qu=(0,s.iH)(""),Ju=(0,s.iH)(""),Xu=(0,s.iH)([]),Ku=async()=>{Du.value=!0;const e={labour_name:Pu.value,project_id:gi.value.project_id,description:yn.value,task:Fu.value,reporting_time:Wu.value,departure_time:Yu.value,labour_type_id:Qu.value.id,registrar_id:JSON.parse(localStorage.getItem("user")).id,remark:Cu.value};try{await an.post("labour-attendants",e);zu(),Gu(),C("Labour Attendant registered")}catch(error){console.log(error),U(error.message)}finally{Du.value=!1}},Gu=()=>{Pu.value="",Fu.value="",Wu.value="",Yu.value="",Qu.value="",Cu.value="",yn.value="",ql.value=!1},Zu=async()=>{Du.value=!0;const e={description:yn.value,departure_time:Yu.value,status_id:Ju.value.id};try{await an.put(`labour-attendants/${Bu.value}`,e);zu(),document.getElementById("close_labour_attendant").click(),C("Labour Attendant updated")}catch(error){console.log(error),U(error.message)}finally{Du.value=!1}},em=()=>{yn.value="",Yu.value=""},tm=e=>{Bu.value=e.id,yn.value=e.description,Yu.value=e.departure_time,Ju.value=e.status_id&&lm.value.find((t=>t.id===e.status_id))||""},am=async()=>{try{const e=await an.get("labour-types");Xu.value=e.data}catch(error){U(error.message)}},lm=(0,s.iH)([]),nm=async()=>{try{const e=await an.get("/statuses");lm.value=e.data.filter((e=>8===e.id||19===e.id))}catch(error){U(error.message)}},sm=(0,s.iH)(["Sno","activity","unit","quantity","description","actions"]),im=(0,s.iH)(["Sno","activity","unit","quantity","actions"]),om=(0,s.iH)([]),rm=(0,s.iH)(""),dm=(0,s.iH)(""),cm=(0,s.iH)(""),um=(0,l.f3)("whatsappAlert"),mm=()=>{rm.value?(om.value.push({Sno:om.value.length+1,activity:rm.value,unit_id:hm?.value?.id||"",unit:hm?.value?.short_name||"",quantity:fn.value,description:dm.value||""}),rm.value="",hm.value=null,fn.value="",dm.value=""):U("Please fill an activity")},vm=e=>{om.value=om.value.filter((t=>t.Sno!==e)),om.value=om.value.map(((e,t)=>({...e,Sno:t+1})))},pm=async()=>{if(0===om.value.length)return void U("Please add atleast one activity.");Du.value=!0;const e={report_name:_m.value,description:yn.value,date:gm.value,project_id:gi.value.project.id,supervisor_id:JSON.parse(localStorage.getItem("user")).id,activities:om.value};try{await an.post("/work-carried-outs",e),await Pm(),bm(),document.getElementById("close_report").click(),C("Data Saved");const t=`${JSON.parse(localStorage.getItem("user")).name} created a work report:\n\nReport: ${e.report_name}\nProject: ${gi.value.project.short_name}\nDate: ${e.date}\nDescription: ${e.description}\n\nActivities:\n`+e.activities.map((e=>`${e.activity} ${e.quantity}${e.unit}`)).join("\n"),a="wamid.HBgMMjU1Njk4MjY3NjYyFQIAEhggQUM5QUMyMzIyRUVEMTJBOTNBNTIwQjRCMTA3QUNGQTQA",l=["255697315583","255698267662"];l.forEach((e=>{um(t,a,e)}))}catch(error){console.error(error),U(error.message)}finally{Du.value=!1}},bm=()=>{_m.value="",yn.value="",gm.value="",rm.value="",hm.value=null,fn.value="",dm.value="",om.value=[],Cu.value="",Am.value="";const e=document.querySelectorAll('input[type="file"]');e.forEach((e=>e.value=""))},_m=(0,s.iH)(""),hm=(0,s.iH)(""),gm=(0,s.iH)(""),ym=(0,s.iH)(""),fm=(0,s.iH)([]),wm=async()=>{p.value=!0;try{const e=await an.get(`work-carried-outs?project_id=${gi.value.project_id}`);fm.value=e.data.map(((e,t)=>({...e,Sno:t+1,date:V(e.date||e.created_at),raw_date:e.created_at,activities:e.activities.map(((e,t)=>({...e,Sno:t+1,unit:e.unit?.short_name||"--"})))})))}catch(error){console.error(error),U(error.message)}finally{p.value=!1}},km=(0,s.iH)([]),xm=async()=>{p.value=!0;try{const e=await an.get("units");km.value=e.data}catch(error){U(error.message)}finally{p.value=!1}},Sm=e=>{ym.value=e.id,Cu.value=e.remark},Cm=async()=>{Du.value=!0;const e={remark:Cu.value};try{await an.put(`work-carried-outs/${ym.value}`,e);await Pm(),document.getElementById("close_remark").click(),C("Work Report updated")}catch(error){console.log(error),U(error.message)}finally{Du.value=!1}},Tm=e=>{cm.value=e.id,rm.value=e.activity,fn.value=e.quantity,hm.value=e.unit_id&&km.value.find((t=>t.id===e.unit_id))||""},Dm=async()=>{Du.value=!0;const e={activity:rm.value,quantity:fn.value,unit_id:hm?.value?.id??""};try{await an.put(`site-activities/${cm.value}`,e);await Pm(),document.getElementById("close_activity").click(),C("activity updated")}catch(error){console.log(error),U(error.message)}finally{Du.value=!1}},Em=(0,s.iH)(!1),Um=(0,s.iH)(null),$m=async e=>{const t=await Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"});if(t.isConfirmed){Em.value=!0,Um.value=e;try{await an.delete(`work-carried-outs/${e}`),await Pm(),C("work carried out deleted successfully")}catch(error){console.error(error),U(error.message)}finally{Em.value=!1,Um.value=null}}},Mm=(0,s.iH)(!1),Hm=(0,s.iH)(null),Rm=async e=>{Mm.value=!0,Hm.value=e;try{await an.delete(`site-activities/${e}`),await Pm(),C("Activity deleted successfully")}catch(error){console.error(error),U(error.message)}finally{Mm.value=!1,Hm.value=null}},Lm=async()=>{Du.value=!0;const e={work_carried_out_id:ym.value,activity:rm.value,quantity:fn.value,unit_id:hm.value.id};try{await an.post("site-activities",e);await Pm(),document.getElementById("close_add").click(),C("activity added")}catch(error){console.log(error),U(error.message)}finally{Du.value=!1}},Am=(0,s.iH)(null),Om=e=>{const t=e.target.files[0];Am.value=t instanceof File?t:null,console.log("FILE SENT:",Am.value)},Im=async()=>{Du.value=!0;const e=new FormData;e.append("work_carried_out_id",ym.value),e.append("description",yn.value),Am.value instanceof File&&e.append("file_path",Am.value);try{const t=await an.post("work-carried-out-attachments",e,{headers:{"Content-Type":"multipart/form-data"}});await Pm(),document.getElementById("close_attachment").click(),C("Attachment added"),console.log("File URL:",t.data.url)}catch(error){console.error(error),U(error.message)}finally{Du.value=!1}},Nm=(e,t)=>{Vm.value=e,qm.value=t},Vm=(0,s.iH)(""),qm=(0,s.iH)(null),jm=(0,s.iH)(""),zm=(0,l.Fl)((()=>jm.value?fm.value.filter((e=>{const t=jm.value.toLowerCase();return e.report_name?.toLowerCase().includes(t)||e.description?.toLowerCase().includes(t)||e.supervisor?.name?.toLowerCase().includes(t)||e.date?.includes(t)||e.remark?.toLowerCase().includes(t)||e.activities?.some((e=>e.activity?.toLowerCase().includes(t)||e.unit?.short_name?.toLowerCase().includes(t)))})):fm.value)),Pm=async()=>{const e=await an.get(`work-carried-outs?project_id=${gi.value.project_id}`);fm.value=e.data.map(((e,t)=>({...e,Sno:t+1,date:V(e.date||e.created_at),activities:e.activities.map(((e,t)=>({...e,Sno:t+1,unit:e.unit?.short_name||"--"})))})))},Bm=(0,s.iH)(!1),Fm=(0,s.iH)(null),Wm=async e=>{Bm.value=!0,Fm.value=e;try{await an.delete(`work-carried-out-attachments/${e}`),await Pm(),C("Attachment deleted successfully")}catch(error){console.error(error),U(error.message)}finally{Bm.value=!1,Fm.value=null}},Ym=(0,s.iH)(0),Qm=()=>{Ym.value+=90},Jm=(e,t="raw_date")=>(0,l.Fl)((()=>P.value?e.value.filter((e=>{const a=e[t];if(!a)return!1;if(/^\d{4}-\d{2}-\d{2}$/.test(a))return a===P.value;if(/^\d{2}\/\d{2}\/\d{2}/.test(a)){const e=a.split(" ")[0].split("/"),t="20"+e[2],l=e[1],n=e[0],s=`${t}-${l}-${n}`;return s===P.value}return new Date(a).toISOString().split("T")[0]===P.value})):e.value)),Xm=(e,t="raw_date")=>(0,l.Fl)((()=>{if(!P.value)return e.value;const a=new Date(P.value),l=a.getDay(),n=0===l?-6:1-l,s=new Date(a);s.setDate(a.getDate()+n);const i=new Date(s);i.setDate(s.getDate()+6);const o=s.toISOString().split("T")[0],r=i.toISOString().split("T")[0];return e.value.filter((e=>{const a=e[t];if(!a)return!1;let l;if(/^\d{2}\/\d{2}\/\d{2}/.test(a)){const e=a.split(" ")[0].split("/"),t="20"+e[2],n=e[1],s=e[0];l=`${t}-${n}-${s}`}else if(/^\d{4}-\d{2}-\d{2}$/.test(a))l=a;else{const e=new Date(a);if(isNaN(e.getTime()))return!1;l=e.toISOString().split("T")[0]}return l>=o&&l<=r}))})),Km=Jm(Un),Gm=Jm(qu),Zm=Jm(Yl),ev=Jm(Sa),tv=Jm(fm,"date"),av=Jm(a,"date"),lv=Xm(Un),nv=Xm(qu),sv=Xm(Yl),iv=Xm(Sa),ov=Xm(fm,"date"),rv=Xm(a,"date"),dv=async()=>{P.value&&""!==P.value||(P.value=(new Date).toISOString().slice(0,10)),p.value=!0;try{await yv();const e=Km.value||[],t=Gm.value||[],a=Zm.value||[],l=ev.value||[],n=tv.value||[],s=av.value||[],i=e.length>0||t.length>0||a.length>0||l.length>0||n.length>0||s.length>0,o=V(P.value),r=new Date(P.value),d=r.getDate().toString().padStart(2,"0"),c=(r.getMonth()+1).toString().padStart(2,"0"),u=`${d}/${c}`,m=t.reduce(((e,t)=>{const a=t.labour_type||"Others";return e[a]||(e[a]=0),e[a]++,e}),{}),v=t.find((e=>"Supervisor"===e.labour_type||"Foreman"===e.labour_type))||gi.value?.officer||{name:"--"},b=document.createElement("iframe");b.style.display="none",document.body.appendChild(b);const _=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Daily Construction Report</title>\n<style>\n  body { font-family: 'Courier New', monospace; margin: 40px; font-size: 13px; }\n  .text-style { font-family: 'Courier New', monospace; }\n  .header-container { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }\n  .company-title { text-align: center; flex: 1; }\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; border-radius: 5px; min-width: 80px; margin-top: 20px; }\n  .title { text-align: center; font-size: 20px; margin: 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; }\n  th, td { border: 0.5px solid #000; padding: 6px; text-align: left; }\n  th { background-color: #f8f8f8; font-weight: bold; }\n  .text-right { text-align: right; }\n  .text-center { text-align: center; }\n  hr { border: 0; border-top: 0.5px solid #000; margin: 0px 0; }\n  .section { margin-top: 20px; }\n  .side-by-side { display: flex; gap: 20px; margin-top: 20px; }\n  .side-by-side > div { flex: 1; }\n  .no-data-message {\n    text-align: center;\n    padding: 40px;\n    font-size: 14px;\n    color: #666;\n  }\n  @media print { body { margin: 10mm; } }\n</style>\n</head>\n<body>\n\n<div class="header-container">\n  <div style="width: 80px;"></div>\n  <div class="company-title text-style">\n    <i>\n    <h1>COPEX CONTRACTORS CO.LTD</h1>\n    <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\n    <div><b>Tel:</b> 0713 000 777, 0657 111 555</div>\n    <div><b>Email:</b> info@copexcontractors.co.tz</div>\n    <div><b>TIN:</b> 103-826-519 &nbsp;&nbsp; <b>VRN:</b> 20-01-017530R</div>\n    </i>\n  </div>\n  <div class="report-box">\n    REPORT NO.<br>\n    <span style="color:red;">${u}</span>\n  </div>\n</div>\n\n<hr style="margin-top:20px">\n\n<div class="title text-style">\n  DAILY CONSTRUCTION REPORT\n</div>\n\n<hr>\n\n<div style="display: flex; gap: 40px; margin: 10px 0;">\n  <div style="flex: 1;">\n    <div><strong>Date:</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;${o}</div>\n    <div><strong>Location:</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;${gi.value?.project?.short_name||"--"}</div>\n  </div>\n  <div style="flex: 1;">\n    <div><strong>Contractor:</strong>&nbsp;&nbsp;&nbsp;COPEX CONTRACTORS</div>\n    <div><strong>Tender No.:</strong>&nbsp;&nbsp;&nbsp;${gi.value?.project?.contract_number||"--"}</div>\n  </div>\n</div>\n\n${i?`\n<div class="side-by-side">\n  <div>\n    <table>\n         <thead>\n           <tr>\n             <th colspan="2" style="background-color:black; color:black;">CONTRACTOR'S LABOR FORCE</th>\n             </tr>\n           <tr>\n             <th>Classification</th>\n             <th># of Persons</th>\n           </tr>\n         </thead>\n         <tbody>\n           ${Object.entries(m).map((([e,t],a)=>`\n           <tr>\n             <td>${e}</td>\n             <td>${t}</td>\n           </tr>\n           `)).join("")}\n           ${0===Object.keys(m).length?'\n           <tr>\n             <td colspan="2">No labor attendance recorded</td>\n           </tr>\n           ':""}\n         </tbody>\n       </table>\n  </div>\n\n  <div>\n    <table>\n      <thead>\n        <tr>\n          <th colspan="5">Material Received at Site</th>\n        </tr>\n        <tr>\n          <th>Item</th>\n          <th>unit</th>\n          <th>Category</th>\n          <th>Received</th>\n          <th>Receiver</th>\n        </tr>\n      </thead>\n      <tbody>\n        ${s.map((e=>`\n        <tr>\n          <td>${e.item_name||"--"}</td>\n          <td>${e.unit||"--"}</td>\n          <td>${e.category||"--"}</td>\n          <td>${I(e.received||"0")}</td>\n          <td>${e.receiver||"--"}</td>\n        </tr>\n        `)).join("")}\n        ${0===s.length?'\n        <tr>\n          <td colspan="5">No delivery notes recorded</td>\n        </tr>\n        ':""}\n      </tbody>\n    </table>\n  </div>\n</div>\n\n<div class="section">\n  <table>\n    <thead>\n      <tr>\n        <th colspan="4">EQUIPMENT USED TODAY</th>\n      </tr>\n      <tr>\n        <th>Machine Type</th>\n        <th>Machine Name</th>\n        <th>Type of Work</th>\n        <th>Fuel Issued</th>\n      </tr>\n    </thead>\n    <tbody>\n      ${l.map((e=>`\n      <tr>\n        <td>${e.type||"--"}</td>\n        <td>${e.machine||"--"}</td>\n        <td>${e.task||"--"}</td>\n        <td>${e.issued||"0"} L (${e.fuel_type||"Diesel"})</td>\n      </tr>\n      `)).join("")}\n      ${0===l.length?'\n      <tr>\n        <td colspan="4">No equipment usage recorded</td>\n      </tr>\n      ':""}\n    </tbody>\n  </table>\n</div>\n\n\n  <div class="section">\n    <table>\n      <thead>\n        <tr>\n          <th colspan="3">MATERIALS USED</th>\n        </tr>\n        <tr>\n          <th>Item</th>\n          <th>Description</th>\n          <th>Used</th>\n        </tr>\n      </thead>\n      <tbody>\n        ${e.map((e=>`\n        <tr>\n          <td>${e.item||"--"}</td>\n          <td>${e.description||"--"}</td>\n          <td>${e.used||"0"}</td>\n        </tr>\n        `)).join("")}\n        ${0===e.length?'\n        <tr>\n          <td colspan="3">No materials recorded</td>\n        </tr>\n        ':""}\n      </tbody>\n    </table>\n  </div>\n\n<div class="section">\n  ${n.map((e=>`\n  ${e.activities?.length?`\n  <table>\n    <thead>\n      <tr>\n        <th colspan="4">WORK ACTIVITY</th>\n      </tr>\n      ${e.activities.map(((e,t)=>`\n      <tr>\n        <td>${t+1}. ${e.activity||"--"} - ${e.quantity||"0"} ${e.unit||""}</td>\n      </tr>`)).join("")}\n    </thead>\n  </table>\n  `:"<p>No activities recorded</p>"}\n  `)).join("")}\n</div>\n\n<div class="section">\n  <table>\n    <thead>\n      <tr>\n        <th colspan="4">Comments & Site Requirements</th>\n      </tr>\n      ${a.map(((e,t)=>`\n      <tr>\n        <td>${t+1}. ${e.challenge||"--"} - ${e.reported_by||"--"} - ${e.proposed_measure||"--"} - ${e.remark||"--"}</td>\n      </tr>\n      `)).join("")}\n      ${0===a.length?'\n      <tr>\n        <td colspan="4">No comments or requirements reported</td>\n      </tr>\n      ':""}\n    </thead>\n  </table>\n</div>\n\n<div class="section">\n  ${n.map((e=>`\n  ${e.attachments?.length?`\n  <table>\n    <thead>\n      <tr>\n        <th colspan="4">Attachments for ${e.report_name||"Work Report"}</th>\n      </tr>\n      ${e.attachments.map(((e,t)=>`\n      <tr>\n        <td>${t+1}. ${e.description||"No description"} - ${e.file_path||""}</td>\n      </tr>`)).join("")}\n    </thead>\n  </table>\n  `:""}\n  `)).join("")}\n</div>\n`:`\n<div class="no-data-message">\n  <p><strong>No data available for the selected date (${o})</strong></p>\n</div>\n`}\n\n${i?`\n<div style="margin-top: 30px;">\n  <table>\n    <thead>\n      <tr>\n        <th colspan="2">REPORTED BY</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td><strong>Name:</strong></td>\n        <td>${v.name}</td>\n      </tr>\n      <tr>\n        <td><strong>Title:</strong></td>\n        <td>Site Supervisor</td>\n      </tr>\n      <tr>\n        <td><strong>Date:</strong></td>\n        <td>${o}</td>\n      </tr>\n      <tr>\n        <td><strong>Signature:</strong></td>\n        <td><strong>Date:</strong></td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n`:""}\n\n</body>\n</html>\n`,h=b.contentWindow.document;h.open(),h.write(_),h.close(),b.onload=()=>{b.contentWindow.focus(),b.contentWindow.print(),setTimeout((()=>{document.body.removeChild(b)}),1e3),P.value="",p.value=!1}}catch(error){console.error(error),U(error.message),p.value=!1}},cv=async()=>{P.value&&""!==P.value||(P.value=(new Date).toISOString().slice(0,10)),p.value=!0;try{const e=P.value?lv.value||[]:Un.value||[],t=P.value?nv.value||[]:qu.value||[],a=P.value?sv.value||[]:Yl.value||[],l=P.value?iv.value||[]:Sa.value||[],n=P.value?ov.value||[]:fm.value||[],s=P.value?rv.value||[]:Lu.value||[],i=e.length>0||t.length>0||a.length>0||l.length>0||n.length>0||s.length>0;let o="",r="";if(P.value){const e=P.value,t=new Date(e),a=t.getDay(),l=0===a?-6:1-a,n=new Date(t);n.setDate(t.getDate()+l);const s=new Date(n);s.setDate(n.getDate()+6),o=V(n.toISOString().split("T")[0]),r=V(s.toISOString().split("T")[0])}const d=document.createElement("iframe");d.style.display="none",document.body.appendChild(d);const c=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Weekly Comprehensive Report</title>\n<style>\n  body {\n    font-family: 'Courier New', monospace;\n    margin: 30px;\n    font-size: 12px;\n  }\n  .text-style { font-family: 'Courier New', monospace; }\n  .company-title { text-align: center; }\n  .title {\n    text-align: center;\n    font-size: 15px;\n    margin: 10px 0;\n    font-weight: bold;\n  }\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    margin-top: 10px;\n    font-size: 11px;\n  }\n  th, td {\n    border: 0.5px solid #000;\n    padding: 5px;\n  }\n  th {\n    background-color: #f8f8f8;\n    font-weight: bold;\n  }\n  .text-center { text-align: center; }\n  .text-right { text-align: right; }\n  hr {\n    border: 0;\n    border-top: 0.5px solid #000;\n    margin: 10px 0;\n  }\n  .section-title {\n    margin-top: 18px;\n    font-weight: bold;\n    text-decoration: underline;\n  }\n  .no-data-message {\n    text-align: center;\n    padding: 40px;\n    font-size: 14px;\n    color: #666;\n  }\n  @media print { body { margin: 8mm; } }\n</style>\n</head>\n\n<body>\n\n<div class="company-title text-style">\n  <i>\n    <h1 style="font-size:18px;margin:5px 0;">COPEX CONTRACTORS CO.LTD</h1>\n    <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\n    <div><b>Tel:</b> 0713 000 777, 0657 111 555</div>\n    <div><b>Email:</b> info@copexcontractors.co.tz</div>\n    <div><b>TIN:</b> 103-826-519 &nbsp;&nbsp; <b>VRN:</b> 20-01-017530R</div>\n  </i>\n</div>\n\n<hr>\n\n<div class="title text-style">\n  WEEKLY COMPREHENSIVE REPORT\n</div>\n\n<div class="text-style text-center">\n  <strong>Period:</strong> ${r?`${o} to ${r}`:o}\n</div>\n\n<hr>\n\n<p><strong>Project:</strong> ${gi.value?.project?.short_name||"--"}</p>\n<p><strong>Supervisor:</strong> ${gi.value?.officer?.name||"--"} |\n<strong>Email:</strong> ${gi.value?.officer?.email||"--"} |\n<strong>Phone:</strong> ${gi.value?.officer?.phone_no||"--"}</p>\n\n${i?`\n\x3c!-- MATERIALS --\x3e\n${e.length?`\n<div class="section-title">MATERIALS USED</div>\n<table>\n<thead>\n<tr>\n  <th>No</th><th>Item</th><th>Category</th>\n  <th class="text-center">Qty</th>\n  <th>Task</th><th>Date</th>\n</tr>\n</thead>\n<tbody>\n${e.map(((e,t)=>`\n<tr>\n  <td>${t+1}</td>\n  <td>${e.item||"--"}</td>\n  <td>${e.category||"--"}</td>\n  <td class="text-center">${e.used||"--"}</td>\n  <td>${e.task||"--"}</td>\n  <td>${e.date||"--"}</td>\n</tr>`)).join("")}\n</tbody>\n</table>`:""}\n\n\x3c!-- DELIVERY NOTES --\x3e\n${s.length?`\n<div class="section-title">DELIVERY NOTES</div>\n<table>\n<thead>\n<tr>\n  <th>No</th><th>Delivery No</th><th>Item</th><th>Category</th>\n  <th class="text-center">Issued</th>\n  <th class="text-center">Received</th>\n  <th>Issuer</th><th>Receiver</th><th>Date Issued</th><th>Date Received</th>\n</tr>\n</thead>\n<tbody>\n${s.map(((e,t)=>`\n<tr>\n  <td>${t+1}</td>\n  <td>${e.delivery_no||"--"}</td>\n  <td>${e.item_name||"--"}</td>\n  <td>${e.category||"--"}</td>\n  <td class="text-center">${e.issued||"--"}</td>\n  <td class="text-center">${e.received||"--"}</td>\n  <td>${e.issuer||"--"}</td>\n  <td>${e.receiver||"--"}</td>\n  <td>${e.date_issued||"--"}</td>\n  <td>${e.date_received||"--"}</td>\n</tr>`)).join("")}\n</tbody>\n</table>`:""}\n\n\x3c!-- FUEL --\x3e\n${l.length?`\n<div class="section-title">FUEL STATEMENT</div>\n<table>\n<thead>\n<tr>\n  <th>No</th><th>Issuer</th><th>Driver</th>\n  <th>Machine</th><th>Task</th>\n  <th class="text-right">Issued</th><th>Balance</th><th>Ratio</th><th>Date</th>\n</tr>\n</thead>\n<tbody>\n${l.map(((e,t)=>`\n<tr>\n  <td>${t+1}</td>\n  <td>${e.issuer||"--"}</td>\n  <td>${e.driver||"--"}</td>\n  <td>${e.machine||"--"}-${e.type||"--"}</td>\n  <td>${e.task||"--"}</td>\n  <td class="text-right">${e.issued||"--"}</td>\n  <td>${e.balance||"--"}</td>\n  <td>${e.ratio||"--"}</td>\n  <td>${e.issued_date||"--"}</td>\n</tr>`)).join("")}\n</tbody>\n</table>`:""}\n\n\x3c!-- ATTENDANCE --\x3e\n${t.length?`\n<div class="section-title">LABOUR ATTENDANCE</div>\n<table>\n<thead>\n<tr>\n  <th>No</th><th>Name</th><th>Type</th>\n  <th>Task</th><th>In</th><th>Out</th><th>Date</th>\n</tr>\n</thead>\n<tbody>\n${t.map(((e,t)=>`\n<tr>\n  <td>${t+1}</td>\n  <td>${e.name||"--"}</td>\n  <td>${e.labour_type||"--"}</td>\n  <td>${e.task||"--"}</td>\n  <td>${e.reporting_time||"--"}</td>\n  <td>${e.departure_time||"--"}</td>\n  <td>${e.date||"--"}</td>\n</tr>`)).join("")}\n</tbody>\n</table>`:""}\n`:`\n<div class="no-data-message">\n  <p><strong>No data available for the selected week (${o} to ${r})</strong></p>\n</div>\n`}\n\n</body>\n</html>\n`,u=d.contentWindow.document;u.open(),u.write(c),u.close(),d.onload=()=>{d.contentWindow.focus(),d.contentWindow.print(),document.body.removeChild(d),p.value=!1,P.value=""}}catch(error){console.error(error),U("Failed to generate weekly report"),p.value=!1}};(0,l.bv)((async()=>{xm(),hv(),Qe(),Oe(),await yi(),zu()}));const uv=(0,s.iH)(""),mv=(0,s.iH)({address:"",latitude:null,longitude:null,timestamp:null}),vv=(0,s.iH)(!1),pv=(0,s.iH)(!1),bv=()=>{mv.value.latitude&&mv.value.longitude?Swal.fire({title:"Report to Site",html:'\n            <div class="text-center">\n                <p>This will record your current location and time.</p>\n            </div>\n        ',icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Report Now",cancelButtonText:"Cancel"}).then((e=>{e.isConfirmed&&_v()})):window.open("https://support.google.com/chrome/answer/142065?hl=en","_blank")},_v=async()=>{pv.value=!0;try{if(mv.value.latitude&&mv.value.longitude||await Qe(),!mv.value.latitude||!mv.value.longitude)throw new Error("Failed to get location. Please enable location services.");const e={user_id:JSON.parse(localStorage.getItem("user")).id,store_id:c.params.store_id,location:mv.value.address,latitude:mv.value.latitude,longitude:mv.value.longitude};await an.post("geo-location-attendances",e),C("Successfully reported to site!"),await hv()}catch(error){console.log(error),U(error.response.data.message)}finally{pv.value=!1}},hv=async()=>{Ca.value=!0;try{const e=await an.get(`user-status/${JSON.parse(localStorage.getItem("user")).id}`);uv.value=e.data,De.includes("can_check_site_report")&&(uv.value={report:!0})}catch(error){U(error.message),console.log(error)}finally{Ca.value=!1}},gv=(0,s.iH)(!1),yv=async()=>{gv.value=!0;try{await Su(),await wm(),await Jl(),await $n(),await Lv()}catch(error){console.log(error),U(error.message)}finally{gv.value=!1}},fv=e=>{wv.value=e.target.files[0]},wv=(0,s.iH)(""),kv=(0,s.iH)(""),xv=(0,s.iH)(!1),Sv=async()=>{xv.value=!0;const e=new FormData;e.append("store_id",c.params.store_id),e.append("remark",kv.value),e.append("attachment",wv.value);try{await an.post("site-report-attachments",e,{headers:{"Content-Type":"multipart/form-data"}});C("Attachment uploaded successfully!"),Cv(),Rv()}catch(error){U(error.message),console.log(error)}finally{xv.value=!1}},Cv=()=>{Ev.value=!1,kv.value="",wv.value=""},Tv=(0,l.f3)("showConfirmation"),Dv=async e=>{const t=await Tv("Delete Record",`Are you sure you want to delete ${e.description}?`,`site-report-attachments/${e.id}`,"delete");t?.refresh&&await Rv()},Ev=(0,s.iH)(!1),Uv=(0,s.iH)([]),$v=(0,s.iH)(["SNo","description","date","actions"]),Mv=(0,s.iH)(!1),Hv=async()=>{Mv.value=!0;try{const e=await an.get(`site-report-attachments?store_id=${c.params.store_id}`);Uv.value=e.data.map(((e,t)=>({...e,SNo:t+1,description:e.remark||"--",date:V(e.created_at)})))}catch(error){console.log(error),U(error.message)}finally{Mv.value=!1}},Rv=async()=>{const e=await an.get(`site-report-attachments?store_id=${c.params.store_id}`);Uv.value=e.data.map(((e,t)=>({...e,SNo:t+1,description:e.remark||"--",date:V(e.created_at)})))},Lv=async()=>{p.value=!0;try{const e=await an.get(`all-delivery-note-items?project_id=${gi.value.project_id}`);a.value=e.data.map(((e,t)=>({...e,sno:t+1,delivery_no:e.delivery_no,issuer:e.issuer,issued:e.issued_qty,receiver:e.receiver,received:e.received_qty,date_issued:V(e.date_issued),date_received:V(e.date_received),date:e.date_received})))}catch(error){U(error.message),console.log(error)}finally{p.value=!1}};return(e,a)=>{const o=(0,l.up)("v-client-table"),r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",b,[_,uv.value.report?((0,l.wg)(),(0,l.iD)("div",h,[(0,l.wy)((0,l._)("input",{type:"date","onUpdate:modelValue":a[0]||(a[0]=e=>P.value=e),class:"form-control form-control-sm",onChange:Jm,style:{width:"160px"}},null,544),[[n.nr,P.value]]),(0,l._)("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=e=>dv()),disabled:gv.value},[gv.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(E)()},null,8,y)):((0,l.wg)(),(0,l.iD)("span",f,"Print Daily Report"))],8,g),w,(0,l._)("button",{class:"btn btn-primary btn-sm",onClick:a[2]||(a[2]=e=>yv().then((()=>cv()))),disabled:gv.value},[gv.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(E)()},null,8,x)):((0,l.wg)(),(0,l.iD)("span",S,"Print Weekly Report"))],8,k),(0,l._)("button",{class:"btn btn-outline-secondary btn-sm","data-bs-toggle":"modal","data-bs-target":"#view-site-attachment-modal",onClick:a[3]||(a[3]=e=>Hv()),title:"View Site Report Attachments"},T),(0,s.SU)(De).includes("can_print_daily_work_report")?((0,l.wg)(),(0,l.iD)("a",D,$)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),uv.value.report?((0,l.wg)(),(0,l.iD)("div",M,[(0,l._)("div",H,[(0,l._)("ul",R,[L,(0,l._)("li",{class:"nav-item",onClick:a[4]||(a[4]=e=>$n())},O),(0,l._)("li",{class:"nav-item",onClick:a[5]||(a[5]=e=>(m.value=364,xu()))},N),(0,l._)("li",{class:"nav-item",onClick:a[6]||(a[6]=e=>(m.value=365,xu()))},q),(0,l._)("li",{class:"nav-item",onClick:a[7]||(a[7]=e=>(m.value="",Su()))},z),(0,l._)("li",{class:"nav-item",onClick:a[8]||(a[8]=e=>Au())},B),(0,l._)("li",{class:"nav-item",onClick:a[9]||(a[9]=e=>Nn())},[(0,l._)("a",{class:"nav-link",id:"store-tab","data-bs-toggle":"tab",href:"#store",role:"tab","aria-controls":"store","aria-selected":"true",tabindex:uv.value.report?0:-1}," Store Items ",8,F)]),(0,l._)("li",W,[(0,l._)("a",{class:(0,i.C_)(["nav-link",{disabled:!uv.value.report}]),id:"shortage-tab","data-bs-toggle":"tab",href:"#shortage",onClick:a[10]||(a[10]=e=>Nu()),role:"tab","aria-controls":"store","aria-selected":"true",tabindex:uv.value.report?0:-1}," Shortage Statement ",10,Y)]),(0,l._)("li",Q,[(0,l._)("a",{class:(0,i.C_)(["nav-link",{disabled:!uv.value.report}]),id:"challenge-tab","data-bs-toggle":"tab",href:"#challenge",onClick:a[11]||(a[11]=e=>Jl()),role:"tab","aria-controls":"challenge","aria-selected":"true",tabindex:uv.value.report?0:-1}," Challenges Faced ",10,J)]),(0,l._)("li",X,[(0,l._)("a",{class:"nav-link active",id:"labour-tab","data-bs-toggle":"tab",href:"#labour",onClick:a[12]||(a[12]=e=>zu()),role:"tab","aria-controls":"labour","aria-selected":"true"},"Labour Attendance")]),(0,l._)("li",K,[(0,l._)("a",{class:"nav-link",id:"work-tab","data-bs-toggle":"tab",href:"#work",onClick:a[13]||(a[13]=e=>wm()),role:"tab","aria-controls":"work","aria-selected":"true"},"Work Carried Out")])])]),(0,l._)("div",G,[(0,l._)("div",Z,[(0,l._)("div",ee,[(0,l._)("div",te,[(0,l._)("p",ae,[le,(0,l.Uk)((0,i.zw)(gi.value?.project?.project_name),1)]),ne,se,(0,l._)("p",ie,[oe,(0,l.Uk)(" "+(0,i.zw)(gi.value?.project?.financial_year),1)]),re,(0,l._)("p",de,[ce,(0,l.Uk)(" "+(0,i.zw)(gi.value?.project?.client),1)]),ue,(0,l._)("p",me,[ve,(0,l.Uk)(" "+(0,i.zw)(gi.value?.project?.contract_number),1)]),pe,(0,l._)("p",be,[_e,(0,l.Uk)(" "+(0,i.zw)(gi.value?.project?.short_name),1)]),he,(0,l._)("p",ge,[ye,(0,l.Uk)(" "+(0,i.zw)(gi.value?.officer?.name),1)]),fe,(0,l._)("p",we,[ke,(0,l.Uk)(" "+(0,i.zw)(gi.value?.officer?.phone_no),1)]),xe])])]),(0,l._)("div",Se,[Ce,(0,l._)("div",Te,[(0,l._)("button",{class:"btn btn-primary me-2","data-bs-toggle":"modal","data-bs-target":"#work-form",onClick:a[14]||(a[14]=e=>Nn())},Ee),(0,l._)("button",{class:"btn btn-success me-2",onClick:yu,title:"Print Report"},Me)]),(0,l._)("div",He,[(0,l._)("div",Re,[p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,Le)):((0,l.wg)(),(0,l.j4)(o,{key:1,data:(0,s.SU)(Km),columns:nl.value,options:tn.value},{action:(0,l.w5)((e=>[(0,l._)("a",{href:"javascript:void(0);",title:"Return Items",onClick:t=>Pt.value=e.row,"data-bs-toggle":"modal","data-bs-target":"#return-items",class:"text-primary"},Ie,8,Ae)])),_:1},8,["data","columns","options"]))])])]),(0,l._)("div",Ne,[(0,l._)("div",Ve,[m.value?((0,l.wg)(),(0,l.iD)("h5",qe,"SITE DIESEL STETEMENT")):(0,l.kq)("",!0),(0,l._)("div",je,[m.value?((0,l.wg)(),(0,l.iD)("div",ze,[(0,l._)("div",null,[(0,l._)("table",Pe,[Be,(0,l._)("tbody",null,[(0,l._)("tr",null,[Fe,(0,l._)("td",null,(0,i.zw)(fu.value?.diesel_used)+" L",1),(0,l._)("td",null,(0,i.zw)(fu.value?.diesel_balance)+" L",1)])])])]),(0,l._)("div",We,[(0,l._)("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#fuel-form",onClick:a[15]||(a[15]=e=>(ra.value="diesel",Xr()))},"Issue Diesel")])])):((0,l.wg)(),(0,l.iD)("div",Ye,Je))])]),p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,Xe)):((0,l.wg)(),(0,l.iD)("div",Ke,[(0,l._)("div",Ge,[(0,l.Wm)(o,{data:Sa.value,columns:Na.value,options:tn.value},{machine:(0,l.w5)((e=>[(0,l.Wm)(r,{class:"text-primary",to:`/assets/fuel-statement/${e.row.asset_id}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.row.machine),1)])),_:2},1032,["to"])])),actions:(0,l.w5)((e=>[(0,l._)("div",Ze,[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",viewBox:"0 0 24 24",style:{cursor:"pointer"},title:"Add Remark","data-bs-toggle":"modal","data-bs-target":"#edit",onClick:t=>it.value=e.row},[tt,at,lt,e.row.remark?((0,l.wg)(),(0,l.iD)("circle",nt)):(0,l.kq)("",!0)],8,et)),e.row.initial&&e.row.final&&0!==parseFloat(e.row.initial)&&0!==parseFloat(e.row.final)?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("svg",st,ot))])])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",rt,[dt,(0,l._)("div",ct,"Shortage Cost : "+(0,i.zw)((0,s.SU)(I)((0,s.SU)(Vu))),1),(0,l._)("div",ut,[(0,l._)("div",mt,[(0,l.Wm)(o,{data:Iu.value,columns:Ou.value,options:tn.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,i.C_)(["badge inv-status","badge-"+e.row.status.color])},(0,i.zw)(e.row.status.name),3)])),footer:(0,l.w5)((()=>[(0,l._)("div",vt,[pt,(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:a[16]||(a[16]=(...t)=>e.save_edit&&e.save_edit(...t)),disabled:e.isSaving},"Save changes",8,bt)])])),_:1},8,["data","columns","options"])])])]),(0,l._)("div",_t,[(0,l._)("div",ht,[gt,(0,l._)("div",yt,[(0,l._)("div",ft,[(0,l._)("div",null,[(0,l._)("table",wt,[kt,(0,l._)("tbody",null,[(0,l._)("tr",null,[xt,(0,l._)("td",null,(0,i.zw)(fu.value?.petrol_used)+" L",1),(0,l._)("td",null,(0,i.zw)(fu.value?.petrol_balance)+" L",1)])])])]),(0,l._)("div",St,[(0,l._)("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#fuel-form",onClick:a[17]||(a[17]=e=>(ra.value="petrol",Xr()))},"Issue Petrol")])])])]),p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,Ct)):((0,l.wg)(),(0,l.iD)("div",Tt,[(0,l._)("div",Dt,[(0,l.Wm)(o,{data:Sa.value,columns:Na.value,options:tn.value},{machine:(0,l.w5)((e=>[(0,l.Wm)(r,{class:"text-primary",to:`/assets/fuel-statement/${e.row.asset_id}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.row.machine),1)])),_:2},1032,["to"])])),actions:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",viewBox:"0 0 24 24",style:{cursor:"pointer"},title:"Add Remark","data-bs-toggle":"modal","data-bs-target":"#edit",onClick:t=>it.value=e.row},[Ut,$t,Mt,e.row.remark?((0,l.wg)(),(0,l.iD)("circle",Ht)):(0,l.kq)("",!0)],8,Et))])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",Rt,[(0,l._)("div",Lt,[(0,l._)("div",At,[Ot,(0,l._)("div",It,[(0,l._)("div",Nt,[(0,l._)("button",{class:"btn btn-success",onClick:a[18]||(a[18]=e=>(0,s.SU)(U)("Printout Not Found!"))},"Print ")])])])]),p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,Vt)):((0,l.wg)(),(0,l.iD)("div",qt,[(0,l._)("div",jt,[(0,l.Wm)(o,{data:Lu.value,columns:$u.value,options:tn.value},{action:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-eye text-secondary",viewBox:"0 0 16 16","data-bs-toggle":"modal","data-bs-target":"#delivery",onClick:t=>(Hu.value=e.row.records,Ru.value=e.row)},Ft,8,zt))])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",Wt,[p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,Yt)):((0,l.wg)(),(0,l.iD)("div",Qt,[(0,l._)("div",Jt,[(0,l._)("h5",Xt,(0,i.zw)(Hs.value.toUpperCase())+" STORE ITEMS LIST",1),(0,l._)("div",Kt,[(0,l._)("button",{class:"btn btn-success text-nowrap me-2",onClick:a[19]||(a[19]=e=>Rs("all"))},"All Items"),(0,l._)("button",{class:"btn btn-dark text-nowrap me-2",onClick:a[20]||(a[20]=e=>Rs("Consumable"))},"Consumable"),(0,l._)("button",{class:"btn btn-primary text-nowrap",onClick:a[21]||(a[21]=e=>Rs("Receivable"))},"Receivable")])]),(0,l._)("div",Gt,[(0,l.Wm)(o,{data:Ms.value,columns:Aa.value,options:tn.value},{actions:(0,l.w5)((e=>[Zt])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",ea,[p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,ta)):((0,l.wg)(),(0,l.iD)("div",aa,[la,(0,l._)("div",na,[(0,l._)("div",sa,[(0,l._)("button",{class:(0,i.C_)(["btn me-2",El.value?"btn-danger":"btn-primary "]),onClick:a[22]||(a[22]=e=>El.value=!El.value)},[El.value?((0,l.wg)(),(0,l.iD)("span",ua,"X")):((0,l.wg)(),(0,l.iD)("svg",ia,ca))],2)])]),El.value?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:a[25]||(a[25]=(0,n.iM)((e=>Xl()),["prevent"]))},[(0,l._)("div",ma,[(0,l._)("div",va,[pa,(0,l.wy)((0,l._)("textarea",{class:"form-control",placeholder:"Enter challenge faced","onUpdate:modelValue":a[23]||(a[23]=e=>Bl.value=e)},null,512),[[n.nr,Bl.value]])]),(0,l._)("div",ba,[_a,(0,l.wy)((0,l._)("textarea",{class:"form-control",placeholder:"Enter Proposed Measure","onUpdate:modelValue":a[24]||(a[24]=e=>jl.value=e)},null,512),[[n.nr,jl.value]])])]),(0,l._)("div",ha,[(0,l._)("div",ga,[(0,l._)("button",{class:"btn btn-success me-2 mt-1",disabled:Du.value},[Du.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(E)()},null,8,fa)):(0,l.kq)("",!0),wa],8,ya)])])],32)):(0,l.kq)("",!0),(0,l._)("div",ka,[(0,l.Wm)(o,{data:Yl.value,columns:ll.value,options:tn.value},{actions:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-eye text-secondary",viewBox:"0 0 16 16","data-bs-toggle":"modal","data-bs-target":"#remark-challenge",onClick:t=>Ql.value=e.row},Ta,8,xa))])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",Da,[p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,Ea)):((0,l.wg)(),(0,l.iD)("div",Ua,[$a,(0,l._)("div",Ma,[uv.value.report?((0,l.wg)(),(0,l.iD)("button",{key:0,class:(0,i.C_)(["btn me-2",ql.value?"btn-danger":"btn-primary "]),onClick:a[26]||(a[26]=e=>{ql.value=!ql.value,am()})},[ql.value?((0,l.wg)(),(0,l.iD)("span",Ia,"X")):((0,l.wg)(),(0,l.iD)("svg",Ha,Oa))],2)):(0,l.kq)("",!0),(0,l._)("button",{class:"btn btn-success me-2",onClick:a[27]||(a[27]=e=>kl())},Va),(0,l.Wm)(r,{to:"/attendances/individual"},{default:(0,l.w5)((()=>[qa])),_:1})]),ql.value?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:a[32]||(a[32]=(0,n.iM)((e=>Ku()),["prevent"]))},[(0,l._)("div",ja,[(0,l._)("div",za,[Pa,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Labour Name","onUpdate:modelValue":a[28]||(a[28]=e=>Pu.value=e),required:""},null,512),[[n.nr,Pu.value]])]),(0,l._)("div",Ba,[Fa,(0,l.Wm)((0,s.SU)(u()),{modelValue:Qu.value,"onUpdate:modelValue":a[29]||(a[29]=e=>Qu.value=e),options:Xu.value,placeholder:"select labour type",label:"name",searchable:!0,multiple:!1,required:!0,"allow-empty":!1},null,8,["modelValue","options"])]),(0,l._)("div",Wa,[Ya,(0,l.wy)((0,l._)("input",{type:"time",class:"form-control",placeholder:"Enter Report Time","onUpdate:modelValue":a[30]||(a[30]=e=>Wu.value=e),required:""},null,512),[[n.nr,Wu.value]])]),(0,l._)("div",Qa,[Ja,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Task","onUpdate:modelValue":a[31]||(a[31]=e=>Fu.value=e),required:""},null,512),[[n.nr,Fu.value]])])]),(0,l._)("div",Xa,[(0,l._)("div",Ka,[(0,l._)("button",{class:"btn btn-success me-2 mt-1",disabled:Du.value},[Du.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(E)()},null,8,Za)):(0,l.kq)("",!0),el],8,Ga)])])],32)):(0,l.kq)("",!0),(0,l._)("div",tl,[(0,l.Wm)(o,{data:(0,s.SU)(Gm),columns:ju.value,options:tn.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,i.C_)(["badge inv-status","badge-"+e.row.status.class])},(0,i.zw)(e.row.status.key),3)])),actions:(0,l.w5)((e=>["Pending"===e.row.status.key||(0,s.SU)(De).includes("can_edit_labour_attendance")?((0,l.wg)(),(0,l.iD)("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-calendar-week",viewBox:"0 0 16 16","data-bs-toggle":"modal","data-bs-target":"#edit-labour-modal",onClick:t=>{tm(e.row),nm()}},sl,8,al)):(0,l.kq)("",!0)])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",il,[p.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,ol)):((0,l.wg)(),(0,l.iD)("div",rl,[dl,(0,l._)("div",cl,[(0,l._)("div",ul,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":a[33]||(a[33]=e=>jm.value=e),class:"form-control form-control-sm",style:{width:"250px"},placeholder:"Search work carried out..."},null,512),[[n.nr,jm.value]]),(0,s.SU)(De).includes("can_add_work_carried_out_report")?((0,l.wg)(),(0,l.iD)("button",ml,pl)):(0,l.kq)("",!0)])]),(0,l._)("div",bl,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,s.SU)(zm),((e,a)=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"col-12 col-md-6 mb-4"},[(0,l._)("div",_l,[(0,l._)("div",hl,[(0,l._)("div",gl,[(0,l._)("h5",yl,(0,i.zw)(e.report_name||"Untitled Report")+(0,i.zw)(e.description?`(${e.description})`:"")+" "+(0,i.zw)(e.date),1),(0,l._)("div",fl,[(0,l._)("button",{class:"btn btn-success me-2",onClick:t=>vl(e)},xl,8,wl)]),(0,l._)("div",Sl,[(0,s.SU)(De).includes("can_remark_work_carried_out_report")?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-primary btn-sm me-2","data-bs-toggle":"modal","data-bs-target":"#remark-modal",onClick:t=>Sm(e)}," Remark ",8,Cl)):(0,l.kq)("",!0),(0,s.SU)(De).includes("can_delete_work_carried_out_report")&&new Date(e.created_at).toISOString().split("T")[0]===Ra.value||(0,s.SU)(De).includes("is_programmer")?((0,l.wg)(),(0,l.iD)("button",{key:1,type:"button",class:"btn btn-danger btn-sm d-flex align-items-center justify-content-center",onClick:t=>$m(e.id),disabled:Em.value&&Um.value===e.id,style:{"min-width":"80px"}},[Em.value&&Um.value===e.id?((0,l.wg)(),(0,l.iD)("span",Dl,Ul)):(0,l.kq)("",!0),Em.value&&Um.value===e.id?((0,l.wg)(),(0,l.iD)("span",$l," Deleting... ")):((0,l.wg)(),(0,l.iD)("span",Ml," Delete "))],8,Tl)):(0,l.kq)("",!0)])]),(0,l._)("div",Hl,[(0,l._)("p",Rl,[Ll,(0,l.Uk)(" "+(0,i.zw)(e.supervisor?.name),1)]),e.remark?((0,l.wg)(),(0,l.iD)("p",Al,[Ol,(0,l.Uk)(" "+(0,i.zw)(e.remark),1)])):(0,l.kq)("",!0),(0,l._)("div",Il,[(0,l._)("div",Nl,[(0,l.Wm)(o,{data:e.activities,columns:im.value,options:tn.value},{actions:(0,l.w5)((e=>[(0,s.SU)(De).includes("can_edit_work_carried_out_report")&&new Date(e.row.created_at).toISOString().split("T")[0]===Ra.value||(0,s.SU)(De).includes("is_programmer")?((0,l.wg)(),(0,l.iD)("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-primary","data-bs-toggle":"modal","data-bs-target":"#edit-activity-modal",onClick:t=>Tm(e.row),style:{cursor:"pointer"},title:"Edit Activity"},zl,8,Vl)):(0,l.kq)("",!0),Mm.value&&Hm.value===e.row.id?((0,l.wg)(),(0,l.iD)("div",Pl,Fl)):(0,l.kq)("",!0),(0,s.SU)(De).includes("can_delete_work_carried_out_report")&&new Date(e.row.created_at).toISOString().split("T")[0]===Ra.value||(0,s.SU)(De).includes("is_programmer")?((0,l.wg)(),(0,l.iD)("svg",{key:2,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger ms-2",onClick:t=>Rm(e.row.id),style:{cursor:"pointer"},title:"Delete Activity"},Kl,8,Wl)):(0,l.kq)("",!0)])),_:2},1032,["data","columns","options"])])])]),(0,l._)("div",Gl,[(0,s.SU)(De).includes("can_add_work_carried_out_report")?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-primary btn-sm me-3","data-bs-toggle":"modal","data-bs-target":"#add-activity-modal",onClick:t=>ym.value=e.id}," Add Activity ",8,Zl)):(0,l.kq)("",!0),(0,s.SU)(De).includes("can_add_work_carried_out_report")?((0,l.wg)(),(0,l.iD)("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",class:"bi bi-card-image",viewBox:"0 0 16 16","data-bs-toggle":"modal","data-bs-target":"#add-attachment-modal",onClick:t=>ym.value=e.id},ln,8,en)):(0,l.kq)("",!0)]),e.attachments&&e.attachments.length>0?((0,l.wg)(),(0,l.iD)("div",nn,[(0,l._)("div",sn,[on,(0,l._)("div",rn,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.attachments,(a=>((0,l.wg)(),(0,l.iD)("div",{key:a.id,class:(0,i.C_)(e.attachments.length>6?"col-md-3 col-sm-6":e.attachments.length>4?"col-md-4 col-sm-6":"col-md-6 col-sm-6")},[(0,l._)("div",dn,[(0,l._)("div",cn,[(0,l._)("div",un,[(0,l._)("img",{src:`${t}/${a.file_path}`,alt:a.description,style:{"max-width":"100%","max-height":"100%","object-fit":"contain",cursor:"pointer"},onClick:e=>Nm(`${t}/${a.file_path}`,a),"data-bs-toggle":"modal","data-bs-target":"#view-attachment-modal"},null,8,mn)]),(0,l._)("div",vn,[(0,l._)("p",pn,[(0,l._)("strong",null,(0,i.zw)(a.description||" "),1)]),Bm.value&&Fm.value===a.id?((0,l.wg)(),(0,l.iD)("div",bn,hn)):(0,s.SU)(De).includes("can_delete_work_carried_out_report")&&(new Date).toDateString()?((0,l.wg)(),(0,l.iD)("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger",onClick:e=>Wm(a.id),style:{cursor:"pointer"},title:"Delete Attachment"},xn,8,gn)):(0,l.kq)("",!0)])])])],2)))),128))])])])):(0,l.kq)("",!0),Sn])])])))),128))])]))])])])):((0,l.wg)(),(0,l.iD)("div",Cn,[(0,l._)("button",{class:"btn btn-success btn-lg me-2",disabled:vv.value||Ca.value,onClick:bv},[vv.value||pv.value?((0,l.wg)(),(0,l.iD)("svg",Dn)):((0,l.wg)(),(0,l.iD)("svg",En,Mn)),pv.value?((0,l.wg)(),(0,l.iD)("span",Hn,"Submitting...")):((0,l.wg)(),(0,l.iD)("span",Rn,"Report to Site"))],8,Tn),(0,l._)("button",{class:"btn btn-info btn-lg",disabled:vv.value,onClick:a[34]||(a[34]=e=>Qe())},[Ca.value?((0,l.wg)(),(0,l.iD)("svg",An)):((0,l.wg)(),(0,l.iD)("svg",On,Vn)),qn,Ca.value?((0,l.wg)(),(0,l.iD)("span",jn,"Loading...")):((0,l.wg)(),(0,l.iD)("span",zn,"Refresh Location"))],8,Ln),Pn,Bn,Fn])),(0,l._)("div",Wn,[(0,l._)("div",Yn,[(0,l._)("div",Qn,[Jn,(0,l._)("form",{onSubmit:a[40]||(a[40]=(0,n.iM)((e=>wn()),["prevent"]))},[(0,l._)("div",Xn,[(0,l._)("div",Kn,[(0,l._)("div",Gn,[Zn,(0,l.Wm)((0,s.SU)(u()),{modelValue:La.value,"onUpdate:modelValue":a[35]||(a[35]=e=>La.value=e),options:In.value,label:"name",placeholder:"Select an item",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"])]),(0,l._)("div",es,[(0,l._)("label",ts,"Quantity Used , Available : "+(0,i.zw)(La.value.balance_quantity),1),(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Quantity Used ","onUpdate:modelValue":a[36]||(a[36]=e=>fn.value=e),readonly:!La.value,onInput:a[37]||(a[37]=e=>fn.value=(0,s.SU)(j)(fn.value,La.value.balance_quantity)),required:"",min:.1},null,40,as),[[n.nr,fn.value]])]),(0,l._)("div",ls,[ns,(0,l._)("label",ss,(0,i.zw)(La.value.condition??"no condition"),1)]),(0,l._)("div",is,[os,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[38]||(a[38]=e=>Ra.value=e)},null,512),[[n.nr,Ra.value]])])]),(0,l._)("div",rs,[ds,(0,l.wy)((0,l._)("textarea",{class:"form-control",id:"message-text",placeholder:"Enter Work Description","onUpdate:modelValue":a[39]||(a[39]=e=>yn.value=e)},null,512),[[n.nr,yn.value]])])]),(0,l._)("div",cs,[us,(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:Ca.value},[Ca.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(E)()},null,8,vs)):((0,l.wg)(),(0,l.iD)("span",ps,"Save"))],8,ms)])],32)])])]),(0,l._)("div",bs,[(0,l._)("div",_s,[(0,l._)("div",hs,[(0,l._)("div",gs,[(0,l._)("h1",ys,(0,i.zw)("diesel"===ra.value?"DIESEL":"PETROL")+" STATEMENT FORM",1),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"distribution-form",onClick:a[41]||(a[41]=e=>_n())})]),(0,l._)("form",{onSubmit:a[54]||(a[54]=(0,n.iM)((e=>gu()),["prevent"]))},[(0,l._)("div",fs,[(0,l._)("div",ws,[(0,l._)("div",ks,[xs,(0,l.Wm)((0,s.SU)(u()),{modelValue:fi.value,"onUpdate:modelValue":a[42]||(a[42]=e=>fi.value=e),options:wi.value,label:"name",placeholder:"Select an Asset",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"])]),(0,l._)("div",Ss,[(0,l._)("label",Cs,"Quantity Used , Available : "+(0,i.zw)("diesel"===ra.value?fu.value?.diesel_balance:fu.value?.petrol_balance),1),(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Quantity Used ","onUpdate:modelValue":a[43]||(a[43]=e=>fn.value=e),readonly:!fi.value,onInput:a[44]||(a[44]=e=>fn.value=(0,s.SU)(j)(fn.value,"diesel"===ra.value?fu.value?.diesel_balance:fu.value?.petrol_balance)),required:"",min:.1},null,40,Ts),[[n.nr,fn.value]])]),(0,l._)("div",Ds,[Es,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[45]||(a[45]=e=>Ra.value=e)},null,512),[[n.nr,Ra.value]])]),(0,l._)("div",Us,[$s,(0,l.wy)((0,l._)("select",{class:"form-control","onUpdate:modelValue":a[46]||(a[46]=e=>Tc.value=e),name:"consuption_type",required:""},Ls,512),[[n.bM,Tc.value]])]),(0,l._)("div",As,[Os,(0,l.wy)((0,l._)("input",{class:"form-control",type:"text",step:"any",placeholder:"Enter Driver Name ","onUpdate:modelValue":a[47]||(a[47]=e=>uu.value=e)},null,512),[[n.nr,uu.value]])]),(0,l._)("div",Is,[Ns,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Initial Reading ","onUpdate:modelValue":a[48]||(a[48]=e=>Kr.value=e)},null,512),[[n.nr,Kr.value]])]),(0,l._)("div",Vs,[qs,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Final Reading ","onUpdate:modelValue":a[49]||(a[49]=e=>sd.value=e)},null,512),[[n.nr,sd.value]])]),(0,l._)("div",js,[zs,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Work Volume","onUpdate:modelValue":a[50]||(a[50]=e=>hu.value=e)},null,512),[[n.nr,hu.value]])]),(0,l._)("div",Ps,[Bs,(0,l.Wm)((0,s.SU)(u()),{modelValue:hm.value,"onUpdate:modelValue":a[51]||(a[51]=e=>hm.value=e),options:km.value,placeholder:"Select Unit",label:"short_name",searchable:!0,multiple:!1,"allow-empty":!1},null,8,["modelValue","options"])])]),(0,l._)("div",Fs,[Ws,(0,l.wy)((0,l._)("textarea",{class:"form-control",id:"message-text",placeholder:"Enter Work Description","onUpdate:modelValue":a[52]||(a[52]=e=>yn.value=e)},null,512),[[n.nr,yn.value]])])]),(0,l._)("div",Ys,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",id:"close",onClick:a[53]||(a[53]=e=>_n())},"Close"),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:Ca.value},[Ca.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(E)()},null,8,Js)):((0,l.wg)(),(0,l.iD)("span",Xs,"Save"))],8,Qs)])],32)])])]),(0,l._)("div",Ks,[(0,l._)("div",Gs,[(0,l._)("div",Zs,[ei,(0,l._)("form",{onSubmit:a[57]||(a[57]=(0,n.iM)((e=>oa()),["prevent"]))},[(0,l._)("div",ti,[(0,l._)("div",ai,[(0,l._)("div",li,[(0,l._)("div",ni,[(0,l._)("div",si,[(0,l._)("div",ii,[(0,l._)("div",oi,[ri,(0,l._)("label",di,(0,i.zw)(Pt.value.item),1)]),(0,l._)("div",ci,[ui,(0,l._)("label",mi,(0,i.zw)(Pt.value.used),1)]),(0,l._)("div",vi,[(0,l._)("label",pi,"Returning Quantity : ( available "+(0,i.zw)((Pt.value.used-Pt.value.returned).toFixed(2))+")",1),(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",step:"any",placeholder:"Enter Returned Quantity","onUpdate:modelValue":a[55]||(a[55]=e=>fn.value=e),min:.1,max:Pt.value.used-Pt.value.returned},null,8,bi),[[n.nr,fn.value]])]),(0,l._)("div",_i,[hi,(0,l.wy)((0,l._)("select",{class:"form-control","onUpdate:modelValue":a[56]||(a[56]=e=>Bt.value=e),required:""},ki,512),[[n.bM,Bt.value]])])])])])])])]),(0,l._)("div",xi,[Si,(0,l._)("button",{type:"submit",class:"btn btn-success btn-sm",disabled:!fn.value||Ca.value},[Ca.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(E)()},null,8,Ti)):((0,l.wg)(),(0,l.iD)("span",Di," Save "))],8,Ci)])],32)])])]),(0,l._)("div",Ei,[(0,l._)("div",Ui,[(0,l._)("div",$i,[(0,l._)("div",Mi,[(0,l._)("h1",Hi,(0,i.zw)(it.value?.type)+" - "+(0,i.zw)(it.value?.machine)+" CONSUMPTION SUMMARY",1),Ri]),(0,l._)("div",Li,[(0,l._)("div",Ai,[(0,l._)("div",Oi,[(0,l._)("div",Ii,[(0,l._)("div",Ni,[Vi,(0,l.Uk)(" "+(0,i.zw)(it.value?.issued_date),1)]),(0,l._)("div",qi,[ji,(0,l.Uk)(" "+(0,i.zw)(it.value?.issuer),1)]),(0,l._)("div",zi,[Pi,(0,l.Uk)(" "+(0,i.zw)(it.value?.driver),1)])]),(0,l._)("div",Bi,[(0,l._)("div",Fi,[Wi,(0,l.Uk)(" "+(0,i.zw)(it.value?.machine),1)]),(0,l._)("div",Yi,[Qi,(0,l.Uk)(" "+(0,i.zw)(it.value?.type),1)]),(0,l._)("div",Ji,[Xi,(0,l.Uk)(" "+(0,i.zw)(it.value?.issued)+"Ltrs",1)])]),(0,l._)("div",Ki,[(0,l._)("div",Gi,[Zi,(0,l.Uk)(" "+(0,i.zw)(it.value?.initial),1)]),(0,l._)("div",eo,[to,(0,l.Uk)(" "+(0,i.zw)(it.value?.final),1)]),(0,l._)("div",ao,[lo,(0,l.Uk)(" "+(0,i.zw)(it.value?.ratio),1)])]),(0,l._)("div",no,[(0,l._)("div",so,[io,(0,l.Uk)(" "+(0,i.zw)(it.value?.consumption_type),1)]),(0,l._)("div",oo,[ro,(0,l.Uk)(" "+(0,i.zw)(it.value?.work)+" "+(0,i.zw)("Km/Litre"===it.value?.consumption_type?"Km":"Litre/hr"===it.value?.consumption_type?"hr":""),1)]),(0,l._)("div",co,[uo,(0,l.Uk)(" "+(0,i.zw)(it.value?.used)+" Ltrs",1)]),(0,l._)("div",mo,[vo,(0,l.Uk)(" "+(0,i.zw)(it.value?.task),1)])]),it.value?.remark?((0,l.wg)(),(0,l.iD)("div",po,[(0,l._)("div",bo,[_o,(0,l.Uk)(" "+(0,i.zw)(it.value?.remark),1)])])):(0,l.kq)("",!0)])]),(0,s.SU)(De).includes("can_issue_fuel")||(0,s.SU)(De).includes("is_md")?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:a[64]||(a[64]=(0,n.iM)((e=>Uu()),["prevent"]))},[(0,l._)("div",ho,[(0,l._)("div",go,[(0,l._)("div",yo,[(0,l._)("div",fo,[(0,l._)("div",wo,[(0,s.SU)(De).includes("can_issue_fuel")?((0,l.wg)(),(0,l.iD)("div",ko,[xo,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Initial Reading","onUpdate:modelValue":a[58]||(a[58]=e=>it.value.initial=e)},null,512),[[n.nr,it.value.initial]])])):(0,l.kq)("",!0),(0,s.SU)(De).includes("can_issue_fuel")?((0,l.wg)(),(0,l.iD)("div",So,[Co,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Final Reading","onUpdate:modelValue":a[59]||(a[59]=e=>it.value.final=e)},null,512),[[n.nr,it.value.final]])])):(0,l.kq)("",!0),(0,s.SU)(De).includes("can_issue_fuel")?((0,l.wg)(),(0,l.iD)("div",To,[Do,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Work Volume","onUpdate:modelValue":a[60]||(a[60]=e=>it.value.volume=e)},null,512),[[n.nr,it.value.volume]])])):(0,l.kq)("",!0),(0,s.SU)(De).includes("can_issue_fuel")?((0,l.wg)(),(0,l.iD)("div",Eo,[Uo,(0,l.Wm)((0,s.SU)(u()),{modelValue:it.value.unit,"onUpdate:modelValue":a[61]||(a[61]=e=>it.value.unit=e),options:km.value,placeholder:"Select Unit",label:"short_name",searchable:!0,multiple:!1,"allow-empty":!1},null,8,["modelValue","options"])])):(0,l.kq)("",!0),(0,s.SU)(De).includes("can_edit_task")?((0,l.wg)(),(0,l.iD)("div",$o,[Mo,(0,l.wy)((0,l._)("input",{class:"form-control",type:"text",step:"any",placeholder:"Enter Task","onUpdate:modelValue":a[62]||(a[62]=e=>it.value.task=e)},null,512),[[n.nr,it.value.task]])])):(0,l.kq)("",!0),(0,s.SU)(De).includes("is_md")?((0,l.wg)(),(0,l.iD)("div",Ho,[Ro,(0,l.wy)((0,l._)("input",{class:"form-control",type:"text",step:"any",placeholder:"Enter Remark","onUpdate:modelValue":a[63]||(a[63]=e=>it.value.remark=e)},null,512),[[n.nr,it.value.remark]])])):(0,l.kq)("",!0),(0,l._)("div",Lo,[(0,l._)("div",Ao,[(0,l._)("button",{class:"btn btn-success",disabled:Du.value},[Du.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(E)()},null,8,Io)):((0,l.wg)(),(0,l.iD)("span",No," Save"))],8,Oo)])])])])])])])],32)):(0,l.kq)("",!0)]),Vo])])]),(0,l._)("div",qo,[(0,l._)("div",jo,[(0,l._)("div",zo,[(0,l._)("div",Po,[(0,l._)("h1",Bo,[Fo,(0,l._)("b",null,(0,i.zw)(Ru.value?.name?.toUpperCase()),1)]),Wo]),(0,l._)("div",Yo,[(0,l._)("div",Qo,[(0,l._)("div",Jo,[(0,l.Wm)(o,{data:Hu.value,columns:Mu.value,options:tn.value},{sno:(0,l.w5)((e=>[(0,l.Uk)((0,i.zw)(e.index),1)])),_:1},8,["data","columns","options"])])])]),Xo])])]),(0,l._)("div",Ko,[(0,l._)("div",Go,[(0,l._)("div",Zo,[er,(0,l._)("div",tr,[(0,l._)("div",ar,[(0,l._)("div",lr,"Reporter : "+(0,i.zw)(Ql.value?.reported_by),1),(0,l._)("div",nr,"Challenge : "+(0,i.zw)(Ql.value?.challenge),1),(0,l._)("div",sr," Proposed measure : "+(0,i.zw)(Ql.value?.proposed_measure),1),Ql.value?.remark?((0,l.wg)(),(0,l.iD)("div",ir,"Remarks : "+(0,i.zw)(Ql.value?.remark),1)):(0,l.kq)("",!0)]),(0,s.SU)(De).includes("can_fill_challenge_remark")?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:a[66]||(a[66]=(0,n.iM)((e=>Eu(Ql.value?.id)),["prevent"]))},[(0,l._)("div",or,[(0,l.wy)((0,l._)("input",{type:"text",class:"me-2 form-control",placeholder:"Enter Remarks","onUpdate:modelValue":a[65]||(a[65]=e=>Cu.value=e),required:""},null,512),[[n.nr,Cu.value]]),(0,l._)("button",{class:"btn btn-primary",disabled:Du.value},[Du.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(E)()},null,8,dr)):((0,l.wg)(),(0,l.iD)("span",cr,"Save"))],8,rr)])],32)):(0,l.kq)("",!0)]),ur])])]),(0,l._)("div",mr,[(0,l._)("div",vr,[(0,l._)("div",pr,[(0,l._)("div",br,[_r,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[67]||(a[67]=e=>em())})]),(0,l._)("form",{onSubmit:a[72]||(a[72]=(0,n.iM)((e=>Zu(da.value?.id)),["prevent"]))},[(0,l._)("div",hr,[(0,l._)("div",gr,[(0,l._)("div",yr,[fr,(0,l.wy)((0,l._)("input",{type:"time",class:"form-control",placeholder:"Enter Derpurture Time","onUpdate:modelValue":a[68]||(a[68]=e=>Yu.value=e),required:""},null,512),[[n.nr,Yu.value]])]),(0,l._)("div",wr,[kr,(0,l.Wm)((0,s.SU)(u()),{modelValue:Ju.value,"onUpdate:modelValue":a[69]||(a[69]=e=>Ju.value=e),options:lm.value,placeholder:"Select status",label:"name","track-by":"id",searchable:!0,multiple:!1,"allow-empty":!1},null,8,["modelValue","options"])]),(0,l._)("div",xr,[Sr,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Description","onUpdate:modelValue":a[70]||(a[70]=e=>yn.value=e)},null,512),[[n.nr,yn.value]])])])]),(0,l._)("div",Cr,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:a[71]||(a[71]=e=>em()),id:"close_labour_attendant"},"Close"),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:Du.value},[Du.value?((0,l.wg)(),(0,l.iD)("span",Dr)):(0,l.kq)("",!0),Er],8,Tr)])],32)])])]),(0,l._)("div",Ur,[(0,l._)("div",$r,[(0,l._)("div",Mr,[(0,l._)("div",Hr,[Rr,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[73]||(a[73]=e=>bm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[82]||(a[82]=(0,n.iM)((e=>pm()),["prevent"]))},[(0,l._)("div",Lr,[(0,l._)("div",Ar,[(0,l._)("div",Or,[Ir,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Work Title","onUpdate:modelValue":a[74]||(a[74]=e=>_m.value=e),required:""},null,512),[[n.nr,_m.value]])]),(0,l._)("div",Nr,[Vr,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control",placeholder:"Enter Date","onUpdate:modelValue":a[75]||(a[75]=e=>gm.value=e),step:"any"},null,512),[[n.nr,gm.value]])])]),gm.value.length>0?((0,l.wg)(),(0,l.iD)("div",qr,[(0,l._)("div",jr,[zr,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Activity","onUpdate:modelValue":a[76]||(a[76]=e=>rm.value=e)},null,512),[[n.nr,rm.value]])]),(0,l._)("div",Pr,[Br,(0,l.Wm)((0,s.SU)(u()),{modelValue:hm.value,"onUpdate:modelValue":a[77]||(a[77]=e=>hm.value=e),options:km.value,placeholder:"select unit",label:"short_name",searchable:!0,multiple:!1,required:!0},null,8,["modelValue","options"])]),(0,l._)("div",Fr,[Wr,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Enter Quantity","onUpdate:modelValue":a[78]||(a[78]=e=>fn.value=e),step:"any"},null,512),[[n.nr,fn.value]])]),(0,l._)("div",Yr,[Qr,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Description","onUpdate:modelValue":a[79]||(a[79]=e=>dm.value=e)},null,512),[[n.nr,dm.value]])]),(0,l._)("div",Jr,[(0,l._)("button",{type:"button",class:"btn btn-outline-success btn-sm mt-4",onClick:a[80]||(a[80]=e=>mm())},Gr)]),om.value.length>0?((0,l.wg)(),(0,l.iD)("div",Zr,[(0,l._)("div",ed,[(0,l._)("div",td,[(0,l._)("div",ad,[(0,l._)("div",ld,[(0,l.Wm)(o,{data:om.value,columns:sm.value,options:tn.value},{actions:(0,l.w5)((e=>[(0,l._)("a",{href:"javascript:void(0);",title:"Delete",onClick:t=>vm(e.row.Sno)},id,8,nd)])),_:1},8,["data","columns","options"])])])])])])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)]),(0,l._)("div",od,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[81]||(a[81]=e=>bm()),id:"close_report"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Du.value},[Du.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(E)()},null,8,dd)):(0,l.kq)("",!0),cd],8,rd)])],32)])])]),(0,l._)("div",ud,[(0,l._)("div",md,[(0,l._)("div",vd,[(0,l._)("div",pd,[bd,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[83]||(a[83]=e=>bm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[86]||(a[86]=(0,n.iM)((e=>Cm()),["prevent"]))},[(0,l._)("div",_d,[(0,l._)("div",hd,[(0,l._)("div",gd,[yd,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Activity Name","onUpdate:modelValue":a[84]||(a[84]=e=>Cu.value=e),required:""},null,512),[[n.nr,Cu.value]])])])]),(0,l._)("div",fd,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[85]||(a[85]=e=>bm()),id:"close_remark"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Du.value},[Du.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(E)()},null,8,kd)):(0,l.kq)("",!0),xd],8,wd)])],32)])])]),(0,l._)("div",Sd,[(0,l._)("div",Cd,[(0,l._)("div",Td,[(0,l._)("div",Dd,[Ed,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[87]||(a[87]=e=>bm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[92]||(a[92]=(0,n.iM)((e=>Dm()),["prevent"]))},[(0,l._)("div",Ud,[(0,l._)("div",$d,[(0,l._)("div",Md,[Hd,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":a[88]||(a[88]=e=>rm.value=e),class:"form-control",placeholder:"activity",required:""},null,512),[[n.nr,rm.value]])]),(0,l._)("div",Rd,[Ld,(0,l.Wm)((0,s.SU)(u()),{modelValue:hm.value,"onUpdate:modelValue":a[89]||(a[89]=e=>hm.value=e),options:km.value,placeholder:"select unit",label:"short_name",searchable:!0,multple:"false",required:!0,"allow-empty":!0},null,8,["modelValue","options"])]),(0,l._)("div",Ad,[Od,(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":a[90]||(a[90]=e=>fn.value=e),class:"form-control",placeholder:"Enter Quantity",min:"1"},null,512),[[n.nr,fn.value]])])])]),(0,l._)("div",Id,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[91]||(a[91]=e=>bm()),id:"close_activity"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Du.value},[Du.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(E)()},null,8,Vd)):(0,l.kq)("",!0),qd],8,Nd)])],32)])])]),(0,l._)("div",jd,[(0,l._)("div",zd,[(0,l._)("div",Pd,[(0,l._)("div",Bd,[Fd,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[93]||(a[93]=e=>bm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[98]||(a[98]=(0,n.iM)((e=>Lm()),["prevent"]))},[(0,l._)("div",Wd,[(0,l._)("div",Yd,[(0,l._)("div",Qd,[Jd,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":a[94]||(a[94]=e=>rm.value=e),class:"form-control",placeholder:"activity",required:""},null,512),[[n.nr,rm.value]])]),(0,l._)("div",Xd,[Kd,(0,l.Wm)((0,s.SU)(u()),{modelValue:hm.value,"onUpdate:modelValue":a[95]||(a[95]=e=>hm.value=e),options:km.value,placeholder:"select unit",label:"short_name",searchable:!0,multple:"false",required:!0,"allow-empty":!1},null,8,["modelValue","options"])]),(0,l._)("div",Gd,[Zd,(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":a[96]||(a[96]=e=>fn.value=e),class:"form-control",placeholder:"Enter Quantity",step:"any"},null,512),[[n.nr,fn.value]])])])]),(0,l._)("div",ec,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[97]||(a[97]=e=>bm()),id:"close_add"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Du.value},[Du.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(E)()},null,8,ac)):(0,l.kq)("",!0),lc],8,tc)])],32)])])]),(0,l._)("div",nc,[(0,l._)("div",sc,[(0,l._)("div",ic,[(0,l._)("div",oc,[rc,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[99]||(a[99]=e=>bm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[102]||(a[102]=(0,n.iM)((e=>Im()),["prevent"]))},[(0,l._)("div",dc,[(0,l._)("div",cc,[(0,l._)("div",uc,[mc,(0,l._)("input",{type:"file",class:"form-control",accept:"image/*",onChange:Om,required:""},null,32)]),(0,l._)("div",vc,[pc,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":a[100]||(a[100]=e=>yn.value=e),class:"form-control",placeholder:"description"},null,512),[[n.nr,yn.value]])])])]),(0,l._)("div",bc,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[101]||(a[101]=e=>bm()),id:"close_attachment"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Du.value},[Du.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(E)()},null,8,hc)):(0,l.kq)("",!0),gc],8,_c)])],32)])])]),(0,l._)("div",yc,[(0,l._)("div",fc,[(0,l._)("div",wc,[kc,(0,l._)("div",xc,[(0,l._)("div",Sc,[Vm.value?((0,l.wg)(),(0,l.iD)("img",{key:0,src:Vm.value,alt:"Attachment",class:"attachment-img",style:(0,i.j5)({transform:`rotate(${Ym.value}deg)`})},null,12,Cc)):(0,l.kq)("",!0)])]),(0,l._)("div",{class:"modal-footer"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-repeat",viewBox:"0 0 16 16",onClick:Qm},Dc),Ec])])])]),(0,l._)("div",Uc,[(0,l._)("div",$c,[(0,l._)("div",Mc,[Hc,(0,l._)("div",Rc,[(0,l._)("div",Lc,[(0,l._)("div",Ac,[(0,l._)("div",Oc,[(0,l._)("p",Ic,[Nc,(0,l.Uk)(" "+(0,i.zw)(gi.value?.project?.short_name||"--"),1)]),(0,l._)("p",Vc,[qc,(0,l.Uk)(" "+(0,i.zw)(gi.value?.project?.contract_number||"--"),1)])]),(0,l._)("div",jc,[(0,l._)("p",zc,[Pc,(0,l.Uk)(" "+(0,i.zw)(gi.value?.officer?.name||"--"),1)]),(0,l._)("p",Bc,[Fc,(0,l.Uk)(" "+(0,i.zw)(gi.value?.project?.client||"--"),1)])])])]),(0,l._)("div",Wc,[Yc,(0,s.SU)(De).includes("can_add_site_report_attachment")?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-primary btn-sm",onClick:a[103]||(a[103]=e=>Ev.value=!Ev.value)}," Add Attachment ")):(0,l.kq)("",!0)]),Ev.value?((0,l.wg)(),(0,l.iD)("div",Qc,[(0,l._)("div",Jc,[(0,l._)("form",{onSubmit:a[106]||(a[106]=(0,n.iM)((e=>Sv()),["prevent"]))},[(0,l._)("div",Xc,[(0,l._)("div",Kc,[Gc,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[104]||(a[104]=e=>kv.value=e),placeholder:"Enter attachment description"},null,512),[[n.nr,kv.value]])]),(0,l._)("div",Zc,[eu,(0,l._)("input",{class:"form-control",type:"file",onChange:fv,accept:"application/pdf",required:""},null,32)])]),(0,l._)("div",tu,[(0,l._)("div",au,[(0,l._)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[105]||(a[105]=e=>Cv())}," Cancel "),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:xv.value},[xv.value?((0,l.wg)(),(0,l.iD)("span",nu)):(0,l.kq)("",!0),su],8,lu)])])],32)])])):(0,l.kq)("",!0),iu,Mv.value?((0,l.wg)(),(0,l.iD)("div",{key:1,innerHTML:(0,s.SU)(A)()},null,8,ou)):((0,l.wg)(),(0,l.iD)("div",ru,[(0,l._)("div",du,[(0,l.Wm)(o,{data:Uv.value,columns:$v.value,options:tn.value},{actions:(0,l.w5)((e=>[(0,l._)("a",{href:`${t}/${e.row.attachment}`,target:"_blank",title:"View Attachment"},mu,8,cu),(0,s.SU)(De).includes("can_delete_site_report_attachment")?((0,l.wg)(),(0,l.iD)("a",{key:0,href:"javascript:void(0);",title:"Delete",onClick:t=>Dv(e.row)},bu,8,vu)):(0,l.kq)("",!0)])),_:1},8,["data","columns","options"])])]))]),_u])])])])}}},gu=a(83744);const yu=(0,gu.Z)(hu,[["__scopeId","data-v-80a4203e"]]);var fu=yu}}]);
//# sourceMappingURL=9048.968704c6.js.map