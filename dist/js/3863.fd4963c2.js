"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[3863],{63863:function(a,e,l){l.r(e),l.d(e,{default:function(){return Pa}});var s=l(66252),t=l(2262),i=l(3577),o=l(49963),n=l(87066),c=l(56296);l(26212);const r={class:"layout-px-spacing"},u=(0,s.uE)('<ul class="navbar-nav flex-row mt-2"><li><div class="page-header"><nav class="breadcrumb-one" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="javascript:;">Masters</a></li><li class="breadcrumb-item active" aria-current="page"><span>Region</span></li></ol></nav></div></li></ul><div class="row"><div class="col-12"><h3 class="mb-3 text-center">Region Management</h3></div></div>',2),d=["innerHTML"],v={key:1,class:"row layout-top-spacing"},m={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},b={class:"panel p-0"},p={class:"custom-table table3"},w=["onClick"],g=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-info"},[(0,s._)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,s._)("circle",{cx:"12",cy:"12",r:"3"})],-1),h=[g],_={class:"modal fade mymodal",id:"view-region-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"viewRegionModalLabel","aria-hidden":"true"},y={class:"modal-dialog modal-fullscreen modal-dialog-scrollable"},f={class:"modal-content"},k={class:"modal-header"},x={class:"modal-title fs-5",id:"viewRegionModalLabel"},C={class:"modal-body"},H={class:"row"},M={class:"d-flex me-4 mt-2"},R={class:"ms-auto"},S=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,s._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})],-1),D=[S],N=(0,s._)("h4",{class:"text-center"},"DISTRICT REGISTRATION FORM",-1),E={class:"row mb-2"},q={class:"col-md-6"},z=(0,s._)("label",{class:"form-label"},"District Name",-1),A={class:"col-md-12"},V=(0,s._)("label",{class:"form-label"},"Remark",-1),T={class:"text-center gap-2 justify-content-end"},I=["disabled"],j={class:"mb-3 text-center"},L={class:"row layout-top-spacing"},W={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},B={class:"panel p-0"},U={class:"custom-table table3"},O={class:"d-flex justify-content-center align-items-center"},$=["onClick"],F={key:0,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-check2-circle",viewBox:"0 0 16 16"},G=(0,s._)("path",{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0"},null,-1),P=(0,s._)("path",{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"},null,-1),J=[G,P],Z={key:1,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-circle",viewBox:"0 0 16 16"},K=(0,s._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1),Q=[K],X={key:0,class:"col-md-4"},Y={class:"d-flex me-4 mt-2"},aa={class:"ms-auto"},ea=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,s._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})],-1),la=[ea],sa=(0,s._)("h4",{class:"text-center"},"WARD REGISTRATION FORM",-1),ta={class:"row mb-2"},ia={class:"col-md-6"},oa=(0,s._)("label",{class:"form-label"},"Ward Name",-1),na={class:"col-md-12"},ca=(0,s._)("label",{class:"form-label"},"Remark",-1),ra={class:"text-center gap-2 justify-content-end"},ua=["disabled"],da={class:"mb-3 text-center"},va={class:"row layout-top-spacing"},ma={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},ba={class:"panel p-0"},pa={class:"custom-table table3"},wa={class:"d-flex justify-content-center align-items-center"},ga=["onClick"],ha={key:0,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-check2-circle",viewBox:"0 0 16 16"},_a=(0,s._)("path",{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0"},null,-1),ya=(0,s._)("path",{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"},null,-1),fa=[_a,ya],ka={key:1,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-circle",viewBox:"0 0 16 16"},xa=(0,s._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1),Ca=[xa],Ha={key:1,class:"col-md-4"},Ma={class:"d-flex me-4 mt-2"},Ra={class:"ms-auto"},Sa=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,s._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})],-1),Da=[Sa],Na=(0,s._)("h4",{class:"text-center"},"STREET REGISTRATION FORM",-1),Ea={class:"row mb-2"},qa={class:"col-md-6"},za=(0,s._)("label",{class:"form-label"},"Street Name",-1),Aa={class:"col-md-12"},Va=(0,s._)("label",{class:"form-label"},"Remark",-1),Ta={class:"text-center gap-2 justify-content-end"},Ia=["disabled"],ja=(0,s._)("h4",{class:"mb-3 text-center"}," Street Lists",-1),La={class:"row layout-top-spacing"},Wa={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},Ba={class:"panel p-0"},Ua={class:"custom-table table3"},Oa=(0,s._)("div",{class:"d-flex justify-content-center align-items-center"},null,-1),$a={class:"modal-footer"};var Fa={setup(a){(0,c.j)({title:"Region Master"});const e=(0,s.f3)("showMessage"),l=(0,s.f3)("showError"),g=(JSON.parse(localStorage.getItem("user")).permissions,(0,s.f3)("formatDate"),(0,s.f3)("tableShimmer")),S=((0,s.f3)("loadingSpinner"),(0,t.iH)(!1)),G=(0,t.iH)(["SNo","name","remark","actions"]),P=(0,t.iH)(["SNo","name","remark","actions"]),K=(0,t.iH)(["SNo","name","remark","actions"]),ea=(0,t.iH)(["SNo","name","remark"]),_a=(0,t.iH)([]),ya=(0,t.iH)([]),xa=(0,t.iH)([]),Sa=(0,t.iH)([]),Fa=(0,t.iH)(null),Ga=(0,t.iH)(null),Pa=(0,t.iH)(null),Ja=((0,t.iH)(null),(0,t.iH)(!1)),Za=(0,t.iH)(!1),Ka=(0,t.iH)(!1),Qa=(0,t.iH)({perPage:20,perPageValues:[20,50,100],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:["SNo","name"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),Xa=n.Z.create({baseURL:"https://bushman.ink/api/v1/"}),Ya=async()=>{S.value=!0;try{const a=await Xa.get("regions");_a.value=a.data.map(((a,e)=>({...a,SNo:e+1,id:a.id,name:a.name,remark:a.remark})))}catch(a){console.log(a),l(a.message)}finally{S.value=!1}},ae=async a=>{try{const e=await Xa.get(`/districts?region_id=${a}`);ya.value=e.data.map(((a,e)=>({...a,SNo:e+1})))}catch(e){l(e.message)}},ee=async a=>{try{const e=await Xa.get(`/wards?district_id=${a}`);xa.value=e.data.map(((a,e)=>({...a,SNo:e+1})))}catch(e){l(e.message)}},le=async a=>{try{const e=await Xa.get(`/streets?ward_id=${a}`);Sa.value=e.data.map(((a,e)=>({...a,SNo:e+1})))}catch(e){l(e.message)}},se=async a=>{Fa.value=a,Ga.value=null,Pa.value=null,xa.value=[],Sa.value=[];try{if(await ae(a.id),0===ya.value.length)return void l(`No districts found for "${a.name}"`);const e=document.getElementById("view-region-modal");if(e){const a=new bootstrap.Modal(e);a.show()}}catch(e){l(e.message)}},te=async a=>{Ga.value=a,Pa.value=null,Sa.value=[],await ee(a.id)},ie=async a=>{Pa.value=a,await le(a.id)},oe=()=>{Fa.value=null,Ga.value=null,Pa.value=null,ya.value=[],xa.value=[],Sa.value=[]},ne=(0,t.iH)(""),ce=(0,t.iH)(null),re=(0,t.iH)(""),ue=(0,t.iH)([]),de=async()=>{S.value=!0;try{const a={name:ne.value,region_id:Fa.value.id,remark:re.value};await Xa.post("/districts",a),e("District registered successfully"),Ja.value=!1,ve(),Fa.value&&await ae(Fa.value.id)}catch(a){l(a.message)}finally{S.value=!1}},ve=()=>{ne.value="",ce.value=null,re.value=""},me=(0,t.iH)(""),be=(0,t.iH)(null),pe=(0,t.iH)(""),we=async()=>{S.value=!0;try{const a={name:me.value,district_id:Ga.value.id,remark:pe.value};await Xa.post("/wards",a),e("Ward registered successfully"),Za.value=!1,ge(),Ga.value&&await ee(Ga.value.id)}catch(a){l(a.message)}finally{S.value=!1}},ge=()=>{me.value="",be.value=null,pe.value=""},he=(0,t.iH)(""),_e=(0,t.iH)(null),ye=(0,t.iH)(""),fe=async()=>{S.value=!0;try{const a={name:he.value,ward_id:Pa.value.id,remark:ye.value};await Xa.post("/streets",a),e("Street registered successfully"),Ka.value=!1,ke(),Pa.value&&await le(Pa.value.id)}catch(a){l(a.message)}finally{S.value=!1}},ke=()=>{he.value="",_e.value=null,ye.value=""},xe=async()=>{try{const a=await Xa.get("regions");ue.value=a.data}catch(a){l(a.message)}};return(0,s.bv)((()=>{Ya(),xe()})),(a,e)=>{const l=(0,s.up)("v-client-table");return(0,s.wg)(),(0,s.iD)("div",r,[u,S.value?((0,s.wg)(),(0,s.iD)("div",{key:0,innerHTML:(0,t.SU)(g)()},null,8,d)):((0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("div",m,[(0,s._)("div",b,[(0,s._)("div",p,[(0,s.Wm)(l,{data:_a.value,columns:G.value,options:Qa.value},{actions:(0,s.w5)((a=>[(0,s._)("a",{href:"javascript:;",class:"view me-3",onClick:e=>se(a.row)},h,8,w)])),_:1},8,["data","columns","options"])])])])])),(0,s._)("div",_,[(0,s._)("div",y,[(0,s._)("div",f,[(0,s._)("div",k,[(0,s._)("h1",x,(0,i.zw)(Fa.value?.name||"Region")+" Region ",1),(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=a=>oe())})]),(0,s._)("div",C,[(0,s._)("div",H,[(0,s._)("div",{class:(0,i.C_)(Ga.value&&!Pa.value||Pa.value?"col-md-4":"col-md-12")},[(0,s._)("div",M,[(0,s._)("div",R,[(0,s._)("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=a=>Ja.value=!Ja.value)},D)])]),Ja.value?((0,s.wg)(),(0,s.iD)("form",{key:0,class:"mt-3 p-3 border rounded bg-white shadow",onSubmit:e[5]||(e[5]=(0,o.iM)((a=>de()),["prevent"]))},[N,(0,s._)("div",E,[(0,s._)("div",q,[z,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",placeholder:"Enter District Name","onUpdate:modelValue":e[2]||(e[2]=a=>ne.value=a),required:""},null,512),[[o.nr,ne.value]])]),(0,s._)("div",A,[V,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",placeholder:"Enter Remark","onUpdate:modelValue":e[3]||(e[3]=a=>re.value=a)},null,512),[[o.nr,re.value]])])]),(0,s._)("div",T,[(0,s._)("button",{type:"button",class:"btn btn-danger me-3",onClick:e[4]||(e[4]=a=>{Ja.value=!1,ve()})},"Cancel"),(0,s._)("button",{type:"submit",class:"btn btn-primary",disabled:S.value},"Register",8,I)])],32)):(0,s.kq)("",!0),(0,s._)("h4",j,(0,i.zw)(Ga.value?Ga.value.name+" District":"District Lists"),1),(0,s._)("div",L,[(0,s._)("div",W,[(0,s._)("div",B,[(0,s._)("div",U,[(0,s.Wm)(l,{data:ya.value,columns:P.value,options:Qa.value},{actions:(0,s.w5)((a=>[(0,s._)("div",O,[a.row?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"text-success",onClick:e=>te(a.row),style:{cursor:"pointer"}},[Ga.value&&a.row.id===Ga.value.id?((0,s.wg)(),(0,s.iD)("svg",F,J)):((0,s.wg)(),(0,s.iD)("svg",Z,Q))],8,$)):(0,s.kq)("",!0)])])),_:1},8,["data","columns","options"])])])])])],2),Ga.value?((0,s.wg)(),(0,s.iD)("div",X,[(0,s._)("div",Y,[(0,s._)("div",aa,[(0,s._)("button",{class:"btn btn-primary",onClick:e[6]||(e[6]=a=>Za.value=!Za.value)},la)])]),Za.value?((0,s.wg)(),(0,s.iD)("form",{key:0,class:"mt-3 p-3 border rounded bg-white shadow",onSubmit:e[10]||(e[10]=(0,o.iM)((a=>we()),["prevent"]))},[sa,(0,s._)("div",ta,[(0,s._)("div",ia,[oa,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",placeholder:"Enter Ward Name","onUpdate:modelValue":e[7]||(e[7]=a=>me.value=a),required:""},null,512),[[o.nr,me.value]])]),(0,s._)("div",na,[ca,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",placeholder:"Enter Remark","onUpdate:modelValue":e[8]||(e[8]=a=>pe.value=a)},null,512),[[o.nr,pe.value]])])]),(0,s._)("div",ra,[(0,s._)("button",{type:"button",class:"btn btn-danger me-3",onClick:e[9]||(e[9]=a=>{Za.value=!1,ge()})},"Cancel"),(0,s._)("button",{type:"submit",class:"btn btn-primary",disabled:S.value},"Register",8,ua)])],32)):(0,s.kq)("",!0),(0,s._)("h4",da,(0,i.zw)(Pa.value?Pa.value.name+"Ward":"Ward Lists"),1),(0,s._)("div",va,[(0,s._)("div",ma,[(0,s._)("div",ba,[(0,s._)("div",pa,[(0,s.Wm)(l,{data:xa.value,columns:K.value,options:Qa.value},{actions:(0,s.w5)((a=>[(0,s._)("div",wa,[a.row?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"text-success",onClick:e=>ie(a.row),style:{cursor:"pointer"}},[Pa.value&&a.row.id===Pa.value.id?((0,s.wg)(),(0,s.iD)("svg",ha,fa)):((0,s.wg)(),(0,s.iD)("svg",ka,Ca))],8,ga)):(0,s.kq)("",!0)])])),_:1},8,["data","columns","options"])])])])])])):(0,s.kq)("",!0),Pa.value?((0,s.wg)(),(0,s.iD)("div",Ha,[(0,s._)("div",Ma,[(0,s._)("div",Ra,[(0,s._)("button",{class:"btn btn-primary",onClick:e[11]||(e[11]=a=>Ka.value=!Ka.value)},Da)])]),Ka.value?((0,s.wg)(),(0,s.iD)("form",{key:0,class:"mt-3 p-3 border rounded bg-white shadow",onSubmit:e[15]||(e[15]=(0,o.iM)((a=>fe()),["prevent"]))},[Na,(0,s._)("div",Ea,[(0,s._)("div",qa,[za,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",placeholder:"Enter Street Name","onUpdate:modelValue":e[12]||(e[12]=a=>he.value=a),required:""},null,512),[[o.nr,he.value]])]),(0,s._)("div",Aa,[Va,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",placeholder:"Enter Remark","onUpdate:modelValue":e[13]||(e[13]=a=>ye.value=a)},null,512),[[o.nr,ye.value]])])]),(0,s._)("div",Ta,[(0,s._)("button",{type:"button",class:"btn btn-danger me-3",onClick:e[14]||(e[14]=a=>{Ka.value=!1,ke()})},"Cancel"),(0,s._)("button",{type:"submit",class:"btn btn-primary",disabled:S.value},"Register",8,Ia)])],32)):(0,s.kq)("",!0),ja,(0,s._)("div",La,[(0,s._)("div",Wa,[(0,s._)("div",Ba,[(0,s._)("div",Ua,[(0,s.Wm)(l,{data:Sa.value,columns:ea.value,options:Qa.value},{actions:(0,s.w5)((a=>[Oa])),_:1},8,["data","columns","options"])])])])])])):(0,s.kq)("",!0)])]),(0,s._)("div",$a,[(0,s._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:e[16]||(e[16]=a=>oe()),id:"close_header"},"Close")])])])])])}}};const Ga=Fa;var Pa=Ga}}]);
//# sourceMappingURL=3863.fd4963c2.js.map