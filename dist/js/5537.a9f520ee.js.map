{"version":3,"file":"js/5537.a9f520ee.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/hr/labour/labourType.vue","webpack://cork-vue3/./src/views/hr/labour/labourType.vue?5ed8"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">  \r\n            <ul class=\"navbar-nav flex-row mt-2\">\r\n                <li>\r\n                    <div class=\"page-header\">\r\n                        <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                            <ol class=\"breadcrumb\">\r\n                                <li class=\"breadcrumb-labour_type\"><a href=\"javascript:;\">Masters</a></li>\r\n                                <li class=\"breadcrumb-labour_type active\" aria-current=\"page\"><span>labour Type</span></li>\r\n                            </ol>\r\n                        </nav>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n            <div class=\"d-flex me-4 mt-2 \">\r\n                        <div class=\"ms-auto\">\r\n                            <button v-if=\"user_permissions.includes('can_register_wages')\" class=\"btn btn-primary me-2\" @click=\"labour_type_registration =! labour_type_registration\">                           \r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n  <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/>\r\n</svg>\r\n</button>\r\n\r\n                            <button \r\n                            class=\"btn btn-success \" @click=\"printLabourTypes();loading_spinner = 'printing'\">                           \r\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n  <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n</svg>\r\n                            </button>\r\n \r\n \r\n                        </div>\r\n                    </div>  \r\n                    <!-- loading spinner starts -->\r\n        <div v-if=\"loading_spinner\" v-html=\"waitIndicator()\"></div>\r\n        <!-- Loading spinner ends -->\r\n <!-- labour_type registration form starts -->\r\n <form v-if=\"labour_type_registration\" class=\"mt-3 p-3 border rounded bg-white shadow\" @submit.prevent=\"registerLabourType\">\r\n        <h4 class=\"text-center\">LABOUR TYPE REGISTRATION FORM</h4>\r\n        <div class=\"row mb-2\">    \r\n            <div class=\"col-md-6\">\r\n                <label class=\"form-label\">Labor Type Name</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Labour Type Name\" v-model=\"labour_type_name\" required>\r\n            </div>          \r\n            <div class=\"col-md-6\">\r\n                <label class=\"form-label\">Rate</label>\r\n                <input type=\"number\" class=\"form-control\" placeholder=\"Enter Rate\" v-model=\"rate\"  step=\"any\" required>\r\n            </div>\r\n            \r\n        </div>\r\n        <div class=\"text-center gap-2 justify-content-end\">\r\n            <button type=\"button\" class=\"btn btn-danger me-3\" @click=\"labour_type_registration = false\">Cancel</button>\r\n            <button type=\"submit\" class=\"btn btn-primary\">Register</button>\r\n        </div>\r\n    </form>\r\n             <!-- labour_type registration form ends-->\r\n    \r\n\r\n\r\n        <div class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table :data=\"labour_types\" :columns=\"columns\" :options=\"table_option\" >\r\n                            <template #status=\"props\">\r\n                                <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.color\">{{ props.row.status.name }} </span>\r\n                            </template>\r\n                            <template #actions=\"props\">\r\n\r\n<a v-if=\"user_permissions.includes('can_edit_wages')\" href=\"javascript:void(0)\" class=\"text-primary me-2\" title=\"Edit\" @click=\"openEditModal(props.row)\" data-bs-toggle=\"modal\" :data-bs-target=\"'#modal-' + props.row.id\">\r\n   <svg  class=\"w-6 h-6 text-gray-800 dark:text-white\" \r\n\r\n                                aria-hidden=\"true\"\r\n                                 xmlns=\"http://www.w3.org/2000/svg\" \r\n                                 width=\"24\" height=\"24\" fill=\"none\" \r\n                                 viewBox=\"0 0 24 24\"\r\n                             \r\n                              >\r\n                                    <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z\"/>\r\n                                    </svg>                                  \r\n\r\n                                    </a>\r\n<a v-if=\"user_permissions.includes('can_delete_wages')\" href=\"javascript:void(0)\" class=\"text-danger\" title=\"Delete\" @click=\"deleteLabourType(props.row)\">\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\r\n        <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5.5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6zm2 .5a.5.5 0 0 1 .5-.5.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6z\"/>\r\n        <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1 0-2h3.5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1H14a1 1 0 0 1 1 1zm-11-1a.5.5 0 0 0-.5.5V4h11V2.5a.5.5 0 0 0-.5-.5h-10zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118z\"/>\r\n    </svg>\r\n</a>\r\n\r\n\r\n   <a v-if=\"user_permissions.includes('can_approve_wages')\"  href=\"javascript:void(0)\" class=\"text-success\" title=\"Approve\" \r\n     @click=\"approvalLabourType(props.row.id)\"  \r\n    >\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-check2-square\" viewBox=\"0 0 16 16\">\r\n      <path d=\"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z\"/>\r\n      <path d=\"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0\"/>\r\n    </svg>\r\n  </a>\r\n\r\n <a  v-if=\"user_permissions.includes('can_approve_wages')\" href=\"javascript:void(0)\" class=\"text-warning ms-2\" title=\"Unapprove\" @click=\"unapprovalLabourType(props.row.id)\">\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-x-square\" viewBox=\"0 0 16 16\">\r\n                                            <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n                                            <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\r\n                                        </svg>\r\n                                    </a>\r\n\r\n\r\n  <div class=\"modal fade modal-bg\" :id=\"'modal-' + props.row.id\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" data-bs-backdrop=\"false\" >\r\n    <div class=\"modal-dialog  modal-lg \">\r\n        <!-- modal-dialog-centered -->\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">Update Labour type Details</h1>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <form @submit.prevent=\"updateLabourType\">\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n                <div class=\"row mb-2\">\r\n    \r\n            <div class=\"col-md-6\">\r\n                <label class=\"form-label\">Labor Type Name</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Labour Type Name\" v-model=\"labour_type_name\">\r\n            </div>          \r\n\r\n            <div class=\"col-md-6\">\r\n                <label class=\"form-label\">Rate</label>\r\n                <input type=\"number\" class=\"form-control\" placeholder=\"Enter rate\" v-model=\"rate\"  step=\"any\" >\r\n            </div>\r\n            \r\n        </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\" @click=\"closeinput();\">Close</button>\r\n            <button type=\"submit\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Save changes</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n</template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n    <!-- approval modal -->\r\n     <!-- Button to trigger modal -->\r\n<!-- Modal -->\r\n<div class=\"modal fade modal-bg\" id=\"noBackdropModal\" tabindex=\"-1\" aria-labelledby=\"noBackdropModalLabel\" aria-hidden=\"true\" data-bs-backdrop=\"false\">\r\n  <div class=\"modal-dialog \">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"noBackdropModalLabel\">LABOUR WAGES APPROVAL</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <!-- approval levels -->\r\n             <div class=\"row layout-top-spacing\">\r\n         <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n           <div class=\"panel p-0\">\r\n                <div class=\"d-flex\">\r\n                   <h6 class=\"text-center mt-2 mx-2\">Approval Status</h6>\r\n                 </div>  \r\n               <div class=\"custom-table table3 table-responsive\">\r\n                   <table class=\"table\">\r\n                       <thead>\r\n                           <tr>\r\n                               <th >Engineer </th>                                 \r\n                               <th>MD</th>\r\n                           </tr>\r\n                       </thead>\r\n                       <tbody>\r\n                           <tr>\r\n\r\n\r\n                               <td :class=\"engineer_status.value === 'approved' ? 'text-danger' : 'text-success'\">\r\n                                    {{ engineer_status.value === 'Unapproved' ? 'unchecked' : 'checked' }}\r\n                                    \r\n                                </td>\r\n\r\n                               <td :class=\"md_status.value === 'approved' ? 'text-danger' : 'text-success'\">\r\n                                   {{ md_status.value === 'unapproved' ? 'unchecked' : 'checked' }}\r\n                                  \r\n                               </td>\r\n                           </tr>\r\n                       </tbody>\r\n                   </table>\r\n               </div>\r\n           </div>\r\n       </div>\r\n       </div>\r\n          \r\n         <!-- approval levels ends -->\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n        <button type=\"button\" class=\"btn btn-primary\">Save changes</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n     <!-- approval modal ends -->\r\n</template>\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n<script setup>\r\n    import { onMounted, ref,inject,watch } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    useMeta({ title: 'Custom Table' });\r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');  \r\n    const formatNumber = inject('formatNumber')\r\n    const showConfirmation = inject('showConfirmation')\r\n    const waitIndicator = inject('waitIndicator')\r\n    const printLabourTypes = inject('printLabourTypes')\r\n    const loading_spinner = ref(false);\r\n    const labour_type_name = ref('');\r\n    const rate = ref('');   \r\n    const user_role = ref('');\r\n    const user_permissions = JSON.parse(localStorage.getItem(\"user\")).permissions;\r\n    const columns = ref(['Sn','labour_type_name','rate','status','actions']);\r\n    const labour_types = ref([ ]);\r\n    const md_status= ref('');\r\n    const engineer_status = ref('');\r\n    const labour_type_registration = ref(false);\r\n    const table_option = ref({\r\n        perPage: 10,\r\n        perPageValues: [10, 20, 50],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['Sn','User ID' ],\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n    // api base user creation for sample \r\n \r\n       const triggerNotification = async (phone,sender,action) => {\r\n  const recipientPhone = phone;\r\n  const endpoint = 'https://graph.facebook.com/v22.0/721816217672551/messages';\r\n  const accessToken = 'EAAXZAN9ZAW4VoBOZBhohedZA7pfKZBfzMghywTumPW7yFY0ZAI7u6Kh9DFtai4usEnmKsOnMZBYisZAQ0ojZBtEpDC72XXNyf6qFmtFtTCX61hv3I2eZCdZAevM9ahsDXGcIhT8stZAoTGstgOsujK4G1pxcSGqwFxiucZBcLr8HUoRxTLlB0IdVlLLlRGQ7n831T93WGUQZDZD';\r\n\r\n  const requestData = {\r\n    \"messaging_product\": \"whatsapp\",\r\n    \"recipient_type\": \"individual\",\r\n    \"to\": recipientPhone,\r\n    \"type\": \"template\",\r\n    \"template\": {\r\n        \"name\": \"notification\",\r\n        \"language\": {\r\n            \"code\": \"en\"\r\n        },\r\n        \"components\": [\r\n            {\r\n                \"type\": \"body\",\r\n                \"parameters\": [\r\n                    {\r\n                        \"type\": \"text\",\r\n                        \"text\": sender // Replaced \"Engineer\" with sender variable\r\n                    },\r\n                    {\r\n                        \"type\": \"text\",\r\n                        \"text\": action // Replaced first \"check\" with action variable\r\n                    },\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n};\r\n  try {\r\n    const response = await fetch(endpoint, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${accessToken}`,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(requestData)\r\n    });\r\n    const data = await response.json();\r\n  } catch (error) {\r\n    console.error('Error:', error);\r\n  }\r\n};\r\n    \r\n\r\n    const axiosInstance = axios.create({\r\n      baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n    const getLabourType = async() => {\r\n        loading_spinner.value = true;\r\n        try{\r\n              const response = await axiosInstance.get('labour-types')\r\n              labour_types.value = response.data.map((labour_type, index) => ({\r\n                Sn: index + 1,\r\n                id:labour_type.id,\r\n                rate: formatNumber(labour_type.rate),               \r\n                labour_type_name: labour_type.name,\r\n                status : labour_type.status,\r\n                rate_original : labour_type.rate\r\n        }))\r\n        }catch(error){\r\n         showError(error.message)\r\n         console.log(error)\r\n        }finally{\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n    //method fro register users\r\n    const registerLabourType= () => {\r\n       \r\n    if (!labour_type_name.value || !rate.value) {\r\n    showError(\"Please!..Provide Labour Type Name and Email.\");\r\n    return;\r\n   }\r\n     labour_type_registration.value = false;\r\n   loading_spinner.value = true;\r\n   const labour_typeData = {\r\n            name:labour_type_name.value,\r\n            rate:rate.value,                 \r\n           \r\n        };\r\n        axiosInstance\r\n            .post('labour-types', labour_typeData)\r\n            .then((response) => {\r\n               getLabourType();\r\n                loading_spinner.value = false;\r\n                closeinput(); \r\n                 triggerNotification('255677771888','Engineer','new labour wages awaiting for your approval') \r\n                showMessage('Labour Type registered successfully!');\r\n            })\r\n            .catch((error) => {\r\n                loading_spinner.value = false;\r\n                console.error(\"Error registering Labour Type:\", error.message);\r\n                 showError(\"Fail to register Labour Type\" ,error);    \r\n            });\r\n           \r\n            \r\n    };\r\n\r\n    //for editing the user details\r\n    const updateLabourType = async () => {\r\n        loading_spinner.value = true;\r\n        try {\r\n            const updatedLabourType = {\r\n                name: labour_type_name.value,\r\n                rate: rate.value,\r\n                status_id:2,\r\n            };\r\n            const response = await axiosInstance.put(`labour-types/${labour_type_id.value}`, updatedLabourType);\r\n            if (response.status === 200) {\r\n                // triggerNotification('255677771888','Engineer','changes on labour wages awaiting for your approval')\r\n                getLabourType();\r\n                showMessage('Labour Type updated successfully!');\r\n                closedinput();\r\n            } else {\r\n                showError(\"Failed to update Labour Type.\");\r\n            }\r\n        } catch (error) {\r\n            showError(error.message);\r\n        } finally {\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n\r\n     const deleteLabourType = async (labour) => {\r\n       const res = await showConfirmation(\r\n    'Delete Menu',\r\n    'Confirm Deleting Labour Type ' + labour.labour_type_name,\r\n    `/labour-types/${labour.id}`,\r\n    'delete'\r\n  )\r\n  if (res?.refresh) getLabourType()\r\n    };\r\n\r\n\r\n    const approvalLabourType = async (id) => {\r\n        loading_spinner.value = true;\r\n        try {\r\n            const updatedLabourType = {\r\n                status_id: 3,               \r\n            };\r\n            const response = await axiosInstance.put(`labour-types/${id}`, updatedLabourType);\r\n            showMessage('Approved âœ…')\r\n            getLabourType()\r\n        } catch (error) {\r\n            showMessage(error.message)\r\n            console.log(error)\r\n        } finally {\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n\r\n\r\n    const unapprovalLabourType = async (id) => {\r\n              loading_spinner.value = true;\r\n        try {\r\n            const updatedLabourType = {\r\n                status_id: 2,               \r\n            };\r\n            const response = await axiosInstance.put(`labour-types/${id}`, updatedLabourType);\r\n            getLabourType()\r\n            showMessage('Unapproved !')\r\n        } catch (error) {\r\n            showError(error.message);\r\n            console.log(error)\r\n        } finally {\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n\r\n\r\n const labour_type_id = ref('');\r\n const openEditModal = (row) => { \r\n  labour_type_id.value = row.id;\r\n  rate.value = row.rate_original;\r\n  labour_type_name.value = row.labour_type_name;\r\n}\r\n\r\nconst  closedinput = () => {\r\nlabour_type_id.value = '';\r\nrate.value= '';\r\nlabour_type_name.value ='';\r\n }\r\n\r\n\r\n watch(loading_spinner, (newVal) => {\r\n    if (newVal !== true && newVal !== false) {\r\n        setTimeout(() => {\r\n            loading_spinner.value = false\r\n        }, 2000)\r\n    }\r\n})\r\n\r\n\r\n    onMounted(() => {\r\n       getLabourType();\r\n    });\r\n</script>\r\n\r\n<style scoped>\r\n.modal-bg{\r\n  background-color: rgba(128, 128, 128, 0.508);\r\n}\r\n</style>","import script from \"./labourType.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./labourType.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./labourType.vue?vue&type=style&index=0&id=d50252b6&lang=css\"\nimport \"./labourType.vue?vue&type=style&index=1&id=d50252b6&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\copexErp\\\\frontEnd\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d50252b6\"]])\n\nexport default __exports__"],"names":["useMeta","title","showMessage","inject","showError","formatNumber","showConfirmation","waitIndicator","printLabourTypes","loading_spinner","ref","labour_type_name","rate","user_permissions","JSON","parse","localStorage","getItem","permissions","columns","labour_types","md_status","engineer_status","labour_type_registration","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","triggerNotification","async","phone","sender","action","recipientPhone","endpoint","accessToken","requestData","response","fetch","method","headers","body","stringify","json","error","console","axiosInstance","axios","baseURL","process","getLabourType","value","get","data","map","labour_type","index","Sn","id","name","status","rate_original","message","log","registerLabourType","labour_typeData","post","then","closeinput","catch","updateLabourType","updatedLabourType","status_id","put","labour_type_id","closedinput","deleteLabourType","res","labour","refresh","approvalLabourType","unapprovalLabourType","openEditModal","row","watch","newVal","setTimeout","onMounted","__exports__"],"sourceRoot":""}