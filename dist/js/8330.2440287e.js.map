{"version":3,"file":"js/8330.2440287e.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/orders/preview2.vue","webpack://cork-vue3/./src/views/orders/preview2.vue?eb15"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">\r\n        <ul class=\"navbar-nav flex-row\">\r\n            <li>\r\n                <div class=\"page-header\">\r\n                    <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                        <ol class=\"breadcrumb\">\r\n                            <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Purchase Order</a></li>\r\n                        </ol>\r\n                    </nav>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n\r\n<!-- notification starts -->\r\n<div v-if=\"notification_count > 0 \" class=\"d-flex container position-relative\">\r\n  <div class=\"ms-auto\">\r\n    <span data-bs-toggle=\"collapse\" data-bs-target=\"#collapseWidthExample\" aria-expanded=\"false\" aria-controls=\"collapseWidthExample\">\r\n      <a href=\"javascript:;\" id=\"ddlnotify\" class=\"btn dropdown-toggle nav-link position-relative p-0 shadow\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\"\r\n             viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"\r\n             stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\r\n             class=\"feather feather-bell text-danger\" style=\"transform:scale(2)\">\r\n          <path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\"></path>\r\n          <path d=\"M13.73 21a2 2 0 0 1-3.46 0\"></path>\r\n        </svg>\r\n        <span class=\"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\">\r\n          {{ notification_count }}\r\n        </span>\r\n      </a>\r\n    </span>\r\n\r\n    <!-- Notifications panel -->\r\n    <div style=\"position: absolute; top: 100%; right: 0; z-index: 1050;\">\r\n      <div class=\"collapse  shadow\" id=\"collapseWidthExample\" style=\"min-width: 300px;\">\r\n        <div class=\"text-start card card-body text-dark \" v-for=\"notification in notifications\" >\r\n          From: {{ notification.sender_name }}<br>\r\n          Message: {{ notification.description }}\r\n          <div class=\"d-flex\">\r\n            <button class=\"btn btn-success p-1 btn-sm me-1 ms-auto\" style=\"cursor:pointer\" @click=\"readRemark(notification.id)\">âœ”</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- notification ends -->\r\n\r\n\r\n        <button v-if=\"is_admin\" class=\"btn btn-dark me-2 px-3\" @click=\"$router.go(-1)\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\r\n                <path fill-rule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8\"/>\r\n            </svg>\r\n        </button>\r\n        <div class=\"d-flex mt-3 gap-3  justify-content-center align-items-center\">\r\n            <div class=\"form-group col-md-4\">\r\n            <label for=\"projectFilter\" class=\"form-label\">Filter by Project</label>\r\n            <select id=\"projectFilter\" class=\"form-select\" v-model=\"selected_project\" @change=\"getPurchaseOrders\">\r\n            <option value=\"\">All Projects</option>\r\n            <option v-for=\"project in projects\" :key=\"project.id\" :value=\"project.id\">\r\n            {{ project.short_name }}\r\n            </option>\r\n            </select>\r\n            </div>\r\n            <div class=\"form-group col-md-4\">\r\n            <label for=\"statusFilter\" class=\"form-label\">Filter by Status</label>\r\n            <select id=\"statusFilter\" class=\"form-select\" v-model=\"selected_status\" @change=\"getPurchaseOrders\">\r\n            <option value=\"\">All Statuses</option>\r\n            <option value=\"approved\">Approved</option>\r\n            <option value=\"Unapproved\">Unapproved</option>\r\n            <option value=\"Inactive\">Inactive</option>\r\n            </select>\r\n            </div>  \r\n            \r\n            <!-- remark starts -->\r\n                 <div class=\"form-group col-md-2 mt-4\">\r\n                             <button \r\n            class=\"btn btn-info  mx-2\" \r\n            @click=\"openRemarkModal()\" \r\n            title=\"Print Report\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-chat-square-text\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\r\n                    <path d=\"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\"/>\r\n                </svg>\r\n            &nbsp;Remark\r\n            </button>\r\n            </div>  \r\n             <!-- remark ends -->\r\n            \r\n        </div>\r\n        <div class=\"d-flex me-4\">\r\n            <div class=\"ms-auto d-flex align-items-center\">\r\n                <button v-if=\"is_closed\" class=\"btn btn-primary\" @click=\"getVendors(); is_closed = false; \">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n                        <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/>\r\n                    </svg>\r\n                </button>\r\n                <button  v-else class=\"btn btn-danger\" @click=\"order_registration = false; is_closed = true\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-x-square\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n                        <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\r\n                    </svg>\r\n                </button>\r\n\r\n                <button \r\n            class=\"btn btn-success  mx-2\" \r\n            @click=\"printLpoReport(items, 'Local Purchase Order Report')\" \r\n            title=\"Print Report\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n            <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n            </svg>\r\n            &nbsp;Print\r\n            </button>\r\n\r\n            <div\r\n           \r\n            class=\"text-dark\" style=\"cursor: pointer;display: none;\" @click=\"unlock =! unlock\">\r\n                    <svg v-if=\"!unlock\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-lock-fill\" viewBox=\"0 0 16 16\">\r\n                        <path fill-rule=\"evenodd\" d=\"M8 0a4 4 0 0 1 4 4v2.05a2.5 2.5 0 0 1 2 2.45v5a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 13.5v-5a2.5 2.5 0 0 1 2-2.45V4a4 4 0 0 1 4-4m0 1a3 3 0 0 0-3 3v2h6V4a3 3 0 0 0-3-3\"/>\r\n                    </svg>\r\n                    <svg v-else xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-unlock-fill\" viewBox=\"0 0 16 16\">\r\n                        <path fill-rule=\"evenodd\" d=\"M12 0a4 4 0 0 1 4 4v2.5h-1V4a3 3 0 1 0-6 0v2h.5A2.5 2.5 0 0 1 12 8.5v5A2.5 2.5 0 0 1 9.5 16h-7A2.5 2.5 0 0 1 0 13.5v-5A2.5 2.5 0 0 1 2.5 6H8V4a4 4 0 0 1 4-4\"/>\r\n                    </svg>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n        <form v-if=\"order_registration \" class=\"mt-1 p-3 border rounded bg-white shadow\" @submit.prevent=\"registerPurchaseOrder\">\r\n            <h4 class=\"text-center\">LOCAL PURCHASE ORDER REGISTRATION</h4>\r\n            <div class=\"row mb-2\">\r\n                <div v-if=\"!add_vendor\" class=\"col-md-3\">\r\n                    <label class=\"form-label\">Select A Supplier</label>\r\n                    <select class=\"form-select\" v-model=\"vendor_id\" required @change=\"handleVendorChange\">\r\n    <option value=\"\">Select Supplier</option>\r\n    <option v-for=\"vendor in vendors\" :key=\"vendor.id\" :value=\"vendor.id\">{{ vendor.name }}</option>\r\n    <option value=\"NEW_VENDOR\">New Supplier</option>\r\n</select>\r\n                 \r\n\r\n\r\n                </div>\r\n                <!-- new vendor  starts-->\r\n                <div  v-if=\"add_vendor\" class=\"col-md-3\">\r\n              <label class=\"form-label\">Supplier Name</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_name\" name=\"Vendor_name\" required>\r\n          </div>\r\n       \r\n          <div  v-if=\"add_vendor\" class=\"col-md-3\">\r\n              <label class=\"form-label\">Supplier Email</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_email\" name=\"Vendor_name\" required>\r\n          </div>\r\n\r\n          <div  v-if=\"add_vendor\" class=\"col-md-3\">\r\n              <label class=\"form-label\">Supplier Phone</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_phone\" name=\"Vendor_name\" required>\r\n          </div>\r\n\r\n          <div  v-if=\"add_vendor\" class=\"col-md-3\">\r\n              <label class=\"form-label\">Supplier Address</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_address\" name=\"Vendor_name\" required>\r\n          </div>\r\n\r\n          <div  v-if=\"add_vendor\" class=\"col-md-3\">\r\n              <label class=\"form-label\">Supplier Location</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_location\" name=\"Vendor_name\" required>\r\n          </div>\r\n                 <!-- new vendor ends -->\r\n                <div class=\"col-md-3\">\r\n                    <label class=\"form-label\">Select Project Name</label>\r\n                    <multiselect \r\n                    v-model=\"project_name\"\r\n                    track-by=\"id\"\r\n                    :options= \"projects\"\r\n                    label = \"short_name\"\r\n                    placeholder=\"Select Project\"\r\n                    :required = \"true\"\r\n                    :searchable = \"true\"        \r\n                    multple=\"false\"\r\n                    ></multiselect>\r\n                </div>\r\n                <div class=\"col-md-3\">\r\n                    <label class=\"form-label\">Payment Terms</label>\r\n                    \r\n                    <multiselect\r\n                    v-model=\"payment_terms\"\r\n                    :options=\"['Bank /TT ', 'Cash', 'Cheque', 'M-Pesa', 'On-Account', 'Wakala']\"\r\n                    :multiple=\"false\"\r\n                    :searchable=\"true\"\r\n                    required \r\n                    :placeholder=\"'Select Payment Terms'\"\r\n                    ></multiselect>\r\n                </div>\r\n                 <div v-if=\"(user_permissions.includes('can_view_copex_lpo') && user_permissions.includes('can_view_bushman_lpo'))\"  class=\"col-md-3\">\r\n                    <label class=\"form-label\">Select Company</label>                    \r\n                    <multiselect\r\n                    v-model=\"selected_company_id\"\r\n                    :options=\"[\r\n                        { id: 5, name: 'BUSHMAN' },\r\n                        { id: 6, name: 'COPEX' }\r\n                    ]\"\r\n                    track-by=\"id\"\r\n                    label=\"name\"\r\n                    :multiple=\"false\"\r\n                    :searchable=\"true\"\r\n                    required \r\n                    :placeholder=\"'Select Company'\"\r\n                    ></multiselect>\r\n                </div>\r\n           \r\n            </div>\r\n         \r\n         \r\n\r\n            <div class=\"text-center gap-2 justify-content-end\">\r\n                <button v-if=\"add_vendor\" type=\"button\" class=\"btn btn-dark me-3\" @click=\"add_vendor=false\">Back</button>\r\n                <button type=\"button\" class=\"btn btn-danger me-3\" @click=\"order_registration = false;add_vendor=false;is_closed=true\">Cancel</button>\r\n                <button type=\"submit\" class=\"btn btn-primary\">Register</button>\r\n            </div>\r\n        </form>\r\n\r\n        <div v-if=\"loading_spinner\" class=\"d-flex justify-content-center align-items-center\" style=\"block-size: 100px;\">\r\n            <span class=\"text-primary spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-arrow-repeat\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z\"/>\r\n                    <path d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z\"/>\r\n                    <path d=\"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z\"/>\r\n                </svg>\r\n                Loading...\r\n            </span>\r\n        </div>\r\n\r\n        <div class=\"text-center\"><h6 @click=\"whatsappNotification2('255698267662','Sr Accountant','check','deal with','Managing Director')\">LOCAL PURCHASE ORDER LIST</h6></div>\r\n        <div class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table \r\n                            :data=\"items\" \r\n                            :columns=\"columns\" \r\n                            :options=\"table_option\" \r\n                           \r\n                        >\r\n                            <template #status=\"props\">\r\n                                <span class=\"badge inv-status\" :class=\"'badge-' + (props.row.status ? props.row.status.class : '')\">{{ props.row.status ? props.row.status.key : 'Unknown' }} </span>\r\n                            </template>\r\n                         <template #actions=\"props\">\r\n                                \r\n                                <a  href=\"javascript:void(0);\" title=\"Delete\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\">\r\n                                  <svg\r\n                                        v-if=\"user_permissions.includes('can_delete_lpo') \"\r\n                                       xmlns=\"http://www.w3.org/2000/svg\"\r\n                                       width=\"24\"\r\n                                       height=\"24\"\r\n                                       viewBox=\"0 0 24 24\"\r\n                                       fill=\"none\"\r\n                                       stroke=\"currentColor\"\r\n                                       stroke-width=\"1.5\"\r\n                                       stroke-linecap=\"round\"\r\n                                       stroke-linejoin=\"round\"\r\n                                       class=\"text-danger\"\r\n                                       @click=\"openDeleteModal(props.row.id)\"\r\n                                   >\r\n                                       <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n                                       <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                                   </svg>\r\n                               </a>\r\n                                    <svg v-if=\"props.row.status.key !== 'Inactive'\"\r\n                                     xmlns=\"http://www.w3.org/2000/svg\" \r\n                                     width=\"28\" height=\"28\" \r\n                                     fill=\"currentColor\"\r\n                                      class=\"bi bi-eye text-secondary\" \r\n                                      viewBox=\"0 0 16 16\"\r\n                                      @click=\"openLpoModal(props.row)\">\r\n                                      <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z\"/>\r\n                                      <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0\"/>\r\n                                    </svg>\r\n\r\n                                    <a v-if=\" props.row.status.key !== 'Inactive' && props.row.company_id == 6 && user_permissions.includes('can_print_lpo') \"  \r\n                                  class=\"text-primary\" \r\n                                  title=\"Print\" \r\n                                  data-bs-toggle=\"tooltip\" \r\n                                  data-bs-placement=\"top\" \r\n                                  target=\"_blank\" \r\n                                  rel=\"noopener noreferrer\"\r\n                                  @click=\"printLpo(props.row)\"\r\n                                  >\r\n                                    <div \r\n                                     v-if=\"loader == props.row.id\"\r\n                                     class=\"spinner-border text-primary mt-1\"\r\n                                      role=\"status\"\r\n                                      style=\"width: 1.5rem; height: 1.5rem;\"\r\n                                      >\r\n                                      <span class=\"sr-only\">Loading...</span>\r\n                                    </div>\r\n                                     <svg \r\n                                     v-else\r\n                                     xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n                                       <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n                                       <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n                                    </svg>\r\n                                </a> \r\n\r\n                                   <!-- <a v-if=\" props.row.status.key !== 'Inactive' && props.row.company_id == 6\"  :href=\"`${print_url}copex-lpo-pdf/${props.row.id}`\" \r\n                                  class=\"text-success\" \r\n                                  title=\"Print\" \r\n                                  data-bs-toggle=\"tooltip\" \r\n                                  data-bs-placement=\"top\" \r\n                                  target=\"_blank\" \r\n                                  rel=\"noopener noreferrer\">\r\n                                     <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n                                       <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n                                       <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n                                    </svg>\r\n                                </a>  -->\r\n                                <a v-if=\"props.row.status.key !== 'Inactive' && props.row.company_id == 5\"  :href=\"`${print_url}bushman-lpo-pdf/${props.row.id}`\" \r\n                                  class=\"text-success\" \r\n                                  title=\"Print\" \r\n                                  data-bs-toggle=\"tooltip\" \r\n                                  data-bs-placement=\"top\" \r\n                                  target=\"_blank\" \r\n                                  rel=\"noopener noreferrer\">\r\n                                     <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n                                       <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n                                       <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n                                    </svg>\r\n                                </a>  \r\n\r\n\r\n                                <svg v-if=\"user_permissions.includes('can_edit_lpo') || props.row.status.key === 'Inactive' && props.row.requester === user_id  \"   class=\"w-6 h-6 text-gray-800 dark:text-white\" \r\n                                 aria-hidden=\"true\"\r\n                                 xmlns=\"http://www.w3.org/2000/svg\" \r\n                                 width=\"24\" height=\"24\" fill=\"none\" \r\n                                 viewBox=\"0 0 24 24\"\r\n                              @click=\"openEditModal(props.row)\" \r\n                               >\r\n                                    <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z\"/>\r\n                                </svg>\r\n                        \r\n                             <svg v-if=\" props.row.status.key === 'Inactive' && props.row.requester === user_id \" xmlns=\"http://www.w3.org/2000/svg\" \r\n                             width=\"28\" \r\n                             height=\"28\"\r\n                             fill=\"currentColor\"\r\n                             class=\"bi bi-plus-circle\" \r\n                             viewBox=\"0 0 16 16\" \r\n                             @click=\"openLpoModal(props.row)\">\r\n                                <path d=\"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zM8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0z\"/>\r\n                                <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"/>\r\n                            </svg>\r\n                            \r\n                              \r\n                                \r\n  \r\n    <!-- Modal  for editing-->\r\n   <teleport to=\"body\">\r\n  <div v-if=\"Show_editing_modal\" class=\"modal fade show d-block \" role=\"dialog\">\r\n    <div class=\"modal-dialog  modal-lg \">\r\n      <div class=\"modal-content d-flex flex-column\" style=\"block-size: auto;\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\">LPO EDITING </h5>\r\n          <button type=\"button\" class=\"btn-close\" @click=\"closeEditModal\"></button>\r\n        </div>\r\n        <form  class=\"mt-1 p-3 border rounded bg-white shadow\" @submit.prevent=\"updatePurchaseOrder\">\r\n        <div class=\"modal-body flex-grow-1\" >         \r\n           \r\n        \r\n         <div class=\"row mb-2\">\r\n                <div v-if=\"!add_vendor\" class=\"col-md-4\">\r\n                    <label class=\"form-label\">Select A Supplier</label>\r\n                    <select class=\"form-select\" v-model=\"vendor_id\" required @change=\"handleVendorChange\">\r\n                    <option value=\"\">Select Supplier</option>\r\n                     <option v-for=\"vendor in vendors\" :key=\"vendor.id\" :value=\"vendor.id\">{{ vendor.name }}</option>\r\n                    <option value=\"NEW_VENDOR\">New Supplier</option>\r\n                    </select>                \r\n\r\n                </div>\r\n                <!-- new vendor  starts-->\r\n                <div  v-if=\"add_vendor\" class=\"col-md-4\">\r\n              <label class=\"form-label\">Supplier Name</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_name\" name=\"Vendor_name\" required>\r\n                </div>       \r\n                 <div  v-if=\"add_vendor\" class=\"col-md-4\">\r\n              <label class=\"form-label\">Supplier Email</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_email\" name=\"Vendor_name\" required>\r\n              </div>\r\n                 <div  v-if=\"add_vendor\" class=\"col-md-4\">\r\n              <label class=\"form-label\">Supplier Location</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_location\" name=\"Vendor_name\" required>\r\n          </div>               \r\n             <div  v-if=\"add_vendor\" class=\"col-md-4 \">\r\n              <label class=\"form-label\">Supplier Phone</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_phone\" name=\"Vendor_name\" required>\r\n             </div>\r\n          <div  v-if=\"add_vendor\" class=\"col-md-4\">\r\n              <label class=\"form-label\">Supplier Address</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"Vendor_address\" name=\"Vendor_name\" required>\r\n          </div>\r\n        \r\n          <div class=\"col-md-4 \" >\r\n                    <label class=\"form-label\">Select Project Name</label>\r\n                    <multiselect \r\n                    v-model=\"project_name\"\r\n                    track-by=\"id\"\r\n                    :options= \"projects\"\r\n                    label = \"short_name\"\r\n                    placeholder=\"Select Project\"\r\n                    :required = \"true\"\r\n                    :searchable = \"true\"        \r\n                    multple=\"false\"\r\n                    ></multiselect>\r\n          </div>\r\n            <div class=\"col-md-4\">\r\n                    <label class=\"form-label\">Payment Terms</label>\r\n                    \r\n                    <multiselect\r\n                    v-model=\"payment_terms\"\r\n                    :options=\"['Bank /TT ', 'Cash', 'Cheque', 'M-Pesa', 'On-Account', 'Wakala']\"\r\n                    :multiple=\"false\"\r\n                    :searchable=\"true\"\r\n                    required \r\n                    :placeholder=\"'Select Payment Terms'\"\r\n                    ></multiselect>\r\n            </div>\r\n          \r\n          </div>\r\n        </div>\r\n       \r\n        <div class=\"modal-footer \"> \r\n            <div v-if=\"add_vendor\" class=\"float-start\">\r\n                <button type=\"button\" class=\"btn btn-dark\" @click=\"add_vendor = false\">Back</button>\r\n            </div>\r\n            <div class=\"float-end\">\r\n        <button type=\"button\" class=\"btn btn-danger\" @click=\"closeEditModal\">Cancel</button>  \r\n         &nbsp; \r\n           <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isSending\"> \r\n             <span v-if=\"isSending\">\r\n               <span class=\"spinner-border spinner-border-xs\" role=\"status\" aria-hidden=\"true\"></span>            \r\n             </span>\r\n             <span v-else>Update</span>\r\n           </button>\r\n            </div>\r\n\r\n       </div>\r\n\r\n        </form> \r\n        \r\n      </div>\r\n    </div>\r\n  </div>\r\n   </teleport>\r\n                                                                                                                                                        \r\n                            </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- lpo modale start -->\r\n    <teleport to=\"body\">\r\n   <div v-if=\"showlpoModal\" class=\"modal fade show d-block\" role=\"dialog\">\r\n   <div class=\"modal-dialog  modal-xl\">\r\n     <div class=\"modal-content d-flex flex-column\" style=\"height:90vh;\">\r\n       <div class=\"modal-header\">\r\n         <h5 class=\"modal-title\">Details for Local Purchase Order  </h5>\r\n         <button type=\"button\" class=\"btn-close\" @click=\"closeLpoModal\"></button>\r\n       </div>  \r\n\r\n                   <!-- remark starts -->\r\n                    <div class=\"d-flex\">\r\n                          <div class=\"form-group col-md-2 mt-4 ms-auto\">\r\n                             <button \r\n            class=\"btn btn-info  mx-2\" \r\n            @click=\"showLpoRemark =! showLpoRemark\" \r\n            title=\"Print Report\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-chat-square-text\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\r\n                    <path d=\"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\"/>\r\n                </svg>\r\n            &nbsp;Remark\r\n            </button>\r\n            </div>  \r\n                    </div>\r\n               \r\n             <!-- remark ends -->\r\n             <div v-if=\"showLpoRemark\">\r\n        <form class=\"row mx-4\" @submit.prevent=\"saveRemark()\">\r\n  <div class=\"col-md-10\">\r\n    <input type=\"text\"    v-model=\"newremark\"  class=\"form-control\"  placeholder=\"Enter Remark\">\r\n  </div>\r\n  <div class=\"col-md-1\">\r\n    <button type=\"submit\" class=\"btn btn-primary mb-3\">Send</button>\r\n  </div>\r\n</form>\r\n       </div>  \r\n\r\n        <div v-if=\"isActive\" class=\"modal-body flex-grow-1\" style=\"overflow-y: auto;\">\r\n           <div  v-if=\"!loading\" class=\"d-flex justify-content-between align-items-center mb-3\">\r\n                           \r\n                           <h5 class=\"text-dark\"><span style=\"font-weight: bolder;\">{{project_name}}</span></h5>\r\n                           \r\n                          <div v-if=\"user_permissions.includes('can_verify_copex_operator')\">\r\n                            <div @click=\"whatsappNotification2('255677771888','Engineer','check','deal with','Sr Accountant')\r\n                            \">\r\n                            <button v-if=\"approval_status_data.operation_department === 0 && user_permissions.includes('can_verify_copex_operator')\" @click=\"approveCheck(approval_status_data.id, 'operation_department'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary\">\r\n                                       <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                         <span class=\"sr-only\"></span>\r\n                                        </div>\r\n                                        <div v-else >Check</div>\r\n                            </button>\r\n                        </div>\r\n                           <button v-if=\"approval_status_data.operation_department === 1 && user_permissions.includes('can_verify_copex_operator')\" @click=\"approveUnCheck(approval_status_data.id, 'operation_department'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-dark\">\r\n                                       <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                         <span class=\"sr-only\"></span>\r\n                                        </div>\r\n                                        <div v-else>Uncheck</div>\r\n                                   </button>\r\n                          </div >\r\n                            <div v-if=\"user_permissions.includes('can_verify_engineer')\">\r\n                                <div @click=\"whatsappNotification2('255657111555','Sr Accountant','check','deal with','Managing Director')\r\n                                \">\r\n                                   <button v-if=\" approval_status_data.operation_department === 1 && approval_status_data.engineer === 0 && user_permissions.includes('can_verify_engineer')\" @click=\"approveCheck(approval_status_data.id, 'engineer'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary \">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Check</div>\r\n                                    </button>\r\n                                </div>                           \r\n                                    <button v-if=\"approval_status_data.engineer === 1 && user_permissions.includes('can_verify_engineer')\" @click=\"approveUnCheck(approval_status_data.id, 'engineer'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-dark \">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Uncheck</div>\r\n                                    </button>\r\n                                \r\n                           </div>\r\n                           <div v-if=\"user_permissions.includes('can_verify_project_manager')\">\r\n                            <button v-if=\"  approval_status_data.operation_department === 1 && approval_status_data.project_manager === 0 && user_permissions.includes('can_verify_project_manager')\" @click=\"approveCheck(approval_status_data.id, 'project_manager'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary \">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Check</div>\r\n                                    </button>\r\n                                  <button v-if=\"approval_status_data.project_manager === 1 && user_permissions.includes('can_verify_project_manager')\" @click=\"approveUnCheck(approval_status_data.id, 'project_manager'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-dark \">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Uncheck</div>\r\n                                    </button>\r\n                           </div>\r\n                           <div v-if=\"user_permissions.includes('can_verify_sr_accountant')  && is_copex\">\r\n                            <div @click=\"whatsappNotification('255713222333','Managing Director','LPO Requisition ','approve.')\">\r\n                            <button v-if=\"approval_status_data.engineer === 1 && approval_status_data.senior_accountant === 0 && user_permissions.includes('can_verify_sr_accountant')\" @click=\"approveCheck(approval_status_data.id, 'senior_accountant'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary\">\r\n                                       <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                         <span class=\"sr-only\"></span>\r\n                                        </div>\r\n                                        <div v-else>Check</div>\r\n                                   </button>\r\n                                </div>\r\n                                 <button v-if=\"approval_status_data.senior_accountant === 1 && user_permissions.includes('can_verify_sr_accountant')\" @click=\"approveUnCheck(approval_status_data.id, 'senior_accountant'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-dark p-1 \">\r\n                                       <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                         <span class=\"sr-only\"></span>\r\n                                        </div>\r\n                                        <div v-else>Uncheck</div>\r\n                                   </button>\r\n                               </div>\r\n                           <div v-if=\"user_permissions.includes('can_verify_sr_accountant')  && is_bushman\">\r\n                            <button v-if=\"( approval_status_data.project_manager === 1 )&& approval_status_data.senior_accountant === 0 && user_permissions.includes('can_verify_sr_accountant')\" @click=\"approveCheck(approval_status_data.id, 'senior_accountant'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary\">\r\n                                       <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                         <span class=\"sr-only\"></span>\r\n                                        </div>\r\n                                        <div v-else>Check</div>\r\n                                   </button>\r\n                                 \r\n                                   <button v-if=\"approval_status_data.senior_accountant === 1 && user_permissions.includes('can_verify_sr_accountant')\" @click=\"approveUnCheck(approval_status_data.id, 'senior_accountant'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-dark p-1 btn-sm me-3\">\r\n                                       <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                         <span class=\"sr-only\"></span>\r\n                                        </div>\r\n                                        <div v-else>Uncheck</div>\r\n                                   </button>\r\n                           </div>\r\n                           <div v-if=\"user_permissions.includes('is_md')\">\r\n                            <button v-if=\"approval_status_data.managing_director === 0 && approval_status_data.senior_accountant === 1 && user_permissions.includes('is_md')\" @click=\"approveCheck(approval_status_data.id, 'managing_director'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary \">\r\n                                       <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                         <span class=\"sr-only\"></span>\r\n                                        </div>\r\n                                        <div v-else>Check</div>\r\n                                   </button>\r\n                                  <button v-if=\"approval_status_data.managing_director === 1 && user_permissions.includes('is_md')\" @click=\"approveUnCheck(approval_status_data.id, 'managing_director'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-dark p-1 \">\r\n                                       <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                         <span class=\"sr-only\"></span>\r\n                                        </div>\r\n                                        <div v-else>Uncheck</div>\r\n                                   </button>\r\n                            \r\n                           </div>\r\n\r\n                           <h5 class=\"text-dark\">Tsh {{ Number(total_amount).toLocaleString() }} </h5>\r\n            </div>\r\n           <div v-if=\"!loading\" class=\"row layout-top-spacing\">\r\n         <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n           <div class=\"panel p-0\">\r\n               <!-- close button starts -->\r\n                <div class=\"d-flex\">\r\n                   <h6 class=\"text-center mt-2 mx-2\">Approval Status</h6>\r\n                 </div>  \r\n                <!-- close button ends -->\r\n               <div class=\"custom-table table3 table-responsive\">\r\n                   <table class=\"table\">\r\n                       <thead>\r\n                           <tr>\r\n                               <th>Operation's Dept</th>\r\n                               <th v-if=\"is_copex\" >Engineer </th>  \r\n                               <th v-if=\"is_bushman\">Project Manager </th>                                  \r\n                               <th>Sr.Accountant</th>\r\n                               <th>MD</th>\r\n                           </tr>\r\n                       </thead>\r\n                       <tbody>\r\n                           <tr>\r\n                               <td :class=\"approval_status_data.operation_department === 0 ? 'text-danger' : 'text-success'\">\r\n                                   {{ approval_status_data.operation_department === 0 ? 'unchecked' : 'checked' }}             \r\n                               </td>\r\n\r\n                               <td v-if=\"is_copex\" :class=\"approval_status_data.engineer === 0 ? 'text-danger' : 'text-success'\">\r\n                                    {{ approval_status_data.engineer === 0 ? 'unchecked' : 'checked' }}\r\n                                    \r\n                                </td>\r\n                                <td v-if=\"is_bushman\" :class=\"approval_status_data.project_manager === 0 ? 'text-danger' : 'text-success'\">\r\n                                    {{ approval_status_data.project_manager === 0 ? 'unchecked' : 'checked' }}\r\n                                    \r\n                                </td>\r\n               \r\n                               <td :class=\"approval_status_data.senior_accountant === 0 ? 'text-danger' : 'text-success'\">\r\n                                   {{ approval_status_data.senior_accountant === 0 ? 'unchecked' : 'checked' }}\r\n                                   \r\n                               </td>\r\n                               <td :class=\"approval_status_data.managing_director === 0 ? 'text-danger' : 'text-success'\">\r\n                                   {{ approval_status_data.managing_director === 0 ? 'unchecked' : 'checked' }}\r\n                                  \r\n                               </td>\r\n                           </tr>\r\n                       </tbody>\r\n                   </table>\r\n               </div>\r\n           </div>\r\n       </div>\r\n       </div>\r\n          \r\n           <div class=\"row layout-top-spacing\">\r\n\r\n\r\n           <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n               <div class=\"panel p-0\">\r\n                        \r\n                   <div v-if=\"loading\" class=\"d-flex justify-content-center align-items-center\" style=\"height: 100px;\">\r\n           <span class=\"text-primary spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\">\r\n               <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-arrow-repeat\" viewBox=\"0 0 16 16\">\r\n                   <path d=\"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z\"/>\r\n                   <path d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z\"/>\r\n                   <path d=\"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z\"/>\r\n               </svg>\r\n               Loading...\r\n           </span>\r\n       </div>\r\n                      \r\n\r\n                    \r\n\r\n\r\n                   <div v-else class=\"custom-table table3 \">\r\n           \r\n                      \r\n                       <v-client-table :data=\"lpo_items\" :columns=\"item_columns\" :options=\"table_option\" >\r\n                           <template #status=\"props\">\r\n                               <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.class\">{{ props.row.status.key }} </span>\r\n                           </template>\r\n                           <template #actions=\"props\">\r\n\r\n                               <a   href=\"javascript:void(0);\" title=\"Delete\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" >\r\n                                   <svg\r\n                                       xmlns=\"http://www.w3.org/2000/svg\"\r\n                                       width=\"24\"\r\n                                       height=\"24\"\r\n                                       viewBox=\"0 0 24 24\"\r\n                                       fill=\"none\"\r\n                                       stroke=\"currentColor\"\r\n                                       stroke-width=\"1.5\"\r\n                                       stroke-linecap=\"round\"\r\n                                       stroke-linejoin=\"round\"\r\n                                       class=\"text-danger\"\r\n                                   >\r\n                                       <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n                                       <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                                   </svg>\r\n                               </a>\r\n                             \r\n\r\n                               \r\n                           </template>\r\n                          \r\n                       </v-client-table>\r\n                   </div>\r\n               </div>\r\n           </div>\r\n       </div> \r\n          <!-- approval officers starts -->\r\n\r\n       \r\n   \r\n        <!-- approval officers ends -->\r\n       </div> \r\n      \r\n       <div v-if=\"!isActive\" class=\"modal-body flex-grow-1\" style=\"overflow-y: auto;\" >\r\n        <form v-if=\"isOpen\" class=\"mt-3 p-3 border rounded bg-white shadow\" @submit.prevent=\"registerItem\">\r\n               <div class=\"d-flex\">\r\n            <div class=\"ms-auto\">\r\n                <button type=\"button\" class=\"btn btn-danger me-2\" @click=\"isOpen= false\">X</button>\r\n            </div>\r\n        </div>\r\n            <h4 class=\"text-center\">ITEM  REGISTRATION FORM</h4>\r\n        <div class=\"row mb-2\">\r\n            <div class=\"col-md-6\">\r\n                <label class=\"form-label\">Budget </label>\r\n               <multiselect \r\n  v-model=\"budget\" \r\n  :options=\"budgets\" \r\n  label=\"name\" \r\n  placeholder=\"Select Budget\" \r\n  :searchable=\"true\" \r\n  :multiple=\"false\" \r\n  :required=\"true\"\r\n  track-by=\"id\"\r\n  @input=\"getBudgetItems\"\r\n>\r\n</multiselect>\r\n\r\n            </div>\r\n\r\n            <div v-if=\"isFuel\" class=\"col-md-6\">\r\n                <label class=\"form-label\">Description of good</label>\r\n                <select class=\"form-select\" v-model=\"description_of_lpo\" @change=\"handleDescriptionChange\">\r\n                    <option value=\"\" disabled>Select Category</option>\r\n                    <option value=\"Direct\" >Direct Filling</option>\r\n                    <option value=\"Bulk\" >Bulk</option>                   \r\n                </select>\r\n            </div>\r\n               \r\n            <div v-if=\"is_items\" class=\"col-md-6\">\r\n                <label class=\"form-label\">Select items</label>\r\n                <Multiselect\r\n                v-model=\"description\"\r\n                :searchable=\"true\"\r\n                :options=\"items_list\"\r\n                :multiple=\"false\"\r\n                required\r\n                track-by=\"name\"\r\n                label=\"name\"\r\n                ></Multiselect>                  \r\n            </div>\r\n\r\n   \r\n            <div v-if=\"budget !== '' \"  class=\"col-md-6\">\r\n                <label class=\"form-label\">Category </label>\r\n                <multiselect \r\n                    v-model=\"budget_category\" \r\n                    :options=\"budgetCategory\"\r\n                     label = \"name\"\r\n                     placeholder=\"Select Category\" \r\n                    :searchable=\"true\" \r\n                    :multiple=\"false\" \r\n                    required>\r\n                </multiselect>\r\n            </div>\r\n\r\n            <div v-if=\"budget_category !== '' \" class=\"col-md-5\" >\r\n    <label class=\"form-label\">Item </label>\r\n    <multiselect \r\n        v-model=\"item\" \r\n        :options=\"budgetCategoryItems\"\r\n        label=\"name\"\r\n        placeholder=\"Select Item\" \r\n        :searchable=\"true\" \r\n        :multiple=\"false\" \r\n        required>\r\n    </multiselect>\r\n            </div>\r\n\r\n              <div v-if=\"item !== '' \" class=\"col-md-1 text-center\">\r\n    <label for=\"machineCheck\" class=\"form-label\">Machine</label>\r\n    <input \r\n        class=\"form-check-input mt-1\" \r\n        type=\"checkbox\" \r\n        id=\"machineCheck\" \r\n        v-model=\"machine_field\" \r\n        style=\"width: 25px; height: 25px;\">\r\n            </div>\r\n\r\n            <div v-if=\"machine_field\" class=\"col-md-6\">\r\n                <label class=\"form-label\">Select Machine</label>              \r\n            <multiselect \r\n                v-model=\"machine\"\r\n                :searchable=\"true\"\r\n                :options=\"machines\"\r\n                :multiple=\"false\"\r\n                required\r\n                track-by=\"id\"\r\n                label=\"name\"\r\n                ></multiselect>\r\n            </div>\r\n\r\n            <div v-if=\"item !== '' \" class=\"col-md-2\">\r\n                <label class=\"form-label\">Units</label>\r\n                <input type=\"hidden\" :value=\"item.units\" name=\"item_unit\">\r\n                <label class=\"form-control\">{{ item.units ?? 'nill' }}  </label>\r\n            </div>\r\n              <div v-if=\"item !== '' \" class=\"col-md-4\">\r\n                <label class=\"form-label\">specification</label>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"specification\">\r\n            </div>\r\n\r\n             <div v-if=\"item !== '' \" class=\"col-md-6\" >\r\n                <label class=\"form-label\">Budgeted  Rate  {{ item.rate?.toLocaleString() }}\r\n                    <span class=\"text-danger\" v-if=\"rate > item.cost\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-exclamation-triangle\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z\"/>\r\n  <path d=\"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z\"/>\r\n                        </svg>\r\n                        Over Budget Rate\r\n                    </span>\r\n                </label>\r\n                <input type=\"number\" class=\"form-control\" v-model=\"rate\" required>\r\n            </div>\r\n\r\n              <div v-if=\"used_quantity !=='' \"  class=\"col-md-6\">\r\n                <label class=\"form-label\">Quantity maximum {{ item.quantity - used_quantity }}\r\n                      <span class=\"text-danger\" v-if=\"quantity > (item.quantity - used_quantity)\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-exclamation-triangle\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z\"/>\r\n  <path d=\"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z\"/>\r\n                        </svg>\r\n                        Over Budget Quantity\r\n                    </span>\r\n                </label>\r\n                <input type=\"number\" class=\"form-control\" v-model=\"quantity\" step=\"any\" required>\r\n              </div>\r\n\r\n              <div v-if=\"used_quantity !== '' \" class=\"col-md-6\">\r\n              <label class=\"form-label\">Amount maximum {{ (item.rate * ( item.quantity - used_quantity))?.toLocaleString() }}\r\n                <span class=\"text-danger\" v-if=\"amount > item.total\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-exclamation-triangle\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z\"/>\r\n  <path d=\"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z\"/>\r\n                        </svg>\r\n                        Over Budget Total\r\n                    </span>\r\n              </label>\r\n              <label class=\"form-control\">{{ amount.toLocaleString() }}</label>\r\n              </div>\r\n            <!-- <div v-if=\"machine_field\" class=\"col-md-12\">\r\n                <label class=\"form-label\">Task</label>\r\n                <textarea  class=\"form-control\"  name=\"\" v-model=\" task\" id=\"\"></textarea>\r\n            </div> -->\r\n        </div>\r\n        <div class=\"d-flex\">\r\n            <!-- <button type=\"button\" class=\"btn btn-dark me-2\" @click=\"closeLpoModal\">Close</button> -->\r\n     <div class=\"ms-auto\">\r\n            <button type=\"button\" class=\"btn btn-secondary me-2\" @click=\"clearItemForm\">Clear</button>\r\n            <button type=\"submit\" class=\"btn btn-primary me-2\" :disabled=\"isSending\"  v-if=\"amount <= (item.rate * ( item.quantity - used_quantity))\"> \r\n             <span v-if=\"isSending\">\r\n               <span class=\"spinner-border spinner-border-xs\" role=\"status\" aria-hidden=\"true\"></span>            \r\n             </span>\r\n             <span v-else>Register</span>\r\n           </button>\r\n     </div>\r\n        </div>\r\n        </form>\r\n    <div  class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n               <div class=\"panel p-0\">\r\n                        <div v-if=\" !isOpen\" class=\"d-flex justify-content-between mb-3 p-3\">\r\n                            <button class=\"btn btn-warning\" @click=\"activatePurchaseOrder()\">\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"34\" height=\"34\" fill=\"currentColor\" class=\"bi bi-check2-square\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z\"/>\r\n                                        <path d=\"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0\"/>\r\n                                    </svg>\r\n                               Ready \r\n                            </button>\r\n                           \r\n                            <button class=\"btn btn-primary\" @click=\"isOpen = true\">\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-plus\" viewBox=\"0 0 16 16\">\r\n                                    <path d=\"M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0z\"/>\r\n                                    <path d=\"M4 8a.5.5 0 0 1 .5-.5h3V4a.5.5 0 0 1 1 0v3.5h3a.5.5 0 0 1 0 1h-3V12a.5.5 0 0 1-1 0V8.5h-3A.5.5 0 0 1 4 8z\"/>\r\n                                </svg>\r\n                                Add Item\r\n                            </button>\r\n                            \r\n\r\n                        </div>\r\n                   <div v-if=\"loading\" class=\"d-flex justify-content-center align-items-center\" style=\"height: 100px;\">\r\n           <span class=\"text-primary spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\">\r\n               <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-arrow-repeat\" viewBox=\"0 0 16 16\">\r\n                   <path d=\"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z\"/>\r\n                   <path d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z\"/>\r\n                   <path d=\"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z\"/>\r\n               </svg>\r\n             \r\n           </span>\r\n       </div>\r\n                      \r\n\r\n                    \r\n\r\n\r\n                   <div v-else class=\"custom-table table3\">           \r\n                         <v-client-table :data=\"lpo_items\" :columns=\"item_columns\" :options=\"table_option\" >\r\n                           <template #status=\"props\">\r\n                               <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.class\">{{ props.row.status.key }} </span>\r\n                           </template>\r\n                           <template #actions=\"props\">\r\n\r\n                               <a href=\"javascript:void(0);\" title=\"Delete\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" @click=\"deleteItem(props.row.id,props.row.remark_id);\">\r\n                                   <svg\r\n                                       xmlns=\"http://www.w3.org/2000/svg\"\r\n                                       width=\"24\"\r\n                                       height=\"24\"\r\n                                       viewBox=\"0 0 24 24\"\r\n                                       fill=\"none\"\r\n                                       stroke=\"currentColor\"\r\n                                       stroke-width=\"1.5\"\r\n                                       stroke-linecap=\"round\"\r\n                                       stroke-linejoin=\"round\"\r\n                                       class=\"text-danger\"\r\n                                   >\r\n                                       <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n                                       <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                                   </svg>\r\n                               </a>\r\n                                                      \r\n                           </template>\r\n                          \r\n                       </v-client-table>\r\n                   </div>\r\n               </div>\r\n           </div>\r\n       </div> \r\n     </div>\r\n   </div>\r\n </div>\r\n </teleport>\r\n \r\n   <!-- Modal Background Overlay -->\r\n   <div v-if=\"showlpoModal\" class=\"modal-backdrop fade show\"></div>\r\n     \r\n     <!-- lpo modal end -->\r\n\r\n     <!-- Delete Confirmation Modal -->\r\n<teleport to=\"body\">\r\n  <div v-if=\"showDeleteModal\" class=\"modal fade show d-block\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteModalLabel\" aria-hidden=\"true\">\r\n    <link href=\"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n    <div class=\"modal-dialog modal-dialog-centered modal-lg\">\r\n      <div class=\"modal-content\" style=\"font-family: 'Roboto', sans-serif;\">\r\n        <div class=\"modal-header bg-danger text-white\">\r\n          <h5 class=\"modal-title text-white\" id=\"deleteModalLabel\" style=\"font-weight: 600;\">Confirm Lpo Deletion</h5>\r\n          <button type=\"button\" class=\"btn-close btn-close-white\" @click=\"closeDeleteModal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"deleteReason\" class=\"form-label\" style=\"font-weight: 600;\">Reason for deletion:</label>\r\n            <textarea \r\n              id=\"deleteReason\" \r\n              class=\"form-control\" \r\n              v-model=\"deleteReason\" \r\n              placeholder=\"Please provide a reason for deleting this LPO...\"\r\n              rows=\"5\"\r\n              required\r\n              style=\"font-weight: 400;\"\r\n            ></textarea>\r\n            <div class=\"form-text\" style=\"font-weight: 400;\">This reason will be recorded in the copex ERP.</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" @click=\"closeDeleteModal\" style=\"font-weight: 500;\">\r\n            <i class=\"bi bi-x-circle me-1\"></i> Cancel\r\n          </button>\r\n          <button \r\n            type=\"button\" \r\n            class=\"btn btn-danger\" \r\n            @click=\"confirmDelete\" \r\n            :disabled=\"!deleteReason.trim() || loading_spinner\"\r\n            style=\"font-weight: 500;\"\r\n          >\r\n            <span v-if=\"loading_spinner\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n            <i v-else class=\"bi bi-trash3 me-1\"></i>\r\n            {{ loading_spinner ? 'Deleting...' : ' Delete' }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</teleport>\r\n\r\n<!-- Modal Background Overlay -->\r\n<div v-if=\"showDeleteModal\" class=\"modal-backdrop fade show\"></div>\r\n\r\n\r\n      <!-- Remark Modal starts -->\r\n     <teleport to=\"body\">\r\n  <div v-if=\"showRemarkModal\" class=\"modal fade show d-block\" role=\"dialog\" @click.self=\"closeRemarkModal\">\r\n    <div class=\"modal-dialog modal-dialog-centered modal-xl\">\r\n      <div class=\"modal-content d-flex flex-column\" style=\"height: 90vh;\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\">Remarks for LPOs</h5>\r\n          <button type=\"button\" class=\"btn-close\" @click=\"closeRemarkModal\"></button>\r\n        </div>\r\n        \r\n        <div class=\"modal-body flex-grow-1 p-3 p-md-4 bg-light\" style=\"overflow-y: auto;\">\r\n          <div v-if=\"isfetching\" class=\"d-flex justify-content-center align-items-center\" style=\"height: 100px;\">\r\n            <div class=\"spinner-border text-primary\" role=\"status\">\r\n              <span class=\"visually-hidden\">Loading...</span>\r\n            </div>\r\n          </div>\r\n          <div v-else>\r\n        <div v-if=\"isLoading\" class=\"d-flex justify-content-center align-items-center\" style=\"block-size: 100px;\">\r\n            <span class=\"text-primary spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-arrow-repeat\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z\"/>\r\n                    <path d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z\"/>\r\n                    <path d=\"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z\"/>\r\n                </svg>\r\n                Loading...\r\n            </span>\r\n        </div>\r\n            <div v-else>\r\n  <div v-if=\"remarks.length === 0\" class=\"text-center py-5\">\r\n              <div class=\"mb-3 text-muted\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" fill=\"currentColor\" class=\"bi bi-chat-square-text\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\r\n                  <path d=\"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\"/>\r\n                </svg>\r\n              </div>\r\n              <p  class=\"text-muted\">No remarks yet. Be the first to add one!</p>\r\n            </div>\r\n            <div v-else class=\"chat-messages\">\r\n              <div v-for=\"(remark, index) in remarks\" :key=\"index\" class=\"mb-3\">\r\n                <!-- Current user's message (right aligned) -->\r\n                <div v-if=\"remark.remarker_id == user_id\" class=\"d-flex justify-content-end\" >\r\n                  <div class=\"chat-message-outgoing shadow text-dark\" style=\"background-color:#E9E9E9;max-width: 250px;\" >\r\n                    <div class=\"small d-flex justify-content-between mb-1 \">\r\n                      <span class=\"fw-bold mx-2 mt-1\">You</span>\r\n                      <span class=\" ms-2 mt-1\">{{ new Date(remark.created_at).toLocaleString() }}</span>\r\n                    </div>\r\n                    <div class=\"p-3 rounded-3 rounded-bottom-start-0 shadow-sm\">\r\n                      {{ remark.description }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <!-- Other user's message (left aligned) -->\r\n                <div v-else class=\"d-flex justify-content-start text-dark\" >\r\n                  <div class=\"chat-message-incoming shadow me-2\"  style=\"background-color:#E9E9E9\">\r\n                    <div class=\"small d-flex justify-content-between mb-1\">\r\n                      <span class=\"fw-bold mx-1 mt-1\">{{ remark.remarker || remark.sender_name }}</span>\r\n                      <span class=\"text-muted ms-2 mt-1\">{{ new Date(remark.created_at).toLocaleString() }}</span>\r\n                    </div>\r\n                    <div class=\"p-3  rounded-3 rounded-bottom-start-0 shadow-sm\">\r\n                      {{ remark.description }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            </div>\r\n          \r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Form for adding a new remark - fixed at bottom -->\r\n        <div class=\"p-3 border-top bg-white\">\r\n          <form @submit.prevent=\"saveRemark\">\r\n            <div class=\"mb-3\">\r\n              <textarea \r\n                v-model=\"newremark\" \r\n                class=\"form-control\" \r\n                rows=\"2\" \r\n                placeholder=\"Type your remark here...\"\r\n              ></textarea>\r\n            </div>\r\n            <div class=\"d-flex justify-content-end gap-2\">\r\n              <button type=\"button\" class=\"btn btn-secondary\" @click=\"closeRemarkModal\">\r\n                Close\r\n              </button>\r\n              <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isSending || !newremark.trim()\">\r\n                <span v-if=\"isSending\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n                Save\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</teleport>\r\n     <!-- Modal Background Overlay -->\r\n     <div v-if=\"showRemarkModal\" class=\"modal-backdrop fade show\"></div>\r\n     <!-- lpo modal end -->\r\n<!-- remark modal ends -->\r\n\r\n\r\n\r\n</template>\r\n\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n\r\n<script setup>\r\n    import axios from 'axios';\r\n    import { onMounted, ref,inject,watch } from 'vue';\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    import '@/assets/sass/elements/tooltip.scss';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    useMeta({ title: 'Purchase Order' });\r\n\r\n        const readRemark = async (id) => {\r\n         const remarkStatus ={\r\n            'status':'checked by ' + JSON.parse(localStorage.getItem(\"user\")).name ,\r\n              }\r\n    try {\r\n        const response = await axiosInstance.put(`/remark/${id}`,remarkStatus);\r\n        showMessage('checked');\r\n        fetchNotifications(); \r\n    } catch (error) {\r\n        showError(error.message);\r\n        console.error('Error:', error);\r\n    }\r\n};\r\n\r\n    const showRemarkModal = ref(false);\r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n    const printLpoReport = inject('printReport');\r\n    const whatsappNotification = inject('whatsappNotification');\r\n    const whatsappNotification2 = inject('whatsappNotification2');\r\n    const add_vendor = ref(false);\r\n    const order_registration = ref(false);\r\n    const columns = ref(['SNo','LPO_number','requested_by', 'supplier','date', 'project','payment', 'status','awaits', 'actions']);\r\n    const items = ref([]);\r\n    const table_option = ref({\r\n        perPage: 200,\r\n        perPageValues: [200,500,1000],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['SNo', 'LPO_number', 'date', 'phone'],\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n        searchable: true,\r\n    });\r\n\r\n\r\n   const unlock = ref(false); \r\n    const showDeleteModal = ref(false);\r\n    const deleteReason = ref('');\r\n    const lpoToDelete = ref(null);\r\n    const isfetching = ref(false);\r\n    const showLpoRemark = ref(false); \r\n    const notification_count=ref(0);\r\n    const notifications= ref(['']);\r\n    const selected_project = ref('');\r\n    const user_permissions = JSON.parse(localStorage.getItem(\"user\")).permissions;\r\n    const company_id = ref('');\r\n    const selected_company_id= ref('');\r\n    const selected_status = ref('');\r\n    const loading_spinner = ref(false);\r\n    const supplier_name = ref('');\r\n    const supplier_address = ref('');\r\n    const supplier_location = ref('');\r\n    const payment_terms = ref('');\r\n    const project_name = ref('');\r\n    const vendor_id = ref('');\r\n    const is_admin=ref(false);\r\n    const vendors =  ref([]);\r\n    const isSending = ref(false);\r\n    const is_editor = ref(false); \r\n    const Vendor_name = ref('');\r\n    const Vendor_phone= ref('');\r\n    const Vendor_email = ref('');\r\n    const Vendor_address =ref ('');\r\n    const Vendor_location=ref('');\r\n    const is_closed = ref(true);\r\n    const order_status=ref('');\r\n    const user_role = JSON.parse(localStorage.getItem(\"user\")).role;\r\n    const user_id = JSON.parse(localStorage.getItem(\"user\")).id;\r\n    const print_url = ref(process.env.VUE_APP_API_BASE_URL);\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n     const axiosInstance2 = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL2\r\n    });\r\n    const newremark = ref('');\r\n    const remarks = ref([]);\r\n    const item = ref('');\r\n    const isLoading = ref(false);\r\n\r\n\r\n\r\nconst saveRemark = async () => {\r\n    showLpoRemark.value=false;\r\n    // showMessage(newremark.value);\r\n    if (!newremark.value.trim()) {\r\n        showError(\"Remark cannot be empty!\");\r\n        return;\r\n    }else if (showRemarkModal.value == false){\r\n            newremark.value = \"For lpo \" + lpo_id.value +\" \"+ newremark.value ;\r\n        }else{\r\n            lpo_number.value = 0;\r\n        }\r\n    \r\n    isSending.value = true;\r\n    \r\n    try {\r\n        const remarkData = {\r\n            remarker_id: user_id,\r\n            description : newremark.value,\r\n            status: status.value, // Default to unchecked\r\n            type_id: lpo_number.value ,\r\n            remark_type: \"LPO\",\r\n            remarker: JSON.parse(localStorage.getItem(\"user\")).name\r\n        };\r\n        \r\n         const response = await axiosInstance.post('remark', remarkData);\r\n        \r\n        if (response.status === 201 || response.status === 200) {\r\n            // Add the new remark to the list\r\n            if (response.data) {\r\n                remarks.value.push(response.data);\r\n            } else {\r\n                // If the API doesn't return the created remark, add our local version\r\n                remarks.value.push(remarkData);\r\n            }\r\n            \r\n            // Clear the input field\r\n            newremark.value = '';\r\n            showMessage(\"Remark added successfully\");\r\n            fetchNotifications();\r\n        }\r\n    } catch (error) {\r\n        console.log(error);\r\n        showError(error.message);\r\n    } finally {\r\n        isSending.value = false;\r\n    }\r\n};\r\n\r\n\r\nconst fetchRemarks = async () => {\r\n    isLoading.value=true;\r\n    try {\r\n        const response = await axiosInstance.get(`remark?remark_type=LPO`);\r\n        if (Array.isArray(response.data)) {\r\n            remarks.value = response.data;\r\n        } else if (response.data && Array.isArray(response.data.data)) {\r\n            remarks.value = response.data.data;\r\n        } else {\r\n            remarks.value = [];\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error fetching remarks:\", error);\r\n        showError(\"Failed to load remarks\");\r\n    } finally {\r\n        isLoading.value = false;\r\n    }\r\n};\r\n\r\n\r\n\r\n    const fetchNotifications = async () => {\r\n    try {\r\n        const response = await axiosInstance.get(`remark?remark_type=LPO`);\r\n        notifications.value = response.data.data.filter(item => item.status === \"unchecked\");\r\n        notification_count.value = response.data.unchecked_count ;\r\n    } catch (error) {\r\n        console.error('Error fetching amendment request:', error);\r\n        showError(\"Failed to load amendment request \" + (error.response?.data?.message || error.message));\r\n    } finally {\r\n        isfetching.value = false;\r\n    }\r\n}\r\n\r\n\r\nconst openRemarkModal = () => {\r\n    fetchRemarks();\r\n    showRemarkModal.value = true;\r\n};\r\n\r\nconst closeRemarkModal = () => {\r\n    showRemarkModal.value = false;\r\n    newremark.value = ''; // Clear the remark input\r\n    remarks.value = []; // Reset the remarks list\r\n};\r\n\r\n\r\n    const handleVendorChange = (event) => {\r\n    if (event.target.value === 'NEW_VENDOR') {\r\n        vendor_id.value = ''; // Reset the selection\r\n        add_vendor.value = true\r\n    }\r\n}\r\n\r\n\r\n\r\n    const clearForm = ()=>{\r\n       supplier_name.value='';\r\n       project_name.value='';\r\n       payment_terms.value='';\r\n       supplier_address.value='';\r\n       supplier_location.value='';\r\n       vendor_id.value='';\r\n       Vendor_name.value = '';\r\n    Vendor_phone.value= '';\r\n    Vendor_email.value ='';\r\n    Vendor_address.value ='';\r\n    Vendor_location.value ='';\r\n    order_registration.value = false;\r\n    add_vendor.value = false\r\n    selected_company_id.value='';\r\n    item.value = '',\r\n    budgetCategory.value = (['']);\r\n    budget.value = (['']);\r\n    description.value = '';\r\n    };\r\n\r\n    const registerPurchaseOrder = async () => {\r\n         if (user_permissions.includes('can_view_copex_lpo') && user_permissions.includes('can_view_bushman_lpo')) {\r\n               company_id.value= selected_company_id.value.id;             \r\n            } else if (user_permissions.includes('can_view_copex_lpo')) {\r\n               company_id.value =6 ;\r\n            } else if (user_permissions.includes('can_view_bushman_lpo')) {\r\n                company_id.value = 5;\r\n            }\r\n    try {\r\n        order_registration.value = false;\r\n        loading_spinner.value = true;\r\n        \r\n        // First register vendor if needed\r\n        if (add_vendor.value === true) {\r\n            await registerVendor(); // Wait for vendor registration to complete\r\n        }\r\n\r\n        const purchaseOrderData = {\r\n            company_id: company_id.value,\r\n            vendor_id: vendor_id.value,\r\n            supplier: \"none\",\r\n            address: \"none\",\r\n            project_id: project_name.value.id,\r\n            project: 'empty',\r\n            payment_terms: payment_terms.value,\r\n            location: \"none\",\r\n            user_id: user_id,\r\n            requested_by: JSON.parse(localStorage.getItem(\"user\")).name,\r\n            status_name: 'Inactive',\r\n            status_color: 'dark',\r\n        };\r\n\r\n        const response = await axiosInstance.post('/purchase-order', purchaseOrderData);\r\n        clearForm();\r\n        getPurchaseOrders();\r\n        loading_spinner.value = false;\r\n        is_closed.value = true;\r\n        if (response.status === 201) {\r\n            showMessage(\"Purchase Order Registered Successfully\");\r\n        } else {\r\n            showError(\"Failed to register Purchase Order\"); \r\n            console.error(error);\r\n            \r\n        }\r\n       \r\n    } catch (error) {\r\n        showError(\"Error code \" + error.status);\r\n        console.error(\"Error registering Order:\", error);\r\n        loading_spinner.value = false;\r\n    }\r\n};\r\n\r\nconst registerVendor = async () => {\r\n    try {\r\n        loading_spinner.value = true;\r\n        const VendorData = {\r\n            name: Vendor_name.value,\r\n            phone: Vendor_phone.value,\r\n            email: Vendor_email.value,\r\n            address: Vendor_address.value,\r\n            location: Vendor_location.value,\r\n        };\r\n\r\n        const response = await axiosInstance.post('/vendors', VendorData);\r\n        vendor_id.value = response.data.id;\r\n        loading_spinner.value = false;\r\n        return response.data.id; // Return the vendor ID\r\n    } catch (error) {\r\n        showError(\"Error registering Vendor\" + error.status);\r\n        loading_spinner.value = false;\r\n        throw error; // Re-throw the error to be caught in registerPurchaseOrder\r\n    }\r\n};\r\n\r\n    \r\n    const getVendors = async () => {\r\n        loading_spinner.value = true;\r\n        try {\r\n            const response = await    \r\n            axiosInstance.get(`/vendors`);\r\n            if (response.data && Array.isArray(response.data)) {\r\n                    vendors.value = response.data;\r\n                    loading_spinner.value = false;\r\n                  if (is_editor.value) {\r\n                    // If in edit mode, set the vendor_id to the first vendor's ID\r\n                    order_registration.value = false;           \r\n                  }\r\n                  else {\r\n                    order_registration.value = true; // Reset to false if not in edit mode\r\n                  }\r\n\r\n                } else {\r\n                    console.error(\"Invalid response format\");\r\n                }\r\n        } catch (error) {\r\n            console.error(\"Error fetching purchase order : \", error);\r\n        }\r\n    };\r\n    \r\n    const getPurchaseOrders = async () => {\r\n    loading_spinner.value = true;\r\n    try {\r\n        const response = await axiosInstance.get(`/purchase-order`);\r\n        if (response.data && Array.isArray(response.data)) {\r\n            order_status.value = response.data.status_name;\r\n            let filteredData = response.data;\r\n            if (user_permissions.includes('can_view_copex_lpo') && user_permissions.includes('can_view_bushman_lpo')) {\r\n                filteredData = filteredData.filter(order =>  (order.status_name !== \"Inactive\" || order.user_id == user_id));\r\n            } else if (user_permissions.includes('can_view_copex_lpo')) {\r\n                filteredData = filteredData.filter(order => order.company_id == 6 && (order.status_name !== \"Inactive\" || order.user_id == user_id));\r\n            } else if (user_permissions.includes('can_view_bushman_lpo')) {\r\n                filteredData = filteredData.filter(order => order.company_id == 5 && (order.status_name !== \"Inactive\" || order.user_id == user_id));\r\n            }else if (user_permissions.includes('can_view_all_lpo')) {\r\n                filteredData = filteredData;\r\n            } else {\r\n                filteredData = [];\r\n            }\r\n            \r\n            items.value = filteredData.filter(order => \r\n                      ((selected_project.value ? order.project_id === selected_project.value : true) && (selected_status.value ? order.status_name === selected_status.value : true)) \r\n                 ).map((order, index) => ({\r\n                SNo: index + 1,\r\n                id:order.id,\r\n                grn_no:order.grn_no,\r\n                LPO_number:`${String(order.id).padStart(4, '0')}/${\r\n                  order.date_created.slice(5, 7)  \r\n                  }/${\r\n                order.date_created.slice(2, 4)  \r\n                 }`,\r\n                company_id:order.company_id,\r\n                supplier: order.supplier,\r\n                address: order.address,\r\n                requested_by: order.requested_by,\r\n                date: order.date_created,\r\n                project: order.project_aka,\r\n                project_id : order.project_id,\r\n                payment: order.payment_terms,\r\n                location: order.location,\r\n                requester:order.user_id,\r\n                awaits:order.awaits,\r\n                status: {\r\n                    key: order.status_name,\r\n                    class: order.status_color\r\n                },\r\n            }));\r\n        } else {\r\n            console.error(\"Invalid response format\");\r\n        }\r\n    } catch (error) {\r\n        showError(error.message);\r\n    } finally {\r\n        loading_spinner.value = false;\r\n    }\r\n};\r\n\r\n    const projects = ref([]);\r\n    const getProjects = async () => {\r\n    loading_spinner.value = true;\r\n    try {\r\n        const response = await axiosInstance.get(`/projects`);\r\n        if (response.data && Array.isArray(response.data)) {\r\n            // Filter projects after receiving the response\r\n            let filteredData = response.data;\r\n            if (user_permissions.includes('can_view_copex_lpo') && user_permissions.includes('can_view_bushman_lpo')) {\r\n                filteredData = filteredData;\r\n            } else if (user_permissions.includes('can_view_copex_lpo')) {\r\n                filteredData = filteredData.filter(project =>project.company_id == 6);\r\n            } else if (user_permissions.includes('can_view_bushman_lpo')) {\r\n                filteredData = filteredData.filter(project =>project.company_id == 5);\r\n            }\r\n             projects.value = filteredData;\r\n            loading_spinner.value = false;\r\n        } else {\r\n            console.error(\"Invalid response format\");\r\n            loading_spinner.value = false; // Also set to false in error case\r\n        }\r\n    } catch (error) {\r\n        loading_spinner.value = false;\r\n    }\r\n};\r\n   //code for etint model\r\n   const Show_editing_modal = ref(false);\r\n    \r\n   const lpo_number = ref();\r\n   const openEditModal= (row) => {\r\n\r\n       \r\n        is_editor.value = true;\r\n        getVendors();\r\n        getProjects();\r\n        Show_editing_modal.value = true;\r\n        lpo_number.value = row.id;\r\n        vendor_id.value = row.vendor_id;\r\n        supplier_name.value = row.supplier;\r\n        supplier_address.value = row.address;\r\n        supplier_location.value = row.location;\r\n        payment_terms.value = row.payment_terms;\r\n        project_name.value = row.project;\r\n        if (row.vendor_id) {\r\n            vendor_id.value = row.vendor_id;\r\n        } else {\r\n            vendor_id.value = ''; \r\n        }\r\n     \r\n    }\r\n    const   closeEditModal = () => {\r\n        // Reset the form fields\r\n        vendor_id.value = '';\r\n        supplier_name.value = '';\r\n        supplier_address.value = '';\r\n        supplier_location.value = '';\r\n        payment_terms.value = '';\r\n        project_name.value = '';\r\n        add_vendor.value = false;\r\n        order_registration.value = false;\r\n        lpo_number.value = '';\r\n        is_editor.value = false;\r\n        Show_editing_modal.value = false;\r\n    }\r\n\r\n    const updatePurchaseOrder = async () => {\r\n    try {\r\n        isSending.value = true; // Set the loading state to true    \r\n        // First register vendor if needed\r\n        if (add_vendor.value === true) {\r\n            await registerVendor(); // Wait for vendor registration to complete\r\n        }\r\n\r\n        const purchaseOrderData = {\r\n            vendor_id: vendor_id.value,\r\n            project_id: project_name.value.id,\r\n            payment_terms: payment_terms.value,\r\n        };\r\n\r\n        const response = await axiosInstance.patch(`/purchase-order/${lpo_number.value}`,purchaseOrderData);\r\n          if (response.status === 200) {\r\n            clearForm();\r\n            isSending.value = false; // Reset the loading state\r\n            Show_editing_modal.value = false; // Close the modal\r\n            is_editor.value = false; // Reset the edit mode flag\r\n            order_registration.value = false; // Reset the order registration flag\r\n            add_vendor.value = false; // Reset the add vendor flag\r\n           getPurchaseOrders();       \r\n          showMessage(\"Order Updated Successfully\");\r\n        } else {\r\n            showError(\"Error code \" + response.status);\r\n        }      \r\n       \r\n       \r\n    } catch (error) {\r\n        showError(\"Error code \" + error.status);\r\n        console.error(\"Error rUpdated Order:\", error);\r\n        loading_spinner.value = false;\r\n    }\r\n};\r\n        \r\n\r\n  const is_copex = ref(false);\r\n  const is_bushman = ref(false);\r\n  const total_amount = ref(0);\r\n   const lpo_items = ref([]);\r\n   const item_columns = ref(['SNo','description','spec', 'units', 'quantity', 'rate', 'amount',]);\r\n   const showlpoModal = ref(false); \r\n   const loading=  ref(false);\r\n   const isActive= ref(false);\r\n\r\n   const approval_status_data = ref({});\r\n \r\n   const item_list_category = ref([]);\r\n    //table 3\r\n    const isFuel = ref(false);\r\n    const is_bulk = ref(false);\r\n    const is_items = ref(false);\r\n    \r\n  \r\n    const item_list_id = ref('');\r\n    const item_category = ref('')\r\n\r\n    const direct_description = ref('');\r\n    const description = ref('');\r\n    const description_of_lpo = ref('');\r\n    const machines = ref([]);\r\n    const unit = ref('');\r\n    const budgets = ref(['']);\r\n    const task = ref('');\r\n    const machine_field = ref(false);\r\n    const quantity = ref('');\r\n    const rate = ref('');\r\n    const items_list = ref([]);\r\n    const isOpen = ref('');\r\n    const amount = ref(0);\r\n    const approval_status = ref(false);\r\n    const spinner = ref(false);\r\n    watch([quantity, rate], () => {\r\n        amount.value = quantity.value * rate.value\r\n    });\r\n\r\n   const lpo_id = ref(''); \r\n   const grn_number = ref(0)\r\n   const openLpoModal= (row) => {\r\n    getBudgets(row.project_id);\r\n        grn_number.value = row.grn_no;\r\n        lpo_number.value = row.id;\r\n        project_name.value = row.project;\r\n        lpo_id.value = row.LPO_number;\r\n        if (row.status.key === \"Inactive\") {\r\n            if (!item_columns.value.includes('actions')) {\r\n                item_columns.value.push('actions');\r\n            }\r\n        \r\n        \r\n           is_closed.value= true; \r\n           isActive.value= false;\r\n           getItemListCategory();\r\n           getItems();\r\n        }\r\n        else{\r\n            if (item_columns.value.includes('actions')) {\r\n                item_columns.value.pop('actions');\r\n            }\r\n        getItems();\r\n        getApprovalStatus();\r\n        isActive.value= true;\r\n        approval_status.value = true;\r\n     \r\n        if(row.company_id == 5){\r\n            is_bushman.value= true;\r\n            is_copex.value = false;\r\n        }\r\n        if(row.company_id == 6){\r\n            is_bushman.value= false;\r\n            is_copex.value = true;\r\n        }\r\n     \r\n        }\r\n             showlpoModal.value = true;\r\n         }\r\n    const   closeLpoModal = () => {\r\n      lpo_number.value = \"\";\r\n      project_name.value = \"\"; // Clear the project name\r\n      lpo_items.value = [];\r\n      total_amount.value = 0 // Clear the items list\r\n      showlpoModal.value = false;\r\n      isOpen.value= false;\r\n      clearForm();\r\n      clearItemForm();\r\n      }\r\n     \r\n      \r\n    const getItemsList = async (id) => {\r\n        try {\r\n           \r\n            const response = await axiosInstance.get(`/item-list`);\r\n            if (response.data && Array.isArray(response.data)) {\r\n                 const filterdata = response.data.filter((item) => item.category_id == id);\r\n                items_list.value = filterdata.map((data) => ({\r\n                    id: data.id,\r\n                    name: data.name,\r\n                    unit_measure: data.unit_measure,\r\n              }));\r\n\r\n\r\n            } else {\r\n                console.error(\"Invalid response format\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching approval status: \", error);\r\n        }\r\n    };\r\n  \r\n    const approveCheck = async (id, role) => {\r\n        try {\r\n            const response = await axiosInstance.put(`/approval-check/${id}`, {\r\n                [role]: 1\r\n            });\r\n            getApprovalStatus();\r\n            getPurchaseOrders();\r\n        } catch (error) {\r\n            console.error(\"Error approving check:\", error.message);\r\n        }\r\n    };\r\n\r\n    const approveUnCheck = async (id, role) => {\r\n        try {\r\n            const response = await axiosInstance.put(`/approval-check/${id}`, {\r\n                [role]: 0\r\n            });\r\n            getApprovalStatus();\r\n        } catch (error) {\r\n            console.error(\"Error approving check:\", error.message);\r\n        }\r\n\r\n        const response = await axiosInstance.put(`/purchase-order/${id}`, {\r\n                status_name: \"Unapproved\",\r\n                status_color:\"secondary\",\r\n            });\r\n    };   \r\n    \r\n    const activatePurchaseOrder = () => {\r\n        loading_spinner.value = true;\r\n        const activationData = {\r\n            status_name: 'Unapproved',\r\n            status_color: 'secondary',\r\n        };\r\n        \r\n        if (confirm(\"Are you sure you want to Confirm this Order?\")) {\r\n            axiosInstance\r\n                .put(`/purchase-order/${lpo_number.value}`, activationData)\r\n                .then((response) => {       \r\n                    loading_spinner.value = false;            \r\n                if (response.status == 200) {\r\n                   getPurchaseOrders();\r\n                   closeLpoModal();\r\n                    showMessage(\" Activation Successfuly! Now Waiting for Approvals\");\r\n                }\r\n                else{\r\n                    showError(\"activation Fails\");\r\n                }\r\n                })\r\n \r\n                \r\n                .catch((error) => {\r\n                    console.error(\"Error activating order:\", error.message);\r\n                    loading_spinner.value = false;\r\n                });\r\n\r\n                \r\n        } else {\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n\r\n\r\nconst handleDescriptionChange = () => {\r\n       const item_number = item_category.value.id;\r\n   \r\n\r\n        if (item_number == 1) {\r\n              getItemsList(1);\r\n              is_items.value = true;\r\n              isFuel.value = true;  \r\n             \r\n                 if (description_of_lpo.value === 'Direct') {\r\n              fetchMachines();                \r\n              machine_field.value = true;\r\n              is_items.value = true;\r\n              }\r\n                 else{\r\n                machine_field.value = false;\r\n              }\r\n                     \r\n            }\r\n         if(item_number == 2) {\r\n             getItemsList(2);\r\n             is_items.value = true;\r\n             machine_field.value = false;\r\n             isFuel.value = false;\r\n             description_of_lpo.value = \"\"       \r\n            }\r\n        if(item_number == 3) {\r\n            getItemsList(3);\r\n            is_items.value = true;\r\n            machine_field.value = false;\r\n            isFuel.value = false;\r\n            description_of_lpo.value = \"\"       \r\n        }\r\n    \r\n    }\r\n\r\n   //fetching machine list\r\n   const  fetchMachines= async () => {\r\n    axiosInstance\r\n      .get(`/machines`)\r\n      .then((response) => {\r\n        if (Array.isArray(response.data)) {\r\n          machines.value = response.data.map(machine => ({\r\n            id: machine.id,\r\n            name: machine.name,\r\n            type: machine.type_name,\r\n            category : machine.category.name,          \r\n          }));\r\n        } else {\r\n        error_message.value = \"Error fetching machine data: \" + error.message;\r\n        console.error(error_message.value);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching machine data:\", error.message);       \r\n      }   \r\n    ) \r\n      .finally(() => {\r\n      });\r\n}\r\n\r\n\r\n   const  getBudgets= async (id) => {\r\n    axiosInstance2\r\n      .get(`/projects/${id}`)\r\n      .then((response) => {\r\n       budgets.value= response.data;\r\n      })\r\n      .catch((error) => {\r\n        showError( error.message);\r\n        console.error(error);\r\n      }\r\n    )\r\n}\r\n    const budget = ref('');\r\n    const budget_items = ref(['']);\r\n    const budgetCategory = ref(['']);\r\n    watch(budget, (newVal) => {\r\n  if (newVal) {\r\n    axiosInstance2\r\n      .get(`/item/${newVal.id}`)\r\n      .then((response) => {\r\n       budget_items.value= response.data;\r\n       budgetCategory.value = response.data.map(item =>({\r\n       id :  item.id,\r\n       name : item.name,\r\n       description : item.item_description.map(sub_item =>({\r\n          id :sub_item.id,\r\n          asset_id : sub_item.asset_id,\r\n          name: sub_item.name,\r\n          units : sub_item.units,\r\n          rate: sub_item.cost,\r\n          cost : sub_item.cost,\r\n          quantity : sub_item.quantity * sub_item.quantity_2,\r\n          total : sub_item.quantity * sub_item.quantity_2 * sub_item.cost\r\n       })),\r\n      }));\r\n      })\r\n      .catch((error) => {\r\n        showError( error.message);\r\n        console.error(error);\r\n      }\r\n    )\r\n  }\r\n});\r\n\r\n//dozzer watch\r\n   watch(item, (newItem) => {\r\n  if (newItem) {\r\n   getItemsUsed(newItem.id);\r\n  }\r\n});\r\n\r\n\r\n    const used_quantity = ref('');\r\n    const getItemsUsed = (id) => {\r\n        axiosInstance\r\n            .get(`/items-used/${id}`)\r\n            .then((response) => {\r\n               used_quantity.value= response.data.used_items;\r\n            })\r\n            .catch((error) => {\r\n                showError(error.message);\r\n                console.error(\"Error fetching item used quantity:\", error);\r\n            });\r\n    };\r\n\r\n\r\nconst transaction_remark_id = ref(0);\r\nconst saveTransactionRemark = async () => {\r\n    try {\r\n         const machine_details = machine.value ? 'assigned to ' + machine.value.category + \" \" + machine.value.type + \" \"  + machine.value.name : '';\r\n        const payload = {\r\n            date: new Date().toISOString().split('T')[0],\r\n            remarker_id: JSON.parse(localStorage.getItem(\"user\")).id,\r\n            description: \"Request from LPO number \" + lpo_id.value + \" From budget \" + budget.value.name + \" on \" + budget_category.value.name + \" for \" + item.value.name + \" \" + machine_details,\r\n            remarker: JSON.parse(localStorage.getItem(\"user\")).name,\r\n            budget_item_description_id: item.value.id,\r\n            cost: rate.value * quantity.value,\r\n            status: 'debit',\r\n        };\r\n        const response = await axiosInstance2.post(`budget-remarks`, payload);\r\n        transaction_remark_id.value = response.data.id;\r\n    } catch (error) {\r\n        showError(\"Error adding remark:\", error);\r\n        console.log(error);\r\n    }\r\n};\r\n\r\n\r\n\r\nconst budget_category = ref('');\r\nconst budgetCategoryItems = ref(['']);\r\n   watch(budget_category, (newCat) => {\r\n  if (newCat) {\r\n    budgetCategoryItems.value = newCat.description;\r\n  }\r\n});\r\n\r\n    const getItemListCategory= () => {\r\n        axiosInstance\r\n            .get('/item-list-category')\r\n            .then((response) => {\r\n                if (Array.isArray(response.data)) {\r\n                    item_list_category.value = response.data.map((item) => ({\r\n                        id: item.id,\r\n                        name: item.name,\r\n                    }));\r\n                } else {\r\n                    console.error(\"Invalid response format\");\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error fetching item list category:\", error.message);\r\n            });\r\n    };\r\n\r\n\r\n    const machine = ref('');\r\n    const item_unit = ref('nothing');\r\n    const specification = ref('')\r\nconst registerItem = async ()  => {\r\n    const machine_details = machine.value ? 'assigned to ' + machine.value.type + \" \"  + machine.value.category + \" \"  + machine.value.name : '';\r\n    isSending.value = true;\r\n    loading_spinner.value = true;\r\n    await saveTransactionRemark();\r\n    const itemData = {\r\n        budget_id : budget.value.id,\r\n        order_id: lpo_number.value,\r\n        specification : specification.value,\r\n        description: \"From budget \" + budget.value.name + \" on \" + budget_category.value.name + \" for \" + item.value.name + \" \" + machine_details,\r\n        unit_measure: item.value.units ?? '',\r\n        quantity: quantity.value,\r\n        machine_id: machine.value?.id ?? 0,\r\n        rate: rate.value,\r\n        item_list_id: item.value.id ?? '',\r\n        category: budget_category.value.name,\r\n        remark_id: transaction_remark_id.value,\r\n        grn_no : grn_number.value,\r\n        asset_id : item.value.asset_id ?? 0, \r\n    };\r\n  //  console.log(itemData);\r\n  //   return ;\r\n    axiosInstance\r\n        .post('/items', itemData)\r\n        .then((response) => {\r\n            getItems();\r\n            isSending.value = false;\r\n            loading_spinner.value = false;\r\n            if (response.status === 201) {\r\n                clearItemForm();\r\n                showMessage('Item registered successfully');\r\n            } else {\r\n                showError('Error registering item');\r\n                console.error(\"Error registering Item:\", response.data);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            showError(error.message);\r\n            console.error(\"Error registering Order:\", error);\r\n        });\r\n};\r\n\r\n\r\n    const deleteItemRemark = (id) => {\r\n        axiosInstance2.delete(`/budget-remarks/${id}`)\r\n    };\r\n\r\n    const deleteItem = (id,remark_id) => {\r\n        loading_spinner.value = true;\r\n   if (confirm(\"Are you sure you want to delete this item?\")) {\r\n              deleteItemRemark(remark_id);\r\n                  axiosInstance\r\n            .delete(`/items/${id}`)\r\n            .then((response) => {\r\n                getItems();\r\n                loading_spinner.value = false;\r\n                if (response.status === 200) {\r\n                   showMessage('Item Deleted successfully');\r\n                } else {\r\n                    showError('Fail to Delete item');\r\n                    console.error(\"Error deleting item :\", response.data.message);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n               showError(\"Error registering Order:\", error.message);\r\n               console.error(error);\r\n            });  \r\n    \r\n   }\r\n    };\r\n \r\n    const clearItemForm = () => {\r\n        isSending.value = false;\r\n        description.value = '';\r\n        unit.value = '';\r\n        quantity.value = '';\r\n        rate.value = '';\r\n        item_list_id.value = '';\r\n        machine.value = '';\r\n        item_category.value = '';\r\n        budget.value = '';\r\n        machine_field.value = false;\r\n        budget_category.value = '';\r\n        item.value = '';\r\n        used_quantity.value = '';\r\n        specification.value = ''\r\n    };\r\n\r\n\r\n\r\nconst openDeleteModal = (id) => {\r\n  lpoToDelete.value = id;\r\n  showDeleteModal.value = true;\r\n};\r\n\r\nconst closeDeleteModal = () => {\r\n  showDeleteModal.value = false;\r\n  deleteReason.value = '';\r\n  lpoToDelete.value = null;\r\n};\r\n\r\nconst confirmDelete = async () => {\r\n  if (!deleteReason.value.trim()) {\r\n    showError(error.message);\r\n    return;\r\n  }\r\n\r\n  try {\r\n    loading_spinner.value = true;\r\n    \r\n    const now = new Date();\r\n    const mysqlFormattedDate = now.toISOString().slice(0, 19).replace('T', ' ');\r\n    \r\n    const deleteData = {\r\n      deleted: 1,\r\n      deleted_reason: deleteReason.value,\r\n      deleted_date: mysqlFormattedDate, \r\n      deleted_by: JSON.parse(localStorage.getItem(\"user\")).name\r\n    };\r\n\r\n    const response = await axiosInstance.patch(`/purchase-order/${lpoToDelete.value}`, deleteData);\r\n    \r\n    if (response.status === 200) {\r\n      showMessage(\"LPO  deleted successfully\");\r\n      getPurchaseOrders();\r\n    } else {\r\n      showError(error.message);\r\n    }\r\n  } catch (error) {\r\n    showError( error.message);\r\n    console.error(\"Error deleting LPO:\", error);\r\n  } finally {\r\n    loading_spinner.value = false;\r\n    closeDeleteModal();\r\n  }\r\n};\r\n\r\n\r\n    //25 june 2025\r\n\r\nconst getItems = async () => {\r\n    loading.value = true;\r\n    try {\r\n        const response = await axiosInstance.get(`/order-items/${lpo_number.value}`);\r\n        if (response.data && Array.isArray(response.data)) {\r\n            total_amount.value = response.data.reduce((sum, order) => {\r\n                return sum + (order.quantity * order.rate);\r\n            }, 0);\r\n\r\n            isOpen.value = response.data.length === 0;\r\n\r\n            lpo_items.value = response.data.map((order, index) => ({\r\n                SNo: index + 1,\r\n                category: order.category,\r\n                id: order.id,\r\n                description: order.description,\r\n                type: order.machine?.type ?? '---',\r\n                spec: order.specification ?? '---',\r\n                units: order.unit_measure,\r\n                quantity: order.quantity.toLocaleString(),\r\n                rate: Number(order.rate).toLocaleString(),\r\n                amount: (order.quantity * order.rate).toLocaleString(undefined, { maximumFractionDigits: 3 })\r\n            }));\r\n\r\n            return response.data; // âœ… RETURN RAW DATA or lpo_items.value\r\n        } else {\r\n            console.error(\"Invalid response format\");\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error fetching purchase order: \", error);\r\n    } finally {\r\n        loading.value = false;\r\n    }\r\n\r\n    return []; // fallback\r\n};\r\n\r\nconst getApprovalStatus = async () => {\r\n    try {\r\n        const response = await axiosInstance.get(`/approval-check-status/${lpo_number.value}`);\r\n        if (response.data && typeof response.data === 'object') {\r\n            approval_status_data.value = response.data;\r\n            spinner.value = false;\r\n            return response.data; // âœ… ADD THIS\r\n        } else {\r\n            console.error(\"Invalid response format\");\r\n            return null;\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error fetching approval status: \", error);\r\n        return null;\r\n    }\r\n};\r\n\r\n  const grn = ref({})\r\nconst getGrn = async (id) => {\r\n  try {\r\n    const response = await axiosInstance.get(`/good-received-notes/${id}`);\r\n    if (response.data && Object.keys(response.data).length > 0) {\r\n      return response.data;\r\n    } else {\r\n      return null; // No data found\r\n    }\r\n  } catch (error) {\r\n    return null; // Error or no data\r\n  }\r\n};\r\n\r\n\r\nconst formatDate = (date) => {\r\n  const d = new Date(date);\r\n  return d.toISOString().split('T')[0]; // gives YYYY-MM-DD\r\n};\r\n\r\nconst loader = ref(0)\r\nconst printLpo = async (lpo) => {\r\n  loader.value = lpo.id \r\n  lpo_number.value = lpo.id\r\n  grn_number.value = lpo.grn_no\r\n  const changed_date = \"2025-12-12\";\r\n  const lpo_items = (await getItems()) || [];\r\n  const approvalStatus = (await getApprovalStatus()) || {};\r\n  const grnData = (await getGrn(lpo.grn_no)) || {};\r\n  loader.value = 0\r\n  const iframe = document.createElement(\"iframe\");\r\n  iframe.style.display = \"none\";\r\n  document.body.appendChild(iframe);\r\n\r\n  const dateParts = lpo.date.split(\"-\");\r\n  const formattedDate = `${dateParts[1]}/${dateParts[2].slice(-2)}`;\r\n\r\n  const getStatusHtml = (val, role) => {\r\n    if (role === \"Prepared By\") {\r\n      return val === 1\r\n        ? `<td style=\"color: green; font-weight: bold;text-align:center\"\">Checked</td>`\r\n        : `<td style=\"color: red; font-weight: bold;text-align:center\"\">Unchecked</td>`;\r\n    }\r\n    if (role === \"Checked By\") {\r\n      return val === 1\r\n        ? `<td style=\"color: green; font-weight: bold;text-align:center\">Checked</td>`\r\n        : `<td style=\"color: red; font-weight: bold;text-align:center\"\">Unchecked</td>`;\r\n    }\r\n    if (role === \"Verified By\") {\r\n      return val === 1\r\n        ? `<td style=\"color: green; font-weight: bold;text-align:center\"\">Verified</td>`\r\n        : `<td style=\"color: red; font-weight: bold;text-align:center\"\">Unverified</td>`;\r\n    }\r\n    if (role === \"Approved By\") {\r\n      return val === 1\r\n        ? `<td style=\"color: green; font-weight: bold;text-align:center\"\">Approved</td>`\r\n        : `<td style=\"color: red; font-weight: bold;text-align:center\"\">Unapproved</td>`;\r\n    }\r\n    return `<td style=\"color: gray;\">Unchecked</td>`;\r\n  };\r\n\r\n  const printContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>Print LPO</title>\r\n<style>\r\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\r\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\r\n  .logo { width: 160px; height: auto; }\r\n  .lpo-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 13px; text-align: center; margin-left: auto; border-radius: 5px; }\r\n  .company-title { text-align: center; margin-top: 10px; }\r\n  .company-title h2 { margin: 5px 0; }\r\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\r\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\r\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\r\n  table.details td, table.items th, table.items td, .signatures th, .signatures td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\r\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\r\n  table tr:first-child th:first-child, table tr:first-child td:first-child { border-top-left-radius: 8px; }\r\n  table tr:first-child th:last-child, table tr:first-child td:last-child { border-top-right-radius: 8px; }\r\n  table tr:last-child td:first-child { border-bottom-left-radius: 8px; }\r\n  table tr:last-child td:last-child { border-bottom-right-radius: 8px; }\r\n  .goods-received { border: 1px solid #000; padding: 10px; margin-top: 30px; font-size: 13px; border-radius: 10px; }\r\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\r\n</style>\r\n</head>\r\n<body>\r\n<div class=\"header\">\r\n  <img src=\"https://bushman.ink/copex.jpg\" class=\"logo\" />\r\n  <div class=\"lpo-box\">\r\n    LPO NO:<br>\r\n    <span style=\"color:red;\">${(\"0000\" + lpo.id).slice(-4)} /${formattedDate}</span>\r\n  </div>\r\n</div>\r\n<div class=\"reg-info\">\r\n  TIN: 135-489-247<br>\r\n  VRN: 40-032826C\r\n</div>\r\n<div class=\"company-title\">\r\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\r\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\r\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\r\n</div>\r\n<div class=\"section-title\">PURCHASE ORDER</div>\r\n<table class=\"details\">\r\n  <tr>\r\n    <td><strong>Supplier's Name:</strong> ${lpo.supplier}</td>\r\n    <td><strong>Date:</strong> ${lpo.date}</td>\r\n  </tr>\r\n  <tr>\r\n    <td><strong>Address:</strong> ${lpo.location}</td>\r\n    <td><strong>Payment Terms:</strong> ${lpo.payment}</td>\r\n  </tr>\r\n  <tr>\r\n    <td><strong>Project Name:</strong> ${lpo.project}</td>\r\n    <td><strong>Location:</strong> ${lpo.location}</td>\r\n  </tr>\r\n</table>\r\n<p><strong>Please Supply the goods as per details below</strong></p>\r\n<table class=\"items\">\r\n  <thead>\r\n    <tr>\r\n      <th>SN</th>\r\n      <th>Description of Goods</th>\r\n      <th>Spec</th>\r\n      <th>Units</th>\r\n      <th>Quantity</th>\r\n      <th>Rate</th>\r\n      <th>Amount</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    ${lpo_items\r\n      .map(\r\n        (item, index) => `\r\n    <tr>\r\n      <td >${index + 1}</td>\r\n      <td>${item.description}</td>\r\n      <td>${item.specification ?? '---'}</td>\r\n      <td>${item.unit_measure}</td>\r\n      <td style=\"text-align:right\">${parseFloat(item.quantity).toFixed(2)}</td>\r\n      <td style=\"text-align:right\">${parseFloat(item.rate).toLocaleString()}/=</td>\r\n      <td style=\"text-align:right\">${(item.quantity * item.rate).toLocaleString()}/=</td>\r\n    </tr>\r\n    `\r\n      )\r\n      .join(\"\")}\r\n    <tr>\r\n      <td colspan=\"6\" style=\"text-align:right;\"><strong>TOTAL</strong></td>\r\n      <td><strong>${lpo_items\r\n        .reduce((sum, item) => sum + item.quantity * item.rate, 0)\r\n        .toLocaleString()}</strong></td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n<table class=\"signatures\" style=\"margin-top: 20px;\">\r\n  <thead>\r\n    <tr>\r\n      <th>Prepared By</th>\r\n      <th>Checked By</th>\r\n      <th>Verified By</th>\r\n      <th>Approved By</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr>\r\n      ${getStatusHtml(approvalStatus.operation_department, \"Prepared By\")}\r\n      ${getStatusHtml(approvalStatus.engineer, \"Checked By\")}\r\n      ${getStatusHtml(approvalStatus.senior_accountant, \"Verified By\")}\r\n      ${getStatusHtml(approvalStatus.managing_director, \"Approved By\")}\r\n    </tr>\r\n    <tr>\r\n      <td style=\"text-align:center\">Operation's Dept</td>\r\n      <td style=\"text-align:center\">Engineer</td>\r\n      <td style=\"text-align:center\">Sr.Accountant</td>\r\n      <td style=\"text-align:center\">MD</td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n${grnData ? `\r\n<div class=\"goods-received\" style=\"border: 1px solid #000; padding: 15px; margin-top: 20px; border-radius: 8px; font-size: 13px;\">\r\n  <strong>Details of Goods Received</strong>\r\n  <table style=\"width: 100%; margin-top: 10px; font-size: 13px; border-collapse: collapse; border: 1px solid #000; text-align: center;\">\r\n    <thead>\r\n      <tr>\r\n        <th style=\"padding: 8px; border: 1px solid #000; background-color: #f2f2f2;\">GRN No</th>\r\n        <th style=\"padding: 8px; border: 1px solid #000; background-color: #f2f2f2;\">Receiver</th>\r\n        <th style=\"padding: 8px; border: 1px solid #000; background-color: #f2f2f2;\">Received Date</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n      <td style=\"padding: 8px; border: 1px solid #000;\">GRN-00${grnData.id ?? 'N/A'}</td>\r\n      <td style=\"padding: 8px; border: 1px solid #000;\">${grnData.receiver?.name || 'No Reveiver yet'}</td>\r\n      <td style=\"padding: 8px; border: 1px solid #000;\">${grnData.updated_at ? formatDate(grnData.updated_at) : 'N/A'}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <div style=\"margin-top: 10px; border-top: 1px solid #000; padding-top: 10px;\">\r\n    <strong>Receiver Remarks:</strong><br>\r\n    ${grnData.remarks || \"No remarks\"}\r\n  </div>\r\n</div>\r\n` : `\r\n<div class=\"goods-received\" style=\"border: 1px solid #000; padding: 15px; margin-top: 20px; border-radius: 8px; font-size: 13px; text-align: center;\">\r\n  <strong>No GRN data found.</strong>\r\n</div>\r\n`}\r\n\r\n\r\n</body>\r\n</html>\r\n`;\r\n\r\n  const iframeDoc = iframe.contentWindow.document;\r\n  iframeDoc.open();\r\n  iframeDoc.write(printContent);\r\n  iframeDoc.close();\r\n\r\n  iframe.onload = () => {\r\n    iframe.contentWindow.focus();\r\n    iframe.contentWindow.print();\r\n    setTimeout(() => {\r\n      document.body.removeChild(iframe);\r\n    }, 1000);\r\n  };\r\n};\r\n\r\n    onMounted(() => {\r\n        getPurchaseOrders();\r\n        getProjects();\r\n        fetchNotifications();\r\n        fetchMachines();\r\n        watch(order_status, (newValue) => {\r\n           \r\n           if  (newValue === 'Inactive') {\r\n               isActive.value= false\r\n               \r\n                  }\r\n           else{\r\n            isActive.value= true;\r\n           }\r\n       });\r\n    });\r\n\r\n</script>","import script from \"./preview2.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./preview2.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./preview2.vue?vue&type=style&index=0&id=50923b12&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useMeta","title","readRemark","async","remarkStatus","JSON","parse","localStorage","getItem","name","axiosInstance","put","id","showMessage","fetchNotifications","error","showError","message","console","showRemarkModal","ref","inject","printLpoReport","whatsappNotification","whatsappNotification2","add_vendor","order_registration","columns","items","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","searchable","unlock","showDeleteModal","deleteReason","lpoToDelete","isfetching","showLpoRemark","notification_count","notifications","selected_project","user_permissions","permissions","company_id","selected_company_id","selected_status","loading_spinner","supplier_name","supplier_address","supplier_location","payment_terms","project_name","vendor_id","is_admin","vendors","isSending","is_editor","Vendor_name","Vendor_phone","Vendor_email","Vendor_address","Vendor_location","is_closed","order_status","user_id","role","print_url","process","axios","baseURL","axiosInstance2","VUE_APP_API_BASE_URL2","newremark","remarks","item","isLoading","saveRemark","value","trim","lpo_id","lpo_number","remarkData","remarker_id","description","status","type_id","remark_type","remarker","response","post","data","push","log","fetchRemarks","get","Array","isArray","unchecked_count","openRemarkModal","closeRemarkModal","handleVendorChange","event","target","clearForm","budgetCategory","budget","registerPurchaseOrder","includes","registerVendor","purchaseOrderData","supplier","address","project_id","project","location","requested_by","status_name","status_color","getPurchaseOrders","VendorData","phone","email","getVendors","filteredData","order","map","index","SNo","grn_no","LPO_number","String","padStart","date_created","slice","date","project_aka","payment","requester","awaits","key","class","projects","getProjects","Show_editing_modal","openEditModal","row","closeEditModal","updatePurchaseOrder","patch","is_copex","is_bushman","total_amount","lpo_items","item_columns","showlpoModal","loading","isActive","approval_status_data","item_list_category","isFuel","is_items","item_list_id","item_category","description_of_lpo","machines","unit","budgets","machine_field","quantity","rate","items_list","isOpen","amount","approval_status","spinner","watch","grn_number","openLpoModal","getBudgets","getItemListCategory","getItems","pop","getApprovalStatus","closeLpoModal","clearItemForm","getItemsList","filterdata","category_id","unit_measure","approveCheck","approveUnCheck","activatePurchaseOrder","activationData","confirm","then","catch","handleDescriptionChange","item_number","fetchMachines","machine","type","type_name","category","error_message","finally","budget_items","newVal","item_description","sub_item","asset_id","units","cost","quantity_2","total","newItem","getItemsUsed","used_quantity","used_items","transaction_remark_id","saveTransactionRemark","machine_details","payload","Date","toISOString","split","budget_category","budget_item_description_id","budgetCategoryItems","newCat","specification","registerItem","itemData","budget_id","order_id","machine_id","remark_id","deleteItemRemark","delete","deleteItem","openDeleteModal","closeDeleteModal","confirmDelete","now","mysqlFormattedDate","replace","deleteData","deleted","deleted_reason","deleted_date","deleted_by","reduce","sum","length","spec","toLocaleString","Number","undefined","maximumFractionDigits","getGrn","Object","keys","formatDate","d","loader","printLpo","lpo","approvalStatus","grnData","iframe","document","createElement","style","display","body","appendChild","dateParts","formattedDate","getStatusHtml","val","printContent","parseFloat","toFixed","join","operation_department","engineer","senior_accountant","managing_director","receiver","updated_at","iframeDoc","contentWindow","open","write","close","onload","focus","print","setTimeout","removeChild","onMounted","newValue","__exports__"],"sourceRoot":""}