{"version":3,"file":"js/2076.5a95d623.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/masters/inquiry.vue","webpack://cork-vue3/./src/views/masters/inquiry.vue?c0ce"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">  \r\n        <!-- Your existing navbar and header code remains the same -->\r\n        <ul class=\"navbar-nav flex-row mt-2\">\r\n            <li>\r\n                <div class=\"page-header\">\r\n                    <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                        <ol class=\"breadcrumb\">\r\n                            <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Masters</a></li>\r\n                            <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Support Request</span></li>\r\n                        </ol>\r\n                    </nav>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n\r\n        <div class=\"d-flex me-4 mt-2 \">\r\n            <div class=\"ms-auto\">\r\n                <button \r\n                    class=\"btn btn-info  mx-2\" \r\n                    @click=\"openRemarkModal()\" \r\n                    title=\"Inquary\"\r\n                    data-bs-toggle=\"modal\" \r\n                    data-bs-target=\"#inquary\">\r\n                    &nbsp;Create Inquiry \r\n                </button>\r\n            </div>\r\n        </div>  \r\n\r\n        <!-- Your existing table code remains the same -->\r\n        <div class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n                        <v-client-table v-else :data=\"remarks\" :columns=\"columns\" :options=\"table_option\">\r\n                            <template #status=\"props\">\r\n                                <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status_color\">\r\n                                    {{ props.row.status_name }}\r\n                                </span>\r\n                            </template>\r\n                            <template #actions=\"props\">\r\n                                <a href=\"javascript:void(0);\" title=\"View\" @click=\"openSupportModal(props.row)\" >\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        width=\"24\"\r\n                                        height=\"24\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                        fill=\"none\"\r\n                                        stroke=\"currentColor\"\r\n                                        stroke-width=\"1.5\"\r\n                                        stroke-linecap=\"round\"\r\n                                        stroke-linejoin=\"round\"\r\n                                        class=\"text-info\"\r\n                                        data-bs-toggle=\"modal\" data-bs-target=\"#request_support\"\r\n                                       v-if=\"props.row.status_id != 12 && props.row.tagged_user_ids.includes(user_id)\"\r\n\r\n                                    >\r\n                                        <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\r\n                                        <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\r\n                                    </svg>\r\n                                </a>\r\n\r\n                                <svg v-if=\"props.row.status_id == 12\" xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-check2-all\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M12.354 4.354a.5.5 0 0 0-.708-.708L5 10.293 1.854 7.146a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0zm-4.208 7-.896-.897.707-.707.543.543 6.646-6.647a.5.5 0 0 1 .708.708l-7 7a.5.5 0 0 1-.708 0\"/>\r\n  <path d=\"m5.354 7.146.896.897-.707.707-.897-.896a.5.5 0 1 1 .708-.708\"/>\r\n</svg>\r\n                            </template>\r\n                            <template #tagged_users=\"props\">\r\n  <span v-if=\"props.row.tagged_users && props.row.tagged_users.length\">\r\n    {{ props.row.tagged_users.map(u => u.user_name).join(', ') }}\r\n  </span>\r\n  <span v-else class=\"text-muted\">-</span>\r\n</template>\r\n                            \r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Updated Remark Modal with centered user mention popup -->\r\n                <div class=\"modal fade mymodal\" id=\"inquary\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n                <div class=\"modal-dialog modal-xl\">\r\n                    <div class=\"modal-content\">\r\n                        <div class=\"modal-header\">\r\n                            <h5 class=\"modal-title\">System Inquiry Form</h5>\r\n                            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"closeRemarkModal()\" id=\"close\"></button>\r\n                        </div>\r\n                        \r\n                        <div class=\"modal-body flex-grow-1 p-3 p-md-4 bg-light\" style=\"overflow-y: auto;\">\r\n                            <form @submit.prevent=\"saveRemark\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-12 mb-3\">\r\n                                        <label class=\"form-label fw-semibold mb-2\">\r\n                                            ðŸ’¬ Type your inquiry and mention users with @\r\n                                        </label>\r\n                                        <div class=\"mention-container position-relative\">\r\n                                            <textarea \r\n                                                ref=\"remarkTextarea\"\r\n                                                v-model=\"newremark\" \r\n                                                class=\"form-control mention-textarea\" \r\n                                                rows=\"6\" \r\n                                                placeholder=\"Type your inquiry here... Use @ to mention users (type @ followed by username)\"\r\n                                                @input=\"handleTextareaInput\"\r\n                                                @keydown=\"handleKeydown\"\r\n                                                @click=\"handleTextareaClick\"\r\n                                            ></textarea>\r\n                                            \r\n                                            <!-- Centered User suggestions popup -->\r\n                                            <div \r\n                                                v-if=\"showUserSuggestions\" \r\n                                                class=\"user-suggestions-popup\"\r\n                                                :style=\"suggestionPosition\"\r\n                                            >\r\n                                                <div class=\"popup-content\">\r\n                                                    <div class=\"popup-header\">\r\n                                                        <h6 class=\"mb-0\">Select User to Mention</h6>\r\n                                                        <button \r\n                                                            type=\"button\" \r\n                                                            class=\"btn-close btn-close-sm\" \r\n                                                            @click=\"closeUserSuggestions\"\r\n                                                        ></button>\r\n                                                    </div>\r\n                                                    <div class=\"popup-body\">\r\n                                                        <div class=\"search-container mb-2\">\r\n                                                            <input\r\n                                                                ref=\"userSearchInput\"\r\n                                                                type=\"text\"\r\n                                                                class=\"form-control form-control-sm\"\r\n                                                                placeholder=\"Search users...\"\r\n                                                                v-model=\"currentSearchTerm\"\r\n                                                                @input=\"filterUsers\"\r\n                                                                @keydown=\"handleSearchKeydown\"\r\n                                                            />\r\n                                                        </div>\r\n                                                        <div class=\"users-list\">\r\n                                                            <div \r\n                                                                v-for=\"(user, index) in filteredUsers\" \r\n                                                                :key=\"user.id\"\r\n                                                                class=\"user-item cursor-pointer\"\r\n                                                                :class=\"{ \r\n                                                                    'active': selectedSuggestionIndex === index\r\n                                                                }\"\r\n                                                                @click=\"selectUser(user)\"\r\n                                                            >\r\n                                                                <div class=\"user-avatar me-2\">\r\n                                                                    {{ getUserInitials(user.name) }}\r\n                                                                </div>\r\n                                                                <div class=\"user-info flex-grow-1\">\r\n                                                                    <div class=\"user-name fw-medium\">{{ user.name }}</div>\r\n                                                                    <div class=\"user-email text-muted small\">{{ user.email }}</div>\r\n                                                                </div>\r\n                                                                <div v-if=\"user.isSelected\" class=\"selected-indicator text-success\">\r\n                                                                    âœ“\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div v-if=\"filteredUsers.length === 0\" class=\"no-users text-center text-muted py-3\">\r\n                                                                No users found\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div class=\"popup-footer\">\r\n                                                        <small class=\"text-muted\">\r\n                                                            Use â†‘â†“ to navigate, Enter to select, Esc to close\r\n                                                        </small>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"form-text\">\r\n                                            Type @ followed by username to mention users. They will be notified.\r\n                                            <span v-if=\"mentionedUsers.length > 0\" class=\"text-info ms-2\">\r\n                                                Mentioned: {{ mentionedUsers.map(u => u.name).join(', ') }}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"d-flex justify-content-end gap-2\">\r\n                                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" @click=\"closeRemarkModal()\" id=\"close\">\r\n                                        Close\r\n                                    </button>\r\n                                    <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isSending || !newremark.trim()\">\r\n                                        <span v-if=\"isSending\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n                                        <span v-else>Save</span>\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n      \r\n\r\n        <!-- Your existing support request modal remains the same -->\r\n        <div class=\"modal fade mymodal\" id=\"request_support\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog modal-xl\">\r\n                <div class=\"modal-content\">\r\n                    <!-- Header -->\r\n                    <div class=\"modal-header\">\r\n                        <h1 class=\"modal-title fs-5\" id=\"staticBackdropLabel\"> Inquiry Details</h1>\r\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"clearForm()\" id=\"close\"></button>\r\n                    </div>\r\n\r\n                    <!-- Body -->\r\n                    <div class=\"modal-body\">\r\n                        <!-- Info Card about the sent text -->\r\n                        <div class=\"card shadow mb-4\">\r\n                            <div class=\"card-body\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-12 mb-2 text-start\">\r\n                                        <strong>Sender:</strong> \r\n                                        <span class=\"ms-2\">{{ remarks.find(r => r.id === selectedRemarkId)?.sender_name || 'N/A' }}</span>\r\n                                    </div>\r\n                                    <div class=\"col-md-12 mb-2 text-start\">\r\n                                        <strong>Request Date:</strong> \r\n                                        <span class=\"ms-2\">{{ remarks.find(r => r.id === selectedRemarkId)?.date || 'N/A' }}</span>\r\n                                    </div>\r\n                                    <div class=\"col-md-12 mb-2 text-start\">\r\n                                        <strong>Description:</strong>\r\n                                        <p class=\"mt-2 p-3 bg-light rounded text-start\">\r\n                                            {{ remarks.find(r => r.id === selectedRemarkId)?.description || 'No description available' }}\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"d-flex justify-content-center\">\r\n                            <button class=\"btn btn-success me-2\" @click=\"status = 12\">Fix</button>\r\n                            <button class=\"btn btn-warning me-2\" @click=\"status = 17\" v-if=\"selectedRemarkStatus != 17\">On Hold</button>\r\n                            <button class=\"btn btn-primary me-2\" @click=\"status = 14\" v-if=\"selectedRemarkStatus != 14\">Remark</button>\r\n                        </div>\r\n\r\n                        <div class=\"mb-2 my-4 d-flex justify-content-center\">\r\n                            <span class=\"badge rounded-pill\" :class=\"{\r\n                                'bg-success': status == 12,\r\n                                'bg-warning': status == 17,\r\n                                'bg-primary': status == 14,\r\n                            }\" style=\"font-size: 1rem;\">\r\n                                {{\r\n                                    status == 12 ? 'Fix Request' :\r\n                                    status == 17 ? 'Hold Request' :\r\n                                    status == 14 ? 'Remark Request' : 'Unknown'\r\n                                }}\r\n                            </span>\r\n                        </div>\r\n\r\n                        <div class=\"input-group\" v-if=\"status == 12 || status == 17 || status == 14\">\r\n                            <input type=\"text\" class=\"form-control\" :placeholder=\"status == 12 ? 'Enter Fix Remark' : status == 17 ? 'Enter Hold Remark' : 'Enter Remark'\" v-model=\"remarkInput\" @keyup.enter=\"updateStatus(selectedRemarkId)\">\r\n                            <button class=\"btn btn-primary\" @click=\"updateStatus(selectedRemarkId)\" :disabled=\"spinner\">\r\n                                <span v-if=\"spinner\" class=\"spinner-border spinner-border-sm me-1\"></span>\r\n                                Save \r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" @click=\"clearForm\" id=\"close_modal\">Close</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n\r\n<script setup>\r\n    import { onMounted, ref, inject, nextTick, computed } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    \r\n    useMeta({ title: 'Custom Table' });\r\n\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n    \r\n    const selectedRemarkStatus = ref(null);\r\n    const tableShimmer = inject('tableShimmer');\r\n    const user_id = JSON.parse(localStorage.getItem(\"user\")).id;\r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n    const formatDate = inject('formatDate');\r\n    const remarks = ref([]);\r\n    const isSending = ref(false);\r\n    const showRemarkModal = ref(false);\r\n    const loading_spinner = ref(false);\r\n    const isfetching = ref(false);\r\n    const columns = ref(['SNo', 'sender','attendant','description','tagged_users', 'remark','date','status', 'actions']);\r\n    const table_option = ref({\r\n        perPage: 10,\r\n        perPageValues: [10, 20, 50],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['SNo', 'sender_name','description','status'],\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n    const remarkTextarea = ref(null);\r\n    const userSearchInput = ref(null);\r\n    const showUserSuggestions = ref(false);\r\n    const filteredUsers = ref([]);\r\n    const selectedSuggestionIndex = ref(0);\r\n    const currentMentionStart = ref(-1);\r\n    const currentSearchTerm = ref('');\r\n    const cursorPosition = ref(0);\r\n\r\n    const mentionedUsers = computed(() => {\r\n        const text = newremark.value;\r\n        const mentionedUsers = [];\r\n        const mentionRegex = /@([^\\s@]+)/g;\r\n        let match;\r\n        \r\n        while ((match = mentionRegex.exec(text)) !== null) {\r\n            const mentionedUsername = match[1];\r\n            const user = users.value.find(u => \r\n                u.name.toLowerCase() === mentionedUsername.toLowerCase()\r\n            );\r\n            if (user && !mentionedUsers.find(u => u.id === user.id)) {\r\n                mentionedUsers.push(user);\r\n            }\r\n        }\r\n        return mentionedUsers;\r\n    });\r\n\r\n    const suggestionPosition = computed(() => {\r\n        if (!remarkTextarea.value) return {};\r\n        \r\n        const textarea = remarkTextarea.value;\r\n        const textareaRect = textarea.getBoundingClientRect();\r\n        const modalRect = textarea.closest('.modal-content').getBoundingClientRect();\r\n        \r\n        const textareaCenterX = textareaRect.left + (textareaRect.width / 2);\r\n        const textareaCenterY = textareaRect.top + (textareaRect.height / 2);\r\n        \r\n        const popupLeft = textareaCenterX - modalRect.left - 200; \r\n        const popupTop = textareaCenterY - modalRect.top - 150; \r\n        \r\n        return {\r\n            left: `${Math.max(10, Math.min(popupLeft, modalRect.width - 410))}px`,\r\n            top: `${Math.max(10, Math.min(popupTop, modalRect.height - 310))}px`\r\n        };\r\n    });\r\n\r\n    const getUserInitials = (name) => {\r\n        return name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);\r\n    };\r\n\r\n    const openRemarkModal = () => {\r\n        showRemarkModal.value = true;\r\n        nextTick(() => {\r\n            if (remarkTextarea.value) {\r\n                remarkTextarea.value.focus();\r\n            }\r\n        });\r\n    };\r\n\r\n    const closeRemarkModal = () => {\r\n        showRemarkModal.value = false;\r\n        newremark.value = '';\r\n        showUserSuggestions.value = false;\r\n        filteredUsers.value = [];\r\n        currentMentionStart.value = -1;\r\n        currentSearchTerm.value = '';\r\n    };\r\n\r\n    const closeUserSuggestions = () => {\r\n        showUserSuggestions.value = false;\r\n        currentMentionStart.value = -1;\r\n        currentSearchTerm.value = '';\r\n        nextTick(() => {\r\n            if (remarkTextarea.value) {\r\n                remarkTextarea.value.focus();\r\n            }\r\n        });\r\n    };\r\n\r\nconst fetchRemarks = async () => {\r\n    loading_spinner.value = true;\r\n    isLoading.value = true;\r\n\r\n    try {\r\n        // Step 1: Fetch data\r\n        const response = await axiosInstance.get(`inquiry-remarks?remark_type=inquiry`);\r\n\r\n        // Step 2: Map the data (without SNo)\r\n        let allRemarks = response.data.data.map(item => ({\r\n            ...item,\r\n            sender: item.sender_name,\r\n            attendant: item.attendant_name,\r\n            date: formatDate(item.created_at),\r\n            remark: item.remark,\r\n            status_name: item.status?.name,\r\n            status_color: item.status?.color,\r\n            status_id: item.status?.id,\r\n            tagged_user_ids: item.tagged_users?.map(u => u.user_id) || []\r\n        }));\r\n\r\n        // Step 3: Sort array\r\n        allRemarks.sort((a, b) => {\r\n            const aTagged = a.tagged_user_ids.includes(user_id);\r\n            const bTagged = b.tagged_user_ids.includes(user_id);\r\n\r\n            const aNoTagFromSpecial = (!a.tagged_user_ids.length && [8, 39].includes(a.remarker_id));\r\n            const bNoTagFromSpecial = (!b.tagged_user_ids.length && [8, 39].includes(b.remarker_id));\r\n\r\n            // 1ï¸âƒ£ Priority: tagged to current user\r\n            if (aTagged && !bTagged) return -1;\r\n            if (!aTagged && bTagged) return 1;\r\n\r\n            // 2ï¸âƒ£ Priority: no tagged users and remarker_id = 8 or 39\r\n            if (aNoTagFromSpecial && !bNoTagFromSpecial) return -1;\r\n            if (!aNoTagFromSpecial && bNoTagFromSpecial) return 1;\r\n\r\n            // 3ï¸âƒ£ Fallback: newest first\r\n            return b.id - a.id;\r\n        });\r\n\r\n        // Step 4: Assign SNo AFTER sorting\r\n        allRemarks = allRemarks.map((item, index) => ({\r\n            ...item,\r\n            SNo: index + 1\r\n        }));\r\n\r\n        // Step 5: Update reactive state\r\n        remarks.value = allRemarks;\r\n\r\n    } catch (error) {\r\n        console.error(\"Error fetching remarks:\", error);\r\n        showError(\"Failed to load remarks\");\r\n    } finally {\r\n        loading_spinner.value = false;\r\n        isLoading.value = false;\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n    const users = ref([]);\r\n\r\n    const fetchUsers = async () => {\r\n        try {\r\n            const response = await axiosInstance.get('users');\r\n            users.value = response.data.map(user => ({\r\n                ...user,\r\n                isSelected: false\r\n            }));\r\n        } catch (error) {\r\n            showError(error.message);\r\n        }\r\n    };\r\n\r\n    const newremark = ref('');\r\n    const isLoading = ref(false);\r\n\r\n    const handleTextareaInput = (event) => {\r\n        const text = newremark.value;\r\n        cursorPosition.value = remarkTextarea.value.selectionStart;\r\n        \r\n        const textBeforeCursor = text.substring(0, cursorPosition.value);\r\n        const lastAtSymbol = textBeforeCursor.lastIndexOf('@');\r\n        \r\n        if (lastAtSymbol !== -1) {\r\n            const textAfterAt = textBeforeCursor.substring(lastAtSymbol + 1);\r\n            const spaceAfterAt = textAfterAt.indexOf(' ');\r\n            \r\n            if (spaceAfterAt === -1 || spaceAfterAt > textAfterAt.length) {\r\n                currentMentionStart.value = lastAtSymbol;\r\n                currentSearchTerm.value = textAfterAt.toLowerCase();\r\n                \r\n                filterUsers();\r\n                showUserSuggestions.value = true;\r\n                selectedSuggestionIndex.value = 0;\r\n\r\n                nextTick(() => {\r\n                    if (userSearchInput.value) {\r\n                        userSearchInput.value.focus();\r\n                        userSearchInput.value.select();\r\n                    }\r\n                });\r\n                return;\r\n            }\r\n        }\r\n        \r\n        showUserSuggestions.value = false;\r\n        filteredUsers.value = [];\r\n        currentMentionStart.value = -1;\r\n        currentSearchTerm.value = '';\r\n    };\r\n\r\n    const filterUsers = () => {\r\n        filteredUsers.value = users.value.filter(user => \r\n            user.name.toLowerCase().includes(currentSearchTerm.value) ||\r\n            user.email.toLowerCase().includes(currentSearchTerm.value)\r\n        ).map(user => ({\r\n            ...user,\r\n            isSelected: mentionedUsers.value.some(mentioned => mentioned.id === user.id)\r\n        }));\r\n    };\r\n\r\n    const handleTextareaClick = () => {\r\n        handleTextareaInput();\r\n    };\r\n\r\n    const handleKeydown = (event) => {\r\n        if (showUserSuggestions.value) {\r\n            switch (event.key) {\r\n                case 'Escape':\r\n                    closeUserSuggestions();\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleSearchKeydown = (event) => {\r\n        switch (event.key) {\r\n            case 'ArrowDown':\r\n                event.preventDefault();\r\n                selectedSuggestionIndex.value = \r\n                    (selectedSuggestionIndex.value + 1) % filteredUsers.value.length;\r\n                break;\r\n                \r\n            case 'ArrowUp':\r\n                event.preventDefault();\r\n                selectedSuggestionIndex.value = \r\n                    selectedSuggestionIndex.value > 0 \r\n                        ? selectedSuggestionIndex.value - 1 \r\n                        : filteredUsers.value.length - 1;\r\n                break;\r\n                \r\n            case 'Enter':\r\n                event.preventDefault();\r\n                if (filteredUsers.value.length > 0) {\r\n                    selectUser(filteredUsers.value[selectedSuggestionIndex.value]);\r\n                }\r\n                break;\r\n                \r\n            case 'Escape':\r\n                event.preventDefault();\r\n                closeUserSuggestions();\r\n                break;\r\n                \r\n            case 'Tab':\r\n                event.preventDefault();\r\n                if (filteredUsers.value.length > 0) {\r\n                    selectUser(filteredUsers.value[selectedSuggestionIndex.value]);\r\n                }\r\n                break;\r\n        }\r\n    };\r\n\r\n    const selectUser = (user) => {\r\n        if (currentMentionStart.value === -1) return;\r\n        \r\n        const text = newremark.value;\r\n        const textBeforeMention = text.substring(0, currentMentionStart.value);\r\n        const textAfterCursor = text.substring(cursorPosition.value);\r\n        \r\n      \r\n        newremark.value = textBeforeMention + '@' + user.name + ' ' + textAfterCursor;\r\n        \r\n        \r\n        closeUserSuggestions();\r\n        \r\n       \r\n        nextTick(() => {\r\n            const newCursorPos = textBeforeMention.length + user.name.length + 2; \r\n            remarkTextarea.value.focus();\r\n            remarkTextarea.value.setSelectionRange(newCursorPos, newCursorPos);\r\n        });\r\n    };\r\n\r\n    const extractMentionedUserIds = () => {\r\n        return mentionedUsers.value.map(user => user.id);\r\n    };\r\n\r\n    const saveRemark = async () => {\r\n        if (!newremark.value.trim()) {\r\n            showError(\"Remark cannot be empty!\");\r\n            return;\r\n        }\r\n        \r\n        const mentionedUserIds = extractMentionedUserIds();\r\n        \r\n        isSending.value = true;\r\n        \r\n        try {\r\n            const remarkData = {\r\n                remarker_id: user_id,\r\n                description: newremark.value,\r\n                type_id: user_id,\r\n                remark: null, \r\n                status_id: 18,\r\n                remark_type: \"inquiry\",\r\n                remarker: JSON.parse(localStorage.getItem(\"user\")).name,\r\n                users: mentionedUserIds,\r\n            };\r\n            \r\n            const response = await axiosInstance.post('remark', remarkData);\r\n            \r\n            if (response.status === 201 || response.status === 200) {\r\n                await addTaggedUsers(response);\r\n                showMessage(\"Inquary submitted successfully\");\r\n                document.getElementById('close').click();\r\n                fetchRemarks();\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n            showError(error.message);\r\n        } finally {\r\n            isSending.value = false;\r\n        }\r\n    };\r\n\r\n    const addTaggedUsers = async (response) => {\r\n        const mentionedUserIds = extractMentionedUserIds();\r\n        const payload = {\r\n            remark_id: response.data.id,\r\n            users: mentionedUserIds,\r\n        };\r\n        \r\n        try {\r\n            await axiosInstance.post(`tagged-users`, payload);\r\n        } catch (error) {\r\n            showError(error.message);\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n\r\n    const status = ref(null);\r\n    const spinner = ref(false);\r\n    const remarkInput = ref('');\r\n\r\n    const updateStatus = async (remarkId) => {\r\n        if (!status.value) {\r\n            showError(\"Please select a status first\");\r\n            return;\r\n        }\r\n\r\n        spinner.value = true;\r\n\r\n        try {\r\n            let remarkText = remarkInput.value?.trim();\r\n            if (!remarkText) {\r\n                if (status.value == 12) remarkText = \"Fixed\";\r\n                else if (status.value == 17) remarkText = \"On Hold\";\r\n                else if (status.value == 14) remarkText = \"Remarked\";\r\n            }\r\n\r\n            const payload = {\r\n                status_id: status.value,\r\n                remark: remarkText,\r\n                attendant_id: JSON.parse(localStorage.getItem(\"user\")).id,\r\n            };\r\n\r\n            const response = await axiosInstance.put(`remark/${remarkId}`, payload);\r\n\r\n            if (response.status === 200) {\r\n                showMessage(\"Status updated successfully\");\r\n                document.getElementById('close_modal').click(); \r\n                fetchRemarks();   \r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n            showError(\"Failed to update status\");\r\n        } finally {\r\n            spinner.value = false;\r\n        }\r\n    };\r\n\r\n    const selectedRemarkId = ref(null);\r\n    const openSupportModal = (remark) => {\r\n        selectedRemarkId.value = remark.id;\r\n        selectedRemarkStatus.value = remark.status_id;\r\n    };\r\n\r\n    const clearForm = () => {\r\n        remarkInput.value = '';\r\n        status.value = null;\r\n    };\r\n\r\n    onMounted(() => {\r\n        fetchRemarks();\r\n        fetchUsers();\r\n    });\r\n</script>\r\n<style scoped>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n    \r\n    .mention-container {\r\n        position: relative;\r\n    }\r\n    \r\n    .mention-textarea {\r\n        min-height: 150px;\r\n        resize: vertical;\r\n        font-size: 14px;\r\n        line-height: 1.5;\r\n    }\r\n    \r\n    /* Centered User Suggestions Popup */\r\n    .user-suggestions-popup {\r\n        position: absolute;\r\n        z-index: 1050;\r\n        background: white;\r\n        border: 1px solid #dee2e6;\r\n        border-radius: 0.5rem;\r\n        box-shadow: 0 0.5rem 2rem rgba(0, 0, 0, 0.15);\r\n        width: 400px;\r\n        max-width: 90vw;\r\n        transform: translateX(-50%);\r\n    }\r\n    \r\n    .popup-content {\r\n        display: flex;\r\n        flex-direction: column;\r\n        max-height: 400px;\r\n    }\r\n    \r\n    .popup-header {\r\n        display: flex;\r\n        justify-content: between;\r\n        align-items: center;\r\n        padding: 0.75rem 1rem;\r\n        border-bottom: 1px solid #dee2e6;\r\n        background: #f8f9fa;\r\n        border-radius: 0.5rem 0.5rem 0 0;\r\n    }\r\n    \r\n    .popup-header h6 {\r\n        margin: 0;\r\n        font-weight: 600;\r\n        color: #495057;\r\n    }\r\n    \r\n    .popup-body {\r\n        flex: 1;\r\n        padding: 0.75rem;\r\n        overflow-y: auto;\r\n    }\r\n    \r\n    .popup-footer {\r\n        padding: 0.5rem 0.75rem;\r\n        border-top: 1px solid #dee2e6;\r\n        background: #f8f9fa;\r\n        border-radius: 0 0 0.5rem 0.5rem;\r\n    }\r\n    \r\n    .search-container {\r\n        position: sticky;\r\n        top: 0;\r\n        background: white;\r\n        z-index: 1;\r\n        padding-bottom: 0.5rem;\r\n    }\r\n    \r\n    .users-list {\r\n        max-height: 250px;\r\n        overflow-y: auto;\r\n    }\r\n    \r\n    .user-item {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 0.5rem 0.75rem;\r\n        border-radius: 0.375rem;\r\n        margin-bottom: 0.25rem;\r\n        transition: all 0.2s ease;\r\n        border: 1px solid transparent;\r\n    }\r\n    \r\n    .user-item:hover {\r\n        background-color: #f8f9fa;\r\n        border-color: #dee2e6;\r\n    }\r\n    \r\n    .user-item.active {\r\n        background-color: #0d6efd;\r\n        color: white;\r\n        border-color: #0d6efd;\r\n    }\r\n    \r\n    .user-item.active .text-muted {\r\n        color: #e0e0e0 !important;\r\n    }\r\n    \r\n    .user-avatar {\r\n        width: 32px;\r\n        height: 32px;\r\n        border-radius: 50%;\r\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        color: white;\r\n        font-size: 12px;\r\n        font-weight: 600;\r\n        flex-shrink: 0;\r\n    }\r\n    \r\n    .user-info {\r\n        min-width: 0;\r\n    }\r\n    \r\n    .user-name {\r\n        font-size: 0.875rem;\r\n        line-height: 1.2;\r\n    }\r\n    \r\n    .user-email {\r\n        font-size: 0.75rem;\r\n        line-height: 1.2;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n    }\r\n    \r\n    .selected-indicator {\r\n        font-size: 1rem;\r\n        font-weight: bold;\r\n        flex-shrink: 0;\r\n    }\r\n    \r\n    .no-users {\r\n        font-style: italic;\r\n    }\r\n    \r\n    .cursor-pointer {\r\n        cursor: pointer;\r\n    }\r\n    \r\n    /* Responsive adjustments */\r\n    @media (max-width: 768px) {\r\n        .user-suggestions-popup {\r\n            width: 350px;\r\n            left: 50% !important;\r\n            transform: translateX(-50%);\r\n        }\r\n    }\r\n</style>","import script from \"./inquiry.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./inquiry.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./inquiry.vue?vue&type=style&index=0&id=5158279c&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\copexErp\\\\frontEnd\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5158279c\"]])\n\nexport default __exports__"],"names":["useMeta","title","axiosInstance","axios","baseURL","process","selectedRemarkStatus","ref","tableShimmer","inject","user_id","JSON","parse","localStorage","getItem","id","showMessage","showError","formatDate","remarks","isSending","showRemarkModal","loading_spinner","columns","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","remarkTextarea","userSearchInput","showUserSuggestions","filteredUsers","selectedSuggestionIndex","currentMentionStart","currentSearchTerm","cursorPosition","mentionedUsers","computed","text","newremark","value","mentionRegex","match","exec","mentionedUsername","user","users","find","u","name","toLowerCase","push","suggestionPosition","textarea","textareaRect","getBoundingClientRect","modalRect","closest","textareaCenterX","left","width","textareaCenterY","top","height","popupLeft","popupTop","Math","max","min","getUserInitials","split","map","n","join","toUpperCase","substring","openRemarkModal","nextTick","focus","closeRemarkModal","closeUserSuggestions","fetchRemarks","async","isLoading","response","get","allRemarks","data","item","sender","sender_name","attendant","attendant_name","date","created_at","remark","status_name","status","status_color","color","status_id","tagged_user_ids","tagged_users","sort","a","b","aTagged","includes","bTagged","aNoTagFromSpecial","length","remarker_id","bNoTagFromSpecial","index","SNo","error","console","fetchUsers","isSelected","message","handleTextareaInput","event","selectionStart","textBeforeCursor","lastAtSymbol","lastIndexOf","textAfterAt","spaceAfterAt","indexOf","filterUsers","select","email","some","mentioned","handleTextareaClick","handleKeydown","key","handleSearchKeydown","preventDefault","selectUser","textBeforeMention","textAfterCursor","newCursorPos","setSelectionRange","extractMentionedUserIds","saveRemark","trim","mentionedUserIds","remarkData","description","type_id","remark_type","remarker","post","addTaggedUsers","document","getElementById","click","log","payload","remark_id","spinner","remarkInput","updateStatus","remarkText","attendant_id","put","remarkId","selectedRemarkId","openSupportModal","clearForm","onMounted","__exports__"],"sourceRoot":""}