{"version":3,"file":"js/5853.d9c1a4ce.js","mappings":"wjDAsFIA,EAAAA,EAAAA,GAAQ,CAAEC,MAAO,sBAEGC,EAAAA,EAAAA,IAAO,gBACDC,EAAAA,EAAAA,KAAI,GAD9B,MAEMC,GAAYF,EAAAA,EAAAA,IAAO,aAEnBG,GADmBC,KAAKC,MAAMC,aAAaC,QAAQ,SAASC,aAC/CR,EAAAA,EAAAA,IAAO,eACpBS,GAAeT,EAAAA,EAAAA,IAAO,gBAGtBU,IAFiBV,EAAAA,EAAAA,IAAO,mBAENC,EAAAA,EAAAA,KAAI,IACtBU,GAAUV,EAAAA,EAAAA,IAAI,CAAC,MAAM,QAAS,aAAc,YAAY,UAAU,YAAY,iBAAiB,YAK/FW,IAJOX,EAAAA,EAAAA,IAAI,KACAA,EAAAA,EAAAA,IAAI,KACPA,EAAAA,EAAAA,IAAI,KACJA,EAAAA,EAAAA,IAAI,KACJA,EAAAA,EAAAA,IAAI,KAIZY,IAHuBZ,EAAAA,EAAAA,IAAI,KAGZA,EAAAA,EAAAA,IAAI,CACrBa,QAAS,GACTC,cAAe,CAAC,GAAI,GAAI,KACxBC,KAAM,kCACNC,eAAgB,CAAEC,QAAS,uBAC3BC,SAAU,CAAC,MAAO,OAAO,aAAa,UACtCC,SAAU,CACNC,KAAM,iBACNC,GAAI,gBACJC,KAAM,kBAEVC,WAAY,CAAEC,IAAK,SAAUC,MAAO,GACpCC,MAAO,CACHC,MAAO,oCACPC,OAAQ,GACRC,kBAAmB,YACnBC,MAAO,YAEXC,kBAAkB,KAGhBC,EAAgBC,EAAAA,EAAAA,OAAa,CAC/BC,QAASC,gCAIPC,EAAqBC,UACvB5B,EAAgB6B,OAAQ,EACxB,IACI,MAAMC,QAAiBP,EAAcQ,IAAI,qBACzC7B,EAAM2B,MAAQC,EAASE,KAAKC,KAAI,CAACC,EAAMC,KAAP,IACzBD,EACHE,IAAKD,EAAQ,EACbE,GAAIH,EAAKG,GACTC,WAAYJ,EAAKK,kBAAkBC,KAAO,OAAON,EAAKK,kBAAkBE,SAAU,IAClFC,UAAWR,EAAKS,WAAWT,KAAKM,KAAM,KAAMN,EAAKO,SAAU,IAC3DG,QAASV,EAAKA,KAAKM,KAAM,KAAMN,EAAKO,SAAWP,EAAKK,kBAAkBE,SAAU,IAChFI,UAAUX,EAAKW,UAAUL,KACzBM,MAAMZ,EAAKS,WAAWG,MAAMC,QAAQC,WAAY,MAAOd,EAAKS,WAAWG,MAAMN,KAAKS,cAClFC,kBAAkBhB,EAAKS,WAAWF,SAClCU,eAAe1D,EAAWyC,EAAKkB,gBAErC,MAAOC,GACL7D,EAAU6D,EAAMC,SAfpB,QAiBItD,EAAgB6B,OAAQ,I,OAIhC0B,EAAAA,EAAAA,KAAU,KACN5B,O,goBCvJR,MAAM6B,EAAc,EAEpB","sources":["webpack://cork-vue3/./src/views/stores/stockConversion.vue","webpack://cork-vue3/./src/views/stores/stockConversion.vue?7534"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">  \r\n        <ul class=\"navbar-nav flex-row mt-2\">\r\n            <li>\r\n                <div class=\"page-header\">\r\n                    <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                        <ol class=\"breadcrumb\">\r\n                            <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Masters</a></li>\r\n                            <li class=\"breadcrumb-item active\" aria-current=\"page\"><span> Stock Conversion </span></li>\r\n                        </ol>\r\n                    </nav>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n\r\n        <h3 class=\"text-center\">STOCK CONVERSION HISTORY</h3>\r\n\r\n              <!-- loading spinner starts -->\r\n        <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n        <!-- Loading spinner ends -->\r\n        <div v-else class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table :data=\"stock\" :columns=\"columns\" :options=\"table_option\">\r\n                            <template #actions=\"props\">\r\n                              \r\n                                <a href=\"javascript:;\" class=\"edit me-3\" @click=\"openEditModal(props.row)\" data-bs-toggle=\"modal\" :data-bs-target=\"'#edit-conversion-factor-modal'\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        width=\"24\"\r\n                                        height=\"24\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                        fill=\"none\"\r\n                                        stroke=\"currentColor\"\r\n                                        stroke-width=\"2\"\r\n                                        stroke-linecap=\"round\"\r\n                                        stroke-linejoin=\"round\"\r\n                                        class=\"feather feather-edit-3\"\r\n                                    >\r\n                                        <path d=\"M12 20h9\"></path>\r\n                                        <path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"></path>\r\n                                    </svg>\r\n                                </a>\r\n                                <a href=\"javascript:;\" class=\"cancel\" @click=\"deleteConversionFactor(props.row)\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        width=\"24\"\r\n                                        height=\"24\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                        fill=\"none\"\r\n                                        stroke=\"currentColor\"\r\n                                        stroke-width=\"1.5\"\r\n                                        stroke-linecap=\"round\"\r\n                                        stroke-linejoin=\"round\"\r\n                                        class=\"text-danger\"\r\n                                    >\r\n                                        <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n                                        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                                    </svg>\r\n                                </a>\r\n                            </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n      \r\n    </div>\r\n</template>\r\n\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n\r\n<script setup>\r\n    import { onMounted, ref, inject } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    \r\n    useMeta({ title: 'Stock Conversion' });  \r\n    \r\n    const showMessage = inject('showMessage');\r\n    const conversion_factor = ref(false);\r\n    const showError = inject('showError');\r\n    const user_permissions = JSON.parse(localStorage.getItem(\"user\")).permissions;\r\n    const formatDate = inject('formatDate');\r\n    const tableShimmer = inject('tableShimmer');\r\n    const loadingSpinner = inject('loadingSpinner'); \r\n    \r\n    const loading_spinner = ref(false);\r\n    const columns = ref(['SNo','store', 'conversion', 'converted','product','converter','converted_date','remarks']);    \r\n    const name = ref('');\r\n    const quantity = ref('');\r\n    const units = ref('');\r\n    const items = ref([]);\r\n    const stock = ref([]);\r\n    const conversion_factor_id = ref('');\r\n\r\n    \r\n    const table_option = ref({\r\n        perPage: 20,\r\n        perPageValues: [20, 50 ,100],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['SNo', 'name','short_name','status'],\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n\r\n\r\n    const getStockConversion = async () => {\r\n        loading_spinner.value = true;\r\n        try {\r\n            const response = await axiosInstance.get('stock-conversions');\r\n            stock.value = response.data.map((item, index) => ({\r\n                ...item,\r\n                SNo: index + 1,\r\n                id: item.id,\r\n                conversion: item.conversion_factor.name + ' (1/'+item.conversion_factor.quantity +')',\r\n                converted: item.store_item.item.name +' ('+ item.quantity +')',\r\n                product: item.item.name +' ('+ item.quantity * item.conversion_factor.quantity +')',\r\n                converter:item.converter.name,\r\n                store:item.store_item.store.project.short_name +' - '+ item.store_item.store.name.toUpperCase(),\r\n                original_quantity:item.store_item.quantity,                \r\n                converted_date:formatDate(item.created_at)                \r\n            }));\r\n        } catch (error) {\r\n            showError(error.message);\r\n        }finally{\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n    \r\n    onMounted(() => {\r\n        getStockConversion();\r\n       \r\n    });\r\n</script>","import script from \"./stockConversion.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./stockConversion.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./stockConversion.vue?vue&type=style&index=0&id=046a863b&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useMeta","title","inject","ref","showError","formatDate","JSON","parse","localStorage","getItem","permissions","tableShimmer","loading_spinner","columns","stock","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","axiosInstance","axios","baseURL","process","getStockConversion","async","value","response","get","data","map","item","index","SNo","id","conversion","conversion_factor","name","quantity","converted","store_item","product","converter","store","project","short_name","toUpperCase","original_quantity","converted_date","created_at","error","message","onMounted","__exports__"],"sourceRoot":""}