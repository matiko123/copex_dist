{"version":3,"file":"js/2123.7c6095d9.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/accounts/transactionPoints.vue","webpack://cork-vue3/./src/views/accounts/transactionPoints.vue?f461"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">  \r\n        <ul class=\"navbar-nav flex-row mt-2\">\r\n            <li>\r\n                <div class=\"page-header\">\r\n                    <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                        <ol class=\"breadcrumb\">\r\n                            <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Accounts</a></li>\r\n                            <li class=\"breadcrumb-item active\" aria-current=\"page\"><span> Transaction Points </span></li>\r\n                        </ol>\r\n                    </nav>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n\r\n           <div class=\"d-flex me-4 mt-2 \">\r\n                        <div class=\"ms-auto\">\r\n                            <button class=\"btn btn-primary me-2 \" @click=\"register_account =! register_account\">                           \r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n  <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/>\r\n</svg>\r\n</button>\r\n<button \r\n    class=\"btn btn-success\"\r\n    @click=\"printReport()\"\r\n  >\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n      <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z\"/>\r\n      <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z\"/>\r\n    </svg>\r\n    Print\r\n  </button>\r\n \r\n                        </div>\r\n                    </div>\r\n  \r\n\r\n       \r\n         <!-- account registration form starts -->\r\n <form v-if=\"register_account\" class=\"mt-3 p-3 border rounded bg-white shadow\" @submit.prevent=\"registerAccount\">\r\n        <h4 class=\"text-center\">REGISTER AN ACCOUNT</h4>\r\n        <div class=\"row mb-2\">\r\n    \r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Account Name</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter account Name\" v-model=\"name\" required>\r\n            </div>\r\n\r\n            <div class=\"col-md-2\">\r\n                <label class=\"form-label\">Account Type</label>\r\n         <multiselect \r\n                v-model=\"account_type\"\r\n                :options= \"['CASH','MOBILE MONEY','BANK']\"\r\n                placeholder=\"Select type\"\r\n                :searchable = \"true\"        \r\n                multple=\"false\"\r\n                :required=\"true\"\r\n                :allow-empty=\"false\"\r\n           />\r\n            </div>\r\n\r\n            <div class=\"col-md-3\" v-if=\"account_type !== 'CASH'\">\r\n                <label class=\"form-label\">Provider</label>\r\n          <multiselect \r\n                v-model=\"provider\"\r\n                :options= \"mobile_money\"\r\n                placeholder=\"Select provider\"\r\n                label=\"name\"\r\n                :searchable = \"true\"        \r\n                multple=\"false\"\r\n                :required=\"true\"\r\n                :allow-empty=\"false\"\r\n           />            </div>\r\n\r\n                  <div class=\"col-md-2\" v-if=\"account_type !== 'CASH'\">\r\n                <label class=\"form-label\">Link</label>\r\n                   <input type=\"text\" class=\"form-control\" placeholder=\"Enter link\" v-model=\"link\">\r\n                 </div>\r\n\r\n<div class=\"col-md-2\">\r\n  <label for=\"colorPicker\" class=\"form-label\">Pick Color</label>\r\n  <input type=\"color\" id=\"colorPicker\" v-model=\"color\" title=\"Choose your color\" \r\n         style=\"width: 100%; height: 50px; padding: 0; border-radius: 5px; border: 1px solid #ccc;\">\r\n</div>\r\n\r\n\r\n\r\n\r\n        </div>\r\n        <div class=\"text-center gap-2 justify-content-end\">\r\n            <button type=\"button\" class=\"btn btn-danger me-3\" @click=\"register_account = false; resetForm();\">Cancel</button>\r\n            <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">\r\n                <span v-if=\"loading\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n                <span v-else>Register</span>\r\n            </button>\r\n        </div>\r\n    </form>\r\n             <!-- account registration form ends-->\r\n\r\n\r\n\r\n              <!-- loading spinner starts -->\r\n        <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n        <!-- Loading spinner ends -->\r\n        <div v-else class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table :data=\"account\" :columns=\"columns\" :options=\"table_option\">\r\n                            <template #actions=\"props\">\r\n                                <div class=\"actions text-center\">\r\n\r\n                                    <a href=\"javascript:;\" class=\"edit me-3\" v-if=\"user_permissions.includes('can_edit_transaction_points')\" @click=\"openEditModal(props.row)\" data-bs-toggle=\"modal\" :data-bs-target=\"'#account-edit-modal'\">\r\n                                        <svg\r\n                                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                                            width=\"24\"\r\n                                            height=\"24\"\r\n                                            viewBox=\"0 0 24 24\"\r\n                                            fill=\"none\"\r\n                                            stroke=\"currentColor\"\r\n                                            stroke-width=\"1.5\"\r\n                                            stroke-linecap=\"round\"\r\n                                            stroke-linejoin=\"round\"\r\n                                            class=\"text-primary\"\r\n                                        >\r\n                                            <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n                                            <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n                                        </svg>\r\n                                    </a>\r\n\r\n                                    <a href=\"javascript:;\" class=\"edit me-3 text-danger\" @click=\"deleteAccount(props.row)\" v-if=\"user_permissions.includes('can_delete_transaction_points')\" >\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\r\n        <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5.5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6zm2 .5a.5.5 0 0 1 .5-.5.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6z\"/>\r\n        <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1 0-2h3.5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1H14a1 1 0 0 1 1 1zm-11-1a.5.5 0 0 0-.5.5V4h11V2.5a.5.5 0 0 0-.5-.5h-10zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118z\"/>\r\n    </svg>\r\n                                    </a>\r\n\r\n                                                                  <a href=\"javascript:;\" v-if=\"user_permissions.includes('can_add_transactions')\" class=\"edit me-3\" @click=\"openTransactionModal(props.row)\" data-bs-toggle=\"modal\" :data-bs-target=\"'#transaction-modal'\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-cash-coin text-success\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8m5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0\"/>\r\n  <path d=\"M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195z\"/>\r\n  <path d=\"M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083q.088-.517.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1z\"/>\r\n  <path d=\"M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 6 6 0 0 1 3.13-1.567\"/>\r\n</svg>\r\n</a>\r\n\r\n                                </div>                                 \r\n                            </template>\r\n\r\n                            <template #status=\"props\">\r\n                                <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.color\">{{ props.row.status.name }} </span>\r\n                            </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n             <!-- Edit account modal starts -->\r\n<div class=\"modal fade mymodal\" id=\"account-edit-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"accountEditModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"accountEditModalLabel\">Edit {{ name }} account</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"  id=\"close_editing\"></button>\r\n      </div>\r\n      <form @submit.prevent=\"updateaccount()\">\r\n        <div class=\"modal-body\">\r\n          <div class=\"row mb-3\">\r\n            <div class=\"col-md-3\">\r\n              <label class=\"form-label\">Account Name</label>\r\n              <input type=\"text\" class=\"form-control\" v-model=\"name\" required>\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Account Type</label>\r\n         <multiselect \r\n                v-model=\"account_type\"\r\n                :options= \"['CASH','MOBILE MONEY','BANK']\"\r\n                placeholder=\"Select type\"\r\n                :searchable = \"true\"        \r\n                multple=\"false\"\r\n                :required=\"true\"\r\n                :allow-empty=\"false\"\r\n           />\r\n            </div>\r\n  <div class=\"col-md-3\" v-if=\"account_type !== 'CASH'\">\r\n                <label class=\"form-label\">Provider</label>\r\n          <multiselect \r\n                v-model=\"provider\"\r\n                :options= \"mobile_money\"\r\n                placeholder=\"Select provider\"\r\n                label=\"name\"\r\n                :searchable = \"true\"        \r\n                multple=\"false\"\r\n                :required=\"true\"\r\n                :allow-empty=\"false\"\r\n           />            </div>\r\n\r\n            <div class=\"col-md-3\">\r\n              <label class=\"form-label\">Status</label>\r\n              <multiselect \r\n                v-model=\"status\"\r\n                :options=\"statuses\"\r\n                placeholder=\"Select status\"\r\n                label=\"name\"\r\n                :searchable=\"true\"        \r\n                :multiple=\"false\"\r\n                :required=\"true\"\r\n                :allow-empty=\"false\"\r\n              />\r\n            </div>\r\n            \r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" @click=\"resetForm()\" id=\"close_editing\">Close</button>\r\n          <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">\r\n            <span v-if=\"loading\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n            <span v-else>Update</span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- Edit account modal ends -->\r\n\r\n   <!-- transaction modal starts -->\r\n    \r\n  <div class=\"modal fade mymodal\" id=\"transaction-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\" >\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"staticBackdropLabel\">CREATE TRANSACTION FOR {{ selectedAccount?.account_name?.toUpperCase() }}</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"close-transaction-modal\"  @click=\"closeTransactionModal()\"></button>\r\n      </div>\r\n      <form @submit.prevent=\"submitTransaction()\">\r\n        <div class=\"modal-body\" >\r\n          <div class=\"row layout-top-spacing\" >\r\n                <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                    <div class=\"panel p-0\">\r\n                        <div class=\"custom-table table3\">\r\n                          <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                              <label class=\"form-label\">Reference Number </label>\r\n                              <input  class=\"form-control\" type=\"text\"  placeholder=\"Enter Reference Number\" v-model=\"reference_number\">\r\n                            </div>\r\n\r\n                            <div class=\"col-md-4\">\r\n                              <label class=\"form-label\">Amount</label>\r\n                              <input  class=\"form-control\" type=\"number\"  step=\"any\"  placeholder=\"Enter Amount\" v-model=\"amount\" required>\r\n                            </div>\r\n                          \r\n                            <div class=\"col-md-4\">\r\n                              <label class=\"form-label\">Transaction Direction</label>\r\n                              <multiselect \r\n                                v-model=\"transaction_type\"\r\n                                :options=\"['Increment', 'Decrement']\"\r\n                                placeholder=\"Select Type\"\r\n                                :searchable=\"true\"        \r\n                                :multiple=\"false\"\r\n                                :required=\"true\"\r\n                                :allow-empty=\"false\"\r\n                              />\r\n                            </div>\r\n\r\n                            <div class=\"col-md-4\">\r\n                              <label class=\"form-label\">Receiver</label>\r\n                              <input  class=\"form-control\" type=\"text\"    placeholder=\"Enter Receiver\" v-model=\"receiver\" required>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-4\">\r\n                              <label class=\"form-label\">Date </label>\r\n                              <input  class=\"form-control\" type=\"date\" v-model=\"date\" >\r\n                            </div>\r\n\r\n                            <div class=\"col-md-4\">\r\n                              <label class=\"form-label\">Attachment </label>\r\n                              <input  class=\"form-control\" type=\"file\"\r\n                                @change=\"handleFileUpload\"\r\n                                accept=\"application/pdf\"\r\n                              >\r\n                            </div>\r\n\r\n                            <div class=\"col-md-12\">\r\n                              <label class=\"form-label\">Remark</label>\r\n                              <input  class=\"form-control\" type=\"text\"    placeholder=\"Enter Remark\" v-model=\"description\">\r\n                            </div>\r\n\r\n                          </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-danger   me-2\" data-bs-dismiss=\"modal\" @click=\"closeTransactionModal()\">Close</button>\r\n            <button type=\"submit\" class=\"btn btn-success\" :disabled=\"submitting\">\r\n              <span v-if=\"submitting\" v-html=\"loadingSpinner()\"></span>\r\n              <span v-else>Save</span>\r\n            </button>\r\n          </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n    <!-- transaction modal ends -->\r\n\r\n    </div>\r\n</template>\r\n\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n\r\n<script setup>\r\n    import { onMounted, ref, inject ,watch } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    \r\n    useMeta({ title: 'account' });  \r\n    \r\n    const showMessage = inject('showMessage');\r\n    const showError = inject('showError');\r\n    const user_permissions = JSON.parse(localStorage.getItem(\"user\")).permissions;\r\n    const tableShimmer = inject('tableShimmer');\r\n    const loadingSpinner = inject('loadingSpinner'); \r\n    const formatNumber = inject('formatNumber')\r\n    const register_account = ref(false);\r\n    const showConfirmation = inject('showConfirmation')\r\n    const user_id = JSON.parse(localStorage.getItem(\"user\")).id;\r\n\r\n    const loading_spinner = ref(false);\r\n    const columns = ref(['SNo','account_name','type','debit','credit','provider','status','actions']);    \r\n    const name = ref('');\r\n    const email = ref('');\r\n    const phone = ref('');\r\n    const address = ref('');\r\n    const location = ref('');\r\n    const status = ref('');\r\n    const account = ref([]);\r\n    const selectedAccount = ref(null);\r\n\r\n\r\n\r\n    \r\n    const table_option = ref({\r\n        perPage: 20,\r\n        perPageValues: [20, 50 ,100],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['SNo', 'name','email','phone','address','location'],        \r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n\r\n\r\n    const getaccounts = async () => {\r\n        loading_spinner.value = true;\r\n        try {\r\n            const response = await axiosInstance.get('account-transaction-points');\r\n            account.value = response.data.map((item, index) => ({\r\n                ...item,\r\n                SNo: index + 1,\r\n                account_name:item.name,\r\n                type:item?.mobile_money?.category ?? 'CASH',\r\n                amount: formatNumber(item.transactions_sum ?? 0),\r\n                debit: 0 < item.transactions_sum ? formatNumber(item.transactions_sum ?? 0) : '--',\r\n                credit: 0 > item.transactions_sum ? formatNumber(Math.abs(item.transactions_sum) ?? 0) : '--',\r\n                provider :item?.mobile_money?.name,\r\n                status : item.status              \r\n            }));\r\n        } catch (error) {\r\n            showError(error.message);\r\n        }finally{\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n\r\n    const loading = ref(false);\r\n    \r\n    const account_type = ref('')\r\n    const provider = ref('')\r\n    const link = ref('')\r\n    const color = ref('')\r\n    const registerAccount = async () => {\r\n        loading.value = true;\r\n        const payload = {\r\n           name: name.value,\r\n           mobile_money_id: provider.value.id,\r\n           link : link.value,\r\n           color : color.value\r\n        };\r\n\r\n\r\n        try {\r\n            const response = await axiosInstance.post('account-transaction-points', payload);\r\n            getaccounts();\r\n            showMessage('account registered successfully!');\r\n            resetForm();\r\n        } catch (error) {\r\n          console.log(error);\r\n            showError(error.message);\r\n        } finally {\r\n            loading.value = false;\r\n        }\r\n    };\r\n\r\n    const resetForm = () => {\r\n   register_account.value = false;\r\n    name.value = '';\r\n    email.value = '';\r\n    phone.value = '';\r\n    address.value = '';\r\n    location.value = '';\r\n};\r\n\r\nconst editId = ref(null);\r\nconst openEditModal = (row) => {\r\n    editId.value = row.id;\r\n    name.value = row.name;\r\n    getStatuses();        \r\n    status.value = row.status;\r\n    provider.value = row.mobile_money;\r\n    link.value = row.link;\r\n    account_type.value = row?.mobile_money?.category ?? 'CASH';\r\n};\r\n\r\n   const updateaccount = async () => {\r\n    loading.value = true; \r\n    const payload = {\r\n        name: name.value,\r\n        mobile_money_id: provider.value.id ?? null,\r\n        link : link.value,\r\n        status_id: status.value.id,\r\n    };\r\n\r\n    try {\r\n        const response = await axiosInstance.put(`account-transaction-points/${editId.value}`, payload);\r\n        getReactiveAccounts();\r\n        showMessage('account updated successfully!');\r\n        document.getElementById('close_editing').click();\r\n    } catch (error) {\r\n      console.log(error);\r\n        showError(error.message);\r\n    } finally {\r\n        loading.value = false;\r\n    }\r\n};\r\n\r\nconst getReactiveAccounts = async () => {\r\n      const response = await axiosInstance.get('account-transaction-points');\r\n            account.value = response.data.map((item, index) => ({\r\n                ...item,\r\n                SNo: index + 1,\r\n                account_name:item.name,\r\n                type:item?.mobile_money?.category ?? 'CASH',\r\n                amount: formatNumber(item.transactions_sum ?? 0),\r\n                debit: 0 < item.transactions_sum ? formatNumber(item.transactions_sum ?? 0) : '--',\r\n                credit: 0 > item.transactions_sum ? formatNumber(Math.abs(item.transactions_sum) ?? 0) : '--',\r\n                provider :item?.mobile_money?.name,\r\n                status : item.status              \r\n            })); \r\n};\r\n\r\n\r\nwatch(account_type, (newVal) => {\r\n    provider.value = ''\r\n    if (newVal !='CASH') {\r\n        getMobileMoneyTypes(newVal)\r\n    }\r\n});\r\n\r\n\r\nconst mobile_money = ref([])\r\nconst getMobileMoneyTypes = async(category)=>{\r\n  const response = await axiosInstance.get(`mobile-money?category=${category}`)\r\n  mobile_money.value = response.data\r\n}\r\n\r\nconst statuses = ref([])\r\n const getStatuses = async () => {\r\n        const response = await axiosInstance.get(`statuses`)\r\n        statuses.value = response.data.filter(status => \r\n            status.id === 1 || status.id === 6\r\n        );\r\n    };\r\n\r\nconst printReport = async () => {\r\n  try {\r\n    const iframe = document.createElement(\"iframe\");\r\n    iframe.style.display = \"none\";\r\n    document.body.appendChild(iframe);\r\n\r\n    const printContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>Account Transaction Points Report</title>\r\n<style>\r\n  body { font-family: 'Courier New', monospace; margin: 40px; font-size: 13px; }\r\n  .text-style { font-family: 'Courier New', monospace; }\r\n  .company-title { text-align: center; }\r\n  .title { text-align: center; font-size: 20px; margin: 10px 0; }\r\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; }\r\n  th, td { border: 0.5px solid #000; padding: 6px; }\r\n  th { background-color: #f8f8f8; font-weight: bold; }\r\n  .text-right { text-align: right; }\r\n  .text-center { text-align: center; }\r\n  hr { border: 0; border-top: 0.5px solid #000; margin: 0px 0; }\r\n  @media print { body { margin: 10mm; } }\r\n</style>\r\n</head>\r\n<body>\r\n\r\n<div class=\"company-title text-style\">\r\n  <i>\r\n  <h1>COPEX CONTRACTORS CO.LTD</h1>\r\n  <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\r\n  <div><b>Tel:</b> 0713 000 777, 0657 111 555</div>\r\n  <div><b>Email:</b> info@copexcontractors.co.tz</div>\r\n  <div><b>TIN:</b> 135-489-247 &nbsp;&nbsp; <b>VRN:</b> 40-032826C</div>\r\n  </i>\r\n</div>\r\n\r\n<hr style=\"margin-top:20px\">\r\n\r\n<div class=\"title text-style\">\r\n  ACCOUNT TRANSACTION POINTS REPORT\r\n</div>\r\n\r\n<hr>\r\n\r\n<table>\r\n  <thead>\r\n    <tr>\r\n      <th>No.</th>\r\n      <th>Account Name</th>\r\n      <th>Type</th>\r\n      <th>Provider</th>\r\n      <th class=\"text-right\">Debit</th>\r\n      <th class=\"text-right\">Credit</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    ${account.value.map((item, index) => `\r\n    <tr>\r\n      <td>${index + 1}</td>\r\n      <td>${item.account_name}</td>\r\n      <td>${item.type}</td>\r\n      <td>${item.provider || 'N/A'}</td>\r\n      <td class=\"text-right\">${item.debit}</td>\r\n      <td class=\"text-right\">${item.credit}</td>\r\n    </tr>\r\n    `).join('')}\r\n    <tr>\r\n      <td colspan=\"4\" class=\"text-right\"><strong>TOTAL:</strong></td>\r\n      <td class=\"text-right\"><strong>${formatNumber(account.value.reduce((sum, item) => {\r\n        const debit = typeof item.debit === 'string' ? parseFloat(item.debit.replace(/,/g, '')) : item.debit;\r\n        return sum + (isNaN(debit) || item.debit === '--' ? 0 : debit);\r\n      }, 0))}</strong></td>\r\n      <td class=\"text-right\"><strong>${formatNumber(account.value.reduce((sum, item) => {\r\n        const credit = typeof item.credit === 'string' ? parseFloat(item.credit.replace(/,/g, '')) : item.credit;\r\n        return sum + (isNaN(credit) || item.credit === '--' ? 0 : Math.abs(credit));\r\n      }, 0))}</strong></td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n</body>\r\n</html>\r\n`;\r\n\r\n    const iframeDoc = iframe.contentWindow.document;\r\n    iframeDoc.open();\r\n    iframeDoc.write(printContent);\r\n    iframeDoc.close();\r\n\r\n    iframe.onload = () => {\r\n      iframe.contentWindow.focus();\r\n      iframe.contentWindow.print();\r\n      setTimeout(() => {\r\n        document.body.removeChild(iframe);\r\n      }, 1000);\r\n    };\r\n  } catch (error) {\r\n    showError(`Failed to print report: ${error.message}`);\r\n  }\r\n};\r\n\r\n\r\nconst deleteAccount = async (account) => {\r\n  const res = await showConfirmation(\r\n    'Delete Menu',\r\n    `Confirm Deleting ${account?.account_name ?? ''}  ${account?.provider ?? ''} ${account?.type ?? ''}`,\r\n    `/account-transaction-points/${account.id}`,\r\n    'delete'\r\n  )\r\n\r\n  if (res?.refresh) getReactiveAccounts()\r\n}\r\n\r\n\r\nconst openTransactionModal = (row) => {\r\n    selectedAccount.value = row;\r\n};\r\n\r\n\r\nconst handleFileUpload = (e) => {\r\n  attachment.value = e.target.files[0];\r\n};\r\n\r\nconst transaction_type = ref();\r\nconst date = ref('')\r\nconst receiver = ref('')\r\nconst amount = ref('')\r\nconst reference_number = ref('')\r\nconst attachment = ref('')\r\nconst description = ref('')\r\nconst submitting = ref(false);\r\n\r\nconst submitTransaction = async()=>{\r\n  submitting.value = true;\r\n    const payload = new FormData();\r\n    payload.append(\"reference_number\", reference_number.value);\r\n    payload.append(\"account_transaction_point_id\", selectedAccount.value.id);\r\n    payload.append(\"host\", receiver.value);\r\n    payload.append(\"amount\", amount.value);\r\n    payload.append(\"description\", description.value);\r\n    payload.append(\"issuer_id\", user_id);\r\n    \r\n    // Set direction based on transaction type\r\n    const direction = transaction_type.value === 'Increment' ? 'INCREMENT' : 'DECREMENT';\r\n    payload.append(\"direction\", direction);\r\n    \r\n    payload.append(\"opening_balance\", selectedAccount.value.transactions_sum);\r\n    payload.append(\"date\", date.value);\r\n    if (attachment.value instanceof File) {\r\n        payload.append(\"attachment\", attachment.value);\r\n    }\r\n\r\n    try{\r\n      const response =  await axiosInstance.post('account-transactions',payload)\r\n       showMessage(response.data.message)\r\n       document.getElementById('close-transaction-modal').click()      \r\n       getReactiveAccounts();\r\n    }catch(error){\r\n      showError(error.message)\r\n      console.log(error)\r\n    }finally{\r\n      submitting.value = false; \r\n    }\r\n}\r\n\r\nconst closeTransactionModal = ()=>{\r\n  reference_number.value = '';\r\n  transaction_type.value = '';\r\n  receiver.value = '';\r\n  amount.value = '';\r\n  date.value = '';\r\n  attachment.value = '';\r\n  description.value = '';\r\n}\r\n\r\n\r\n\r\n    onMounted(() => {\r\n        getaccounts();\r\n    });\r\n</script>\r\n","import script from \"./transactionPoints.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./transactionPoints.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./transactionPoints.vue?vue&type=style&index=0&id=a2f19f6c&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useMeta","title","showMessage","inject","showError","user_permissions","JSON","parse","localStorage","getItem","permissions","tableShimmer","loadingSpinner","formatNumber","register_account","ref","showConfirmation","user_id","id","loading_spinner","columns","name","email","phone","address","location","status","account","selectedAccount","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","axiosInstance","axios","baseURL","process","getaccounts","async","value","response","get","data","map","item","index","SNo","account_name","type","mobile_money","category","amount","transactions_sum","debit","credit","Math","abs","provider","error","message","loading","account_type","link","color","registerAccount","payload","mobile_money_id","post","resetForm","console","log","editId","openEditModal","row","getStatuses","updateaccount","status_id","put","getReactiveAccounts","document","getElementById","click","watch","newVal","getMobileMoneyTypes","statuses","printReport","iframe","createElement","style","display","body","appendChild","printContent","join","reduce","sum","parseFloat","replace","isNaN","iframeDoc","contentWindow","open","write","close","onload","focus","print","setTimeout","removeChild","deleteAccount","res","refresh","openTransactionModal","handleFileUpload","e","attachment","target","files","transaction_type","date","receiver","reference_number","description","submitting","submitTransaction","FormData","append","direction","File","closeTransactionModal","onMounted","__exports__"],"sourceRoot":""}