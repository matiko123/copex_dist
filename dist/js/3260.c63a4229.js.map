{"version":3,"file":"js/3260.c63a4229.js","mappings":"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","sources":["webpack://cork-vue3/./src/views/orders/bushman_items_list.vue","webpack://cork-vue3/./src/views/orders/bushman_items_list.vue?36b3"],"sourcesContent":["<template>\r\n    <div class=\"layout-px-spacing\">\r\n\r\n            <ul class=\"navbar-nav flex-row\">\r\n                <li>\r\n                    <div class=\"page-header\">\r\n                        <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                            <ol class=\"breadcrumb\">\r\n                                <li class=\"breadcrumb-item\"><a href=\"javascript:;\">DataTables</a></li>\r\n                                <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Custom</span></li>\r\n                            </ol>\r\n                        </nav>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n\r\n        <!-- approval officers starts -->\r\n\r\n    <div v-if=\"approval_status\" class=\"row layout-top-spacing\">\r\n        <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n            <div class=\"panel p-0\">\r\n                <!-- close button starts -->\r\n                 <div class=\"d-flex\">\r\n                    <h6 class=\"text-center mt-2 mx-2\">Approval Status</h6>\r\n                    <button class=\"btn-close ms-auto bg-danger me-3 mt-2\" @click=\"approval_status=!approval_status\"></button>\r\n                  </div>  \r\n                 <!-- close button ends -->\r\n                <div class=\"custom-table table3\">\r\n                    <table class=\"table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Operation's Dept</th>\r\n                                <th>Project Manager</th>                                \r\n                                <th>Sr.Accountant</th>\r\n                                <th>MD</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td :class=\"approval_status_data.operation_department === 0 ? 'text-danger' : 'text-success'\">\r\n                                    {{ approval_status_data.operation_department === 0 ? 'unchecked' : 'checked' }}\r\n                                    <button v-if=\"approval_status_data.operation_department === 0 && is_operator\" @click=\"approveCheck(approval_status_data.id, 'operation_department'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Check</div>\r\n                                    </button>\r\n                                </td>\r\n                                <td :class=\"approval_status_data.project_manager === 0 ? 'text-danger' : 'text-success'\">\r\n                                    {{ approval_status_data.project_manager === 0 ? 'unchecked' : 'checked' }}\r\n                                    <button v-if=\"approval_status_data.engineer === 0 && is_project_manager\" @click=\"approveCheck(approval_status_data.id, 'project_manager'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Check</div>\r\n                                    </button>\r\n                                </td>\r\n                                <!-- <td :class=\"approval_status_data.quantity_surveyor === 0 ? 'text-danger' : 'text-success'\">\r\n                                    {{ approval_status_data.quantity_surveyor === 0 ? 'unchecked' : 'checked' }}\r\n                                    <button v-if=\"approval_status_data.quantity_surveyor === 0 && is_qs\" @click=\"approveCheck(approval_status_data.id, 'quantity_surveyor'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Check</div>\r\n                                    </button>\r\n                                </td> -->\r\n                                <td :class=\"approval_status_data.senior_accountant === 0 ? 'text-danger' : 'text-success'\">\r\n                                    {{ approval_status_data.senior_accountant === 0 ? 'unchecked' : 'checked' }}\r\n                                    <button v-if=\"approval_status_data.senior_accountant === 0 && is_sa\" @click=\"approveCheck(approval_status_data.id, 'senior_accountant'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Check</div>\r\n                                    </button>\r\n                                </td>\r\n                                <!-- <td :class=\"approval_status_data.financial_controller === 0 ? 'text-danger' : 'text-success'\">\r\n                                    {{ approval_status_data.financial_controller === 0 ? 'unchecked' : 'checked' }}\r\n                                    <button v-if=\"approval_status_data.financial_controller === 0 && is_fc\" @click=\"approveCheck(approval_status_data.id, 'financial_controller'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Check</div>\r\n                                    </button>\r\n                                </td> -->\r\n                                \r\n    <td :class=\"approval_status_data.managing_director === 0 ? 'text-danger' : 'text-success'\">\r\n                                    {{ approval_status_data.managing_director === 0 ? 'Unapproved' : 'Approved' }}\r\n                                    <button v-if=\"approval_status_data.managing_director === 0 && is_md\" @click=\"approveCheck(approval_status_data.id, 'managing_director'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-primary p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Approve</div>\r\n                                    </button>\r\n                                    <button v-if=\"approval_status_data.managing_director === 1 && is_md\" @click=\"approveUnCheck(approval_status_data.id, 'managing_director'),spinner=!spinner\" :class=\"{ disabled: spinner }\" class=\"btn btn-danger p-1 btn-sm me-2\">\r\n                                        <div v-if=\"spinner\" class=\"spinner-border text-white\" role=\"status\">\r\n                                          <span class=\"sr-only\"></span>\r\n                                         </div>\r\n                                         <div v-else>Unapprove</div>\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n         <!-- approval officers ends -->\r\n          \r\n              <!-- form button starts -->\r\n \r\n<div class=\"d-flex me-4 mt-2\">\r\n    <button class=\"btn btn-dark me-2 px-3\" @click=\"$router.go(-1)\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8\"/>\r\n</svg>\r\n                </button>\r\n    <button v-if=\"!approval_status\" class=\"btn btn-secondary btn-sm\" @click=\"approval_status=!approval_status\">   \r\n        <span >View Checking Status</span>\r\n    </button>\r\n                        <div class=\"ms-auto\">\r\n                            <a  v-if=\"order_status !== 'Inactive'\" :href=\"`${print_url}bushman-lpo-pdf/${route.params.order_id}`\" \r\n                                  class=\"text-success me-3\" \r\n                                  title=\"Print\" \r\n                                  data-bs-toggle=\"tooltip\" \r\n                                  data-bs-placement=\"top\" \r\n                                  target=\"_blank\" \r\n                                  rel=\"noopener noreferrer\">\r\n                                     <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"34\" height=\"34\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n                                       <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n                                       <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n                                    </svg>\r\n                                </a>\r\n                                <a v-if=\"order_status === 'Inactive'\" href=\"javascript:void(0)\" class=\"me-2 text-warning\" title=\"Approve\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\"  @click=\"activatePurchaseOrder(route.params.order_id)\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"34\" height=\"34\" fill=\"currentColor\" class=\"bi bi-check2-square\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z\"/>\r\n                                        <path d=\"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0\"/>\r\n                                    </svg>\r\n                                </a>\r\n                            <button v-if=\"order_status === 'Inactive'\" class=\"btn btn-primary\" @click=\"item_registration=!item_registration\">                           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z\"/>\r\n  <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4\"/>\r\n</svg>\r\n</button>\r\n \r\n                        </div>\r\n                    </div>  \r\n                    <!-- form button ends -->\r\n                     \r\n              <!-- loading spinner starts -->\r\n        <div v-if=\"loading_spinner\" class=\"d-flex justify-content-center align-items-center\" style=\"height: 100px;\">\r\n            <span class=\"text-primary spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-arrow-repeat\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z\"/>\r\n                    <path d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z\"/>\r\n                    <path d=\"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z\"/>\r\n                </svg>\r\n                Loading...\r\n            </span>\r\n        </div>\r\n        <!-- Loading spinner ends -->\r\n <!-- item registration form starts -->\r\n <form v-if=\"item_registration\" class=\"mt-3 p-3 border rounded bg-white shadow\" @submit.prevent=\"registerItem\">\r\n        <h4 class=\"text-center\">ITEM  REGISTRATION FORM</h4>\r\n        <div class=\"row mb-2\">\r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Description of good</label>\r\n                <select class=\"form-select\" v-model=\"description\" @change=\"handleDescriptionChange\" :required=\"!machine_field\">\r\n                    <option value=\"\">Select Item</option>\r\n                    <option v-for=\"item in items_list\" :value=\"item.name\">{{ item.name }}</option>\r\n                    <option value=\"Direct\">Direct</option>\r\n                </select>\r\n            </div>\r\n            <div v-if=\"machine_field\" class=\"col-md-3\">\r\n                <label class=\"form-label\">Select Machine</label>\r\n                <select class=\"form-select\" v-model=\"selectedMachine\" @change=\"description = selectedMachine\">\r\n                    <option value=\"\">Select Machine</option>\r\n                    <option v-for=\"machine in machines\" :key=\"machine.id\" :value=\"machine.name\">\r\n                        {{ machine.name }}\r\n                    </option>\r\n                </select>\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Unit of measurement</label>\r\n                <select class=\"form-select\" v-model=\"unit\" required>\r\n                    <option value=\"\">Select Unit</option>\r\n                    <option value=\"Litre\">Litre</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Quantity</label>\r\n                <input type=\"number\" class=\"form-control\" placeholder=\"Enter Quantity\" v-model=\"quantity\" step=\"any\" required>\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Rate</label>\r\n                <input type=\"number\" class=\"form-control\" placeholder=\"Enter Rate\" v-model=\"rate\" step=\"any\" required>\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n                <label class=\"form-label\">Amount</label>\r\n                <input type=\"text\" class=\"form-control\" :value=\"amount.toLocaleString()\" readonly>\r\n            </div>\r\n        </div>\r\n        <div class=\"text-center gap-2 justify-content-end\">\r\n            <button type=\"button\" class=\"btn btn-danger me-3\" @click=\"item_registration = false\">Cancel</button>\r\n            <button type=\"submit\" class=\"btn btn-primary\">Register</button>\r\n        </div>\r\n    </form>\r\n             <!-- item registration form ends-->\r\n     \r\n        <div class=\"row layout-top-spacing\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table :data=\"items\" :columns=\"columns\" :options=\"table_option\" >\r\n                            <template #status=\"props\">\r\n                                <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.class\">{{ props.row.status.key }} </span>\r\n                            </template>\r\n                            <template #actions=\"props\">\r\n                                <a href=\"javascript:void(0)\" class=\"text-success\" title=\"Approve\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-check2-square\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z\"/>\r\n                                        <path d=\"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0\"/>\r\n                                    </svg>\r\n                                </a>\r\n\r\n                        \r\n                                <!-- <router-link :to=\"'/requisition-list/' + props.row.id\" class=\"text-primary\"  title=\"View\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-eye\" viewBox=\"0 0 16 16\">\r\n                                      <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z\"/>\r\n                                      <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0\"/>\r\n                                    </svg>\r\n                                </router-link> -->\r\n\r\n                                <router-link :to=\"'/requisition-list/'\" class=\"text-primary\"  title=\"View\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" class=\"bi bi-eye\" viewBox=\"0 0 16 16\">\r\n                                      <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z\"/>\r\n                                      <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0\"/>\r\n                                    </svg>\r\n                                </router-link>\r\n\r\n\r\n                                <a href=\"javascript:void(0);\" title=\"Delete\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        width=\"24\"\r\n                                        height=\"24\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                        fill=\"none\"\r\n                                        stroke=\"currentColor\"\r\n                                        stroke-width=\"1.5\"\r\n                                        stroke-linecap=\"round\"\r\n                                        stroke-linejoin=\"round\"\r\n                                        class=\"text-danger\"\r\n                                    >\r\n                                        <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n                                        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                                    </svg>\r\n                                </a>\r\n                              \r\n\r\n                                \r\n                            </template>\r\n                           \r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<style>\r\n    .table3 .actions svg {\r\n        padding: 2px;\r\n    }\r\n</style>\r\n\r\n<script setup>\r\n    import { onMounted, ref, watch } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n    useMeta({ title: 'Custom Table' });\r\n    import { useRoute } from 'vue-router';\r\n\r\n    const route = useRoute();\r\n   \r\n   \r\n    //table 3\r\n    const columns = ref(['SNo', 'description', 'units','quantity', 'rate', 'amount']);\r\n    const items = ref([]);\r\n    const item_registration = ref(false);\r\n    const description = ref('');\r\n    const machines = ref([]);\r\n    const unit = ref('');\r\n    const machine_field = ref(false);\r\n    const quantity = ref('');\r\n    const rate = ref('');\r\n    const order_status= ref('');\r\n    const amount = ref(0);\r\n    const loading_spinner = ref(false);\r\n    const approval_status = ref(true);\r\n    const spinner = ref(false);\r\n    const print_url = ref(process.env.VUE_APP_API_BASE_URL);\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n    import { inject } from 'vue';\r\n\r\n   const showMessage = inject('showMessage');\r\n   const showError = inject('showError');\r\n\r\n    watch([quantity, rate], () => {\r\n        amount.value = quantity.value * rate.value;\r\n    });\r\n    const table_option = ref({\r\n        perPage: 5,\r\n        perPageValues: [5, 10, 20, 50],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortable: ['SNo', 'first_name', 'last_name', 'email', 'phone'],\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search Data...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n    //for togle machine\r\n    const handleDescriptionChange = () => {\r\n        if (description.value === 'Direct') {\r\n            fetchMachines();\r\n            machine_field.value = true;\r\n        } else {\r\n            machine_field.value = false;\r\n        }\r\n    };\r\n\r\n   //fetching machine list\r\n   const  fetchMachines= async () => {\r\n   // loading_spinner = true;\r\n    axiosInstance\r\n      .get(`/machines`)\r\n      .then((response) => {\r\n        if (Array.isArray(response.data)) {\r\n          machines.value = response.data.map(machine => ({\r\n            id: machine.id,\r\n            name: machine.name,\r\n            type: machine.type_name,          \r\n          }));\r\n        } else {\r\n        error_message.value = \"Error fetching machine data: \" + error.message;\r\n        console.error(error_message.value);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching machine data:\", error.message);\r\n        \r\n      }\r\n      \r\n    )\r\n     \r\n      .finally(() => {\r\n      //  loading_spinner = false;\r\n      });\r\n}\r\n\r\n\r\n    const registerItem = () => {\r\n        item_registration.value = false;\r\n        loading_spinner.value = true;\r\n        const itemData = {\r\n            order_id: route.params.order_id,\r\n            description: description.value,\r\n            unit_measure:unit.value,\r\n            quantity:quantity.value,\r\n            rate:rate.value,\r\n        };\r\n\r\n        axiosInstance\r\n            .post('/items', itemData)\r\n            .then((response) => {\r\n                getItems();\r\n                loading_spinner.value = false;\r\n                if (response.data.status === 201) {\r\n                    description.value = '';\r\n                    unit.value = '';\r\n                    quantity.value = '';\r\n                    rate.value = '';\r\n                   showMessage(\"Item registered successfully\");\r\n                } else {\r\n                   showError(response.data.message);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                showError(error.message);\r\n            });\r\n    };\r\n\r\n    const getItems = async () => {\r\n        loading_spinner.value = true;\r\n        try {\r\n            const response = await    \r\n            axiosInstance.get(`/order-items/${route.params.order_id}`);\r\n            if (response.data && Array.isArray(response.data)) {\r\n                    items.value = response.data.map((order, index) => ({\r\n                        SNo: index + 1,\r\n                        id: order.id,\r\n                        description: order.description,\r\n                        units: order.unit_measure,\r\n                        quantity: order.quantity.toLocaleString(),\r\n                        rate: Number(order.rate).toLocaleString(),\r\n                        amount: (order.quantity * order.rate).toLocaleString(undefined, { maximumFractionDigits: 3 })\r\n                    }));\r\n                    loading_spinner.value = false;\r\n                } else {\r\n                    console.error(\"Invalid response format\");\r\n                }\r\n        } catch (error) {\r\n            console.error(\"Error fetching purchase order : \", error);\r\n        }\r\n    };\r\n\r\n    const approval_status_data = ref({});\r\n\r\n    const getApprovalStatus = async () => {\r\n        try {\r\n            const response = await axiosInstance.get(`/approval-check-status/${route.params.order_id}`);\r\n            if (response.data && typeof response.data === 'object') {\r\n                approval_status_data.value = response.data;\r\n                spinner.value=false;\r\n            } else {\r\n                console.error(\"Invalid response format\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching approval status: \", error);\r\n        }\r\n    };\r\n\r\n    const items_list = ref([]);\r\n    const getItemsList = async () => {\r\n        try {\r\n            const response = await axiosInstance.get(`/item-list`);\r\n            if (response.data && Array.isArray(response.data)) {\r\n                items_list.value = response.data;\r\n            } else {\r\n                console.error(\"Invalid response format\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching approval status: \", error);\r\n        }\r\n    };\r\n\r\n    const approveCheck = async (id, role) => {\r\n        try {\r\n            const response = await axiosInstance.put(`/approval-check/${id}`, {\r\n                [role]: 1\r\n            });\r\n            getApprovalStatus();\r\n            showMessage(\"Aproved Successfully\");\r\n        } catch (error) {\r\n            console.error(\"Error approving check:\", error.message);\r\n        }\r\n    };\r\n\r\n    const getPurchaseOrder = async () => {\r\n    try {\r\n        const response = await axiosInstance.get(`/purchase-order/${route.params.order_id}`);\r\n        if (response.data) {\r\n            order_status.value = response.data.status_name;\r\n            console.log(\"order status \",order_status.value);\r\n        } else {\r\n            console.error(\"Invalid response format\");\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error fetching purchase order: \", error);\r\n    } finally {\r\n        loading_spinner.value = false;\r\n    }\r\n};  \r\n    const is_project_manager = ref(false);\r\n    const is_operator = ref(false);\r\n    const is_engineer = ref(false);\r\n    const is_md= ref(false);\r\n    const is_fc= ref(false);\r\n    const is_qs= ref(false);\r\n    const is_sa= ref(false);\r\n\r\n\r\n    const activatePurchaseOrder = (id) => {\r\n        loading_spinner.value = true;\r\n        const activationData = {\r\n            status_name: 'Unapproved',\r\n            status_color: 'secondary',\r\n        };\r\n        \r\n        if (confirm(\"Are you sure you want to Confirm this Order?\")) {\r\n            axiosInstance\r\n                .put(`/purchase-order/${id}`, activationData)\r\n                .then((response) => {\r\n                    getPurchaseOrder();\r\n                    loading_spinner.value = false;\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Error activating order:\", error.message);\r\n                    loading_spinner.value = false;\r\n                });\r\n        } else {\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n\r\n\r\n    const approveUnCheck = async (id, role) => {\r\n        try {\r\n            const response = await axiosInstance.put(`/approval-check/${id}`, {\r\n                [role]: 0\r\n            });\r\n            showMessage(\"Unapproved Successfully\")\r\n            getApprovalStatus();\r\n        } catch (error) {\r\n            showError(error.message);\r\n            console.error(\"Error approving check:\", error.message);\r\n        }\r\n            const response = await axiosInstance.put(`/purchase-order/${route.params.order_id}`, {\r\n                        status_name: \"Unapproved\",\r\n                        status_color:\"secondary\",\r\n                    });\r\n    };\r\n\r\n\r\n    onMounted(() => {\r\n        getPurchaseOrder();\r\n        getItemsList();\r\n        getApprovalStatus();\r\n        getItems();\r\n    const storedUser = localStorage.getItem(\"user\");\r\n    const user=ref(null);\r\n    if (storedUser) {\r\n       user.value = JSON.parse(storedUser);\r\n       \r\n       if(user.value.role == 2){\r\n         is_md.value=true;\r\n       }\r\n       if(user.value.role == 3){\r\n         is_fc.value=true;\r\n       }\r\n       if(user.value.role == 4){\r\n        is_sa.value=true;\r\n       }\r\n       if(user.value.role == 5){\r\n        is_qs.value=true;\r\n       }\r\n       if(user.value.role == 6){\r\n        is_engineer.value=true;\r\n       }\r\n       if(user.value.role == 7){\r\n        is_operator.value=true;\r\n       }\r\n       if(user.value.role == 10){\r\n        is_project_manager.value=true;\r\n       }\r\n    }\r\n    });\r\n\r\n\r\n</script>\r\n","import script from \"./bushman_items_list.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./bushman_items_list.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./bushman_items_list.vue?vue&type=style&index=0&id=1b000ac4&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useMeta","title","route","useRoute","columns","ref","items","item_registration","description","machines","unit","machine_field","quantity","rate","order_status","amount","loading_spinner","approval_status","spinner","print_url","process","axiosInstance","axios","baseURL","showMessage","inject","showError","watch","value","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortable","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","handleDescriptionChange","fetchMachines","async","get","then","response","Array","isArray","data","map","machine","id","name","type","type_name","error_message","error","message","console","catch","finally","registerItem","itemData","order_id","params","unit_measure","post","getItems","status","order","index","SNo","units","toLocaleString","Number","undefined","maximumFractionDigits","approval_status_data","getApprovalStatus","items_list","getItemsList","approveCheck","role","put","getPurchaseOrder","status_name","log","is_project_manager","is_operator","is_engineer","is_md","is_fc","is_qs","is_sa","activatePurchaseOrder","activationData","status_color","confirm","approveUnCheck","onMounted","storedUser","localStorage","getItem","user","JSON","parse","__exports__"],"sourceRoot":""}