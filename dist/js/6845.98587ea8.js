(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[6845,1703],{96077:function(e,t,a){var l=a(17854),n=a(60614),s=l.String,o=l.TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw o("Can't set "+s(e)+" as a prototype")}},70648:function(e,t,a){var l=a(17854),n=a(51694),s=a(60614),o=a(84326),i=a(5112),r=i("toStringTag"),d=l.Object,c="Arguments"==o(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(error){}};e.exports=n?o:function(e){var t,a,l;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=u(t=d(e),r))?a:c?o(t):"Object"==(l=o(t))&&s(t.callee)?"Arguments":l}},77741:function(e,t,a){var l=a(1702),n=Error,s=l("".replace),o=function(e){return String(n(e).stack)}("zxcasd"),i=/\n\s*at [^:]*:[^\n]*/,r=i.test(o);e.exports=function(e,t){if(r&&"string"==typeof e&&!n.prepareStackTrace)while(t--)e=s(e,i,"");return e}},22914:function(e,t,a){var l=a(47293),n=a(79114);e.exports=!l((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",n(1,7)),7!==e.stack)}))},22104:function(e,t,a){var l=a(34374),n=Function.prototype,s=n.apply,o=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(l?o.bind(s):function(){return o.apply(s,arguments)})},79587:function(e,t,a){var l=a(60614),n=a(70111),s=a(27674);e.exports=function(e,t,a){var o,i;return s&&l(o=t.constructor)&&o!==a&&n(i=o.prototype)&&i!==a.prototype&&s(e,i),e}},58340:function(e,t,a){var l=a(70111),n=a(68880);e.exports=function(e,t){l(t)&&"cause"in t&&n(e,"cause",t.cause)}},56277:function(e,t,a){var l=a(41340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:l(e)}},27674:function(e,t,a){var l=a(1702),n=a(19670),s=a(96077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,a={};try{e=l(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(a,[]),t=a instanceof Array}catch(error){}return function(a,l){return n(a),s(l),t?e(a,l):a.__proto__=l,a}}():void 0)},2626:function(e,t,a){var l=a(3070).f;e.exports=function(e,t,a){a in e||l(e,a,{configurable:!0,get:function(){return t[a]},set:function(e){t[a]=e}})}},51694:function(e,t,a){var l=a(5112),n=l("toStringTag"),s={};s[n]="z",e.exports="[object z]"===String(s)},41340:function(e,t,a){var l=a(17854),n=a(70648),s=l.String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return s(e)}},89191:function(e,t,a){"use strict";var l=a(35005),n=a(92597),s=a(68880),o=a(47976),i=a(27674),r=a(99920),d=a(2626),c=a(79587),u=a(56277),m=a(58340),v=a(77741),p=a(22914),b=a(19781),_=a(31913);e.exports=function(e,t,a,h){var g="stackTraceLimit",y=h?2:1,w=e.split("."),f=w[w.length-1],k=l.apply(null,w);if(k){var x=k.prototype;if(!_&&n(x,"cause")&&delete x.cause,!a)return k;var S=l("Error"),C=t((function(e,t){var a=u(h?t:e,void 0),l=h?new k(e):new k;return void 0!==a&&s(l,"message",a),p&&s(l,"stack",v(l.stack,2)),this&&o(x,this)&&c(l,this,C),arguments.length>y&&m(l,arguments[y]),l}));if(C.prototype=x,"Error"!==f?i?i(C,S):r(C,S,{name:!0}):b&&g in k&&(d(C,k,g),d(C,k,"prepareStackTrace")),r(C,k),!_)try{x.name!==f&&s(x,"name",f),x.constructor=C}catch(error){}return C}}},21703:function(e,t,a){var l=a(82109),n=a(17854),s=a(22104),o=a(89191),i="WebAssembly",r=n[i],d=7!==Error("e",{cause:7}).cause,c=function(e,t){var a={};a[e]=o(e,t,d),l({global:!0,constructor:!0,arity:1,forced:d},a)},u=function(e,t){if(r&&r[e]){var a={};a[e]=o(i+"."+e,t,d),l({target:i,stat:!0,constructor:!0,arity:1,forced:d},a)}};c("Error",(function(e){return function(t){return s(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return s(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return s(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return s(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return s(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return s(e,this,arguments)}})),c("URIError",(function(e){return function(t){return s(e,this,arguments)}})),u("CompileError",(function(e){return function(t){return s(e,this,arguments)}})),u("LinkError",(function(e){return function(t){return s(e,this,arguments)}})),u("RuntimeError",(function(e){return function(t){return s(e,this,arguments)}}))},86845:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return wu}});a(21703),a(26699);var l=a(66252),n=a(49963),s=a(2262),o=a(3577),i=a(87066),r=a(56296),d=a(42119),c=a(26212),u=a.n(c),m=a(45243),v=a.n(m);const p=e=>((0,l.dD)("data-v-a069eb30"),e=e(),(0,l.Cn)(),e),b={class:"layout-px-spacing"},_=(0,l.uE)('<ul class="navbar-nav flex-row mt-2" data-v-a069eb30><li data-v-a069eb30><div class="page-header" data-v-a069eb30><nav class="breadcrumb-one" aria-label="breadcrumb" data-v-a069eb30><ol class="breadcrumb" data-v-a069eb30><li class="breadcrumb-item active" aria-current="page" data-v-a069eb30><span data-v-a069eb30> Work Report</span></li></ol></nav></div></li></ul>',1),h={key:0,class:"d-flex justify-content-end align-items-center gap-3"},g=["disabled"],y=["innerHTML"],w={key:1},f=p((()=>(0,l._)("div",{style:{"border-left":"1px solid #ccc",height:"28px"}},null,-1))),k=["disabled"],x=["innerHTML"],S={key:1},C=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-paperclip me-1",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0z"})],-1))),T=[C],D={key:0,href:"https://bushman.ink/daily_construction_report.pdf",target:"_blank",class:"btn btn-dark btn-sm"},E=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer me-1",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),A=(0,l.Uk)(" Print Empty report "),U=[E,A],M={key:1,class:"panel-body simple-tab tabs"},N={class:"d-flex justify-content-between align-items-center"},H={class:"nav nav-tabs mb-3 mt-3",id:"simpletab",role:"tablist"},$=p((()=>(0,l._)("li",{class:"nav-item"},[(0,l._)("a",{class:"nav-link",id:"home-tab","data-bs-toggle":"tab",href:"#home",role:"tab","aria-controls":"home","aria-selected":"false"},"project details")],-1))),R=p((()=>(0,l._)("a",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab",href:"#profile",role:"tab","aria-controls":"profile","aria-selected":"true"},"Materials used",-1))),L=[R],O=p((()=>(0,l._)("a",{class:"nav-link",id:"diesel-tab","data-bs-toggle":"tab",href:"#diesel",role:"tab","aria-controls":"diesel","aria-selected":"true"},"Bulk Diesel ",-1))),I=[O],V=p((()=>(0,l._)("a",{class:"nav-link",id:"petrol-tab","data-bs-toggle":"tab",href:"#petrol",role:"tab","aria-controls":"petrol","aria-selected":"true"},"Bulk Petrol",-1))),q=[V],j=p((()=>(0,l._)("a",{class:"nav-link",id:"diesel-tab","data-bs-toggle":"tab",href:"#diesel",role:"tab","aria-controls":"diesel","aria-selected":"true"},"Project Fuel Statement",-1))),z=[j],P=p((()=>(0,l._)("a",{class:"nav-link",id:"delivery-notes-tab","data-bs-toggle":"tab",href:"#delivery-notes",role:"tab","aria-controls":"delivery-notes","aria-selected":"true"},"Delivery Notes",-1))),B=[P],W=["tabindex"],F={class:"nav-item"},Y=["tabindex"],Q={class:"nav-item"},J=["tabindex"],X={class:"nav-item"},K={class:"nav-item"},G={class:"tab-content",id:"simpletabContent"},Z={class:"tab-pane fade",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},ee={class:"row card shadow"},te={class:"col-md-12 text-start mt-3"},ae={class:"mb-1 text-start"},le=p((()=>(0,l._)("strong",null,"Project Details: ",-1))),ne=(0,l.Uk)(),se=p((()=>(0,l._)("br",null,null,-1))),oe={class:"mb-1 text-start"},ie=p((()=>(0,l._)("strong",null,"Financial Year:",-1))),re=p((()=>(0,l._)("br",null,null,-1))),de={class:"mb-1 text-start"},ce=p((()=>(0,l._)("strong",null,"Client:",-1))),ue=p((()=>(0,l._)("br",null,null,-1))),me={class:"mb-1 text-start"},ve=p((()=>(0,l._)("strong",null,"Contract Number:",-1))),pe=p((()=>(0,l._)("br",null,null,-1))),be={class:"mb-1 text-start"},_e=p((()=>(0,l._)("strong",null,"Store Name:",-1))),he=p((()=>(0,l._)("br",null,null,-1))),ge={class:"mb-1 text-start"},ye=p((()=>(0,l._)("strong",null,"Officer Incharge:",-1))),we=p((()=>(0,l._)("br",null,null,-1))),fe={class:"mb-1 text-start"},ke=p((()=>(0,l._)("strong",null,"Phone No:",-1))),xe=p((()=>(0,l._)("br",null,null,-1))),Se={class:"tab-pane fade",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"},Ce=p((()=>(0,l._)("h5",{class:"text-center"},"SITE MATERIALS USED STETEMENT ",-1))),Te={class:"d-flex justify-content-end"},De=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},[(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1))),Ee=[De],Ae=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),Ue=(0,l.Uk)(" Â Print "),Me=[Ae,Ue],Ne={class:"panel p-0"},He={class:"custom-table table3"},$e=["innerHTML"],Re=["onClick"],Le=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-arrow-left-square",viewBox:"0 0 16 16"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm11.5 5.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"})],-1))),Oe=[Le],Ie={class:"tab-pane fade",id:"diesel",role:"tabpanel","aria-labelledby":"diesel-tab"},Ve={class:"panel p-0"},qe={key:0,class:"text-center mt-2"},je={class:"custom-table table3 p-2"},ze={key:0,class:"d-flex align-items-start"},Pe={class:"table mb-0"},Be=p((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th"),(0,l._)("th",{class:"text-primary"},"Used"),(0,l._)("th",{class:"text-success"},"Balance")])],-1))),We=p((()=>(0,l._)("td",{class:"fw-bold"},"Diesel",-1))),Fe={class:"ms-auto"},Ye={key:1},Qe=p((()=>(0,l._)("h5",{class:"text-center"},"DIESEL AND PETROL STATEMENT",-1))),Je=[Qe],Xe=["innerHTML"],Ke={key:1,class:"panel p-0 mt-3"},Ge={class:"custom-table table3"},Ze={class:"position-relative d-inline-block"},et=["onClick"],tt=p((()=>(0,l._)("path",{d:"M4 4h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7l-4 4v-16a2 2 0 0 1 2-2z",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linejoin":"round"},null,-1))),at=p((()=>(0,l._)("line",{x1:"7",y1:"9",x2:"17",y2:"9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1))),lt=p((()=>(0,l._)("line",{x1:"7",y1:"13",x2:"14",y2:"13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1))),nt={key:0,cx:"19",cy:"6",r:"6",fill:"red",stroke:"white","stroke-width":"1.5"},st={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-exclamation-triangle-fill text-warning position-absolute top-0 start-100 translate-middle",viewBox:"0 0 16 16",title:"Missing readings",style:{cursor:"pointer","z-index":"10"}},ot=p((()=>(0,l._)("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5m.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"},null,-1))),it=[ot],rt={class:"tab-pane fade",id:"shortage",role:"tabpanel","aria-labelledby":"shortage-tab"},dt=p((()=>(0,l._)("h5",{class:"text-center mb-0"},"SITE DELIVERY NOTE SHORTAGE STATEMENT",-1))),ct={class:"bg-white px-3 py-2 rounded fw-bold"},ut={class:"panel p-0"},mt={class:"custom-table table3"},vt={class:"modal-footer"},pt=p((()=>(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1))),bt=["disabled"],_t={class:"tab-pane fade",id:"petrol",role:"tabpanel","aria-labelledby":"petrol-tab"},ht={class:"panel p-0"},gt=p((()=>(0,l._)("h5",{class:"text-center mt-2"},"SITE PETROL STETEMENT",-1))),yt={class:"custom-table table3 p-2"},wt={class:"d-flex align-items-start"},ft={class:"table mb-0"},kt=p((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th"),(0,l._)("th",{class:"text-primary"},"Used"),(0,l._)("th",{class:"text-success"},"Balance")])],-1))),xt=p((()=>(0,l._)("td",{class:"fw-bold"},"Petrol",-1))),St={class:"ms-auto"},Ct=["innerHTML"],Tt={key:1,class:"panel p-0 mt-3"},Dt={class:"custom-table table3"},Et=["onClick"],At=p((()=>(0,l._)("path",{d:"M4 4h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7l-4 4v-16a2 2 0 0 1 2-2z",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linejoin":"round"},null,-1))),Ut=p((()=>(0,l._)("line",{x1:"7",y1:"9",x2:"17",y2:"9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1))),Mt=p((()=>(0,l._)("line",{x1:"7",y1:"13",x2:"14",y2:"13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1))),Nt={key:0,cx:"19",cy:"6",r:"6",fill:"red",stroke:"white","stroke-width":"1.5"},Ht={class:"tab-pane fade",id:"delivery-notes",role:"tabpanel","aria-labelledby":"delivery-notes-tab"},$t={class:"panel p-0"},Rt={class:"custom-table table3 p-2"},Lt=p((()=>(0,l._)("h5",{class:"text-center"},"SITE DELIVERY NOTES",-1))),Ot={class:"d-flex align-items-start"},It={class:"ms-auto"},Vt=["innerHTML"],qt={key:1,class:"panel p-0 mt-3"},jt={class:"custom-table table3"},zt=["onClick"],Pt=p((()=>(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1))),Bt=p((()=>(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1))),Wt=[Pt,Bt],Ft={class:"tab-pane fade",id:"store",role:"tabpanel","aria-labelledby":"store-tab"},Yt=["innerHTML"],Qt={key:1,class:"panel p-0 mt-3"},Jt={class:"d-flex flex-column flex-md-row align-items-center justify-content-between text-center text-md-start"},Xt={class:"mb-3 mb-md-0 w-100 text-center"},Kt={class:"btn-group mt-2 mt-md-0"},Gt={class:"custom-table table3"},Zt=p((()=>(0,l._)("div",{class:"d-flex justify-content-center align-items-center"},null,-1))),ea={class:"tab-pane fade",id:"challenge",role:"tabpanel","aria-labelledby":"challenge-tab"},ta=["innerHTML"],aa={key:1,class:"panel p-0 mt-3"},la=p((()=>(0,l._)("h5",{class:"text-center mt-3"},"CHALLENGES FACED AT SITE",-1))),na={class:"d-flex"},sa={class:"ms-auto"},oa={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},ia=p((()=>(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1))),ra=p((()=>(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"},null,-1))),da=p((()=>(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"},null,-1))),ca=[ia,ra,da],ua={key:1},ma={class:"row mt-2"},va={class:"col-md-6"},pa=p((()=>(0,l._)("label",{class:"form-label mx-2"},"Challenge Faced",-1))),ba={class:"col-md-6"},_a=p((()=>(0,l._)("label",{class:"form-label mx-2"},"Proposed Measure",-1))),ha={class:"d-flex"},ga={class:"ms-auto"},ya=["disabled"],wa=["innerHTML"],fa=p((()=>(0,l._)("span",null,"Save",-1))),ka={class:"custom-table table3"},xa=["onClick"],Sa=p((()=>(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1))),Ca=p((()=>(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1))),Ta=[Sa,Ca],Da={class:"tab-pane fade show active",id:"labour",role:"tabpanel","aria-labelledby":"labour-tab"},Ea=["innerHTML"],Aa={key:1,class:"panel p-0 mt-3"},Ua=p((()=>(0,l._)("h5",{class:"text-center mt-3"},"LABOUR ATTENDANCE",-1))),Ma={class:"d-flex justify-content-end"},Na={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},Ha=p((()=>(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1))),$a=p((()=>(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"},null,-1))),Ra=p((()=>(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"},null,-1))),La=[Ha,$a,Ra],Oa={key:1},Ia=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),Va=[Ia],qa=p((()=>(0,l._)("button",{class:"btn btn-info align-items-center me-2",title:"Your Attendances"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-geo-alt-fill",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6"})])],-1))),ja={class:"row"},za={class:"col-md-6"},Pa=p((()=>(0,l._)("label",{class:"form-label"},"Labour Name",-1))),Ba={class:"col-md-6"},Wa=p((()=>(0,l._)("label",{class:"form-label small"},"Labour Type",-1))),Fa={class:"col-md-6"},Ya=p((()=>(0,l._)("label",{class:"form-label"},"Reporting Time",-1))),Qa={class:"col-md-6"},Ja=p((()=>(0,l._)("label",{class:"form-label"},"Task",-1))),Xa={class:"d-flex"},Ka={class:"ms-auto"},Ga=["disabled"],Za=["innerHTML"],el=p((()=>(0,l._)("span",null,"Save",-1))),tl={class:"custom-table table3"},al=["onClick"],ll=p((()=>(0,l._)("path",{d:"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z"},null,-1))),nl=p((()=>(0,l._)("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"},null,-1))),sl=[ll,nl],ol={class:"tab-pane fade",id:"work",role:"tabpanel","aria-labelledby":"work-tab"},il=["innerHTML"],rl={key:1,class:"panel p-0 mt-3"},dl=p((()=>(0,l._)("h5",{class:"text-center mt-3"},"WORK CARRIED OUT ",-1))),cl={class:"d-flex"},ul={class:"ms-auto d-flex gap-2"},ml={key:0,class:"btn btn-primary me-2","data-bs-toggle":"modal","data-bs-target":"#report-modal"},vl=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},[(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1))),pl=[vl],bl={class:"row mt-4"},_l={class:"card shadow"},hl={class:"card-body"},gl={class:"d-flex justify-content-between align-items-center"},yl={class:"card-title text-dark fw-bold text-start mb-0"},wl={class:"ms-auto me-2"},fl=["onClick"],kl=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),xl=[kl],Sl={class:"d-flex gap-2"},Cl=["onClick"],Tl=["onClick","disabled"],Dl={key:0,class:"spinner-border spinner-border-sm me-1",role:"status",style:{width:"14px",height:"14px"}},El=p((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),Al=[El],Ul={key:1},Ml={key:2},Nl={class:"my-4"},Hl={class:"text-muted mb-1 text-start"},$l=p((()=>(0,l._)("strong",null,"Supervisor:",-1))),Rl={key:0,class:"text-muted mb-1 text-start mt-3"},Ll=p((()=>(0,l._)("strong",null,"Remark:",-1))),Ol={class:"panel p-0 mt-3"},Il={class:"custom-table table3 mt-3"},Vl=["onClick"],ql=p((()=>(0,l._)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},null,-1))),jl=p((()=>(0,l._)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},null,-1))),zl=[ql,jl],Pl={key:1,class:"spinner-border spinner-border-sm text-danger ms-2",role:"status",style:{width:"24px",height:"24px",display:"inline-flex","align-items":"center","justify-content":"center"},title:"Deleting..."},Bl=p((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),Wl=[Bl],Fl=["onClick"],Yl=p((()=>(0,l._)("polyline",{points:"3 6 5 6 21 6"},null,-1))),Ql=p((()=>(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},null,-1))),Jl=p((()=>(0,l._)("line",{x1:"10",y1:"11",x2:"10",y2:"17"},null,-1))),Xl=p((()=>(0,l._)("line",{x1:"14",y1:"11",x2:"14",y2:"17"},null,-1))),Kl=[Yl,Ql,Jl,Xl],Gl={class:"d-flex gap-2 justify-content-end"},Zl=["onClick"],en=["onClick"],tn=p((()=>(0,l._)("path",{d:"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"},null,-1))),an=p((()=>(0,l._)("path",{d:"M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2zm13 1a.5.5 0 0 1 .5.5v6l-3.775-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12v.54L1 12.5v-9a.5.5 0 0 1 .5-.5z"},null,-1))),ln=[tn,an],nn={key:0,class:"row mt-3"},sn={class:"col-12"},on=p((()=>(0,l._)("h6",{class:"text-start fw-bold mb-3"},"Activity Attachments",-1))),rn={class:"row g-3"},dn={class:"card shadow-sm h-100"},cn={class:"card-body p-2"},un={class:"attachment-preview mb-2",style:{height:"150px",overflow:"hidden","border-radius":"9px",display:"flex","align-items":"center","justify-content":"center","background-color":"#f8f9fa"}},mn=["src","alt","onClick"],vn={class:"d-flex justify-content-between align-items-center"},pn={class:"mb-1 small text-muted"},bn={key:0,class:"spinner-border spinner-border-sm text-danger",role:"status",style:{width:"20px",height:"20px"}},_n=p((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),hn=[_n],gn=["onClick"],yn=p((()=>(0,l._)("polyline",{points:"3 6 5 6 21 6"},null,-1))),wn=p((()=>(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},null,-1))),fn=p((()=>(0,l._)("line",{x1:"10",y1:"11",x2:"10",y2:"17"},null,-1))),kn=p((()=>(0,l._)("line",{x1:"14",y1:"11",x2:"14",y2:"17"},null,-1))),xn=[yn,wn,fn,kn],Sn=p((()=>(0,l._)("div",{class:"card-footer bg-transparent border-0 d-flex justify-content-between"},null,-1))),Cn={key:2,class:"container text-center mt-5"},Tn=["disabled"],Dn={key:0,class:"spinner-border spinner-border-sm me-2",width:"20",height:"20",role:"status"},En={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-check-circle me-2",viewBox:"0 0 16 16"},An=p((()=>(0,l._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1))),Un=p((()=>(0,l._)("path",{d:"m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"},null,-1))),Mn=[An,Un],Nn={key:2},Hn={key:3},$n=["disabled"],Rn={key:0,class:"spinner-border spinner-border-sm me-2",width:"20",height:"20",role:"status"},Ln={key:1,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-geo-alt",viewBox:"0 0 16 16"},On=p((()=>(0,l._)("path",{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A32 32 0 0 1 8 14.58a32 32 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"},null,-1))),In=p((()=>(0,l._)("path",{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6"},null,-1))),Vn=[On,In],qn=(0,l.Uk)(),jn={key:2},zn={key:3},Pn=p((()=>(0,l._)("div",{class:"alert alert-dark mt-5 text-start alert-dismissible fade show",role:"alert"},[(0,l.Uk)(' NB: You must report your current location to proceed! , Make sure to allow an app to access your location . If Location is not precise according to map click "Refresh Location" Button. '),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",style:{filter:"invert(1)"}})],-1))),Bn=p((()=>(0,l._)("link",{rel:"stylesheet",href:"https://unpkg.com/leaflet/dist/leaflet.css"},null,-1))),Wn=p((()=>(0,l._)("div",{id:"map",style:{height:"600px"},class:"mb-2 mt-5"},null,-1))),Fn={class:"modal fade mymodal","data-bs-backdrop":"false",id:"work-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Yn={class:"modal-dialog modal-xl"},Qn={class:"modal-content"},Jn=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"STORE ITEM USAGE FORM"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close"})],-1))),Xn={class:"modal-body"},Kn={class:"row"},Gn={class:"col-md-3"},Zn=p((()=>(0,l._)("label",{class:"form-label"},"Select An Item ",-1))),es={class:"col-md-3"},ts={class:"form-label"},as=["readonly","min"],ls={class:"col-md-3"},ns=p((()=>(0,l._)("label",{class:"form-label"},"Condition",-1))),ss={class:"form-control"},os={class:"col-md-3"},is=p((()=>(0,l._)("label",{class:"form-label"},"Date",-1))),rs={class:"mb-3"},ds=p((()=>(0,l._)("label",{for:"message-text",class:"col-form-label"},"Work Carried Out :",-1))),cs={class:"modal-footer"},us=p((()=>(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",id:"close"},"Close",-1))),ms=["disabled"],vs=["innerHTML"],ps={key:1},bs={class:"modal fade mymodal","data-bs-backdrop":"false",id:"fuel-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_s={class:"modal-dialog modal-xl"},hs={class:"modal-content"},gs={class:"modal-header"},ys={class:"modal-title fs-5",id:"exampleModalLabel"},ws={class:"modal-body"},fs={class:"row"},ks={class:"col-md-4"},xs=p((()=>(0,l._)("label",{class:"form-label"},"Select An Asset ",-1))),Ss={class:"col-md-4"},Cs={class:"form-label"},Ts=["readonly","min"],Ds={class:"col-md-4"},Es=p((()=>(0,l._)("label",{class:"form-label"},"Date",-1))),As={class:"col-md-4"},Us=p((()=>(0,l._)("label",{for:"consuption_type"},"Consuption Ratio",-1))),Ms=p((()=>(0,l._)("option",{value:""},"Select Consuption Type",-1))),Ns=p((()=>(0,l._)("option",{value:"km/Litre"},"km/Litre",-1))),Hs=p((()=>(0,l._)("option",{value:"Litre/hr"},"Litre/hr",-1))),$s=[Ms,Ns,Hs],Rs={class:"col-md-4"},Ls=p((()=>(0,l._)("label",{class:"form-label"},"Driver Name",-1))),Os={class:"col-md-2"},Is=p((()=>(0,l._)("label",{class:"form-label"},"Initial Reading",-1))),Vs={class:"col-md-2"},qs=p((()=>(0,l._)("label",{class:"form-label"},"Final Reading",-1))),js={class:"col-md-4"},zs=p((()=>(0,l._)("label",{class:"form-label"},"Volume of work",-1))),Ps={class:"col-md-4"},Bs=p((()=>(0,l._)("label",{class:"form-label"},"Unit",-1))),Ws={class:"mb-3"},Fs=p((()=>(0,l._)("label",{for:"message-text",class:"col-form-label"},"Work Carried Out :",-1))),Ys={class:"modal-footer"},Qs=["disabled"],Js=["innerHTML"],Xs={key:1},Ks={class:"modal fade mymodal",id:"return-items","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gs={class:"modal-dialog modal-xl"},Zs={class:"modal-content"},eo=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"TO STORE RETURN FORM"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close-return"})],-1))),to={class:"modal-body"},ao={class:"row layout-top-spacing",style:{"max-height":"67vh","overflow-y":"auto"}},lo={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},no={class:"panel p-0"},so={class:"custom-table table3"},oo={class:"row"},io={class:"col-md-4"},ro=p((()=>(0,l._)("label",{class:"form-label"},"Item ",-1))),co={class:"form-control"},uo={class:"col-md-4"},mo=p((()=>(0,l._)("label",{class:"form-label"},"Used Quantity",-1))),vo={class:"form-control"},po={class:"col-md-4"},bo={class:"form-label"},_o=["min","max"],ho={class:"col-md-4"},go=p((()=>(0,l._)("label",{class:"form-label"},"Condition",-1))),yo=p((()=>(0,l._)("option",{value:""},"Select Condition",-1))),wo=p((()=>(0,l._)("option",{value:"used"},"Used",-1))),fo=p((()=>(0,l._)("option",{value:"new"},"New",-1))),ko=p((()=>(0,l._)("option",{value:"damaged"},"Damaged",-1))),xo=[yo,wo,fo,ko],So={class:"modal-footer"},Co=p((()=>(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm","data-bs-dismiss":"modal"},"Close",-1))),To=["disabled"],Do=["innerHTML"],Eo={key:1},Ao={class:"modal fade mymodal",id:"edit","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Uo={class:"modal-dialog modal-xl"},Mo={class:"modal-content"},No={class:"modal-header"},Ho={class:"modal-title fs-5",id:"staticBackdropLabel"},$o=p((()=>(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close"},null,-1))),Ro={class:"modal-body"},Lo={class:"card mb-3"},Oo={class:"card-body"},Io={class:"row mb-2 text-start"},Vo={class:"col-md-4"},qo=p((()=>(0,l._)("strong",null,"Issued Date:",-1))),jo={class:"col-md-4"},zo=p((()=>(0,l._)("strong",null,"Issuer:",-1))),Po={class:"col-md-4"},Bo=p((()=>(0,l._)("strong",null,"Driver:",-1))),Wo={class:"row mb-2 text-start"},Fo={class:"col-md-4"},Yo=p((()=>(0,l._)("strong",null,"Machine:",-1))),Qo={class:"col-md-4"},Jo=p((()=>(0,l._)("strong",null,"Type:",-1))),Xo={class:"col-md-4"},Ko=p((()=>(0,l._)("strong",null,"Issued:",-1))),Go={class:"row mb-2 text-start"},Zo={class:"col-md-4"},ei=p((()=>(0,l._)("strong",null,"Initial:",-1))),ti={class:"col-md-4"},ai=p((()=>(0,l._)("strong",null,"Final:",-1))),li={class:"col-md-4"},ni=p((()=>(0,l._)("strong",null,"Ratio:",-1))),si={class:"row mb-2 text-start"},oi={class:"col-md-4 my-2"},ii=p((()=>(0,l._)("strong",null,"consumption type:",-1))),ri={class:"col-md-4 my-2"},di=p((()=>(0,l._)("strong",null,"Work:",-1))),ci={class:"col-md-4 my-2"},ui=p((()=>(0,l._)("strong",null,"Used:",-1))),mi={class:"col-md-12"},vi=p((()=>(0,l._)("strong",null,"Task:",-1))),pi={key:0,class:"row text-start"},bi={class:"col-md-12"},_i=p((()=>(0,l._)("strong",null,"Remark :",-1))),hi={class:"row layout-top-spacing"},gi={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},yi={class:"panel p-0"},wi={class:"custom-table table3"},fi={class:"row g-3"},ki={key:0,class:"col-md-4"},xi=p((()=>(0,l._)("label",{class:"form-label"},"Initial Reading",-1))),Si={key:1,class:"col-md-4"},Ci=p((()=>(0,l._)("label",{class:"form-label"},"Final Reading",-1))),Ti={key:2,class:"col-md-4"},Di=p((()=>(0,l._)("label",{class:"form-label"},"Volume of work",-1))),Ei={key:3,class:"col-md-4"},Ai=p((()=>(0,l._)("label",{class:"form-label"},"Unit",-1))),Ui={key:4,class:"col-md-8"},Mi=p((()=>(0,l._)("label",{class:"form-label"}," Task ",-1))),Ni={key:5,class:"col-md-11"},Hi=p((()=>(0,l._)("label",{class:"form-label"},"Enter Remark",-1))),$i={class:"col-md-1 d-flex justify-content-between align-items-center"},Ri={class:"pt-4"},Li=["disabled"],Oi=["innerHTML"],Ii={key:1},Vi=p((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm py-2 px-2","data-bs-dismiss":"modal",id:"close"},"Close")],-1))),qi={class:"modal fade mymodal",id:"delivery","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ji={class:"modal-dialog modal-xl"},zi={class:"modal-content"},Pi={class:"modal-header"},Bi={class:"modal-title fs-5",id:"staticBackdropLabel"},Wi=(0,l.Uk)(" GOOD DELIVERY NOTE STATEMENT FOR : "),Fi=p((()=>(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close"},null,-1))),Yi={class:"modal-body"},Qi={class:"panel p-0 mt-3"},Ji={class:"custom-table table3"},Xi=p((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm","data-bs-dismiss":"modal",id:"close"},"Close")],-1))),Ki={class:"modal fade mymodal",id:"remark-challenge","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gi={class:"modal-dialog modal-xl"},Zi={class:"modal-content"},er=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"}," SITE CHALLENGE REMARK"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close-challenge-remark"})],-1))),tr={class:"modal-body"},ar={class:"row mb-2 fw-bolder"},lr={class:"col-md-4"},nr={class:"col-md-4"},sr={class:"col-md-4"},or={key:0,class:"col-md-12"},ir={class:"input-group"},rr=["disabled"],dr=["innerHTML"],cr={key:1},ur=p((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm","data-bs-dismiss":"modal",id:"close"},"Close")],-1))),mr={class:"modal fade mymodal",id:"edit-labour-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"editConversionFactorModalLabel","aria-hidden":"true"},vr={class:"modal-dialog modal-xl"},pr={class:"modal-content"},br={class:"modal-header"},_r=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"editConversionFactorModalLabel"},"Labour Attendance",-1))),hr={class:"modal-body"},gr={class:"row mb-3"},yr={class:"col-md-6"},wr=p((()=>(0,l._)("label",{class:"form-label"},"Derpurture Time",-1))),fr={class:"col-md-6"},kr=p((()=>(0,l._)("label",{class:"form-label"},"Task Status",-1))),xr={class:"col-md-12"},Sr=p((()=>(0,l._)("label",{class:"form-label"},"Description",-1))),Cr={class:"modal-footer"},Tr=["disabled"],Dr={key:0,class:"spinner-border spinner-border-sm text-white me-2",role:"status"},Er=(0,l.Uk)(" Save "),Ar={class:"modal fade mymodal",id:"report-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"reportModalLabel","aria-hidden":"true"},Ur={class:"modal-dialog modal-xl"},Mr={class:"modal-content"},Nr={class:"modal-header"},Hr=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"reportModalLabel"},"Work Carried Out Form",-1))),$r={class:"modal-body"},Rr={class:"row"},Lr={class:"col-md-8"},Or=p((()=>(0,l._)("label",{class:"form-label"},"Title",-1))),Ir={class:"col-md-4"},Vr=p((()=>(0,l._)("label",{class:"form-label"},"Date",-1))),qr={key:0,class:"row mt-3"},jr={class:"col-md-3"},zr=p((()=>(0,l._)("label",{class:"form-label"},"Activity",-1))),Pr={class:"col-md-3"},Br=p((()=>(0,l._)("label",{class:"form-label small"},"Unit",-1))),Wr={class:"col-md-3"},Fr=p((()=>(0,l._)("label",{class:"form-label"},"Quantity",-1))),Yr={class:"col-md-3"},Qr=p((()=>(0,l._)("label",{class:"form-label"},"Description",-1))),Jr={class:"col-md-12 col-lg-12 mb-2 text-end"},Xr=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},[(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1))),Kr=(0,l.Uk)(" Add activity "),Gr=[Xr,Kr],Zr={key:0,class:"row mb-3"},ed={class:"col-12"},td={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},ad={class:"panel p-0"},ld={class:"custom-table table3"},nd=["onClick"],sd=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-trash text-danger",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),(0,l._)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1z"})],-1))),od=[sd],id={class:"modal-footer"},rd=["disabled"],dd=["innerHTML"],cd=p((()=>(0,l._)("span",null,"Save",-1))),ud={class:"modal fade mymodal",id:"remark-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"remarkModalLabel","aria-hidden":"true"},md={class:"modal-dialog modal-xl"},vd={class:"modal-content"},pd={class:"modal-header"},bd=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"reportModalLabel"},"Remark",-1))),_d={class:"modal-body"},hd={class:"row"},gd={class:"col-md-12"},yd=p((()=>(0,l._)("label",{class:"form-label"},"Remark",-1))),wd={class:"modal-footer"},fd=["disabled"],kd=["innerHTML"],xd=p((()=>(0,l._)("span",null,"Save",-1))),Sd={class:"modal fade mymodal",id:"edit-activity-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"activityModalLabel","aria-hidden":"true"},Cd={class:"modal-dialog modal-xl"},Td={class:"modal-content"},Dd={class:"modal-header"},Ed=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"activityModalLabel"},"Edit Activity",-1))),Ad={class:"modal-body"},Ud={class:"row mb-3"},Md={class:"col-md-4"},Nd=p((()=>(0,l._)("label",{for:"Activity"},"name",-1))),Hd={class:"col-md-4"},$d=p((()=>(0,l._)("label",{class:"form-label small"},"Unit",-1))),Rd={class:"col-md-4"},Ld=p((()=>(0,l._)("label",{for:"quantity"},"Quantity",-1))),Od={class:"modal-footer"},Id=["disabled"],Vd=["innerHTML"],qd=p((()=>(0,l._)("span",null,"Save",-1))),jd={class:"modal fade mymodal",id:"add-activity-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"activityModalLabel","aria-hidden":"true"},zd={class:"modal-dialog modal-xl"},Pd={class:"modal-content"},Bd={class:"modal-header"},Wd=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"activityModalLabel"},"Add Activity",-1))),Fd={class:"modal-body"},Yd={class:"row mb-3"},Qd={class:"col-md-4"},Jd=p((()=>(0,l._)("label",{for:"Activity"},"name",-1))),Xd={class:"col-md-4"},Kd=p((()=>(0,l._)("label",{class:"form-label small"},"Unit",-1))),Gd={class:"col-md-4"},Zd=p((()=>(0,l._)("label",{for:"quantity"},"Quantity",-1))),ec={class:"modal-footer"},tc=["disabled"],ac=["innerHTML"],lc=p((()=>(0,l._)("span",null,"Save",-1))),nc={class:"modal fade mymodal",id:"add-attachment-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"attachmentModalLabel","aria-hidden":"true"},sc={class:"modal-dialog modal-xl"},oc={class:"modal-content"},ic={class:"modal-header"},rc=p((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"attachmentModalLabel"},"Add Attachment",-1))),dc={class:"modal-body"},cc={class:"row mb-3"},uc={class:"col-md-6"},mc=p((()=>(0,l._)("label",{class:"form-label"},"Attachment (Image)",-1))),vc={class:"col-md-6"},pc=p((()=>(0,l._)("label",{for:"Activity"},"Descreption",-1))),bc={class:"modal-footer"},_c=["disabled"],hc=["innerHTML"],gc=p((()=>(0,l._)("span",null,"Save",-1))),yc={class:"modal fade mymodal",id:"view-attachment-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"attachmentModalLabel","aria-hidden":"true"},wc={class:"modal-dialog modal-fullscreen"},fc={class:"modal-content"},kc=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"attachmentModalLabel"},"Attachment"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),xc={class:"modal-body p-0"},Sc={class:"attachment-wrapper"},Cc=["src"],Tc=p((()=>(0,l._)("path",{d:"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"},null,-1))),Dc=[Tc],Ec=p((()=>(0,l._)("button",{type:"button",class:"btn btn-danger ms-4","data-bs-dismiss":"modal"},"Close",-1))),Ac={class:"modal fade mymodal",id:"view-site-attachment-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"viewSiteAttachmentModalLabel","aria-hidden":"true"},Uc={class:"modal-dialog modal-xl"},Mc={class:"modal-content"},Nc=p((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"viewSiteAttachmentModalLabel"},"DAILY CONSTRUCTION ATTACHMENTS REPORT"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Hc={class:"modal-body"},$c={class:"mb-3"},Rc={class:"row"},Lc={class:"col-md-6"},Oc={class:"mb-2 text-start"},Ic=p((()=>(0,l._)("strong",null,"Project Name:",-1))),Vc={class:"mb-2 text-start"},qc=p((()=>(0,l._)("strong",null,"Contract Number:",-1))),jc={class:"col-md-6"},zc={class:"mb-2 text-start"},Pc=p((()=>(0,l._)("strong",null,"Officer In Charge:",-1))),Bc={class:"mb-2 text-start"},Wc=p((()=>(0,l._)("strong",null,"Client:",-1))),Fc={class:"d-flex justify-content-between align-items-center mb-3"},Yc=p((()=>(0,l._)("h5",{class:"mb-0"},null,-1))),Qc={key:0,class:"row mb-3"},Jc={class:"col-md-12"},Xc={class:"row"},Kc={class:"col-md-6"},Gc=p((()=>(0,l._)("label",{class:"form-label"},"Attachment Description",-1))),Zc={class:"col-md-6"},eu=p((()=>(0,l._)("label",{class:"form-label"},"Attachment (PDF)",-1))),tu={class:"row mt-3"},au={class:"col-md-12 text-end"},lu=["disabled"],nu={key:0,class:"spinner-border spinner-border-sm text-white me-2",role:"status"},su=(0,l.Uk)(" Upload "),ou=p((()=>(0,l._)("h5",{class:"text-start mb-3 mt-3"},"Daily Report Attachments",-1))),iu=["innerHTML"],ru={key:2,class:"panel p-0"},du={class:"custom-table table3"},cu=["href"],uu=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-eye text-primary",viewBox:"0 0 16 16",style:{cursor:"pointer"}},[(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}),(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"})],-1))),mu=[uu],vu=["onClick"],pu=p((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger"},[(0,l._)("polyline",{points:"3 6 5 6 21 6"}),(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1))),bu=[pu],_u=p((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1)));var hu={setup(e){const t="https://bushman.ink",a=(0,d.yj)(),c=(0,s.iH)(0),m=(0,s.iH)(!0),p=(0,l.f3)("showMessage"),C=(0,l.f3)("loadingSpinner"),E=(0,l.f3)("showError"),A=(0,l.f3)("tableShimmer"),R=(0,l.f3)("formatNumber"),O=(0,l.f3)("formatDate"),V=(0,l.f3)("enforceMax");(0,l.f3)("mapShimmer");(0,r.j)({title:"DAILY WORK REPORT"});const j=JSON.parse(localStorage.getItem("user")).permissions;let P,De;const Ae=()=>{P=v().map("map").setView([0,0],2),v().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(P)},Ue=()=>{navigator.geolocation.getCurrentPosition((async e=>{const{latitude:t,longitude:a}=e.coords;da.value=!0,P.setView([t,a],16),De?De.setLatLng([t,a]):De=v().marker([t,a]).addTo(P);const l=await i.Z.get(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${a}`);da.value=!1,cv.value={latitude:t,longitude:a,address:l.data.display_name},De.bindPopup(l.data.display_name).openPopup()}))},Le=(0,s.iH)({}),Qe=(0,s.iH)(""),ot=(0,s.iH)(""),Pt=async()=>{const e={returned:Number(_n.value)+Number(Qe.value.returned),store_item:{item_id:Qe.value.store_item.item.id,store_id:Ns.value.id,item_condition:ot.value}};da.value=!0;try{await Xl.put(`item-usage/${Qe.value.id}`,e);p("Item Returned To Store"),kn();(0,s.iH)(["Sno","activity","unit","quantity","actions"]);Un(),document.getElementById("close-return").click(),tn()}catch(error){E(error.message),console.log(error)}finally{da.value=!1}},Bt=(0,s.iH)(""),ia=(0,s.iH)(""),ra=(0,s.iH)([]),da=(0,s.iH)(!1),Sa=(0,s.iH)((new Date).toISOString().split("T")[0]),Ca=(0,s.iH)(""),Ha=(0,s.iH)(["SNo","name","category_name","condition","used_quantity","balance_quantity","total_quantity"]),$a=(0,s.iH)(["SNo","issuer","machine","type","task","volume","issued","balance","fuel_type","ratio","issued_date","actions"]),Ra=(0,s.iH)(["SNo","challenge","reported_by","proposed_measure","date","remark","actions"]),Ia=(0,s.iH)(["sno","item","category","description","used","returned","date","action"]),ll=async e=>{const t=(0,s.iH)(e),a=document.createElement("iframe");a.style.display="none",document.body.appendChild(a),m.value=!1;const l=new Date,n=l.getDate().toString().padStart(2,"0"),o=(l.getMonth()+1).toString().padStart(2,"0"),i=l.getFullYear(),r=`${n}/${o}`,d=`${r}/${i}`,c=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Store Items Report</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  table tr:first-child th:first-child, table tr:first-child td:first-child { border-top-left-radius: 8px; }\n  table tr:first-child th:last-child, table tr:first-child td:last-child { border-top-right-radius: 8px; }\n  table tr:last-child td:first-child { border-bottom-left-radius: 8px; }\n  table tr:last-child td:last-child { border-bottom-right-radius: 8px; }\n  .summary-section { margin-top: 30px; font-size: 12px; }\n  .text-center {text-align: center;}\n    .text-right { text-align: right; }\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="report-box">\n    REPORT ON.<br>\n    <span style="color:red;">${O(Ym.value)}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 103-826-519<br>\n  VRN: 20-01-017530R\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n\n<div class="section-title">SITE ACTIVITIES REPORT</div>\n<h3 class="header">REPORT DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>PROJECT</th>\n            <th>SUPERVISOR</th>\n            <th>SUPERVISOR'S EMAIL</th>\n            <th>SUPERVISOR'S PHONE</th>\n        </tr>\n    </thead>\n     <tbody>\n        <tr>\n          <td class="text-center">${Ns.value.project.short_name}</td>\n          <td class="text-center"> ${Ns.value.officer?.name}</td>\n          <td class="text-center"> ${Ns.value.officer?.email}</td>\n          <td class="text-center"> ${Ns.value.officer?.phone_no}</td>\n        </tr>\n        <tr>\n          <td  colspan="6" >\n             Brief Description : ${(t.value.report_name||"")+(t.value.description?" , "+t.value.description:"")}\n          </td>\n    </tbody>\n</table>\n\n\n<h3 class="header">ACTIVITY DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>S.No</th>\n            <th>Activity</th>\n            <th>Unit Measure</th>\n            <th>Quantity</th>\n        </tr>\n    </thead>\n    <tbody>\n        ${t.value.activities.map(((e,t)=>`\n        <tr>\n            <td >${t+1}</td>\n            <td>${e.activity||"N/A"}</td>\n            <td>${e.unit||"N/A"}</td>\n            <td class="text-right">${e.quantity||"N/A"}</td>\n        </tr>\n        `)).join("")}\n    </tbody>\n   \n</table>\n\n<div style="margin-top: 30px; text-align: right;">\n    <div>Printed on: ${d}</div>\n</div>\n\n</body>\n</html>\n`,u=a.contentWindow.document;u.open(),u.write(c),u.close(),a.onload=()=>{a.contentWindow.focus(),a.contentWindow.print(),setTimeout((()=>{document.body.removeChild(a)}),1e3)}},nl=async()=>{const e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e),m.value=!1;const t=new Date,a=t.getDate().toString().padStart(2,"0"),l=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getFullYear(),s=`${a}/${l}`,o=`${s}/${n}`,i=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Store Items Report</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  table tr:first-child th:first-child, table tr:first-child td:first-child { border-top-left-radius: 8px; }\n  table tr:first-child th:last-child, table tr:first-child td:last-child { border-top-right-radius: 8px; }\n  table tr:last-child td:first-child { border-bottom-left-radius: 8px; }\n  table tr:last-child td:last-child { border-bottom-right-radius: 8px; }\n  .summary-section { margin-top: 30px; font-size: 12px; }\n  .text-center {text-align: center;}\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="report-box">\n    REPORT ON.<br>\n    <span style="color:red;">${O(Ym.value)}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 103-826-519<br>\n  VRN: 20-01-017530R\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n\n<div class="section-title">LABOUR ATTENDANCE REPORT</div>\n<h3 class="header">REPORT DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>PROJECT</th>\n            <th>SUPERVISOR</th>\n            <th>SUPERVISOR'S EMAIL</th>\n            <th>SUPERVISOR'S PHONE</th>\n        </tr>\n    </thead>\n     <tbody>\n        <tr>\n          <td class="text-center">${Ns.value.project.short_name}</td>\n          <td class="text-center"> ${Ns.value.officer?.name}</td>\n          <td class="text-center"> ${Ns.value.officer?.email}</td>\n           <td class="text-center"> ${Ns.value.officer?.phone_no}</td>\n        </tr>\n    </tbody>\n</table>\n\n\n<h3 class="header">ATTENDANCE DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>S.No</th>\n            <th>Labour Name</th>\n            <th>Labour Type</th>\n            <th>Task</th>\n            <th>Reporting Time</th>\n            <th>Departure Time</th>\n            <th>Work Status</th>\n        </tr>\n    </thead>\n    <tbody>\n        ${Km.value.map(((e,t)=>`\n        <tr>\n            <td >${t+1}</td>\n            <td>${e.name||"N/A"}</td>\n            <td>${e.labour_type||"N/A"}</td>\n            <td>${e.task||"N/A"}</td>\n            <td>${e.reporting_time||"N/A"}</td>\n            <td>${e.departure_time||"N/A"}</td>\n            <td>${e.status.key||"N/A"}</td>\n        </tr>\n        `)).join("")}\n    </tbody>\n   \n</table>\n\n<div style="margin-top: 30px; text-align: right;">\n    <div>Printed on: ${o}</div>\n</div>\n\n</body>\n</html>\n`,r=e.contentWindow.document;r.open(),r.write(i),r.close(),e.onload=()=>{e.contentWindow.focus(),e.contentWindow.print(),setTimeout((()=>{document.body.removeChild(e)}),1e3)}},vl=(0,s.iH)(!1),kl=(0,s.iH)(!1),El=(0,s.iH)(""),ql=(0,s.iH)(""),jl=(0,s.iH)([]),Bl=(0,s.iH)(""),Yl=async()=>{m.value=!0;try{const e=await Xl.get(`site-challenges?store_id=${a.params.store_id}`);jl.value=e.data.map(((e,t)=>({...e,SNo:t+1,challenge:e.description,reported_by:e.remarker.name,proposed_measure:e.measure.description,date:O(e.created_at),remark:e.remark,raw_date:e.created_at})))}catch(error){E(error.message),console.log(error)}finally{m.value=!1}},Ql=async()=>{const e={challenge:ql.value,measure:El.value,remarker_id:Su,store_id:a.params.store_id};Cu.value=!0;try{const t=await Xl.post("register-site-challenge",e);p(t.data),Yl(),vl.value=!1,El.value="",ql.value=""}catch(error){E(error.message),console.log(error)}finally{Cu.value=!1}},Jl=(0,s.iH)({perPage:20,perPageValues:[20,50,100,200,500,1e3],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),Xl=i.Z.create({baseURL:"https://bushman.ink/api/v1/"});(0,l.YP)(Ca,(e=>{e&&(_n.value="")}));const tn=()=>{an.value="",_n.value="",Ca.value="",yo.value="",document.getElementById("close").click(),ko.value="",Xr.value="",sd.value="",Kr.value="",ot.value=""},an=(0,s.iH)(""),_n=(0,s.iH)(""),yn=async()=>{da.value=!0;const e={item_id:Ca.value.id,category:"store",category_id:a.params.store_id,quantity:_n.value,usage_type:Ca.value.category_name,description:an.value,rate:0,issuer_id:JSON.parse(localStorage.getItem("user")).id};try{await Xl.post("item-usage",e);p("Item Registered"),Un(),kn(),tn()}catch(error){console.log(error),E(error.message)}finally{da.value=!1}},wn=(0,s.iH)(""),fn=(0,s.iH)([]),kn=async()=>{m.value=!0;try{const e=await Xl.get(`daily-report?category_id=${a.params.store_id}`);if(fn.value=e.data.map(((e,t)=>({...e,sno:t+1,item:e.store_item?.item.name,category:e.usage_type,used:e.quantity,task:e.description,raw_date:e.created_at,date:O(e.created_at)}))),e.data.length>0){const t=e.data[e.data.length-1];wn.value=t.issuer}}catch(error){E(error.message),console.log(error)}finally{m.value=!1}},An=(0,s.iH)([]),Un=async()=>{try{const e=await Xl.get(`get-store-items?store_id=${a.params.store_id}`);An.value=e.data.filter((e=>"Fuel"!==e.category_name)).map(((e,t)=>({...e,SNo:t+1}))),On.value=An.value}catch(error){E(error.message),console.log(error)}finally{m.value=!1}},On=(0,s.iH)([]),In=(0,s.iH)("all"),Ms=e=>{In.value=e,On.value="all"===e?An.value:An.value.filter((t=>t.category_name===e))},Ns=(0,s.iH)(),Hs=async()=>{try{const e=await Xl.get(`stores/${a.params.store_id}`);Ns.value=e.data}catch(error){E(error.message),console.log(error)}finally{m.value=!1}},yo=(0,s.iH)(""),wo=(0,s.iH)([]),fo=async()=>{try{const e=await Xl.get("machines");wo.value=e.data.map((e=>({...e,name:e.name+" - "+e.type_name})))}catch(error){E(error.message),console.log(error)}finally{m.value=!1}},ko=(0,s.iH)(""),Xr=(0,s.iH)(""),Kr=(0,s.iH)(""),sd=(0,s.iH)(""),Tc=(0,s.iH)(""),uu=(0,s.iH)(""),pu=async()=>{da.value=!0,"diesel"===Bt.value?Tc.value=gu.value.store_diesel_id:Tc.value=gu.value.store_petrol_id;const e={store_item_id:Tc.value,asset_id:yo.value.id,project_id:Ns.value.project.id,consumption_type:Kr.value,issuer_id:JSON.parse(localStorage.getItem("user")).id,quantity:_n.value,usage_date:Sa.value,initial_reading:ko.value,final_reading:Xr.value,task:an.value,driver_name:sd.value,volume:uu.value,unit:bm.value.short_name};try{await Xl.post("asset-consumptions",e);p("Fuel Issued"),fu(),yu(),document.getElementById("distribution-form").click()}catch(error){console.log(error),E(error.message)}finally{da.value=!1}console.log(e)},hu=async()=>{An.value;const e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e),m.value=!1;const t=new Date,a=t.getDate().toString().padStart(2,"0"),l=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getFullYear(),s=`${a}/${l}`,o=`${s}/${n}`,i=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Store Items Report</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  table tr:first-child th:first-child, table tr:first-child td:first-child { border-top-left-radius: 8px; }\n  table tr:first-child th:last-child, table tr:first-child td:last-child { border-top-right-radius: 8px; }\n  table tr:last-child td:first-child { border-bottom-left-radius: 8px; }\n  table tr:last-child td:last-child { border-bottom-right-radius: 8px; }\n  .summary-section { margin-top: 30px; font-size: 12px; }\n  .text-center {text-align: center;}\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="report-box">\n    REPORT ON.<br>\n    <span style="color:red;">${s}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 103-826-519<br>\n  VRN: 20-01-017530R\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n\n<div class="section-title">SITE STORE MATERIAL USAGE REPORT</div>\n<h3 class="header">STORE DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>PROJECT</th>\n            <th>STORE</th>\n            <th>SUPERVISOR</th>\n            <th>SUPERVISOR'S EMAIL</th>\n        </tr>\n    </thead>\n     <tbody>\n        <tr>\n          <td class="text-center">${Ns.value.project.short_name}</td>\n          <td class="text-center"> ${Ns.value.officer?.name}</td>\n          <td class="text-center"> ${Ns.value.officer?.email}</td>\n           <td class="text-center"> ${Ns.value.officer?.phone_no}</td>\n        </tr>\n    </tbody>\n</table>\n\n\n<h3 class="header">USAGE DETAILS </h3>\n<table class="items">\n    <thead>\n        <tr>\n            <th>S.No</th>\n            <th>Item Name</th>\n            <th>Category</th>\n            <th>Description</th>\n            <th>Quantity Used</th>\n            <th>Date Used</th>\n        </tr>\n    </thead>\n    <tbody>\n        ${Xm.value.map(((e,t)=>`\n        <tr>\n            <td >${t+1}</td>\n            <td>${e.item||"N/A"}</td>\n            <td>${e.category||"N/A"}</td>\n            <td>${e.description||"N/A"}</td>\n            <td>${e.used||"N/A"}</td>\n            <td>${e.date||"N/A"}</td>\n        </tr>\n        `)).join("")}\n    </tbody>\n   \n</table>\n\n<div style="margin-top: 30px; text-align: right;">\n    <div>Printed on: ${o}</div>\n</div>\n\n</body>\n</html>\n`,r=e.contentWindow.document;r.open(),r.write(i),r.close(),e.onload=()=>{e.contentWindow.focus(),e.contentWindow.print(),setTimeout((()=>{document.body.removeChild(e)}),1e3)}},gu=(0,s.iH)([]),yu=async()=>{const e=await Xl.get(`get-fuel?store_id=${a.params.store_id}`);gu.value=e.data.map(((e,t)=>({...e,Sno:t+1,project_id:e.project_id,store_diesel_id:e.store_diesel_id,store_petrol_id:e.store_petrol_id,diesel_quantity:e.diesel_quantity,petrol_quantity:e.petrol_quantity,petrol_used:e.petrol_used,diesel_used:e.diesel_used,diesel_balance:e.diesel_quantity-e.diesel_used,petrol_balance:e.petrol_quantity-e.petrol_used})))[0]},wu=(0,s.iH)(0),fu=async()=>{yu(),m.value=!0;try{const e=await Xl.get(`/asset-consumptions?store_id=${a.params.store_id}`);Array.isArray(e.data)?(ra.value=e.data.filter((e=>e.store_id==a.params.store_id&&e.item_id==c.value)).map(((e,t)=>{let a;a="Litre/hr"===e.consumption_type?e.quantity/(e.final_reading-e.initial_reading):(e.final_reading-e.initial_reading)/e.quantity,a=a>50||a<0?"---":a.toFixed(2);const l=Number(e.rate),n=l*e.quantity,s=e.final_reading-e.initial_reading,o=e.machine_average_ratio||0,i=o>0?(s/o).toFixed(2):0;return{SNo:t+1,asset_id:e.asset_id,issued:e.quantity,used:i,balance:(e.quantity-i).toFixed(2),work:s.toFixed(2),fuel_type:e.item_name,consuption:e.consumption_type,issued_date:O(e.created_at),task:e.task,driver:e.driver_name,issuer:e.issuer_name,initial:e.initial_reading,final:e.final_reading,machine:e.machine_name,type:e.machine_type,ratio:e.machine_average_ratio,consumption_type:e.machine_consumption_type,project_id:e.project_id,store_id:e.store_id,id:e.id,remark:e.remark,volume:e.volume,used_cost:R(i*l),rate:R(l),cost:R(n),cost_original:n}})),wu.value=ra.value.reduce(((e,t)=>e+Number(t.fuel)),0),m.value=!1):(E(error.message),console.error("Invalid response format"))}catch(error){E(error.message),m.value=!1,console.error("Error fetching Bulk Distribution: ",error)}},ku=async()=>{m.value=!0;try{const e=await Xl.get(`/asset-consumptions?project_id=${Ns.value.project_id}`);Array.isArray(e.data)?(ra.value=e.data.map(((e,t)=>{let a;a="Litre/hr"===e.consumption_type?e.quantity/(e.final_reading-e.initial_reading):(e.final_reading-e.initial_reading)/e.quantity,a=a>50||a<0?"---":a.toFixed(2);const l=Number(e.rate),n=l*e.quantity,s=e.final_reading-e.initial_reading,o=e.machine_average_ratio||0,i=o>0?(s/o).toFixed(2):0;return{SNo:t+1,issued:e.quantity,used:i,balance:(e.quantity-i).toFixed(2),work:s.toFixed(2),asset_id:e.asset_id,fuel_type:e.item_name,consuption:e.consumption_type,issued_date:O(e.created_at),task:e.task,volume:e.volume,driver:e.driver_name,issuer:e.issuer_name,initial:e.initial_reading,final:e.final_reading,machine:e.machine_name,ratio:e.machine_average_ratio,consumption_type:e.machine_consumption_type,type:e.machine_type,project_id:e.project_id,store_id:e.store_id,id:e.id,remark:e.remark,raw_date:e.created_at,used_cost:R(i*l),rate:R(l),cost:R(n),cost_original:n}})),m.value=!1):(E(error.message),console.error("Invalid response format"))}catch(error){E(error.message),m.value=!1,console.error("Error fetching Bulk Distribution: ",error)}},xu=((0,s.iH)(),JSON.parse(localStorage.getItem("user")).role,(0,s.iH)(!1),(0,s.iH)("unchecked"),(0,s.iH)(),(0,s.iH)(),(0,s.iH)([]),(0,s.iH)("")),Su=JSON.parse(localStorage.getItem("user")).id,Cu=(0,s.iH)(!1),Tu=async e=>{const t={remark:Bl.value.remark+"\n"+xu.value};Cu.value=!0;try{await Xl.put(`remarks/${e}`,t),p("Remark Saved"),Yl(),xu.value="",document.getElementById("close-challenge-remark").click()}catch(error){E(error.message),console.log(error)}finally{Cu.value=!1}},Du=async()=>{Cu.value=!0;const e={initial_reading:Le.value.initial,final_reading:Le.value.final,remark:Le.value.remark,task:Le.value.task,volume:Le.value.volume,unit:Le.value.unit.short_name};try{await Xl.put(`asset-consumptions/${Le.value.id}`,e);p("Readings Updated"),fu();const t=document.getElementById("edit");if(t){const e=window.bootstrap?.Modal?.getInstance(t)||(window.bootstrap?.Modal?new window.bootstrap.Modal(t):null);e?e.hide():t.classList.remove("show")}}catch(error){E(error.message),console.log(error)}finally{Cu.value=!1}},Eu=(0,s.iH)(["sno","name","category","total_issued","total_received","action"]),Au=(0,s.iH)(["sno","delivery_no","issuer","issued","receiver","received","date_issued","date_received"]),Uu=(0,s.iH)([]),Mu=(0,s.iH)(""),Nu=(0,s.iH)([]),Hu=async()=>{m.value=!0;const e=await Xl.get(`good-delivery-note-items?project_id=${Ns.value.project_id}`);Nu.value=e.data.map(((e,t)=>({...e,sno:t+1,name:e.name+" - "+e.description,raw_date:e.records[0]?.date_received}))),m.value=!1},$u=(0,s.iH)(["SNo","item","description","units","receiver","date","approved","received","shortage","briefing","remark","cost","status"]),Ru=(0,s.iH)([]),Lu=()=>{m.value=!0,Xl.get(`/grn-items?project_id=${Ns?.value.project_id}`).then((e=>{Ru.value=e.data.map(((e,t)=>({...e,SNo:t+1,id:e.id,receiver:e?.receiver?.name,grn:e.grn_id,remark:e.remark,date:O(e.created_at),item:e.approval_item.requisition_item.remark,description:e.approval_item.requisition_item.description,units:e.approval_item.requisition_item.units,rate:e.approval_item.requisition_item.rate,received:e.quantity,approved:e.approval_item.quantity,shortage:(e.approval_item.quantity-e.quantity).toFixed(2),briefing:e.description,cost:R(e.approval_item.requisition_item.rate*(e.approval_item.quantity-e.quantity)),rate:e.approval_item.requisition_item.rate}))),m.value=!1})).catch((e=>{E(e.message||"Failed to fetch units"),m.value=!1}))},Ou=(0,l.Fl)((()=>Ru.value.filter((e=>"Rejected"===e.status?.name)).reduce(((e,t)=>{const a=t.approval_item.requisition_item.rate*(t.approval_item.quantity-t.quantity)||0;return e+a}),0))),Iu=(0,s.iH)([]),Vu=(0,s.iH)(["Sno","name","labour_type","task","date","reporting_time","departure_time","description","remark","status","actions"]),qu=async()=>{m.value=!0;try{const e=await Xl.get(`labour-attendants?project_id=${Ns.value.project_id}`);Iu.value=e.data.map(((e,t)=>({...e,raw_date:e.created_at,Sno:t+1,name:e.labour_name,task:e.task,remark:e.remark,description:e.description,date:O(e.created_at),reporting_time:e.reporting_time,departure_time:e.departure_time,labour_type:e.labour_type?.name,status_id:e.status.id,status:{key:e.status.name,class:e.status.color}})))}catch(error){console.log(error),E(error.message)}finally{m.value=!1}},ju=(0,s.iH)(""),zu=(0,s.iH)(""),Pu=(0,s.iH)(""),Bu=(0,s.iH)(""),Wu=(0,s.iH)(""),Fu=(0,s.iH)(""),Yu=(0,s.iH)(""),Qu=(0,s.iH)([]),Ju=async()=>{Cu.value=!0;const e={labour_name:ju.value,project_id:Ns.value.project_id,description:an.value,task:Pu.value,reporting_time:Bu.value,departure_time:Wu.value,labour_type_id:Fu.value.id,registrar_id:JSON.parse(localStorage.getItem("user")).id,remark:xu.value};try{await Xl.post("labour-attendants",e);qu(),Xu(),p("Labour Attendant registered")}catch(error){console.log(error),E(error.message)}finally{Cu.value=!1}},Xu=()=>{ju.value="",Pu.value="",Bu.value="",Wu.value="",Fu.value="",xu.value="",an.value="",kl.value=!1},Ku=async()=>{Cu.value=!0;const e={description:an.value,departure_time:Wu.value,status_id:Yu.value.id};try{await Xl.put(`labour-attendants/${zu.value}`,e);qu(),document.getElementById("close_labour_attendant").click(),p("Labour Attendant updated")}catch(error){console.log(error),E(error.message)}finally{Cu.value=!1}},Gu=()=>{an.value="",Wu.value=""},Zu=e=>{zu.value=e.id,an.value=e.description,Wu.value=e.departure_time,Yu.value=e.status_id&&tm.value.find((t=>t.id===e.status_id))||""},em=async()=>{try{const e=await Xl.get("labour-types");Qu.value=e.data}catch(error){E(error.message)}},tm=(0,s.iH)([]),am=async()=>{try{const e=await Xl.get("/statuses");tm.value=e.data.filter((e=>8===e.id||19===e.id))}catch(error){E(error.message)}},lm=(0,s.iH)(["Sno","activity","unit","quantity","description","actions"]),nm=(0,s.iH)(["Sno","activity","unit","quantity","actions"]),sm=(0,s.iH)([]),om=(0,s.iH)(""),im=(0,s.iH)(""),rm=(0,s.iH)(""),dm=(0,l.f3)("whatsappAlert"),cm=()=>{om.value?(sm.value.push({Sno:sm.value.length+1,activity:om.value,unit_id:bm?.value?.id||"",unit:bm?.value?.short_name||"",quantity:_n.value,description:im.value||""}),om.value="",bm.value=null,_n.value="",im.value=""):E("Please fill an activity")},um=e=>{sm.value=sm.value.filter((t=>t.Sno!==e)),sm.value=sm.value.map(((e,t)=>({...e,Sno:t+1})))},mm=async()=>{if(0===sm.value.length)return void E("Please add atleast one activity.");Cu.value=!0;const e={report_name:pm.value,description:an.value,date:_m.value,project_id:Ns.value.project.id,supervisor_id:JSON.parse(localStorage.getItem("user")).id,activities:sm.value};try{await Xl.post("/work-carried-outs",e),await jm(),vm(),document.getElementById("close_report").click(),p("Data Saved");const t=`${JSON.parse(localStorage.getItem("user")).name} created a work report:\n\nReport: ${e.report_name}\nProject: ${Ns.value.project.short_name}\nDate: ${e.date}\nDescription: ${e.description}\n\nActivities:\n`+e.activities.map((e=>`${e.activity} ${e.quantity}${e.unit}`)).join("\n"),a="wamid.HBgMMjU1Njk4MjY3NjYyFQIAEhggQUM5QUMyMzIyRUVEMTJBOTNBNTIwQjRCMTA3QUNGQTQA",l=["255697315583","255698267662"];l.forEach((e=>{dm(t,a,e)}))}catch(error){console.error(error),E(error.message)}finally{Cu.value=!1}},vm=()=>{pm.value="",an.value="",_m.value="",om.value="",bm.value=null,_n.value="",im.value="",sm.value=[],xu.value="",Hm.value="";const e=document.querySelectorAll('input[type="file"]');e.forEach((e=>e.value=""))},pm=(0,s.iH)(""),bm=(0,s.iH)(""),_m=(0,s.iH)(""),hm=(0,s.iH)(""),gm=(0,s.iH)([]),ym=async()=>{m.value=!0;try{const e=await Xl.get(`work-carried-outs?project_id=${Ns.value.project_id}`);gm.value=e.data.map(((e,t)=>({...e,Sno:t+1,date:O(e.date||e.created_at),raw_date:e.created_at,activities:e.activities.map(((e,t)=>({...e,Sno:t+1,unit:e.unit?.short_name||"N/A"})))})))}catch(error){console.error(error),E(error.message)}finally{m.value=!1}},wm=(0,s.iH)([]),fm=async()=>{m.value=!0;try{const e=await Xl.get("units");wm.value=e.data}catch(error){E(error.message)}finally{m.value=!1}},km=e=>{hm.value=e.id,xu.value=e.remark},xm=async()=>{Cu.value=!0;const e={remark:xu.value};try{await Xl.put(`work-carried-outs/${hm.value}`,e);await jm(),document.getElementById("close_remark").click(),p("Work Report updated")}catch(error){console.log(error),E(error.message)}finally{Cu.value=!1}},Sm=e=>{rm.value=e.id,om.value=e.activity,_n.value=e.quantity,bm.value=e.unit_id&&wm.value.find((t=>t.id===e.unit_id))||""},Cm=async()=>{Cu.value=!0;const e={activity:om.value,quantity:_n.value,unit_id:bm?.value?.id??""};try{await Xl.put(`site-activities/${rm.value}`,e);await jm(),document.getElementById("close_activity").click(),p("activity updated")}catch(error){console.log(error),E(error.message)}finally{Cu.value=!1}},Tm=(0,s.iH)(!1),Dm=(0,s.iH)(null),Em=async e=>{const t=await Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"});if(t.isConfirmed){Tm.value=!0,Dm.value=e;try{await Xl.delete(`work-carried-outs/${e}`),await jm(),p("work carried out deleted successfully")}catch(error){console.error(error),E(error.message)}finally{Tm.value=!1,Dm.value=null}}},Am=(0,s.iH)(!1),Um=(0,s.iH)(null),Mm=async e=>{Am.value=!0,Um.value=e;try{await Xl.delete(`site-activities/${e}`),await jm(),p("Activity deleted successfully")}catch(error){console.error(error),E(error.message)}finally{Am.value=!1,Um.value=null}},Nm=async()=>{Cu.value=!0;const e={work_carried_out_id:hm.value,activity:om.value,quantity:_n.value,unit_id:bm.value.id};try{await Xl.post("site-activities",e);await jm(),document.getElementById("close_add").click(),p("activity added")}catch(error){console.log(error),E(error.message)}finally{Cu.value=!1}},Hm=(0,s.iH)(null),$m=e=>{const t=e.target.files[0];Hm.value=t instanceof File?t:null,console.log("FILE SENT:",Hm.value)},Rm=async()=>{Cu.value=!0;const e=new FormData;e.append("work_carried_out_id",hm.value),e.append("description",an.value),Hm.value instanceof File&&e.append("file_path",Hm.value);try{const t=await Xl.post("work-carried-out-attachments",e,{headers:{"Content-Type":"multipart/form-data"}});await jm(),document.getElementById("close_attachment").click(),p("Attachment added"),console.log("File URL:",t.data.url)}catch(error){console.error(error),E(error.message)}finally{Cu.value=!1}},Lm=(e,t)=>{Om.value=e,Im.value=t},Om=(0,s.iH)(""),Im=(0,s.iH)(null),Vm=(0,s.iH)(""),qm=(0,l.Fl)((()=>Vm.value?gm.value.filter((e=>{const t=Vm.value.toLowerCase();return e.report_name?.toLowerCase().includes(t)||e.description?.toLowerCase().includes(t)||e.supervisor?.name?.toLowerCase().includes(t)||e.date?.includes(t)||e.remark?.toLowerCase().includes(t)||e.activities?.some((e=>e.activity?.toLowerCase().includes(t)||e.unit?.short_name?.toLowerCase().includes(t)))})):gm.value)),jm=async()=>{const e=await Xl.get(`work-carried-outs?project_id=${Ns.value.project_id}`);gm.value=e.data.map(((e,t)=>({...e,Sno:t+1,date:O(e.date||e.created_at),activities:e.activities.map(((e,t)=>({...e,Sno:t+1,unit:e.unit?.short_name||"N/A"})))})))},zm=(0,s.iH)(!1),Pm=(0,s.iH)(null),Bm=async e=>{zm.value=!0,Pm.value=e;try{await Xl.delete(`work-carried-out-attachments/${e}`),await jm(),p("Attachment deleted successfully")}catch(error){console.error(error),E(error.message)}finally{zm.value=!1,Pm.value=null}},Wm=(0,s.iH)(0),Fm=()=>{Wm.value+=90},Ym=(0,s.iH)(""),Qm=(e,t="raw_date")=>(0,l.Fl)((()=>Ym.value?e.value.filter((e=>{const a=e[t];if(!a)return!1;if(/^\d{4}-\d{2}-\d{2}$/.test(a))return a===Ym.value;if(/^\d{2}\/\d{2}\/\d{2}/.test(a)){const e=a.split(" ")[0].split("/"),t="20"+e[2],l=e[1],n=e[0],s=`${t}-${l}-${n}`;return s===Ym.value}return new Date(a).toISOString().split("T")[0]===Ym.value})):e.value)),Jm=(e,t="raw_date")=>(0,l.Fl)((()=>{if(!Ym.value)return e.value;const a=new Date(Ym.value),l=a.getDay(),n=0===l?-6:1-l,s=new Date(a);s.setDate(a.getDate()+n);const o=new Date(s);o.setDate(s.getDate()+6);const i=s.toISOString().split("T")[0],r=o.toISOString().split("T")[0];return e.value.filter((e=>{const a=e[t];if(!a)return!1;let l;if(/^\d{2}\/\d{2}\/\d{2}/.test(a)){const e=a.split(" ")[0].split("/"),t="20"+e[2],n=e[1],s=e[0];l=`${t}-${n}-${s}`}else if(/^\d{4}-\d{2}-\d{2}$/.test(a))l=a;else{const e=new Date(a);if(isNaN(e.getTime()))return!1;l=e.toISOString().split("T")[0]}return l>=i&&l<=r}))})),Xm=Qm(fn),Km=Qm(Iu),Gm=Qm(jl),Zm=Qm(ra),ev=Qm(gm,"date"),tv=(Qm(Nu,"date_received"),Jm(fn)),av=Jm(Iu),lv=Jm(jl),nv=Jm(ra),sv=Jm(gm,"date"),ov=Jm(Nu,"date_received"),iv=async()=>{m.value=!0;try{const e=Ym.value?Xm.value||[]:fn.value||[],t=Ym.value?Km.value||[]:Iu.value||[],a=Ym.value?Gm.value||[]:jl.value||[],l=Ym.value?Zm.value||[]:ra.value||[],n=Ym.value?ev.value||[]:gm.value||[],s=e.length||t.length||a.length||l.length||n.length;if(!s)return m.value=!1,void E("No data available for the selected date");const o=Ym.value?O(Ym.value):O((new Date).toISOString().split("T")[0]),i=Ym.value?new Date(Ym.value):new Date,r=i.getDate().toString().padStart(2,"0"),d=(i.getMonth()+1).toString().padStart(2,"0"),c=`${r}/${d}`,u=t.reduce(((e,t)=>{const a=t.labour_type||"Others";return e[a]||(e[a]=0),e[a]++,e}),{}),v=t.find((e=>"Supervisor"===e.labour_type||"Foreman"===e.labour_type))||Ns.value?.officer||{name:"N/A"},p=document.createElement("iframe");p.style.display="none",document.body.appendChild(p);const b=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Daily Construction Report</title>\n<style>\n  body { font-family: 'Courier New', monospace; margin: 40px; font-size: 13px; }\n  .text-style { font-family: 'Courier New', monospace; }\n  .header-container { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }\n  .company-title { text-align: center; flex: 1; }\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; border-radius: 5px; min-width: 80px; margin-top: 20px; }\n  .title { text-align: center; font-size: 20px; margin: 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; }\n  th, td { border: 0.5px solid #000; padding: 6px; text-align: left; }\n  th { background-color: #f8f8f8; font-weight: bold; }\n  .text-right { text-align: right; }\n  .text-center { text-align: center; }\n  hr { border: 0; border-top: 0.5px solid #000; margin: 0px 0; }\n  .section { margin-top: 20px; }\n  .side-by-side { display: flex; gap: 20px; margin-top: 20px; }\n  .side-by-side > div { flex: 1; }\n  @media print { body { margin: 10mm; } }\n</style>\n</head>\n<body>\n\n<div class="header-container">\n  <div style="width: 80px;"></div>\n  <div class="company-title text-style">\n    <i>\n    <h1>COPEX CONTRACTORS CO.LTD</h1>\n    <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\n    <div><b>Tel:</b> 0713 000 777, 0657 111 555</div>\n    <div><b>Email:</b> info@copexcontractors.co.tz</div>\n    <div><b>TIN:</b> 103-826-519 &nbsp;&nbsp; <b>VRN:</b> 20-01-017530R</div>\n    </i>\n  </div>\n  <div class="report-box">\n    REPORT NO.<br>\n    <span style="color:red;">${c}</span>\n  </div>\n</div>\n\n<hr style="margin-top:20px">\n\n<div class="title text-style">\n  DAILY CONSTRUCTION REPORT\n</div>\n\n<hr>\n\n<div style="display: flex; gap: 40px; margin: 10px 0;">\n  <div style="flex: 1;">\n    <div><strong>Date:</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;${o}</div>\n    <div><strong>Location:</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;${Ns.value?.project?.short_name||"N/A"}</div>\n  </div>\n  <div style="flex: 1;">\n    <div><strong>Contractor:</strong>&nbsp;&nbsp;&nbsp;COPEX CONTRACTORS</div>\n    <div><strong>Tender No.:</strong>&nbsp;&nbsp;&nbsp;${Ns.value?.project?.contract_number||"N/A"}</div>\n  </div>\n</div>\n\n<div class="side-by-side">\n  <div>\n    <table>\n         <thead>\n           <tr>\n             <th colspan="2" style="background-color:black; color:black;">CONTRACTOR'S LABOR FORCE</th>\n             </tr>\n           <tr>\n             <th>Classification</th>\n             <th># of Persons</th>\n           </tr>\n         </thead>\n         <tbody>\n           ${Object.entries(u).map((([e,t],a)=>`\n           <tr>\n             <td>${e}</td>\n             <td>${t}</td>\n           </tr>\n           `)).join("")}\n           ${0===Object.keys(u).length?'\n           <tr>\n             <td colspan="2">No labor attendance recorded</td>\n           </tr>\n           ':""}\n         </tbody>\n       </table>\n  </div>\n\n  <div>\n    <table>\n      <thead>\n        <tr>\n          <th colspan="3">MATERIALS USED/RECEIVED</th>\n        </tr>\n        <tr>\n          <th>Item</th>\n          <th>Description</th>\n          <th>Used</th>\n        </tr>\n      </thead>\n      <tbody>\n        ${e.map((e=>`\n        <tr>\n          <td>${e.item||"N/A"}</td>\n          <td>${e.description||"N/A"}</td>\n          <td>${e.used||"0"}</td>\n        </tr>\n        `)).join("")}\n        ${0===e.length?'\n        <tr>\n          <td colspan="3">No materials recorded</td>\n        </tr>\n        ':""}\n      </tbody>\n    </table>\n  </div>\n</div>\n\n<div class="section">\n  <table>\n    <thead>\n      <tr>\n        <th colspan="4">EQUIPMENT USED TODAY</th>\n      </tr>\n      <tr>\n        <th>Machine Type</th>\n        <th>Machine Name</th>\n        <th>Type of Work</th>\n        <th>Fuel Issued</th>\n      </tr>\n    </thead>\n    <tbody>\n      ${l.map((e=>`\n      <tr>\n        <td>${e.type||"N/A"}</td>\n        <td>${e.machine||"N/A"}</td>\n        <td>${e.task||"N/A"}</td>\n        <td>${e.issued||"0"} L (${e.fuel_type||"Diesel"})</td>\n      </tr>\n      `)).join("")}\n      ${0===l.length?'\n      <tr>\n        <td colspan="4">No equipment usage recorded</td>\n      </tr>\n      ':""}\n    </tbody>\n  </table>\n</div>\n\n<div class="section">\n  ${n.map((e=>`\n  ${e.activities?.length?`\n  <table>\n    <thead>\n      <tr>\n        <th colspan="4">WORK ACTIVITY</th>\n      </tr>\n      ${e.activities.map(((e,t)=>`\n      <tr>\n        <td>${t+1}. ${e.activity||"N/A"} - ${e.quantity||"0"} ${e.unit||""}</td>\n      </tr>`)).join("")}\n    </thead>\n  </table>\n  `:"<p>No activities recorded</p>"}\n  `)).join("")}\n</div>\n\n<div class="section">\n  <table>\n    <thead>\n      <tr>\n        <th colspan="4">Comments & Site Requirements</th>\n      </tr>\n      ${a.map(((e,t)=>`\n      <tr>\n        <td>${t+1}. ${e.challenge||"N/A"} - ${e.reported_by||"N/A"} - ${e.proposed_measure||"N/A"} - ${e.remark||"N/A"}</td>\n      </tr>\n      `)).join("")}\n      ${0===a.length?'\n      <tr>\n        <td colspan="4">No comments or requirements reported</td>\n      </tr>\n      ':""}\n    </thead>\n  </table>\n</div>\n\n<div style="margin-top: 30px;">\n  <table>\n    <thead>\n      <tr>\n        <th colspan="2">REPORTED BY</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td><strong>Name:</strong></td>\n        <td>${v.name}</td>\n      </tr>\n      <tr>\n        <td><strong>Title:</strong></td>\n        <td>Site Supervisor</td>\n      </tr>\n      <tr>\n        <td><strong>Date:</strong></td>\n        <td>${o}</td>\n      </tr>\n      <tr>\n        <td><strong>Signature:</strong></td>\n        <td><strong>Date:</strong></td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n\n</body>\n</html>\n`,_=p.contentWindow.document;_.open(),_.write(b),_.close(),p.onload=()=>{p.contentWindow.focus(),p.contentWindow.print(),setTimeout((()=>{document.body.removeChild(p)}),1e3),Ym.value="",m.value=!1}}catch(error){console.error(error),E(error.message),m.value=!1}},rv=async()=>{m.value=!0;try{const e=Ym.value?tv.value||[]:fn.value||[],t=Ym.value?av.value||[]:Iu.value||[],a=Ym.value?lv.value||[]:jl.value||[],l=Ym.value?nv.value||[]:ra.value||[],n=Ym.value?sv.value||[]:gm.value||[],s=Ym.value?ov.value||[]:Nu.value||[],o=e.length||t.length||a.length||l.length||n.length||s.length;if(!o)return m.value=!1,void E("No data available for weekly report");let i="",r="";if(Ym.value){const e=Ym.value,t=new Date(e),a=t.getDay(),l=0===a?-6:1-a,n=new Date(t);n.setDate(t.getDate()+l);const s=new Date(n);s.setDate(n.getDate()+6),i=O(n.toISOString().split("T")[0]),r=O(s.toISOString().split("T")[0])}const d=document.createElement("iframe");d.style.display="none",document.body.appendChild(d);const c=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Weekly Comprehensive Report</title>\n<style>\n  body {\n    font-family: 'Courier New', monospace;\n    margin: 30px;\n    font-size: 12px;\n  }\n  .text-style { font-family: 'Courier New', monospace; }\n  .company-title { text-align: center; }\n  .title {\n    text-align: center;\n    font-size: 15px;\n    margin: 10px 0;\n    font-weight: bold;\n  }\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    margin-top: 10px;\n    font-size: 11px;\n  }\n  th, td {\n    border: 0.5px solid #000;\n    padding: 5px;\n  }\n  th {\n    background-color: #f8f8f8;\n    font-weight: bold;\n  }\n  .text-center { text-align: center; }\n  .text-right { text-align: right; }\n  hr {\n    border: 0;\n    border-top: 0.5px solid #000;\n    margin: 10px 0;\n  }\n  .section-title {\n    margin-top: 18px;\n    font-weight: bold;\n    text-decoration: underline;\n  }\n  @media print { body { margin: 8mm; } }\n</style>\n</head>\n\n<body>\n\n<div class="company-title text-style">\n  <i>\n    <h1 style="font-size:18px;margin:5px 0;">COPEX CONTRACTORS CO.LTD</h1>\n    <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\n    <div><b>Tel:</b> 0713 000 777, 0657 111 555</div>\n    <div><b>Email:</b> info@copexcontractors.co.tz</div>\n    <div><b>TIN:</b> 103-826-519 &nbsp;&nbsp; <b>VRN:</b> 20-01-017530R</div>\n  </i>\n</div>\n\n<hr>\n\n<div class="title text-style">\n  WEEKLY COMPREHENSIVE REPORT\n</div>\n\n<div class="text-style text-center">\n  <strong>Period:</strong> ${r?`${i} to ${r}`:i}\n</div>\n\n<hr>\n\n<p><strong>Project:</strong> ${Ns.value?.project?.short_name||"N/A"}</p>\n<p><strong>Supervisor:</strong> ${Ns.value?.officer?.name||"N/A"} |\n<strong>Email:</strong> ${Ns.value?.officer?.email||"N/A"} |\n<strong>Phone:</strong> ${Ns.value?.officer?.phone_no||"N/A"}</p>\n\n\x3c!-- MATERIALS --\x3e\n${e.length?`\n<div class="section-title">MATERIALS USED</div>\n<table>\n<thead>\n<tr>\n  <th>No</th><th>Item</th><th>Category</th>\n  <th class="text-center">Qty</th>\n  <th>Task</th><th>Date</th>\n</tr>\n</thead>\n<tbody>\n${e.map(((e,t)=>`\n<tr>\n  <td>${t+1}</td>\n  <td>${e.item||"N/A"}</td>\n  <td>${e.category||"N/A"}</td>\n  <td class="text-center">${e.used||"N/A"}</td>\n  <td>${e.task||"N/A"}</td>\n  <td>${e.date||"N/A"}</td>\n</tr>`)).join("")}\n</tbody>\n</table>`:""}\n\n\x3c!-- DELIVERY NOTES --\x3e\n${s.length?`\n<div class="section-title">DELIVERY NOTES</div>\n<table>\n<thead>\n<tr>\n  <th>No</th><th>Item</th><th>Category</th>\n  <th class="text-center">Issued</th>\n  <th class="text-center">Received</th>\n</tr>\n</thead>\n<tbody>\n${s.map(((e,t)=>`\n<tr>\n  <td>${t+1}</td>\n  <td>${e.name||"N/A"}</td>\n  <td>${e.category||"N/A"}</td>\n  <td class="text-center">${e.total_issued||"N/A"}</td>\n  <td class="text-center">${e.total_received||"N/A"}</td>\n</tr>`)).join("")}\n</tbody>\n</table>`:""}\n\n\x3c!-- FUEL --\x3e\n${l.length?`\n<div class="section-title">FUEL STATEMENT</div>\n<table>\n<thead>\n<tr>\n  <th>No</th><th>Issuer</th><th>Driver</th>\n  <th>Machine</th><th>Task</th>\n  <th class="text-right">Issued</th><th>Balance</th><th>Ratio</th><th>Date</th>\n</tr>\n</thead>\n<tbody>\n${l.map(((e,t)=>`\n<tr>\n  <td>${t+1}</td>\n  <td>${e.issuer||"N/A"}</td>\n  <td>${e.driver||"N/A"}</td>\n  <td>${e.machine||"N/A"}-${e.type||"N/A"}</td>\n  <td>${e.task||"N/A"}</td>\n  <td class="text-right">${e.issued||"N/A"}</td>\n  <td>${e.balance||"N/A"}</td>\n  <td>${e.ratio||"N/A"}</td>\n  <td>${e.issued_date||"N/A"}</td>\n</tr>`)).join("")}\n</tbody>\n</table>`:""}\n\n\x3c!-- ATTENDANCE --\x3e\n${t.length?`\n<div class="section-title">LABOUR ATTENDANCE</div>\n<table>\n<thead>\n<tr>\n  <th>No</th><th>Name</th><th>Type</th>\n  <th>Task</th><th>In</th><th>Out</th><th>Date</th>\n</tr>\n</thead>\n<tbody>\n${t.map(((e,t)=>`\n<tr>\n  <td>${t+1}</td>\n  <td>${e.name||"N/A"}</td>\n  <td>${e.labour_type||"N/A"}</td>\n  <td>${e.task||"N/A"}</td>\n  <td>${e.reporting_time||"N/A"}</td>\n  <td>${e.departure_time||"N/A"}</td>\n  <td>${e.date||"N/A"}</td>\n</tr>`)).join("")}\n</tbody>\n</table>`:""}\n\n</body>\n</html>\n`,u=d.contentWindow.document;u.open(),u.write(c),u.close(),d.onload=()=>{d.contentWindow.focus(),d.contentWindow.print(),document.body.removeChild(d),m.value=!1,Ym.value=""}}catch(error){console.error(error),E("Failed to generate weekly report"),m.value=!1}};(0,l.bv)((async()=>{fm(),bv(),Ue(),Ae(),await Hs(),qu()}));const dv=(0,s.iH)(""),cv=(0,s.iH)({address:"",latitude:null,longitude:null,timestamp:null}),uv=(0,s.iH)(!1),mv=(0,s.iH)(!1),vv=()=>{cv.value.latitude&&cv.value.longitude?Swal.fire({title:"Report to Site",html:'\n            <div class="text-center">\n                <p>This will record your current location and time.</p>\n            </div>\n        ',icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Report Now",cancelButtonText:"Cancel"}).then((e=>{e.isConfirmed&&pv()})):window.open("https://support.google.com/chrome/answer/142065?hl=en","_blank")},pv=async()=>{mv.value=!0;try{if(cv.value.latitude&&cv.value.longitude||await Ue(),!cv.value.latitude||!cv.value.longitude)throw new Error("Failed to get location. Please enable location services.");const e={user_id:JSON.parse(localStorage.getItem("user")).id,store_id:a.params.store_id,location:cv.value.address,latitude:cv.value.latitude,longitude:cv.value.longitude};await Xl.post("geo-location-attendances",e),p("Successfully reported to site!"),await bv()}catch(error){console.log(error),E(error.response.data.message)}finally{mv.value=!1}},bv=async()=>{da.value=!0;try{const e=await Xl.get(`user-status/${JSON.parse(localStorage.getItem("user")).id}`);dv.value=e.data,j.includes("can_check_site_report")&&(dv.value={report:!0})}catch(error){E(error.message),console.log(error)}finally{da.value=!1}},_v=(0,s.iH)(!1),hv=async()=>{_v.value=!0;try{await ku(),await Hu(),await ym(),await Yl(),await kn()}catch(error){console.log(error),E(error.message)}finally{_v.value=!1}},gv=e=>{yv.value=e.target.files[0]},yv=(0,s.iH)(""),wv=(0,s.iH)(""),fv=(0,s.iH)(!1),kv=async()=>{fv.value=!0;const e=new FormData;e.append("store_id",a.params.store_id),e.append("remark",wv.value),e.append("attachment",yv.value);try{await Xl.post("site-report-attachments",e,{headers:{"Content-Type":"multipart/form-data"}});p("Attachment uploaded successfully!"),xv(),Mv()}catch(error){E(error.message),console.log(error)}finally{fv.value=!1}},xv=()=>{Tv.value=!1,wv.value="",yv.value=""},Sv=(0,l.f3)("showConfirmation"),Cv=async e=>{const t=await Sv("Delete Record",`Are you sure you want to delete ${e.description}?`,`site-report-attachments/${e.id}`,"delete");t?.refresh&&await Mv()},Tv=(0,s.iH)(!1),Dv=(0,s.iH)([]),Ev=(0,s.iH)(["SNo","description","date","actions"]),Av=(0,s.iH)(!1),Uv=async()=>{Av.value=!0;try{const e=await Xl.get(`site-report-attachments?store_id=${a.params.store_id}`);Dv.value=e.data.map(((e,t)=>({...e,SNo:t+1,description:e.remark||"--",date:O(e.created_at)})))}catch(error){console.log(error),E(error.message)}finally{Av.value=!1}},Mv=async()=>{const e=await Xl.get(`site-report-attachments?store_id=${a.params.store_id}`);Dv.value=e.data.map(((e,t)=>({...e,SNo:t+1,description:e.remark||"--",date:O(e.created_at)})))};return(e,a)=>{const i=(0,l.up)("v-client-table"),r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",b,[_,dv.value.report?((0,l.wg)(),(0,l.iD)("div",h,[(0,l.wy)((0,l._)("input",{type:"date","onUpdate:modelValue":a[0]||(a[0]=e=>Ym.value=e),class:"form-control form-control-sm",onChange:Qm,style:{width:"160px"}},null,544),[[n.nr,Ym.value]]),(0,l._)("button",{class:"btn btn-success btn-sm",onClick:a[1]||(a[1]=e=>hv().then((()=>iv()))),disabled:_v.value},[_v.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(C)()},null,8,y)):((0,l.wg)(),(0,l.iD)("span",w,"Print Daily Report"))],8,g),f,(0,l._)("button",{class:"btn btn-primary btn-sm",onClick:a[2]||(a[2]=e=>hv().then((()=>rv()))),disabled:_v.value},[_v.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(C)()},null,8,x)):((0,l.wg)(),(0,l.iD)("span",S,"Print Weekly Report"))],8,k),(0,l._)("button",{class:"btn btn-outline-secondary btn-sm","data-bs-toggle":"modal","data-bs-target":"#view-site-attachment-modal",onClick:a[3]||(a[3]=e=>Uv()),title:"View Site Report Attachments"},T),(0,s.SU)(j).includes("can_print_daily_work_report")?((0,l.wg)(),(0,l.iD)("a",D,U)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),dv.value.report?((0,l.wg)(),(0,l.iD)("div",M,[(0,l._)("div",N,[(0,l._)("ul",H,[$,(0,l._)("li",{class:"nav-item",onClick:a[4]||(a[4]=e=>kn())},L),(0,l._)("li",{class:"nav-item",onClick:a[5]||(a[5]=e=>(c.value=364,fu()))},I),(0,l._)("li",{class:"nav-item",onClick:a[6]||(a[6]=e=>(c.value=365,fu()))},q),(0,l._)("li",{class:"nav-item",onClick:a[7]||(a[7]=e=>(c.value="",ku()))},z),(0,l._)("li",{class:"nav-item",onClick:a[8]||(a[8]=e=>Hu())},B),(0,l._)("li",{class:"nav-item",onClick:a[9]||(a[9]=e=>Un())},[(0,l._)("a",{class:"nav-link",id:"store-tab","data-bs-toggle":"tab",href:"#store",role:"tab","aria-controls":"store","aria-selected":"true",tabindex:dv.value.report?0:-1}," Store Items ",8,W)]),(0,l._)("li",F,[(0,l._)("a",{class:(0,o.C_)(["nav-link",{disabled:!dv.value.report}]),id:"shortage-tab","data-bs-toggle":"tab",href:"#shortage",onClick:a[10]||(a[10]=e=>Lu()),role:"tab","aria-controls":"store","aria-selected":"true",tabindex:dv.value.report?0:-1}," Shortage Statement ",10,Y)]),(0,l._)("li",Q,[(0,l._)("a",{class:(0,o.C_)(["nav-link",{disabled:!dv.value.report}]),id:"challenge-tab","data-bs-toggle":"tab",href:"#challenge",onClick:a[11]||(a[11]=e=>Yl()),role:"tab","aria-controls":"challenge","aria-selected":"true",tabindex:dv.value.report?0:-1}," Challenges Faced ",10,J)]),(0,l._)("li",X,[(0,l._)("a",{class:"nav-link active",id:"labour-tab","data-bs-toggle":"tab",href:"#labour",onClick:a[12]||(a[12]=e=>qu()),role:"tab","aria-controls":"labour","aria-selected":"true"},"Labour Attendance")]),(0,l._)("li",K,[(0,l._)("a",{class:"nav-link",id:"work-tab","data-bs-toggle":"tab",href:"#work",onClick:a[13]||(a[13]=e=>ym()),role:"tab","aria-controls":"work","aria-selected":"true"},"Work Carried Out")])])]),(0,l._)("div",G,[(0,l._)("div",Z,[(0,l._)("div",ee,[(0,l._)("div",te,[(0,l._)("p",ae,[le,(0,l.Uk)((0,o.zw)(Ns.value?.project?.project_name),1)]),ne,se,(0,l._)("p",oe,[ie,(0,l.Uk)(" "+(0,o.zw)(Ns.value?.project?.financial_year),1)]),re,(0,l._)("p",de,[ce,(0,l.Uk)(" "+(0,o.zw)(Ns.value?.project?.client),1)]),ue,(0,l._)("p",me,[ve,(0,l.Uk)(" "+(0,o.zw)(Ns.value?.project?.contract_number),1)]),pe,(0,l._)("p",be,[_e,(0,l.Uk)(" "+(0,o.zw)(Ns.value?.project?.short_name),1)]),he,(0,l._)("p",ge,[ye,(0,l.Uk)(" "+(0,o.zw)(Ns.value?.officer?.name),1)]),we,(0,l._)("p",fe,[ke,(0,l.Uk)(" "+(0,o.zw)(Ns.value?.officer?.phone_no),1)]),xe])])]),(0,l._)("div",Se,[Ce,(0,l._)("div",Te,[(0,l._)("button",{class:"btn btn-primary me-2","data-bs-toggle":"modal","data-bs-target":"#work-form",onClick:a[14]||(a[14]=e=>Un())},Ee),(0,l._)("button",{class:"btn btn-success me-2",onClick:hu,title:"Print Report"},Me)]),(0,l._)("div",Ne,[(0,l._)("div",He,[m.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,$e)):((0,l.wg)(),(0,l.j4)(i,{key:1,data:(0,s.SU)(Xm),columns:Ia.value,options:Jl.value},{action:(0,l.w5)((e=>[(0,l._)("a",{href:"javascript:void(0);",title:"Return Items",onClick:t=>Qe.value=e.row,"data-bs-toggle":"modal","data-bs-target":"#return-items",class:"text-primary"},Oe,8,Re)])),_:1},8,["data","columns","options"]))])])]),(0,l._)("div",Ie,[(0,l._)("div",Ve,[c.value?((0,l.wg)(),(0,l.iD)("h5",qe,"SITE DIESEL STETEMENT")):(0,l.kq)("",!0),(0,l._)("div",je,[c.value?((0,l.wg)(),(0,l.iD)("div",ze,[(0,l._)("div",null,[(0,l._)("table",Pe,[Be,(0,l._)("tbody",null,[(0,l._)("tr",null,[We,(0,l._)("td",null,(0,o.zw)(gu.value?.diesel_used)+" L",1),(0,l._)("td",null,(0,o.zw)(gu.value?.diesel_balance)+" L",1)])])])]),(0,l._)("div",Fe,[(0,l._)("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#fuel-form",onClick:a[15]||(a[15]=e=>(Bt.value="diesel",fo()))},"Issue Diesel")])])):((0,l.wg)(),(0,l.iD)("div",Ye,Je))])]),m.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,Xe)):((0,l.wg)(),(0,l.iD)("div",Ke,[(0,l._)("div",Ge,[(0,l.Wm)(i,{data:ra.value,columns:$a.value,options:Jl.value},{machine:(0,l.w5)((e=>[(0,l.Wm)(r,{class:"text-primary",to:`/assets/fuel-statement/${e.row.asset_id}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.row.machine),1)])),_:2},1032,["to"])])),actions:(0,l.w5)((e=>[(0,l._)("div",Ze,[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",viewBox:"0 0 24 24",style:{cursor:"pointer"},title:"Add Remark","data-bs-toggle":"modal","data-bs-target":"#edit",onClick:t=>Le.value=e.row},[tt,at,lt,e.row.remark?((0,l.wg)(),(0,l.iD)("circle",nt)):(0,l.kq)("",!0)],8,et)),e.row.initial&&e.row.final&&0!==parseFloat(e.row.initial)&&0!==parseFloat(e.row.final)?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("svg",st,it))])])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",rt,[dt,(0,l._)("div",ct,"Shortage Cost : "+(0,o.zw)((0,s.SU)(R)((0,s.SU)(Ou))),1),(0,l._)("div",ut,[(0,l._)("div",mt,[(0,l.Wm)(i,{data:Ru.value,columns:$u.value,options:Jl.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,o.C_)(["badge inv-status","badge-"+e.row.status.color])},(0,o.zw)(e.row.status.name),3)])),footer:(0,l.w5)((()=>[(0,l._)("div",vt,[pt,(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:a[16]||(a[16]=(...t)=>e.save_edit&&e.save_edit(...t)),disabled:e.isSaving},"Save changes",8,bt)])])),_:1},8,["data","columns","options"])])])]),(0,l._)("div",_t,[(0,l._)("div",ht,[gt,(0,l._)("div",yt,[(0,l._)("div",wt,[(0,l._)("div",null,[(0,l._)("table",ft,[kt,(0,l._)("tbody",null,[(0,l._)("tr",null,[xt,(0,l._)("td",null,(0,o.zw)(gu.value?.petrol_used)+" L",1),(0,l._)("td",null,(0,o.zw)(gu.value?.petrol_balance)+" L",1)])])])]),(0,l._)("div",St,[(0,l._)("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#fuel-form",onClick:a[17]||(a[17]=e=>(Bt.value="petrol",fo()))},"Issue Petrol")])])])]),m.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,Ct)):((0,l.wg)(),(0,l.iD)("div",Tt,[(0,l._)("div",Dt,[(0,l.Wm)(i,{data:ra.value,columns:$a.value,options:Jl.value},{machine:(0,l.w5)((e=>[(0,l.Wm)(r,{class:"text-primary",to:`/assets/fuel-statement/${e.row.asset_id}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.row.machine),1)])),_:2},1032,["to"])])),actions:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",viewBox:"0 0 24 24",style:{cursor:"pointer"},title:"Add Remark","data-bs-toggle":"modal","data-bs-target":"#edit",onClick:t=>Le.value=e.row},[At,Ut,Mt,e.row.remark?((0,l.wg)(),(0,l.iD)("circle",Nt)):(0,l.kq)("",!0)],8,Et))])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",Ht,[(0,l._)("div",$t,[(0,l._)("div",Rt,[Lt,(0,l._)("div",Ot,[(0,l._)("div",It,[(0,l._)("button",{class:"btn btn-success",onClick:a[18]||(a[18]=e=>(0,s.SU)(E)("Printout Not Found!"))},"Print ")])])])]),m.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,Vt)):((0,l.wg)(),(0,l.iD)("div",qt,[(0,l._)("div",jt,[(0,l.Wm)(i,{data:Nu.value,columns:Eu.value,options:Jl.value},{action:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-eye text-secondary",viewBox:"0 0 16 16","data-bs-toggle":"modal","data-bs-target":"#delivery",onClick:t=>(Uu.value=e.row.records,Mu.value=e.row)},Wt,8,zt))])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",Ft,[m.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,Yt)):((0,l.wg)(),(0,l.iD)("div",Qt,[(0,l._)("div",Jt,[(0,l._)("h5",Xt,(0,o.zw)(In.value.toUpperCase())+" STORE ITEMS LIST",1),(0,l._)("div",Kt,[(0,l._)("button",{class:"btn btn-success text-nowrap me-2",onClick:a[19]||(a[19]=e=>Ms("all"))},"All Items"),(0,l._)("button",{class:"btn btn-dark text-nowrap me-2",onClick:a[20]||(a[20]=e=>Ms("Consumable"))},"Consumable"),(0,l._)("button",{class:"btn btn-primary text-nowrap",onClick:a[21]||(a[21]=e=>Ms("Receivable"))},"Receivable")])]),(0,l._)("div",Gt,[(0,l.Wm)(i,{data:On.value,columns:Ha.value,options:Jl.value},{actions:(0,l.w5)((e=>[Zt])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",ea,[m.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,ta)):((0,l.wg)(),(0,l.iD)("div",aa,[la,(0,l._)("div",na,[(0,l._)("div",sa,[(0,l._)("button",{class:(0,o.C_)(["btn me-2",vl.value?"btn-danger":"btn-primary "]),onClick:a[22]||(a[22]=e=>vl.value=!vl.value)},[vl.value?((0,l.wg)(),(0,l.iD)("span",ua,"X")):((0,l.wg)(),(0,l.iD)("svg",oa,ca))],2)])]),vl.value?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:a[25]||(a[25]=(0,n.iM)((e=>Ql()),["prevent"]))},[(0,l._)("div",ma,[(0,l._)("div",va,[pa,(0,l.wy)((0,l._)("textarea",{class:"form-control",placeholder:"Enter challenge faced","onUpdate:modelValue":a[23]||(a[23]=e=>ql.value=e)},null,512),[[n.nr,ql.value]])]),(0,l._)("div",ba,[_a,(0,l.wy)((0,l._)("textarea",{class:"form-control",placeholder:"Enter Proposed Measure","onUpdate:modelValue":a[24]||(a[24]=e=>El.value=e)},null,512),[[n.nr,El.value]])])]),(0,l._)("div",ha,[(0,l._)("div",ga,[(0,l._)("button",{class:"btn btn-success me-2 mt-1",disabled:Cu.value},[Cu.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(C)()},null,8,wa)):(0,l.kq)("",!0),fa],8,ya)])])],32)):(0,l.kq)("",!0),(0,l._)("div",ka,[(0,l.Wm)(i,{data:jl.value,columns:Ra.value,options:Jl.value},{actions:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-eye text-secondary",viewBox:"0 0 16 16","data-bs-toggle":"modal","data-bs-target":"#remark-challenge",onClick:t=>Bl.value=e.row},Ta,8,xa))])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",Da,[m.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,Ea)):((0,l.wg)(),(0,l.iD)("div",Aa,[Ua,(0,l._)("div",Ma,[dv.value.report?((0,l.wg)(),(0,l.iD)("button",{key:0,class:(0,o.C_)(["btn me-2",kl.value?"btn-danger":"btn-primary "]),onClick:a[26]||(a[26]=e=>{kl.value=!kl.value,em()})},[kl.value?((0,l.wg)(),(0,l.iD)("span",Oa,"X")):((0,l.wg)(),(0,l.iD)("svg",Na,La))],2)):(0,l.kq)("",!0),(0,l._)("button",{class:"btn btn-success me-2",onClick:a[27]||(a[27]=e=>nl())},Va),(0,l.Wm)(r,{to:"/attendances/individual"},{default:(0,l.w5)((()=>[qa])),_:1})]),kl.value?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:a[32]||(a[32]=(0,n.iM)((e=>Ju()),["prevent"]))},[(0,l._)("div",ja,[(0,l._)("div",za,[Pa,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Labour Name","onUpdate:modelValue":a[28]||(a[28]=e=>ju.value=e),required:""},null,512),[[n.nr,ju.value]])]),(0,l._)("div",Ba,[Wa,(0,l.Wm)((0,s.SU)(u()),{modelValue:Fu.value,"onUpdate:modelValue":a[29]||(a[29]=e=>Fu.value=e),options:Qu.value,placeholder:"select labour type",label:"name",searchable:!0,multiple:!1,required:!0,"allow-empty":!1},null,8,["modelValue","options"])]),(0,l._)("div",Fa,[Ya,(0,l.wy)((0,l._)("input",{type:"time",class:"form-control",placeholder:"Enter Report Time","onUpdate:modelValue":a[30]||(a[30]=e=>Bu.value=e),required:""},null,512),[[n.nr,Bu.value]])]),(0,l._)("div",Qa,[Ja,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Task","onUpdate:modelValue":a[31]||(a[31]=e=>Pu.value=e),required:""},null,512),[[n.nr,Pu.value]])])]),(0,l._)("div",Xa,[(0,l._)("div",Ka,[(0,l._)("button",{class:"btn btn-success me-2 mt-1",disabled:Cu.value},[Cu.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(C)()},null,8,Za)):(0,l.kq)("",!0),el],8,Ga)])])],32)):(0,l.kq)("",!0),(0,l._)("div",tl,[(0,l.Wm)(i,{data:(0,s.SU)(Km),columns:Vu.value,options:Jl.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,o.C_)(["badge inv-status","badge-"+e.row.status.class])},(0,o.zw)(e.row.status.key),3)])),actions:(0,l.w5)((e=>["Pending"===e.row.status.key||(0,s.SU)(j).includes("can_edit_labour_attendance")?((0,l.wg)(),(0,l.iD)("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-calendar-week",viewBox:"0 0 16 16","data-bs-toggle":"modal","data-bs-target":"#edit-labour-modal",onClick:t=>{Zu(e.row),am()}},sl,8,al)):(0,l.kq)("",!0)])),_:1},8,["data","columns","options"])])]))]),(0,l._)("div",ol,[m.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,s.SU)(A)()},null,8,il)):((0,l.wg)(),(0,l.iD)("div",rl,[dl,(0,l._)("div",cl,[(0,l._)("div",ul,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":a[33]||(a[33]=e=>Vm.value=e),class:"form-control form-control-sm",style:{width:"250px"},placeholder:"Search work carried out..."},null,512),[[n.nr,Vm.value]]),(0,s.SU)(j).includes("can_add_work_carried_out_report")?((0,l.wg)(),(0,l.iD)("button",ml,pl)):(0,l.kq)("",!0)])]),(0,l._)("div",bl,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,s.SU)(qm),((e,a)=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"col-12 col-md-6 mb-4"},[(0,l._)("div",_l,[(0,l._)("div",hl,[(0,l._)("div",gl,[(0,l._)("h5",yl,(0,o.zw)(e.report_name||"Untitled Report")+(0,o.zw)(e.description?`(${e.description})`:"")+" "+(0,o.zw)(e.date),1),(0,l._)("div",wl,[(0,l._)("button",{class:"btn btn-success me-2",onClick:t=>ll(e)},xl,8,fl)]),(0,l._)("div",Sl,[(0,s.SU)(j).includes("can_remark_work_carried_out_report")?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-primary btn-sm me-2","data-bs-toggle":"modal","data-bs-target":"#remark-modal",onClick:t=>km(e)}," Remark ",8,Cl)):(0,l.kq)("",!0),(0,s.SU)(j).includes("can_delete_work_carried_out_report")&&new Date(e.created_at).toISOString().split("T")[0]===Sa.value||(0,s.SU)(j).includes("is_programmer")?((0,l.wg)(),(0,l.iD)("button",{key:1,type:"button",class:"btn btn-danger btn-sm d-flex align-items-center justify-content-center",onClick:t=>Em(e.id),disabled:Tm.value&&Dm.value===e.id,style:{"min-width":"80px"}},[Tm.value&&Dm.value===e.id?((0,l.wg)(),(0,l.iD)("span",Dl,Al)):(0,l.kq)("",!0),Tm.value&&Dm.value===e.id?((0,l.wg)(),(0,l.iD)("span",Ul," Deleting... ")):((0,l.wg)(),(0,l.iD)("span",Ml," Delete "))],8,Tl)):(0,l.kq)("",!0)])]),(0,l._)("div",Nl,[(0,l._)("p",Hl,[$l,(0,l.Uk)(" "+(0,o.zw)(e.supervisor?.name),1)]),e.remark?((0,l.wg)(),(0,l.iD)("p",Rl,[Ll,(0,l.Uk)(" "+(0,o.zw)(e.remark),1)])):(0,l.kq)("",!0),(0,l._)("div",Ol,[(0,l._)("div",Il,[(0,l.Wm)(i,{data:e.activities,columns:nm.value,options:Jl.value},{actions:(0,l.w5)((e=>[(0,s.SU)(j).includes("can_edit_work_carried_out_report")&&new Date(e.row.created_at).toISOString().split("T")[0]===Sa.value||(0,s.SU)(j).includes("is_programmer")?((0,l.wg)(),(0,l.iD)("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-primary","data-bs-toggle":"modal","data-bs-target":"#edit-activity-modal",onClick:t=>Sm(e.row),style:{cursor:"pointer"},title:"Edit Activity"},zl,8,Vl)):(0,l.kq)("",!0),Am.value&&Um.value===e.row.id?((0,l.wg)(),(0,l.iD)("div",Pl,Wl)):(0,l.kq)("",!0),(0,s.SU)(j).includes("can_delete_work_carried_out_report")&&new Date(e.row.created_at).toISOString().split("T")[0]===Sa.value||(0,s.SU)(j).includes("is_programmer")?((0,l.wg)(),(0,l.iD)("svg",{key:2,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger ms-2",onClick:t=>Mm(e.row.id),style:{cursor:"pointer"},title:"Delete Activity"},Kl,8,Fl)):(0,l.kq)("",!0)])),_:2},1032,["data","columns","options"])])])]),(0,l._)("div",Gl,[(0,s.SU)(j).includes("can_add_work_carried_out_report")?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-primary btn-sm me-3","data-bs-toggle":"modal","data-bs-target":"#add-activity-modal",onClick:t=>hm.value=e.id}," Add Activity ",8,Zl)):(0,l.kq)("",!0),(0,s.SU)(j).includes("can_add_work_carried_out_report")?((0,l.wg)(),(0,l.iD)("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",class:"bi bi-card-image",viewBox:"0 0 16 16","data-bs-toggle":"modal","data-bs-target":"#add-attachment-modal",onClick:t=>hm.value=e.id},ln,8,en)):(0,l.kq)("",!0)]),e.attachments&&e.attachments.length>0?((0,l.wg)(),(0,l.iD)("div",nn,[(0,l._)("div",sn,[on,(0,l._)("div",rn,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.attachments,(a=>((0,l.wg)(),(0,l.iD)("div",{key:a.id,class:(0,o.C_)(e.attachments.length>6?"col-md-3 col-sm-6":e.attachments.length>4?"col-md-4 col-sm-6":"col-md-6 col-sm-6")},[(0,l._)("div",dn,[(0,l._)("div",cn,[(0,l._)("div",un,[(0,l._)("img",{src:`${t}/${a.file_path}`,alt:a.description,style:{"max-width":"100%","max-height":"100%","object-fit":"contain",cursor:"pointer"},onClick:e=>Lm(`${t}/${a.file_path}`,a),"data-bs-toggle":"modal","data-bs-target":"#view-attachment-modal"},null,8,mn)]),(0,l._)("div",vn,[(0,l._)("p",pn,[(0,l._)("strong",null,(0,o.zw)(a.description||" "),1)]),zm.value&&Pm.value===a.id?((0,l.wg)(),(0,l.iD)("div",bn,hn)):(0,s.SU)(j).includes("can_delete_work_carried_out_report")&&(new Date).toDateString()?((0,l.wg)(),(0,l.iD)("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger",onClick:e=>Bm(a.id),style:{cursor:"pointer"},title:"Delete Attachment"},xn,8,gn)):(0,l.kq)("",!0)])])])],2)))),128))])])])):(0,l.kq)("",!0),Sn])])])))),128))])]))])])])):((0,l.wg)(),(0,l.iD)("div",Cn,[(0,l._)("button",{class:"btn btn-success btn-lg me-2",disabled:uv.value||da.value,onClick:vv},[uv.value||mv.value?((0,l.wg)(),(0,l.iD)("svg",Dn)):((0,l.wg)(),(0,l.iD)("svg",En,Mn)),mv.value?((0,l.wg)(),(0,l.iD)("span",Nn,"Submitting...")):((0,l.wg)(),(0,l.iD)("span",Hn,"Report to Site"))],8,Tn),(0,l._)("button",{class:"btn btn-info btn-lg",disabled:uv.value,onClick:a[34]||(a[34]=e=>Ue())},[da.value?((0,l.wg)(),(0,l.iD)("svg",Rn)):((0,l.wg)(),(0,l.iD)("svg",Ln,Vn)),qn,da.value?((0,l.wg)(),(0,l.iD)("span",jn,"Loading...")):((0,l.wg)(),(0,l.iD)("span",zn,"Refresh Location"))],8,$n),Pn,Bn,Wn])),(0,l._)("div",Fn,[(0,l._)("div",Yn,[(0,l._)("div",Qn,[Jn,(0,l._)("form",{onSubmit:a[40]||(a[40]=(0,n.iM)((e=>yn()),["prevent"]))},[(0,l._)("div",Xn,[(0,l._)("div",Kn,[(0,l._)("div",Gn,[Zn,(0,l.Wm)((0,s.SU)(u()),{modelValue:Ca.value,"onUpdate:modelValue":a[35]||(a[35]=e=>Ca.value=e),options:An.value,label:"name",placeholder:"Select an item",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"])]),(0,l._)("div",es,[(0,l._)("label",ts,"Quantity Used , Available : "+(0,o.zw)(Ca.value.balance_quantity),1),(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Quantity Used ","onUpdate:modelValue":a[36]||(a[36]=e=>_n.value=e),readonly:!Ca.value,onInput:a[37]||(a[37]=e=>_n.value=(0,s.SU)(V)(_n.value,Ca.value.balance_quantity)),required:"",min:.1},null,40,as),[[n.nr,_n.value]])]),(0,l._)("div",ls,[ns,(0,l._)("label",ss,(0,o.zw)(Ca.value.condition??"no condition"),1)]),(0,l._)("div",os,[is,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[38]||(a[38]=e=>Sa.value=e)},null,512),[[n.nr,Sa.value]])])]),(0,l._)("div",rs,[ds,(0,l.wy)((0,l._)("textarea",{class:"form-control",id:"message-text",placeholder:"Enter Work Description","onUpdate:modelValue":a[39]||(a[39]=e=>an.value=e)},null,512),[[n.nr,an.value]])])]),(0,l._)("div",cs,[us,(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:da.value},[da.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(C)()},null,8,vs)):((0,l.wg)(),(0,l.iD)("span",ps,"Save"))],8,ms)])],32)])])]),(0,l._)("div",bs,[(0,l._)("div",_s,[(0,l._)("div",hs,[(0,l._)("div",gs,[(0,l._)("h1",ys,(0,o.zw)("diesel"===Bt.value?"DIESEL":"PETROL")+" STATEMENT FORM",1),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"distribution-form",onClick:a[41]||(a[41]=e=>tn())})]),(0,l._)("form",{onSubmit:a[54]||(a[54]=(0,n.iM)((e=>pu()),["prevent"]))},[(0,l._)("div",ws,[(0,l._)("div",fs,[(0,l._)("div",ks,[xs,(0,l.Wm)((0,s.SU)(u()),{modelValue:yo.value,"onUpdate:modelValue":a[42]||(a[42]=e=>yo.value=e),options:wo.value,label:"name",placeholder:"Select an Asset",searchable:!0,"allow-empty":!1},null,8,["modelValue","options"])]),(0,l._)("div",Ss,[(0,l._)("label",Cs,"Quantity Used , Available : "+(0,o.zw)("diesel"===Bt.value?gu.value?.diesel_balance:gu.value?.petrol_balance),1),(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Quantity Used ","onUpdate:modelValue":a[43]||(a[43]=e=>_n.value=e),readonly:!yo.value,onInput:a[44]||(a[44]=e=>_n.value=(0,s.SU)(V)(_n.value,"diesel"===Bt.value?gu.value?.diesel_balance:gu.value?.petrol_balance)),required:"",min:.1},null,40,Ts),[[n.nr,_n.value]])]),(0,l._)("div",Ds,[Es,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[45]||(a[45]=e=>Sa.value=e)},null,512),[[n.nr,Sa.value]])]),(0,l._)("div",As,[Us,(0,l.wy)((0,l._)("select",{class:"form-control","onUpdate:modelValue":a[46]||(a[46]=e=>Kr.value=e),name:"consuption_type",required:""},$s,512),[[n.bM,Kr.value]])]),(0,l._)("div",Rs,[Ls,(0,l.wy)((0,l._)("input",{class:"form-control",type:"text",step:"any",placeholder:"Enter Driver Name ","onUpdate:modelValue":a[47]||(a[47]=e=>sd.value=e)},null,512),[[n.nr,sd.value]])]),(0,l._)("div",Os,[Is,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Initial Reading ","onUpdate:modelValue":a[48]||(a[48]=e=>ko.value=e)},null,512),[[n.nr,ko.value]])]),(0,l._)("div",Vs,[qs,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Final Reading ","onUpdate:modelValue":a[49]||(a[49]=e=>Xr.value=e)},null,512),[[n.nr,Xr.value]])]),(0,l._)("div",js,[zs,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Work Volume","onUpdate:modelValue":a[50]||(a[50]=e=>uu.value=e)},null,512),[[n.nr,uu.value]])]),(0,l._)("div",Ps,[Bs,(0,l.Wm)((0,s.SU)(u()),{modelValue:bm.value,"onUpdate:modelValue":a[51]||(a[51]=e=>bm.value=e),options:wm.value,placeholder:"Select Unit",label:"short_name",searchable:!0,multiple:!1,"allow-empty":!1},null,8,["modelValue","options"])])]),(0,l._)("div",Ws,[Fs,(0,l.wy)((0,l._)("textarea",{class:"form-control",id:"message-text",placeholder:"Enter Work Description","onUpdate:modelValue":a[52]||(a[52]=e=>an.value=e)},null,512),[[n.nr,an.value]])])]),(0,l._)("div",Ys,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",id:"close",onClick:a[53]||(a[53]=e=>tn())},"Close"),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:da.value},[da.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(C)()},null,8,Js)):((0,l.wg)(),(0,l.iD)("span",Xs,"Save"))],8,Qs)])],32)])])]),(0,l._)("div",Ks,[(0,l._)("div",Gs,[(0,l._)("div",Zs,[eo,(0,l._)("form",{onSubmit:a[57]||(a[57]=(0,n.iM)((e=>Pt()),["prevent"]))},[(0,l._)("div",to,[(0,l._)("div",ao,[(0,l._)("div",lo,[(0,l._)("div",no,[(0,l._)("div",so,[(0,l._)("div",oo,[(0,l._)("div",io,[ro,(0,l._)("label",co,(0,o.zw)(Qe.value.item),1)]),(0,l._)("div",uo,[mo,(0,l._)("label",vo,(0,o.zw)(Qe.value.used),1)]),(0,l._)("div",po,[(0,l._)("label",bo,"Returning Quantity : ( available "+(0,o.zw)((Qe.value.used-Qe.value.returned).toFixed(2))+")",1),(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",step:"any",placeholder:"Enter Returned Quantity","onUpdate:modelValue":a[55]||(a[55]=e=>_n.value=e),min:.1,max:Qe.value.used-Qe.value.returned},null,8,_o),[[n.nr,_n.value]])]),(0,l._)("div",ho,[go,(0,l.wy)((0,l._)("select",{class:"form-control","onUpdate:modelValue":a[56]||(a[56]=e=>ot.value=e),required:""},xo,512),[[n.bM,ot.value]])])])])])])])]),(0,l._)("div",So,[Co,(0,l._)("button",{type:"submit",class:"btn btn-success btn-sm",disabled:!_n.value||da.value},[da.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(C)()},null,8,Do)):((0,l.wg)(),(0,l.iD)("span",Eo," Save "))],8,To)])],32)])])]),(0,l._)("div",Ao,[(0,l._)("div",Uo,[(0,l._)("div",Mo,[(0,l._)("div",No,[(0,l._)("h1",Ho,(0,o.zw)(Le.value?.type)+" - "+(0,o.zw)(Le.value?.machine)+" CONSUMPTION SUMMARY",1),$o]),(0,l._)("div",Ro,[(0,l._)("div",Lo,[(0,l._)("div",Oo,[(0,l._)("div",Io,[(0,l._)("div",Vo,[qo,(0,l.Uk)(" "+(0,o.zw)(Le.value?.issued_date),1)]),(0,l._)("div",jo,[zo,(0,l.Uk)(" "+(0,o.zw)(Le.value?.issuer),1)]),(0,l._)("div",Po,[Bo,(0,l.Uk)(" "+(0,o.zw)(Le.value?.driver),1)])]),(0,l._)("div",Wo,[(0,l._)("div",Fo,[Yo,(0,l.Uk)(" "+(0,o.zw)(Le.value?.machine),1)]),(0,l._)("div",Qo,[Jo,(0,l.Uk)(" "+(0,o.zw)(Le.value?.type),1)]),(0,l._)("div",Xo,[Ko,(0,l.Uk)(" "+(0,o.zw)(Le.value?.issued)+"Ltrs",1)])]),(0,l._)("div",Go,[(0,l._)("div",Zo,[ei,(0,l.Uk)(" "+(0,o.zw)(Le.value?.initial),1)]),(0,l._)("div",ti,[ai,(0,l.Uk)(" "+(0,o.zw)(Le.value?.final),1)]),(0,l._)("div",li,[ni,(0,l.Uk)(" "+(0,o.zw)(Le.value?.ratio),1)])]),(0,l._)("div",si,[(0,l._)("div",oi,[ii,(0,l.Uk)(" "+(0,o.zw)(Le.value?.consumption_type),1)]),(0,l._)("div",ri,[di,(0,l.Uk)(" "+(0,o.zw)(Le.value?.work)+" "+(0,o.zw)("Km/Litre"===Le.value?.consumption_type?"Km":"Litre/hr"===Le.value?.consumption_type?"hr":""),1)]),(0,l._)("div",ci,[ui,(0,l.Uk)(" "+(0,o.zw)(Le.value?.used)+" Ltrs",1)]),(0,l._)("div",mi,[vi,(0,l.Uk)(" "+(0,o.zw)(Le.value?.task),1)])]),Le.value?.remark?((0,l.wg)(),(0,l.iD)("div",pi,[(0,l._)("div",bi,[_i,(0,l.Uk)(" "+(0,o.zw)(Le.value?.remark),1)])])):(0,l.kq)("",!0)])]),(0,s.SU)(j).includes("can_issue_fuel")||(0,s.SU)(j).includes("is_md")?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:a[64]||(a[64]=(0,n.iM)((e=>Du()),["prevent"]))},[(0,l._)("div",hi,[(0,l._)("div",gi,[(0,l._)("div",yi,[(0,l._)("div",wi,[(0,l._)("div",fi,[(0,s.SU)(j).includes("can_issue_fuel")?((0,l.wg)(),(0,l.iD)("div",ki,[xi,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Initial Reading","onUpdate:modelValue":a[58]||(a[58]=e=>Le.value.initial=e)},null,512),[[n.nr,Le.value.initial]])])):(0,l.kq)("",!0),(0,s.SU)(j).includes("can_issue_fuel")?((0,l.wg)(),(0,l.iD)("div",Si,[Ci,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Final Reading","onUpdate:modelValue":a[59]||(a[59]=e=>Le.value.final=e)},null,512),[[n.nr,Le.value.final]])])):(0,l.kq)("",!0),(0,s.SU)(j).includes("can_issue_fuel")?((0,l.wg)(),(0,l.iD)("div",Ti,[Di,(0,l.wy)((0,l._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Work Volume","onUpdate:modelValue":a[60]||(a[60]=e=>Le.value.volume=e)},null,512),[[n.nr,Le.value.volume]])])):(0,l.kq)("",!0),(0,s.SU)(j).includes("can_issue_fuel")?((0,l.wg)(),(0,l.iD)("div",Ei,[Ai,(0,l.Wm)((0,s.SU)(u()),{modelValue:Le.value.unit,"onUpdate:modelValue":a[61]||(a[61]=e=>Le.value.unit=e),options:wm.value,placeholder:"Select Unit",label:"short_name",searchable:!0,multiple:!1,"allow-empty":!1},null,8,["modelValue","options"])])):(0,l.kq)("",!0),(0,s.SU)(j).includes("can_edit_task")?((0,l.wg)(),(0,l.iD)("div",Ui,[Mi,(0,l.wy)((0,l._)("input",{class:"form-control",type:"text",step:"any",placeholder:"Enter Task","onUpdate:modelValue":a[62]||(a[62]=e=>Le.value.task=e)},null,512),[[n.nr,Le.value.task]])])):(0,l.kq)("",!0),(0,s.SU)(j).includes("is_md")?((0,l.wg)(),(0,l.iD)("div",Ni,[Hi,(0,l.wy)((0,l._)("input",{class:"form-control",type:"text",step:"any",placeholder:"Enter Remark","onUpdate:modelValue":a[63]||(a[63]=e=>Le.value.remark=e)},null,512),[[n.nr,Le.value.remark]])])):(0,l.kq)("",!0),(0,l._)("div",$i,[(0,l._)("div",Ri,[(0,l._)("button",{class:"btn btn-success",disabled:Cu.value},[Cu.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(C)()},null,8,Oi)):((0,l.wg)(),(0,l.iD)("span",Ii," Save"))],8,Li)])])])])])])])],32)):(0,l.kq)("",!0)]),Vi])])]),(0,l._)("div",qi,[(0,l._)("div",ji,[(0,l._)("div",zi,[(0,l._)("div",Pi,[(0,l._)("h1",Bi,[Wi,(0,l._)("b",null,(0,o.zw)(Mu.value?.name?.toUpperCase()),1)]),Fi]),(0,l._)("div",Yi,[(0,l._)("div",Qi,[(0,l._)("div",Ji,[(0,l.Wm)(i,{data:Uu.value,columns:Au.value,options:Jl.value},{sno:(0,l.w5)((e=>[(0,l.Uk)((0,o.zw)(e.index),1)])),_:1},8,["data","columns","options"])])])]),Xi])])]),(0,l._)("div",Ki,[(0,l._)("div",Gi,[(0,l._)("div",Zi,[er,(0,l._)("div",tr,[(0,l._)("div",ar,[(0,l._)("div",lr,"Reporter : "+(0,o.zw)(Bl.value?.reported_by),1),(0,l._)("div",nr,"Challenge : "+(0,o.zw)(Bl.value?.challenge),1),(0,l._)("div",sr," Proposed measure : "+(0,o.zw)(Bl.value?.proposed_measure),1),Bl.value?.remark?((0,l.wg)(),(0,l.iD)("div",or,"Remarks : "+(0,o.zw)(Bl.value?.remark),1)):(0,l.kq)("",!0)]),(0,s.SU)(j).includes("can_fill_challenge_remark")?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:a[66]||(a[66]=(0,n.iM)((e=>Tu(Bl.value?.id)),["prevent"]))},[(0,l._)("div",ir,[(0,l.wy)((0,l._)("input",{type:"text",class:"me-2 form-control",placeholder:"Enter Remarks","onUpdate:modelValue":a[65]||(a[65]=e=>xu.value=e),required:""},null,512),[[n.nr,xu.value]]),(0,l._)("button",{class:"btn btn-primary",disabled:Cu.value},[Cu.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(C)()},null,8,dr)):((0,l.wg)(),(0,l.iD)("span",cr,"Save"))],8,rr)])],32)):(0,l.kq)("",!0)]),ur])])]),(0,l._)("div",mr,[(0,l._)("div",vr,[(0,l._)("div",pr,[(0,l._)("div",br,[_r,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[67]||(a[67]=e=>Gu())})]),(0,l._)("form",{onSubmit:a[72]||(a[72]=(0,n.iM)((e=>Ku(ia.value?.id)),["prevent"]))},[(0,l._)("div",hr,[(0,l._)("div",gr,[(0,l._)("div",yr,[wr,(0,l.wy)((0,l._)("input",{type:"time",class:"form-control",placeholder:"Enter Derpurture Time","onUpdate:modelValue":a[68]||(a[68]=e=>Wu.value=e),required:""},null,512),[[n.nr,Wu.value]])]),(0,l._)("div",fr,[kr,(0,l.Wm)((0,s.SU)(u()),{modelValue:Yu.value,"onUpdate:modelValue":a[69]||(a[69]=e=>Yu.value=e),options:tm.value,placeholder:"Select status",label:"name","track-by":"id",searchable:!0,multiple:!1,"allow-empty":!1},null,8,["modelValue","options"])]),(0,l._)("div",xr,[Sr,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Description","onUpdate:modelValue":a[70]||(a[70]=e=>an.value=e)},null,512),[[n.nr,an.value]])])])]),(0,l._)("div",Cr,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:a[71]||(a[71]=e=>Gu()),id:"close_labour_attendant"},"Close"),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:Cu.value},[Cu.value?((0,l.wg)(),(0,l.iD)("span",Dr)):(0,l.kq)("",!0),Er],8,Tr)])],32)])])]),(0,l._)("div",Ar,[(0,l._)("div",Ur,[(0,l._)("div",Mr,[(0,l._)("div",Nr,[Hr,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[73]||(a[73]=e=>vm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[82]||(a[82]=(0,n.iM)((e=>mm()),["prevent"]))},[(0,l._)("div",$r,[(0,l._)("div",Rr,[(0,l._)("div",Lr,[Or,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Work Title","onUpdate:modelValue":a[74]||(a[74]=e=>pm.value=e),required:""},null,512),[[n.nr,pm.value]])]),(0,l._)("div",Ir,[Vr,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control",placeholder:"Enter Date","onUpdate:modelValue":a[75]||(a[75]=e=>_m.value=e),step:"any"},null,512),[[n.nr,_m.value]])])]),_m.value.length>0?((0,l.wg)(),(0,l.iD)("div",qr,[(0,l._)("div",jr,[zr,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Activity","onUpdate:modelValue":a[76]||(a[76]=e=>om.value=e)},null,512),[[n.nr,om.value]])]),(0,l._)("div",Pr,[Br,(0,l.Wm)((0,s.SU)(u()),{modelValue:bm.value,"onUpdate:modelValue":a[77]||(a[77]=e=>bm.value=e),options:wm.value,placeholder:"select unit",label:"short_name",searchable:!0,multiple:!1,required:!0},null,8,["modelValue","options"])]),(0,l._)("div",Wr,[Fr,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Enter Quantity","onUpdate:modelValue":a[78]||(a[78]=e=>_n.value=e),step:"any"},null,512),[[n.nr,_n.value]])]),(0,l._)("div",Yr,[Qr,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Description","onUpdate:modelValue":a[79]||(a[79]=e=>im.value=e)},null,512),[[n.nr,im.value]])]),(0,l._)("div",Jr,[(0,l._)("button",{type:"button",class:"btn btn-outline-success btn-sm mt-4",onClick:a[80]||(a[80]=e=>cm())},Gr)]),sm.value.length>0?((0,l.wg)(),(0,l.iD)("div",Zr,[(0,l._)("div",ed,[(0,l._)("div",td,[(0,l._)("div",ad,[(0,l._)("div",ld,[(0,l.Wm)(i,{data:sm.value,columns:lm.value,options:Jl.value},{actions:(0,l.w5)((e=>[(0,l._)("a",{href:"javascript:void(0);",title:"Delete",onClick:t=>um(e.row.Sno)},od,8,nd)])),_:1},8,["data","columns","options"])])])])])])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)]),(0,l._)("div",id,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[81]||(a[81]=e=>vm()),id:"close_report"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Cu.value},[Cu.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(C)()},null,8,dd)):(0,l.kq)("",!0),cd],8,rd)])],32)])])]),(0,l._)("div",ud,[(0,l._)("div",md,[(0,l._)("div",vd,[(0,l._)("div",pd,[bd,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[83]||(a[83]=e=>vm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[86]||(a[86]=(0,n.iM)((e=>xm()),["prevent"]))},[(0,l._)("div",_d,[(0,l._)("div",hd,[(0,l._)("div",gd,[yd,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Activity Name","onUpdate:modelValue":a[84]||(a[84]=e=>xu.value=e),required:""},null,512),[[n.nr,xu.value]])])])]),(0,l._)("div",wd,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[85]||(a[85]=e=>vm()),id:"close_remark"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Cu.value},[Cu.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(C)()},null,8,kd)):(0,l.kq)("",!0),xd],8,fd)])],32)])])]),(0,l._)("div",Sd,[(0,l._)("div",Cd,[(0,l._)("div",Td,[(0,l._)("div",Dd,[Ed,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[87]||(a[87]=e=>vm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[92]||(a[92]=(0,n.iM)((e=>Cm()),["prevent"]))},[(0,l._)("div",Ad,[(0,l._)("div",Ud,[(0,l._)("div",Md,[Nd,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":a[88]||(a[88]=e=>om.value=e),class:"form-control",placeholder:"activity",required:""},null,512),[[n.nr,om.value]])]),(0,l._)("div",Hd,[$d,(0,l.Wm)((0,s.SU)(u()),{modelValue:bm.value,"onUpdate:modelValue":a[89]||(a[89]=e=>bm.value=e),options:wm.value,placeholder:"select unit",label:"short_name",searchable:!0,multple:"false",required:!0,"allow-empty":!0},null,8,["modelValue","options"])]),(0,l._)("div",Rd,[Ld,(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":a[90]||(a[90]=e=>_n.value=e),class:"form-control",placeholder:"Enter Quantity",min:"1"},null,512),[[n.nr,_n.value]])])])]),(0,l._)("div",Od,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[91]||(a[91]=e=>vm()),id:"close_activity"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Cu.value},[Cu.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(C)()},null,8,Vd)):(0,l.kq)("",!0),qd],8,Id)])],32)])])]),(0,l._)("div",jd,[(0,l._)("div",zd,[(0,l._)("div",Pd,[(0,l._)("div",Bd,[Wd,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[93]||(a[93]=e=>vm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[98]||(a[98]=(0,n.iM)((e=>Nm()),["prevent"]))},[(0,l._)("div",Fd,[(0,l._)("div",Yd,[(0,l._)("div",Qd,[Jd,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":a[94]||(a[94]=e=>om.value=e),class:"form-control",placeholder:"activity",required:""},null,512),[[n.nr,om.value]])]),(0,l._)("div",Xd,[Kd,(0,l.Wm)((0,s.SU)(u()),{modelValue:bm.value,"onUpdate:modelValue":a[95]||(a[95]=e=>bm.value=e),options:wm.value,placeholder:"select unit",label:"short_name",searchable:!0,multple:"false",required:!0,"allow-empty":!1},null,8,["modelValue","options"])]),(0,l._)("div",Gd,[Zd,(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":a[96]||(a[96]=e=>_n.value=e),class:"form-control",placeholder:"Enter Quantity",step:"any"},null,512),[[n.nr,_n.value]])])])]),(0,l._)("div",ec,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[97]||(a[97]=e=>vm()),id:"close_add"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Cu.value},[Cu.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(C)()},null,8,ac)):(0,l.kq)("",!0),lc],8,tc)])],32)])])]),(0,l._)("div",nc,[(0,l._)("div",sc,[(0,l._)("div",oc,[(0,l._)("div",ic,[rc,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[99]||(a[99]=e=>vm()),id:"close_report"})]),(0,l._)("form",{onSubmit:a[102]||(a[102]=(0,n.iM)((e=>Rm()),["prevent"]))},[(0,l._)("div",dc,[(0,l._)("div",cc,[(0,l._)("div",uc,[mc,(0,l._)("input",{type:"file",class:"form-control",accept:"image/*",onChange:$m,required:""},null,32)]),(0,l._)("div",vc,[pc,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":a[100]||(a[100]=e=>an.value=e),class:"form-control",placeholder:"description"},null,512),[[n.nr,an.value]])])])]),(0,l._)("div",bc,[(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[101]||(a[101]=e=>vm()),id:"close_attachment"},"Close"),(0,l._)("button",{class:"btn btn-primary me-2 mt-1",disabled:Cu.value},[Cu.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,s.SU)(C)()},null,8,hc)):(0,l.kq)("",!0),gc],8,_c)])],32)])])]),(0,l._)("div",yc,[(0,l._)("div",wc,[(0,l._)("div",fc,[kc,(0,l._)("div",xc,[(0,l._)("div",Sc,[Om.value?((0,l.wg)(),(0,l.iD)("img",{key:0,src:Om.value,alt:"Attachment",class:"attachment-img",style:(0,o.j5)({transform:`rotate(${Wm.value}deg)`})},null,12,Cc)):(0,l.kq)("",!0)])]),(0,l._)("div",{class:"modal-footer"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-repeat",viewBox:"0 0 16 16",onClick:Fm},Dc),Ec])])])]),(0,l._)("div",Ac,[(0,l._)("div",Uc,[(0,l._)("div",Mc,[Nc,(0,l._)("div",Hc,[(0,l._)("div",$c,[(0,l._)("div",Rc,[(0,l._)("div",Lc,[(0,l._)("p",Oc,[Ic,(0,l.Uk)(" "+(0,o.zw)(Ns.value?.project?.short_name||"N/A"),1)]),(0,l._)("p",Vc,[qc,(0,l.Uk)(" "+(0,o.zw)(Ns.value?.project?.contract_number||"N/A"),1)])]),(0,l._)("div",jc,[(0,l._)("p",zc,[Pc,(0,l.Uk)(" "+(0,o.zw)(Ns.value?.officer?.name||"N/A"),1)]),(0,l._)("p",Bc,[Wc,(0,l.Uk)(" "+(0,o.zw)(Ns.value?.project?.client||"N/A"),1)])])])]),(0,l._)("div",Fc,[Yc,(0,s.SU)(j).includes("can_add_site_report_attachment")?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-primary btn-sm",onClick:a[103]||(a[103]=e=>Tv.value=!Tv.value)}," Add Attachment ")):(0,l.kq)("",!0)]),Tv.value?((0,l.wg)(),(0,l.iD)("div",Qc,[(0,l._)("div",Jc,[(0,l._)("form",{onSubmit:a[106]||(a[106]=(0,n.iM)((e=>kv()),["prevent"]))},[(0,l._)("div",Xc,[(0,l._)("div",Kc,[Gc,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[104]||(a[104]=e=>wv.value=e),placeholder:"Enter attachment description"},null,512),[[n.nr,wv.value]])]),(0,l._)("div",Zc,[eu,(0,l._)("input",{class:"form-control",type:"file",onChange:gv,accept:"application/pdf",required:""},null,32)])]),(0,l._)("div",tu,[(0,l._)("div",au,[(0,l._)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[105]||(a[105]=e=>xv())}," Cancel "),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:fv.value},[fv.value?((0,l.wg)(),(0,l.iD)("span",nu)):(0,l.kq)("",!0),su],8,lu)])])],32)])])):(0,l.kq)("",!0),ou,Av.value?((0,l.wg)(),(0,l.iD)("div",{key:1,innerHTML:(0,s.SU)(A)()},null,8,iu)):((0,l.wg)(),(0,l.iD)("div",ru,[(0,l._)("div",du,[(0,l.Wm)(i,{data:Dv.value,columns:Ev.value,options:Jl.value},{actions:(0,l.w5)((e=>[(0,l._)("a",{href:`${t}/${e.row.attachment}`,target:"_blank",title:"View Attachment"},mu,8,cu),(0,s.SU)(j).includes("can_delete_site_report_attachment")?((0,l.wg)(),(0,l.iD)("a",{key:0,href:"javascript:void(0);",title:"Delete",onClick:t=>Cv(e.row)},bu,8,vu)):(0,l.kq)("",!0)])),_:1},8,["data","columns","options"])])]))]),_u])])])])}}},gu=a(83744);const yu=(0,gu.Z)(hu,[["__scopeId","data-v-a069eb30"]]);var wu=yu}}]);
//# sourceMappingURL=6845.98587ea8.js.map