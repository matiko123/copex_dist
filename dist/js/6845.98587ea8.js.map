{"version":3,"file":"js/6845.98587ea8.js","mappings":"2GAAA,IAAIA,EAAS,EAAQ,OACjBC,EAAa,EAAQ,OAErBC,EAASF,EAAOE,OAChBC,EAAYH,EAAOG,UAEvBC,EAAOC,QAAU,SAAUC,GACzB,GAAuB,iBAAZA,GAAwBL,EAAWK,GAAW,OAAOA,EAChE,MAAMH,EAAU,aAAeD,EAAOI,GAAY,qB,sBCRpD,IAAIN,EAAS,EAAQ,OACjBO,EAAwB,EAAQ,OAChCN,EAAa,EAAQ,OACrBO,EAAa,EAAQ,OACrBC,EAAkB,EAAQ,MAE1BC,EAAgBD,EAAgB,eAChCE,EAASX,EAAOW,OAGhBC,EAAuE,aAAnDJ,EAAW,WAAc,OAAOK,UAArB,IAG/BC,EAAS,SAAUC,EAAIC,GACzB,IACE,OAAOD,EAAGC,GACV,MAAOC,UAIXb,EAAOC,QAAUE,EAAwBC,EAAa,SAAUO,GAC9D,IAAIG,EAAGC,EAAKC,EACZ,YAAcC,IAAPN,EAAmB,YAAqB,OAAPA,EAAc,OAEM,iBAAhDI,EAAML,EAAOI,EAAIP,EAAOI,GAAKL,IAA8BS,EAEnEP,EAAoBJ,EAAWU,GAEH,WAA3BE,EAASZ,EAAWU,KAAmBjB,EAAWiB,EAAEI,QAAU,YAAcF,I,sBC5BnF,IAAIG,EAAc,EAAQ,MAEtBC,EAASC,MACTC,EAAUH,EAAY,GAAGG,SAEzBC,EAAO,SAAWC,GAAO,OAAO1B,OAAOsB,EAAOI,GAAKC,OAA5C,CAAuD,UAC9DC,EAA2B,uBAC3BC,EAAwBD,EAAyBE,KAAKL,GAE1DvB,EAAOC,QAAU,SAAUwB,EAAOI,GAChC,GAAIF,GAAyC,iBAATF,IAAsBL,EAAOU,kBAC/D,MAAOD,IAAeJ,EAAQH,EAAQG,EAAOC,EAA0B,IACvE,OAAOD,I,sBCZX,IAAIM,EAAQ,EAAQ,OAChBC,EAA2B,EAAQ,OAEvChC,EAAOC,SAAW8B,GAAM,WACtB,IAAIlB,EAAQQ,MAAM,KAClB,QAAM,UAAWR,KAEjBN,OAAO0B,eAAepB,EAAO,QAASmB,EAAyB,EAAG,IAC3C,IAAhBnB,EAAMY,W,sBCRf,IAAIS,EAAc,EAAQ,OAEtBC,EAAoBC,SAASC,UAC7BC,EAAQH,EAAkBG,MAC1BC,EAAOJ,EAAkBI,KAG7BvC,EAAOC,QAA4B,iBAAXuC,SAAuBA,QAAQF,QAAUJ,EAAcK,EAAKE,KAAKH,GAAS,WAChG,OAAOC,EAAKD,MAAMA,EAAO7B,c,sBCR3B,IAAIZ,EAAa,EAAQ,OACrB6C,EAAW,EAAQ,OACnBC,EAAiB,EAAQ,OAG7B3C,EAAOC,QAAU,SAAU2C,EAAOC,EAAOC,GACvC,IAAIC,EAAWC,EAUf,OAPEL,GAEA9C,EAAWkD,EAAYF,EAAMI,cAC7BF,IAAcD,GACdJ,EAASM,EAAqBD,EAAUV,YACxCW,IAAuBF,EAAQT,WAC/BM,EAAeC,EAAOI,GACjBJ,I,sBChBT,IAAIF,EAAW,EAAQ,OACnBQ,EAA8B,EAAQ,OAI1ClD,EAAOC,QAAU,SAAUa,EAAGqC,GACxBT,EAASS,IAAY,UAAWA,GAClCD,EAA4BpC,EAAG,QAASqC,EAAQC,S,sBCPpD,IAAIC,EAAW,EAAQ,OAEvBrD,EAAOC,QAAU,SAAUC,EAAUoD,GACnC,YAAoBrC,IAAbf,EAAyBO,UAAU8C,OAAS,EAAI,GAAKD,EAAWD,EAASnD,K,sBCFlF,IAAIiB,EAAc,EAAQ,MACtBqC,EAAW,EAAQ,OACnBC,EAAqB,EAAQ,OAMjCzD,EAAOC,QAAUM,OAAOoC,iBAAmB,aAAe,GAAK,WAC7D,IAEIe,EAFAC,GAAiB,EACjB/B,EAAO,GAEX,IAEE8B,EAASvC,EAAYZ,OAAOqD,yBAAyBrD,OAAO8B,UAAW,aAAawB,KACpFH,EAAO9B,EAAM,IACb+B,EAAiB/B,aAAgBkC,MACjC,MAAOjD,QACT,OAAO,SAAwBC,EAAGiD,GAKhC,OAJAP,EAAS1C,GACT2C,EAAmBM,GACfJ,EAAgBD,EAAO5C,EAAGiD,GACzBjD,EAAEkD,UAAYD,EACZjD,GAfoD,QAiBzDG,I,qBC1BN,IAAIgB,EAAiB,UAErBjC,EAAOC,QAAU,SAAUgE,EAAQC,EAAQtD,GACzCA,KAAOqD,GAAUhC,EAAegC,EAAQrD,EAAK,CAC3CuD,cAAc,EACdC,IAAK,WAAc,OAAOF,EAAOtD,IACjCiD,IAAK,SAAUlD,GAAMuD,EAAOtD,GAAOD,O,sBCNvC,IAAIN,EAAkB,EAAQ,MAE1BC,EAAgBD,EAAgB,eAChCuB,EAAO,GAEXA,EAAKtB,GAAiB,IAEtBN,EAAOC,QAA2B,eAAjBH,OAAO8B,I,sBCPxB,IAAIhC,EAAS,EAAQ,OACjByE,EAAU,EAAQ,OAElBvE,EAASF,EAAOE,OAEpBE,EAAOC,QAAU,SAAUC,GACzB,GAA0B,WAAtBmE,EAAQnE,GAAwB,MAAMH,UAAU,6CACpD,OAAOD,EAAOI,K,mCCNhB,IAAIoE,EAAa,EAAQ,OACrBC,EAAS,EAAQ,OACjBrB,EAA8B,EAAQ,OACtCsB,EAAgB,EAAQ,OACxB7B,EAAiB,EAAQ,OACzB8B,EAA4B,EAAQ,OACpCC,EAAgB,EAAQ,MACxBC,EAAoB,EAAQ,OAC5BC,EAA0B,EAAQ,OAClCC,EAAoB,EAAQ,OAC5BC,EAAkB,EAAQ,OAC1BC,EAA0B,EAAQ,OAClCC,EAAc,EAAQ,OACtBC,EAAU,EAAQ,OAEtBjF,EAAOC,QAAU,SAAUiF,EAAWC,EAASC,EAAQC,GACrD,IAAIC,EAAoB,kBACpBC,EAAmBF,EAAqB,EAAI,EAC5CG,EAAON,EAAUO,MAAM,KACvBC,EAAaF,EAAKA,EAAKjC,OAAS,GAChCoC,EAAgBrB,EAAWhC,MAAM,KAAMkD,GAE3C,GAAKG,EAAL,CAEA,IAAIC,EAAyBD,EAActD,UAK3C,IAFK4C,GAAWV,EAAOqB,EAAwB,iBAAiBA,EAAuBxC,OAElFgC,EAAQ,OAAOO,EAEpB,IAAIE,EAAYvB,EAAW,SAEvBwB,EAAeX,GAAQ,SAAUY,EAAGC,GACtC,IAAIC,EAAUrB,EAAwBS,EAAqBW,EAAID,OAAG9E,GAC9DD,EAASqE,EAAqB,IAAIM,EAAcI,GAAK,IAAIJ,EAK7D,YAJgB1E,IAAZgF,GAAuB/C,EAA4BlC,EAAQ,UAAWiF,GACtElB,GAAyB7B,EAA4BlC,EAAQ,QAAS8D,EAAgB9D,EAAOS,MAAO,IACpGyE,MAAQ1B,EAAcoB,EAAwBM,OAAOvB,EAAkB3D,EAAQkF,KAAMJ,GACrFrF,UAAU8C,OAASgC,GAAkBV,EAAkB7D,EAAQP,UAAU8E,IACtEvE,KAeT,GAZA8E,EAAazD,UAAYuD,EAEN,UAAfF,EACE/C,EAAgBA,EAAemD,EAAcD,GAC5CpB,EAA0BqB,EAAcD,EAAW,CAAEM,MAAM,IACvDnB,GAAeM,KAAqBK,IAC7CjB,EAAcoB,EAAcH,EAAeL,GAC3CZ,EAAcoB,EAAcH,EAAe,sBAG7ClB,EAA0BqB,EAAcH,IAEnCV,EAAS,IAERW,EAAuBO,OAAST,GAClCxC,EAA4B0C,EAAwB,OAAQF,GAE9DE,EAAuB3C,YAAc6C,EACrC,MAAOjF,QAET,OAAOiF,K,sBC/DT,IAAIM,EAAI,EAAQ,OACZxG,EAAS,EAAQ,OACjB0C,EAAQ,EAAQ,OAChB+D,EAAgC,EAAQ,OAExCC,EAAe,cACfC,EAAc3G,EAAO0G,GAErBlB,EAA4C,IAAnC/D,MAAM,IAAK,CAAE+B,MAAO,IAAKA,MAElCoD,EAAgC,SAAUd,EAAYP,GACxD,IAAIrE,EAAI,GACRA,EAAE4E,GAAcW,EAA8BX,EAAYP,EAASC,GACnEgB,EAAE,CAAExG,QAAQ,EAAMqD,aAAa,EAAMwD,MAAO,EAAGC,OAAQtB,GAAUtE,IAG/D6F,EAAqC,SAAUjB,EAAYP,GAC7D,GAAIoB,GAAeA,EAAYb,GAAa,CAC1C,IAAI5E,EAAI,GACRA,EAAE4E,GAAcW,EAA8BC,EAAe,IAAMZ,EAAYP,EAASC,GACxFgB,EAAE,CAAEQ,OAAQN,EAAcO,MAAM,EAAM5D,aAAa,EAAMwD,MAAO,EAAGC,OAAQtB,GAAUtE,KAKzF0F,EAA8B,SAAS,SAAUM,GAC/C,OAAO,SAAeb,GAAW,OAAO3D,EAAMwE,EAAMZ,KAAMzF,eAE5D+F,EAA8B,aAAa,SAAUM,GACnD,OAAO,SAAmBb,GAAW,OAAO3D,EAAMwE,EAAMZ,KAAMzF,eAEhE+F,EAA8B,cAAc,SAAUM,GACpD,OAAO,SAAoBb,GAAW,OAAO3D,EAAMwE,EAAMZ,KAAMzF,eAEjE+F,EAA8B,kBAAkB,SAAUM,GACxD,OAAO,SAAwBb,GAAW,OAAO3D,EAAMwE,EAAMZ,KAAMzF,eAErE+F,EAA8B,eAAe,SAAUM,GACrD,OAAO,SAAqBb,GAAW,OAAO3D,EAAMwE,EAAMZ,KAAMzF,eAElE+F,EAA8B,aAAa,SAAUM,GACnD,OAAO,SAAmBb,GAAW,OAAO3D,EAAMwE,EAAMZ,KAAMzF,eAEhE+F,EAA8B,YAAY,SAAUM,GAClD,OAAO,SAAkBb,GAAW,OAAO3D,EAAMwE,EAAMZ,KAAMzF,eAE/DkG,EAAmC,gBAAgB,SAAUG,GAC3D,OAAO,SAAsBb,GAAW,OAAO3D,EAAMwE,EAAMZ,KAAMzF,eAEnEkG,EAAmC,aAAa,SAAUG,GACxD,OAAO,SAAmBb,GAAW,OAAO3D,EAAMwE,EAAMZ,KAAMzF,eAEhEkG,EAAmC,gBAAgB,SAAUG,GAC3D,OAAO,SAAsBb,GAAW,OAAO3D,EAAMwE,EAAMZ,KAAMzF,gB,iqvCCk0D/D,MAAMsG,EAAU,sBACTC,GAAQC,EAAAA,EAAAA,MACTC,GAAUC,EAAAA,EAAAA,IAAI,GACdC,GAAkBD,EAAAA,EAAAA,KAAI,GACtBE,GAAcC,EAAAA,EAAAA,IAAO,eACrBC,GAAiBD,EAAAA,EAAAA,IAAO,kBACxBE,GAAYF,EAAAA,EAAAA,IAAO,aACnBG,GAAeH,EAAAA,EAAAA,IAAO,gBACtBI,GAAeJ,EAAAA,EAAAA,IAAO,gBACtBK,GAAaL,EAAAA,EAAAA,IAAO,cACpBM,GAAaN,EAAAA,EAAAA,IAAO,eACPA,EAAAA,EAAAA,IAAO,eAC1BO,EAAAA,EAAAA,GAAQ,CAAEC,MAAO,sBAErB,MAAMC,EAAmBC,KAAKC,MAAMC,aAAaC,QAAQ,SAASC,YAIlE,IAAIC,EACAC,GAEJ,MAAMC,GAAU,KACZF,EAAMG,IAAAA,IAAM,OAAOC,QAAQ,CAAC,EAAG,GAAI,GAEnCD,IAAAA,UAAY,sDAAsDE,MAAML,IAGtEM,GAAqB,KAEvBC,UAAUC,YAAYC,oBAClBC,MAAAA,IACI,MAAM,SAAEC,EAAF,UAAYC,GAAcC,EAASC,OACzCC,GAAQC,OAAQ,EAChBhB,EAAII,QAAQ,CAACO,EAAUC,GAAY,IAE/BX,GACAA,GAAOgB,UAAU,CAACN,EAAUC,IAE5BX,GAASE,IAAAA,OAAS,CAACQ,EAAUC,IAAYP,MAAML,GAGnD,MAAMkB,QAAYC,EAAAA,EAAAA,IACb,+DAA8DR,SAAgBC,KAElFG,GAAQC,OAAQ,EAEjBI,GAAgBJ,MAAQ,CACpBL,SAAAA,EACAC,UAAAA,EACAS,QAASH,EAAII,KAAKC,cAGtBtB,GAAOuB,UAAUN,EAAII,KAAKC,cAAcE,gBAU9CC,IAAY5C,EAAAA,EAAAA,IAAI,IACb6C,IAAe7C,EAAAA,EAAAA,IAAI,IACnB8C,IAAY9C,EAAAA,EAAAA,IAAI,IAChB+C,GAAanB,UACjB,MAAMoB,EAAU,CACfC,SAAWC,OAAOC,GAASjB,OAASgB,OAAOL,GAAaX,MAAMe,UAC9DG,WAAY,CACVrD,QAAU8C,GAAaX,MAAMkB,WAAWC,KAAKC,GAC7CC,SAAUC,GAAMtB,MAAMoB,GACtBG,eAAiBX,GAAUZ,QAG9BD,GAAQC,OAAQ,EAChB,UACyBwB,GAAcC,IAAK,cAAad,GAAaX,MAAMoB,KAAKN,GAC/E9C,EAAY,0BACZ0D,MACkB5D,EAAAA,EAAAA,IAAI,CAAC,MAAO,WAAY,OAAQ,WAAY,YAC9D6D,KACDC,SAASC,eAAe,gBAAgBC,QACxCC,KACA,MAAMvK,OACN2G,EAAU3G,MAAMoF,SAChBoF,QAAQC,IAAIzK,OAVb,QAYEuI,GAAQC,OAAQ,IAIbkC,IAAOpE,EAAAA,EAAAA,IAAI,IACXqE,IAAiBrE,EAAAA,EAAAA,IAAI,IACrBsE,IAAmBtE,EAAAA,EAAAA,IAAI,IAC3BiC,IAAUjC,EAAAA,EAAAA,KAAI,GACduE,IAAQvE,EAAAA,EAAAA,KAAI,IAAIwE,MAAOC,cAAcnG,MAAM,KAAK,IAChD8E,IAAapD,EAAAA,EAAAA,IAAI,IAChB0E,IAAe1E,EAAAA,EAAAA,IAAI,CAAC,MAAO,OAAO,gBAAgB,YAAY,gBAAgB,mBAAmB,mBACjG2E,IAAqB3E,EAAAA,EAAAA,IAAI,CAAC,MAAM,SAAS,UAAU,OAAQ,OAAO,SAAS,SAAS,UAAU,YAAY,QAAQ,cAAc,YAChI4E,IAAoB5E,EAAAA,EAAAA,IAAI,CAAC,MAAO,YAAY,cAAc,mBAAmB,OAAO,SAAS,YAC9F6E,IAAmB7E,EAAAA,EAAAA,IAAI,CAAC,MAAO,OAAO,WAAW,cAAc,OAAO,WAAW,OAAO,WAKnF8E,GAAkBlD,MAAAA,IACvB,MAAMmD,GAAiB/E,EAAAA,EAAAA,IAAIgF,GACnBC,EAASnB,SAASoB,cAAc,UACtCD,EAAOE,MAAMC,QAAU,OACvBtB,SAASuB,KAAKC,YAAYL,GAC1BhF,EAAgBiC,OAAQ,EAC5B,MAAMqC,EAAQ,IAAIC,KACZe,EAAOhB,EAAMiB,UAAUtJ,WAAWuJ,SAAS,EAAG,KAC9CC,GAASnB,EAAMoB,WAAa,GAAGzJ,WAAWuJ,SAAS,EAAG,KACtDG,EAAOrB,EAAMsB,cACbC,EAAc,GAAEP,KAAQG,IACxBK,EAAiB,GAAED,KAAcF,IAE7BI,EAAgB,40DAgCCxF,EAAWyF,GAAmB/D,2pBA0BzBsB,GAAMtB,MAAMgE,QAAQC,uDAClB3C,GAAMtB,MAAMkE,SAASpH,iDACrBwE,GAAMtB,MAAMkE,SAASC,kDACrB7C,GAAMtB,MAAMkE,SAASE,+GAItBvB,EAAe7C,MAAMqE,aAAe,KAAOxB,EAAe7C,MAAMsE,YAAc,MAAQzB,EAAe7C,MAAMsE,YAAc,gUAiBpJzB,EAAe7C,MAAMuE,WAClBvF,KAAI,CAACmC,EAAMqD,IAAW,oCAEhBA,EAAQ,2BACTrD,EAAKsD,UAAY,+BACjBtD,EAAKuD,MAAQ,kDACMvD,EAAKF,UAAW,wCAE1C0D,KAAK,gHAMOd,wCAOTe,EAAY7B,EAAO8B,cAAcjD,SACvCgD,EAAUE,OACVF,EAAUG,MAAMjB,GAChBc,EAAUI,QAEVjC,EAAOkC,OAAS,KACZlC,EAAO8B,cAAcK,QACrBnC,EAAO8B,cAAcM,QACrBC,YAAW,KACPxD,SAASuB,KAAKkC,YAAYtC,KAC3B,OAMLuC,GAAkB5F,UACpB,MAAMqD,EAASnB,SAASoB,cAAc,UACtCD,EAAOE,MAAMC,QAAU,OACvBtB,SAASuB,KAAKC,YAAYL,GAC1BhF,EAAgBiC,OAAQ,EAC5B,MAAMqC,EAAQ,IAAIC,KACZe,EAAOhB,EAAMiB,UAAUtJ,WAAWuJ,SAAS,EAAG,KAC9CC,GAASnB,EAAMoB,WAAa,GAAGzJ,WAAWuJ,SAAS,EAAG,KACtDG,EAAOrB,EAAMsB,cACbC,EAAc,GAAEP,KAAQG,IACxBK,EAAiB,GAAED,KAAcF,IAE7BI,EAAgB,oyDA+BCxF,EAAWyF,GAAmB/D,6pBA0BzBsB,GAAMtB,MAAMgE,QAAQC,uDAClB3C,GAAMtB,MAAMkE,SAASpH,iDACrBwE,GAAMtB,MAAMkE,SAASC,mDACpB7C,GAAMtB,MAAMkE,SAASE,obAoBlDmB,GAA+BvF,MAC5BhB,KAAI,CAACmC,EAAMqD,IAAW,oCAEhBA,EAAQ,2BACTrD,EAAKrE,MAAQ,+BACbqE,EAAKqE,aAAe,+BACpBrE,EAAKsE,MAAQ,+BACbtE,EAAKuE,gBAAkB,+BACvBvE,EAAKwE,gBAAkB,+BACvBxE,EAAKyE,OAAOrO,KAAO,wCAE1BoN,KAAK,gHAMOd,wCAOTe,EAAY7B,EAAO8B,cAAcjD,SACvCgD,EAAUE,OACVF,EAAUG,MAAMjB,GAChBc,EAAUI,QAEVjC,EAAOkC,OAAS,KACZlC,EAAO8B,cAAcK,QACrBnC,EAAO8B,cAAcM,QACrBC,YAAW,KACPxD,SAASuB,KAAKkC,YAAYtC,KAC3B,OAKR8C,IAAgB/H,EAAAA,EAAAA,KAAI,GACpBgI,IAAgBhI,EAAAA,EAAAA,KAAI,GACpBiI,IAAUjI,EAAAA,EAAAA,IAAI,IACdkI,IAAYlI,EAAAA,EAAAA,IAAI,IAChBmI,IAAanI,EAAAA,EAAAA,IAAI,IACjBoI,IAAoBpI,EAAAA,EAAAA,IAAI,IACxBqI,GAAgBzG,UACrB3B,EAAgBiC,OAAQ,EACxB,IACG,MAAMoG,QAAiB5E,GAAczG,IAAK,4BAA2B4C,EAAM0I,OAAOhF,YAClF4E,GAAWjG,MAAQoG,EAAS9F,KAAKtB,KAAI,CAACmC,EAAKqD,KAAN,IACjCrD,EACFmF,IAAM9B,EAAQ,EACdwB,UAAY7E,EAAKmD,YACjBiC,YAAcpF,EAAKqF,SAAS1J,KAC5B2J,iBAAmBtF,EAAK4E,QAAQzB,YAChCjB,KAAO/E,EAAW6C,EAAKuF,YACvBC,OAASxF,EAAKwF,OACdC,SAAUzF,EAAKuF,eAEnB,MAAMlP,OACL2G,EAAU3G,MAAMoF,SAChBoF,QAAQC,IAAIzK,OAdd,QAgBEuG,EAAgBiC,OAAQ,IAGrB6G,GAAkBnH,UACvB,MAAMoB,EAAU,CACdkF,UAAYA,GAAUhG,MACtB+F,QAAUA,GAAQ/F,MAClB8G,YAAcC,GACd1F,SAAW1D,EAAM0I,OAAOhF,UAE1B2F,GAAUhH,OAAQ,EACnB,IACC,MAAMoG,QAAiB5E,GAAcyF,KAAK,0BAA0BnG,GACpE9C,EAAYoI,EAAS9F,MACrB6F,KACAN,GAAc7F,OAAQ,EACtB+F,GAAQ/F,MAAQ,GAChBgG,GAAUhG,MAAQ,GAClB,MAAMxI,OACL2G,EAAU3G,MAAMoF,SAChBoF,QAAQC,IAAIzK,OATd,QAWCwP,GAAUhH,OAAQ,IAIbkH,IAAepJ,EAAAA,EAAAA,IAAI,CAClBqJ,QAAS,GACTC,cAAe,CAAE,GAAG,GAAG,IAAI,IAAI,IAAI,KACnCC,KAAM,kCACNC,eAAgB,CAAEC,QAAS,uBAC3BC,SAAU,CACNC,KAAM,iBACNC,GAAI,gBACJC,KAAM,kBAEVC,WAAY,CAAEC,IAAK,SAAUC,MAAO,GACpCC,MAAO,CACHC,MAAO,oCACPC,OAAQ,GACRC,kBAAmB,YACnBC,MAAO,YAEXC,kBAAkB,IAGhB5G,GAAgBrB,EAAAA,EAAAA,OAAa,CAC/BzC,QAAS2K,iCAIjBC,EAAAA,EAAAA,IAAMpH,IAAaqH,IACXA,IACAtH,GAASjB,MAAQ,OAIzB,MAAM+B,GAAY,KACfuC,GAAYtE,MAAQ,GACpBiB,GAASjB,MAAQ,GACjBkB,GAAWlB,MAAQ,GACnBwI,GAAMxI,MAAQ,GACd4B,SAASC,eAAe,SAASC,QACjC2G,GAAgBzI,MAAQ,GACxB0I,GAAc1I,MAAQ,GACtB2I,GAAY3I,MAAQ,GACpB4I,GAAM5I,MAAQ,GACdY,GAAUZ,MAAQ,IAEfsE,IAAcxG,EAAAA,EAAAA,IAAI,IAClBmD,IAAWnD,EAAAA,EAAAA,IAAI,IACf+K,GAAoBnJ,UAC1BK,GAAQC,OAAQ,EACd,MAAMc,EAAU,CACVjD,QAASqD,GAAWlB,MAAMoB,GAC1B0H,SAAU,QACVC,YAAapL,EAAM0I,OAAOhF,SAC1BJ,SAAUA,GAASjB,MACnBgJ,WAAY9H,GAAWlB,MAAMiJ,cAC7B3E,YAAaA,GAAYtE,MACzBkJ,KAAO,EACPC,UAAYxK,KAAKC,MAAMC,aAAaC,QAAQ,SAASsC,IAI3D,UACwBI,GAAcyF,KAAK,aAAanG,GACvD9C,EAAY,mBACZ2D,KACAD,KACAK,KACA,MAAMvK,OACLwK,QAAQC,IAAIzK,OACZ2G,EAAU3G,MAAMoF,SARlB,QAUEmD,GAAQC,OAAQ,IAIdoJ,IAAStL,EAAAA,EAAAA,IAAI,IACbuL,IAAYvL,EAAAA,EAAAA,IAAI,IAChB4D,GAAehC,UACnB3B,EAAgBiC,OAAQ,EACxB,IACE,MAAMoG,QAAiB5E,GAAczG,IAAK,4BAA2B4C,EAAM0I,OAAOhF,YAYlF,GAXAgI,GAAUrJ,MAAQoG,EAAS9F,KAAKtB,KAAI,CAACmC,EAAMqD,KAAP,IAC/BrD,EACHmI,IAAK9E,EAAQ,EACbrD,KAAMA,EAAKD,YAAYC,KAAKrE,KAC5BgM,SAAU3H,EAAK6H,WACfO,KAAMpI,EAAKF,SACXwE,KAAMtE,EAAKmD,YACXsC,SAAUzF,EAAKuF,WACfrD,KAAM/E,EAAW6C,EAAKuF,gBAGpBN,EAAS9F,KAAKpG,OAAS,EAAG,CAC5B,MAAMsP,EAAUpD,EAAS9F,KAAK8F,EAAS9F,KAAKpG,OAAS,GACrDkP,GAAOpJ,MAAQwJ,EAAQJ,QAEzB,MAAO5R,OACP2G,EAAU3G,MAAMoF,SAChBoF,QAAQC,IAAIzK,OAnBd,QAqBEuG,EAAgBiC,OAAQ,IAOtByJ,IAAa3L,EAAAA,EAAAA,IAAI,IACjB6D,GAAgBjC,UACpB,IACE,MAAM0G,QAAiB5E,GAAczG,IAAK,4BAA2B4C,EAAM0I,OAAOhF,YAClFoI,GAAWzJ,MAAQoG,EAAS9F,KACzB2H,QAAO9G,GAA+B,SAAvBA,EAAK8H,gBACpBjK,KAAI,CAACmC,EAAMqD,KAAP,IACArD,EACHmF,IAAK9B,EAAQ,MAEfkF,GAAmB1J,MAAQyJ,GAAWzJ,MACxC,MAAOxI,OACP2G,EAAU3G,MAAMoF,SAChBoF,QAAQC,IAAIzK,OAXd,QAaEuG,EAAgBiC,OAAQ,IAItB0J,IAAqB5L,EAAAA,EAAAA,IAAI,IACzB6L,IAAgB7L,EAAAA,EAAAA,IAAI,OACpB8L,GAAoBd,IAC1Ba,GAAc3J,MAAQ8I,EAEpBY,GAAmB1J,MADJ,QAAb8I,EACyBW,GAAWzJ,MAEXyJ,GAAWzJ,MAAMiI,QAAO9G,GAAQA,EAAK8H,gBAAkBH,KAI9ExH,IAAQxD,EAAAA,EAAAA,MACR+L,GAAWnK,UACX,IACF,MAAM0G,QAAiB5E,GAAczG,IAAK,UAAS4C,EAAM0I,OAAOhF,YAC/DC,GAAMtB,MAAQoG,EAAS9F,KAKvB,MAAM9I,OACH2G,EAAU3G,MAAMoF,SAChBoF,QAAQC,IAAIzK,OATd,QAWEuG,EAAgBiC,OAAQ,IAI1BwI,IAAQ1K,EAAAA,EAAAA,IAAI,IACZgM,IAAQhM,EAAAA,EAAAA,IAAI,IACZiM,GAAYrK,UACZ,IACF,MAAM0G,QAAiB5E,GAAczG,IAAK,YACzC+O,GAAO9J,MAAQoG,EAAS9F,KAAKtB,KAAKmC,IAAD,IAC7BA,EACHrE,KAAOqE,EAAKrE,KAAM,MAAOqE,EAAK6I,cAE/B,MAAMxS,OACH2G,EAAU3G,MAAMoF,SAChBoF,QAAQC,IAAIzK,OARd,QAUEuG,EAAgBiC,OAAQ,IAI1ByI,IAAkB3K,EAAAA,EAAAA,IAAI,IACtB4K,IAAgB5K,EAAAA,EAAAA,IAAI,IACpB8K,IAAQ9K,EAAAA,EAAAA,IAAI,IACZ6K,IAAc7K,EAAAA,EAAAA,IAAI,IAClBmM,IAAgBnM,EAAAA,EAAAA,IAAI,IACpBoM,IAASpM,EAAAA,EAAAA,IAAI,IACbqM,GAA2BzK,UAC/BK,GAAQC,OAAQ,EACC,WAAdkC,GAAKlC,MACNiK,GAAcjK,MAAQoK,GAASpK,MAAMqK,gBAEpCJ,GAAcjK,MAAQoK,GAASpK,MAAMsK,gBAEjC,MAAMxJ,EAAU,CACbmJ,cAAeA,GAAcjK,MAC7BuK,SAAS/B,GAAMxI,MAAMoB,GACrBoJ,WAAYlJ,GAAMtB,MAAMgE,QAAQ5C,GAChCqJ,iBAAkB7B,GAAM5I,MACxBmJ,UAAWxK,KAAKC,MAAMC,aAAaC,QAAQ,SAASsC,GACpDH,SAAUA,GAASjB,MACnB0K,WAAYrI,GAAMrC,MAClByI,gBAAiBA,GAAgBzI,MACjC0I,cAAeA,GAAc1I,MAC7ByF,KAAMnB,GAAYtE,MAClB2I,YAAaA,GAAY3I,MACzBkK,OAASA,GAAOlK,MAChB0E,KAAOA,GAAK1E,MAAMiE,YAGtB,UACyBzC,GAAcyF,KAAK,qBAAqBnG,GAC/D9C,EAAY,eACZ2M,KACAC,KACAhJ,SAASC,eAAe,qBAAqBC,QAC9C,MAAMtK,OACLwK,QAAQC,IAAIzK,OACZ2G,EAAU3G,MAAMoF,SARlB,QAUEmD,GAAQC,OAAQ,EAElBgC,QAAQC,IAAInB,IAGV+J,GAAcnL,UACE+J,GAAWzJ,MAA7B,MACM+C,EAASnB,SAASoB,cAAc,UACtCD,EAAOE,MAAMC,QAAU,OACvBtB,SAASuB,KAAKC,YAAYL,GAE1BhF,EAAgBiC,OAAQ,EAG5B,MAAMqC,EAAQ,IAAIC,KACZe,EAAOhB,EAAMiB,UAAUtJ,WAAWuJ,SAAS,EAAG,KAC9CC,GAASnB,EAAMoB,WAAa,GAAGzJ,WAAWuJ,SAAS,EAAG,KACtDG,EAAOrB,EAAMsB,cACbC,EAAc,GAAEP,KAAQG,IACxBK,EAAiB,GAAED,KAAcF,IAE7BI,EAAgB,oyDA+BCF,kpBA0BKtC,GAAMtB,MAAMgE,QAAQC,uDAClB3C,GAAMtB,MAAMkE,SAASpH,iDACrBwE,GAAMtB,MAAMkE,SAASC,mDACpB7C,GAAMtB,MAAMkE,SAASE,yYAmBlD0G,GAAwB9K,MACrBhB,KAAI,CAACmC,EAAMqD,IAAW,oCAEhBA,EAAQ,2BACTrD,EAAKA,MAAQ,+BACbA,EAAK2H,UAAY,+BACjB3H,EAAKmD,aAAe,+BACpBnD,EAAKoI,MAAQ,+BACbpI,EAAKkC,MAAQ,wCAEpBsB,KAAK,gHAMOd,wCAOTe,EAAY7B,EAAO8B,cAAcjD,SACvCgD,EAAUE,OACVF,EAAUG,MAAMjB,GAChBc,EAAUI,QAEVjC,EAAOkC,OAAS,KACZlC,EAAO8B,cAAcK,QACrBnC,EAAO8B,cAAcM,QACrBC,YAAW,KACPxD,SAASuB,KAAKkC,YAAYtC,KAC3B,OAMLqH,IAAWtM,EAAAA,EAAAA,IAAI,IACf8M,GAAUlL,UACd,MAAM0G,QAAiB5E,GAAczG,IAAK,qBAAoB4C,EAAM0I,OAAOhF,YAC1E+I,GAASpK,MAAQoG,EAAS9F,KAAKtB,KAAI,CAACmC,EAAKqD,KAAN,IAC/BrD,EACH4J,IAAMvG,EAAQ,EACdgG,WAAYrJ,EAAKqJ,WACjBH,gBAAiBlJ,EAAKkJ,gBACtBC,gBAAiBnJ,EAAKmJ,gBACtBU,gBAAiB7J,EAAK6J,gBACtBC,gBAAiB9J,EAAK8J,gBACtBC,YAAa/J,EAAK+J,YAClBC,YAAahK,EAAKgK,YAClBC,eAAgBjK,EAAK6J,gBAAkB7J,EAAKgK,YAC5CE,eAAgBlK,EAAK8J,gBAAkB9J,EAAK+J,gBACzC,IAGDI,IAAaxN,EAAAA,EAAAA,IAAI,GACjB6M,GAAsBjL,UAC1BkL,KACF7M,EAAgBiC,OAAQ,EACxB,IACI,MAAMoG,QAAiB5E,GAAczG,IAAK,gCAA+B4C,EAAM0I,OAAOhF,YAClF5G,MAAM8Q,QAAQnF,EAAS9F,OAC1B8B,GAAiBpC,MAAQoG,EAAS9F,KAAK2H,QAAOuD,GAC9CA,EAAanK,UAAY1D,EAAM0I,OAAOhF,UAAYmK,EAAa3N,SAAUA,EAAQmC,QAE7EhB,KAAI,CAAC0B,EAAW8D,KACb,IAAIoE,EAEAA,EAD+B,aAA/BlI,EAAU+J,iBACF/J,EAAUO,UAAYP,EAAUgI,cAAgBhI,EAAU+H,kBAEzD/H,EAAUgI,cAAgBhI,EAAU+H,iBAAmB/H,EAAUO,SAGhF2H,EAASA,EAAQ,IAAMA,EAAQ,EAAK,MAAQA,EAAM6C,QAAQ,GAE1D,MAAMC,EAAa1K,OAAON,EAAUwI,MAC7ByC,EAAaD,EAAahL,EAAUO,SAGrC2K,EAAWlL,EAAUgI,cAAgBhI,EAAU+H,gBAC/CoD,EAAenL,EAAUoL,uBAAyB,EAClDC,EAAWF,EAAe,GAAKD,EAAWC,GAAcJ,QAAQ,GAAK,EAEzE,MAAO,CACHnF,IAAK9B,EAAQ,EACb+F,SAAW7J,EAAU6J,SACrByB,OAAQtL,EAAUO,SAClBsI,KAAMwC,EACNE,SAAUvL,EAAUO,SAAW8K,GAAUN,QAAQ,GACjDS,KAAON,EAAUH,QAAQ,GACzBU,UAAWzL,EAAU0L,UACrBC,WAAY3L,EAAU+J,iBACtB6B,YAAahO,EAAWoC,EAAUgG,YAClCjB,KAAM/E,EAAU+E,KAChB8G,OAAQ7L,EAAUiI,YAClBS,OAAQ1I,EAAU8L,YAClBC,QAAS/L,EAAU+H,gBACnBiE,MAAOhM,EAAUgI,cACjBiE,QAASjM,EAAUkM,aACnBC,KAAKnM,EAAUoM,aACflE,MAAOlI,EAAUoL,sBACjBrB,iBAAkB/J,EAAUqM,yBAC5BvC,WAAW9J,EAAU8J,WACrBnJ,SAASX,EAAUW,SACnBD,GAAGV,EAAUU,GACbuF,OAAQjG,EAAUiG,OAClBuD,OAASxJ,EAAUwJ,OACZ8C,UAAW3O,EAAa0N,EAAWL,GAC1CxC,KAAM7K,EAAaqN,GAC/BuB,KAAM5O,EAAasN,GACnBuB,cAAevB,MAKlBL,GAAWtL,MAAQoC,GAAiBpC,MAAMmN,QAAO,CAACC,EAAK1M,IACrC0M,EAAMpM,OAAON,EAAUwB,OAC/B,GAEHnE,EAAgBiC,OAAQ,IAE1B7B,EAAU3G,MAAMoF,SACdoF,QAAQxK,MAAM,4BAEpB,MAAOA,OACP2G,EAAU3G,MAAMoF,SAChBmB,EAAgBiC,OAAQ,EACtBgC,QAAQxK,MAAM,qCAAsCA,SAIlD6V,GAAsB3N,UAC5B3B,EAAgBiC,OAAQ,EACxB,IACI,MAAMoG,QAAiB5E,GAAczG,IAAK,kCAAiCuG,GAAMtB,MAAMwK,cACnF/P,MAAM8Q,QAAQnF,EAAS9F,OAC1B8B,GAAiBpC,MAAQoG,EAAS9F,KAC9BtB,KAAI,CAAC0B,EAAW8D,KACb,IAAIoE,EAEAA,EAD+B,aAA/BlI,EAAU+J,iBACF/J,EAAUO,UAAYP,EAAUgI,cAAgBhI,EAAU+H,kBAEzD/H,EAAUgI,cAAgBhI,EAAU+H,iBAAmB/H,EAAUO,SAGhF2H,EAASA,EAAQ,IAAMA,EAAQ,EAAK,MAAQA,EAAM6C,QAAQ,GAEzD,MAAMC,EAAa1K,OAAON,EAAUwI,MAC9ByC,EAAaD,EAAahL,EAAUO,SAGrC2K,EAAWlL,EAAUgI,cAAgBhI,EAAU+H,gBAC/CoD,EAAenL,EAAUoL,uBAAyB,EAClDC,EAAWF,EAAe,GAAKD,EAAWC,GAAcJ,QAAQ,GAAK,EAEzE,MAAO,CACHnF,IAAK9B,EAAQ,EACbwH,OAAQtL,EAAUO,SAClBsI,KAAMwC,EACNE,SAAUvL,EAAUO,SAAW8K,GAAUN,QAAQ,GACjDS,KAAON,EAAUH,QAAQ,GACzBlB,SAAW7J,EAAU6J,SACrB4B,UAAWzL,EAAU0L,UACrBC,WAAY3L,EAAU+J,iBACtB6B,YAAahO,EAAWoC,EAAUgG,YAClCjB,KAAM/E,EAAU+E,KAChByE,OAASxJ,EAAUwJ,OACnBqC,OAAQ7L,EAAUiI,YAClBS,OAAQ1I,EAAU8L,YAClBC,QAAS/L,EAAU+H,gBACnBiE,MAAOhM,EAAUgI,cACjBiE,QAASjM,EAAUkM,aACnBhE,MAAOlI,EAAUoL,sBACjBrB,iBAAkB/J,EAAUqM,yBAC5BF,KAAKnM,EAAUoM,aACftC,WAAW9J,EAAU8J,WACrBnJ,SAASX,EAAUW,SACnBD,GAAGV,EAAUU,GACbuF,OAAQjG,EAAUiG,OAClBC,SAAUlG,EAAUgG,WACpBsG,UAAW3O,EAAa0N,EAAWL,GACnCxC,KAAM7K,EAAaqN,GAC/BuB,KAAM5O,EAAasN,GACnBuB,cAAevB,MAKX5N,EAAgBiC,OAAQ,IAE1B7B,EAAU3G,MAAMoF,SACdoF,QAAQxK,MAAM,4BAEpB,MAAOA,OACP2G,EAAU3G,MAAMoF,SAChBmB,EAAgBiC,OAAQ,EACtBgC,QAAQxK,MAAM,qCAAsCA,SAatDmP,KAPQ7I,EAAAA,EAAAA,MACIa,KAAKC,MAAMC,aAAaC,QAAQ,SAASwO,MACxCxP,EAAAA,EAAAA,KAAI,IACRA,EAAAA,EAAAA,IAAI,cACLA,EAAAA,EAAAA,OACIA,EAAAA,EAAAA,OACFA,EAAAA,EAAAA,IAAI,KACLA,EAAAA,EAAAA,IAAI,KAEbiJ,GAASpI,KAAKC,MAAMC,aAAaC,QAAQ,SAASsC,GAClD4F,IAAYlJ,EAAAA,EAAAA,KAAI,GAEhByP,GAAsB7N,MAAAA,IAC1B,MAAMoB,EAAU,CACd6F,OAAST,GAAkBlG,MAAM2G,OAAS,KAAKA,GAAO3G,OAExDgH,GAAUhH,OAAQ,EACjB,UACOwB,GAAcC,IAAK,WAAUL,IAAKN,GACxC9C,EAAY,gBACZmI,KACAQ,GAAO3G,MAAQ,GACf4B,SAASC,eAAe,0BAA0BC,QAClD,MAAMtK,OACN2G,EAAU3G,MAAMoF,SAChBoF,QAAQC,IAAIzK,OARb,QAUEwP,GAAUhH,OAAQ,IAKbwN,GAAiB9N,UACrBsH,GAAUhH,OAAQ,EAClB,MAAMc,EAAU,CACd2H,gBAAkB/H,GAAUV,MAAMyM,QAClC/D,cAAehI,GAAUV,MAAM0M,MAC/B/F,OAASjG,GAAUV,MAAM2G,OACzBlB,KAAM/E,GAAUV,MAAMyF,KACtByE,OAASxJ,GAAUV,MAAMkK,OACzBxF,KAAOhE,GAAUV,MAAM0E,KAAKT,YAK9B,UACyBzC,GAAcC,IAAK,sBAAqBf,GAAUV,MAAMoB,KAAKN,GACpF9C,EAAY,oBACZ2M,KACC,MAAM8C,EAAU7L,SAASC,eAAe,QAC/C,GAAI4L,EAAS,CACX,MAAMC,EAAgBC,OAAOC,WAAWC,OAAOC,YAAYL,KAAaE,OAAOC,WAAWC,MAAQ,IAAIF,OAAOC,UAAUC,MAAMJ,GAAW,MACpIC,EAAeA,EAAcK,OAC5BN,EAAQO,UAAUC,OAAO,SAE3B,MAAMzW,OACL2G,EAAU3G,MAAMoF,SAChBoF,QAAQC,IAAIzK,OAZd,QAcEwP,GAAUhH,OAAQ,IAIlBkO,IAAuBpQ,EAAAA,EAAAA,IAAI,CAAC,MAAO,OAAO,WAAW,eAAe,iBAAiB,WACrFqQ,IAA6BrQ,EAAAA,EAAAA,IAAI,CAAC,MAAM,cAAc,SAAS,SAAS,WAAW,WAAW,cAAc,kBAC5GsQ,IAAsBtQ,EAAAA,EAAAA,IAAI,IAC1BuQ,IAASvQ,EAAAA,EAAAA,IAAI,IACbwQ,IAAgBxQ,EAAAA,EAAAA,IAAI,IACpByQ,GAAmB7O,UACvB3B,EAAgBiC,OAAQ,EACxB,MAAMoG,QAAiB5E,GAAczG,IAAK,uCAAsCuG,GAAMtB,MAAMwK,cAC5F8D,GAActO,MAAQoG,EAAS9F,KAAKtB,KAAI,CAACmC,EAAKqD,KAAN,IACnCrD,EACHmI,IAAM9E,EAAQ,EACd1H,KAAOqE,EAAKrE,KAAO,MAAOqE,EAAKmD,YAC/BsC,SAAUzF,EAAKqN,QAAQ,IAAIC,kBAE7B1Q,EAAgBiC,OAAQ,GAItB0O,IAAU5Q,EAAAA,EAAAA,IAAI,CAAC,MAAM,OAAQ,cAAc,QAAQ,WAAW,OAAO,WAAW,WAAW,WAAW,WAAW,SAAS,OAAQ,WAC9H6Q,IAAQ7Q,EAAAA,EAAAA,IAAI,IACd8Q,GAAgB,KAChB7Q,EAAgBiC,OAAQ,EACxBwB,GAAczG,IAAK,yBAAwBuG,IAAOtB,MAAMwK,cAAcqE,MAAMzI,IAExEuI,GAAM3O,MAAQoG,EAAS9F,KAAKtB,KAAI,CAACmC,EAAMqD,KAC5B,IACArD,EACHmF,IAAK9B,EAAQ,EACbpD,GAAID,EAAKC,GACT0N,SAAW3N,GAAM2N,UAAUhS,KAC3BiS,IAAK5N,EAAK6N,OACVrI,OAAOxF,EAAKwF,OACZtD,KAAM/E,EAAW6C,EAAKuF,YACtBvF,KAAMA,EAAK8N,cAAcC,iBAAiBvI,OAC1CrC,YAAanD,EAAK8N,cAAcC,iBAAiB5K,YACjD6K,MAAOhO,EAAK8N,cAAcC,iBAAiBC,MAC3CjG,KAAM/H,EAAK8N,cAAcC,iBAAiBhG,KAC1CkG,SAAUjO,EAAKF,SACfoO,SAAUlO,EAAK8N,cAAchO,SAC7BqO,UAAWnO,EAAK8N,cAAchO,SAAWE,EAAKF,UAAUwK,QAAQ,GAChE8D,SAAWpO,EAAKmD,YAChB2I,KAAM5O,EAAa8C,EAAK8N,cAAcC,iBAAiBhG,MAAQ/H,EAAK8N,cAAchO,SAAWE,EAAKF,WAClGiI,KAAM/H,EAAK8N,cAAcC,iBAAiBhG,SAKlDnL,EAAgBiC,OAAQ,KACzBwP,OAAMhY,IACL2G,EAAU3G,EAAMoF,SAAW,yBAC3BmB,EAAgBiC,OAAQ,MAI9ByP,IAAoBC,EAAAA,EAAAA,KAAS,IAC1Bf,GAAM3O,MACViI,QAAO9G,GAA8B,aAAtBA,EAAKyE,QAAQ9I,OAC5BqQ,QAAO,CAACC,EAAKjM,KACZ,MAAM8L,EAAO9L,EAAK8N,cAAcC,iBAAiBhG,MAAQ/H,EAAK8N,cAAchO,SAAWE,EAAKF,WAAa,EACzG,OAAOmM,EAAMH,IACZ,KAID0C,IAAmB7R,EAAAA,EAAAA,IAAI,IACvB8R,IAA2B9R,EAAAA,EAAAA,IAAI,CAAC,MAAM,OAAO,cAAc,OAAO,OAAO,iBAAiB,iBAAiB,cAAc,SAAS,SAAS,YAC3I+R,GAAqBnQ,UACzB3B,EAAgBiC,OAAQ,EACxB,IACE,MAAMoG,QAAiB5E,GAAczG,IAAK,gCAA+BuG,GAAMtB,MAAMwK,cACrFmF,GAAiB3P,MAAQoG,EAAS9F,KAAKtB,KAAI,CAACmC,EAAKqD,KAAN,IACtCrD,EACHyF,SAAUzF,EAAKuF,WACfqE,IAAIvG,EAAM,EACV1H,KAAKqE,EAAK2O,YACVrK,KAAKtE,EAAKsE,KACVkB,OAAOxF,EAAKwF,OACZrC,YAAYnD,EAAKmD,YACjBjB,KAAK/E,EAAW6C,EAAKuF,YACrBhB,eAAevE,EAAKuE,eACpBC,eAAexE,EAAKwE,eACpBH,YAAYrE,EAAKqE,aAAa1I,KAC9BiT,UAAY5O,EAAKyE,OAAOxE,GACvBwE,OAAQ,CACErO,IAAK4J,EAAKyE,OAAO9I,KAClBkT,MAAO7O,EAAKyE,OAAOqK,WAIhC,MAAMzY,OACLwK,QAAQC,IAAIzK,OACZ2G,EAAU3G,MAAMoF,SAvBlB,QAyBEmB,EAAgBiC,OAAQ,IAKlB8P,IAAchS,EAAAA,EAAAA,IAAI,IAClBoS,IAAsBpS,EAAAA,EAAAA,IAAI,IAC1B2H,IAAO3H,EAAAA,EAAAA,IAAI,IACXqS,IAAcrS,EAAAA,EAAAA,IAAI,IAClB6H,IAAiB7H,EAAAA,EAAAA,IAAI,IACrB0H,IAAc1H,EAAAA,EAAAA,IAAI,IAClBsS,IAAkBtS,EAAAA,EAAAA,IAAI,IACtBuS,IAAevS,EAAAA,EAAAA,IAAI,IAGvBwS,GAAwB5Q,UAC5BsH,GAAUhH,OAAQ,EAElB,MAAMuQ,EAAW,CACPT,YAAaA,GAAY9P,MACzBwK,WAAYlJ,GAAMtB,MAAMwK,WACxBlG,YAAaA,GAAYtE,MACzByF,KAAMA,GAAKzF,MACX0F,eAAgByK,GAAYnQ,MAC5B2F,eAAgBA,GAAe3F,MAC/BwQ,eAAgBhL,GAAYxF,MAAMoB,GAClCqP,aAAc9R,KAAKC,MAAMC,aAAaC,QAAQ,SAASsC,GACvDuF,OAAOA,GAAO3G,OAExB,UACyBwB,GAAcyF,KAAK,oBAAoBsJ,GAC9DV,KACAa,KACA1S,EAAY,+BACb,MAAMxG,OACLwK,QAAQC,IAAIzK,OACZ2G,EAAU3G,MAAMoF,SAPlB,QASEoK,GAAUhH,OAAQ,IAIhB0Q,GAAqB,KACzBZ,GAAY9P,MAAQ,GACpByF,GAAKzF,MAAQ,GACbmQ,GAAYnQ,MAAQ,GACpB2F,GAAe3F,MAAQ,GACvBwF,GAAYxF,MAAQ,GACpB2G,GAAO3G,MAAQ,GACfsE,GAAYtE,MAAQ,GACpB8F,GAAc9F,OAAQ,GAGlB2Q,GAAwBjR,UAC5BsH,GAAUhH,OAAQ,EAClB,MAAMuQ,EAAW,CACfjM,YAAaA,GAAYtE,MACzB2F,eAAgBA,GAAe3F,MAC/B+P,UAAWK,GAAgBpQ,MAAMoB,IAEnC,UACyBI,GAAcC,IAAK,qBAAoByO,GAAoBlQ,QAAQuQ,GAC1FV,KACAjO,SAASC,eAAe,0BAA0BC,QAClD9D,EAAY,4BACb,MAAMxG,OACLwK,QAAQC,IAAIzK,OACZ2G,EAAU3G,MAAMoF,SAPlB,QASEoK,GAAUhH,OAAQ,IAIhB4Q,GAAuB,KAC3BtM,GAAYtE,MAAQ,GACpB2F,GAAe3F,MAAQ,IAGlB6Q,GAAmBC,IAClBZ,GAAoBlQ,MAAQ8Q,EAAI1P,GAChCkD,GAAYtE,MAAQ8Q,EAAIxM,YACxBqB,GAAe3F,MAAQ8Q,EAAInL,eAC3ByK,GAAgBpQ,MAAQ8Q,EAAIf,WAC9BgB,GAAY/Q,MAAMgR,MAAKC,GAAKA,EAAE7P,KAAO0P,EAAIf,aACzC,IAIImB,GAAgBxR,UAElB,IACI,MAAM0G,QAAiB5E,GAAczG,IAAI,gBACzCsV,GAAarQ,MAAQoG,EAAS9F,KAChC,MAAO9I,OACL2G,EAAU3G,MAAMoF,WAMlBmU,IAAcjT,EAAAA,EAAAA,IAAI,IAChBqT,GAAczR,UAClB,IACI,MAAM0G,QAAiB5E,GAAczG,IAAK,aAC1CgW,GAAY/Q,MAAQoG,EAAS9F,KAAK2H,QAAOrC,GACvB,IAAdA,EAAOxE,IAA0B,KAAdwE,EAAOxE,KAEhC,MAAO5J,OACL2G,EAAU3G,MAAMoF,WAItBwU,IAAkBtT,EAAAA,EAAAA,IAAI,CAAC,MAAO,WAAW,OAAO,WAAW,cAAc,YACzEuT,IAAmBvT,EAAAA,EAAAA,IAAI,CAAC,MAAO,WAAW,OAAO,WAAW,YAC5DyG,IAAazG,EAAAA,EAAAA,IAAI,IACjB2G,IAAW3G,EAAAA,EAAAA,IAAI,IACfwT,IAAsBxT,EAAAA,EAAAA,IAAI,IAC1ByT,IAAczT,EAAAA,EAAAA,IAAI,IAClB0T,IAAgBvT,EAAAA,EAAAA,IAAO,iBACvBwT,GAAe,KACfhN,GAASzE,OACXuE,GAAWvE,MAAM0R,KAAK,CACpB3G,IAAKxG,GAAWvE,MAAM9F,OAAS,EAC/BuK,SAAUA,GAASzE,MACnB2R,QAASjN,IAAM1E,OAAOoB,IAAM,GAC5BsD,KAAMA,IAAM1E,OAAOiE,YAAc,GACjChD,SAAUA,GAASjB,MACnBsE,YAAagN,GAAoBtR,OAAS,KAG5CyE,GAASzE,MAAQ,GACjB0E,GAAK1E,MAAQ,KACbiB,GAASjB,MAAQ,GACjBsR,GAAoBtR,MAAQ,IAE5B7B,EAAU,4BAIRyT,GAAgBtI,IAClB/E,GAAWvE,MAAQuE,GAAWvE,MAAMiI,QAAO9G,GAAQA,EAAK4J,MAAQzB,IAEhE/E,GAAWvE,MAAQuE,GAAWvE,MAAMhB,KAAI,CAACmC,EAAMqD,KAAP,IACjCrD,EACH4J,IAAKvG,EAAQ,OAIfqN,GAAmBnS,UACvB,GAAgC,IAA5B6E,GAAWvE,MAAM9F,OAEnB,YADAiE,EAAU,oCAIZ6I,GAAUhH,OAAQ,EAElB,MAAM8R,EAAa,CACjBzN,YAAavB,GAAO9C,MACpBsE,YAAaA,GAAYtE,MACzBqD,KAAKA,GAAKrD,MACVwK,WAAYlJ,GAAMtB,MAAMgE,QAAQ5C,GAChC2Q,cAAepT,KAAKC,MAAMC,aAAaC,QAAQ,SAASsC,GACxDmD,WAAYA,GAAWvE,OAGzB,UACQwB,GAAcyF,KAAK,qBAAsB6K,SACzCE,KACNC,KACArQ,SAASC,eAAe,gBAAgBC,QACxC9D,EAAY,cAEhB,MAAMpB,EACH,GAAE+B,KAAKC,MAAMC,aAAaC,QAAQ,SAAShC,0CACjCgV,EAAWzN,yBACV/C,GAAMtB,MAAMgE,QAAQC,qBACvB6N,EAAWzO,sBACJyO,EAAWxN,+BAE3BwN,EAAWvN,WACRvF,KAAItC,GAAM,GAAEA,EAAE+H,YAAY/H,EAAEuE,WAAWvE,EAAEgI,SACzCC,KAAK,MAKOuN,EAAa,iFACbC,EAAY,CAAC,eAAe,gBAChCA,EAAUC,SAAQtD,IACf0C,GAAc5U,EAAQsV,EAAWpD,MAI7C,MAAOtX,OACPwK,QAAQxK,MAAMA,OACd2G,EAAU3G,MAAMoF,SA9BlB,QAgCEoK,GAAUhH,OAAQ,IAIhBiS,GAAmB,KACvBnP,GAAO9C,MAAQ,GACfsE,GAAYtE,MAAQ,GACpBqD,GAAKrD,MAAQ,GACbyE,GAASzE,MAAQ,GACjB0E,GAAK1E,MAAQ,KACbiB,GAASjB,MAAQ,GACjBsR,GAAoBtR,MAAQ,GAC5BuE,GAAWvE,MAAQ,GACnB2G,GAAO3G,MAAQ,GACfqS,GAAMrS,MAAQ,GACd,MAAMsS,EAAa1Q,SAAS2Q,iBAAiB,sBAC7CD,EAAWF,SAAQI,GAASA,EAAMxS,MAAQ,MAGlC8C,IAAShF,EAAAA,EAAAA,IAAI,IACb4G,IAAO5G,EAAAA,EAAAA,IAAI,IACXuF,IAAOvF,EAAAA,EAAAA,IAAI,IACX2U,IAAY3U,EAAAA,EAAAA,IAAI,IAChB4U,IAAmB5U,EAAAA,EAAAA,IAAI,IAExB6U,GAAoBjT,UAC3B3B,EAAgBiC,OAAQ,EACxB,IACE,MAAMoG,QAAiB5E,GAAczG,IAAK,gCAA+BuG,GAAMtB,MAAMwK,cACrFkI,GAAiB1S,MAAQoG,EAAS9F,KAAKtB,KAAI,CAACmC,EAAMqD,KAAP,IACtCrD,EACH4J,IAAKvG,EAAQ,EACbnB,KAAM/E,EAAW6C,EAAKkC,MAAQlC,EAAKuF,YACnCE,SAAUzF,EAAKuF,WACfnC,WAAYpD,EAAKoD,WAAWvF,KAAI,CAACyF,EAAUmO,KAAX,IAC3BnO,EACHsG,IAAK6H,EAAW,EAChBlO,KAAMD,EAASC,MAAMT,YAAe,cAGxC,MAAOzM,OACPwK,QAAQxK,MAAMA,OACd2G,EAAU3G,MAAMoF,SAflB,QAiBEmB,EAAgBiC,OAAQ,IAIrBmP,IAAQrR,EAAAA,EAAAA,IAAI,IACT+U,GAAWnT,UACb3B,EAAgBiC,OAAQ,EACxB,IACI,MAAMoG,QAAiB5E,GAAczG,IAAI,SACzCoU,GAAMnP,MAAQoG,EAAS9F,KACzB,MAAO9I,OACL2G,EAAU3G,MAAMoF,SAJpB,QAMImB,EAAgBiC,OAAQ,IAI1B8S,GAAmBhC,IACrB2B,GAAUzS,MAAQ8Q,EAAI1P,GACtBuF,GAAO3G,MAAQ8Q,EAAInK,QAGjBoM,GAAmBrT,UAC3BsH,GAAUhH,OAAQ,EAElB,MAAMuQ,EAAW,CACf5J,OAAQA,GAAO3G,OAEjB,UACyBwB,GAAcC,IAAK,qBAAoBgR,GAAUzS,QAAQuQ,SAC1EyB,KACNpQ,SAASC,eAAe,gBAAgBC,QACxC9D,EAAY,uBACb,MAAMxG,OACLwK,QAAQC,IAAIzK,OACZ2G,EAAU3G,MAAMoF,SAPlB,QASEoK,GAAUhH,OAAQ,IAIhBgT,GAAyBlC,IAC7BS,GAAYvR,MAAQ8Q,EAAI1P,GACxBqD,GAASzE,MAAQ8Q,EAAIrM,SACrBxD,GAASjB,MAAQ8Q,EAAI7P,SACrByD,GAAK1E,MAAQ8Q,EAAIa,SACbxC,GAAMnP,MAAMgR,MAAKiC,GAAKA,EAAE7R,KAAO0P,EAAIa,WACnC,IAICuB,GAAmBxT,UACxBsH,GAAUhH,OAAQ,EAElB,MAAMuQ,EAAW,CACf9L,SAAUA,GAASzE,MACnBiB,SAAUA,GAASjB,MACnB2R,QAASjN,IAAM1E,OAAOoB,IAAM,IAE9B,UACyBI,GAAcC,IAAK,mBAAkB8P,GAAYvR,QAASuQ,SAC3EyB,KACNpQ,SAASC,eAAe,kBAAkBC,QAC1C9D,EAAY,oBACZ,MAAMxG,OACNwK,QAAQC,IAAIzK,OACZ2G,EAAU3G,MAAMoF,SAPlB,QASEoK,GAAUhH,OAAQ,IAIhBmT,IAAmBrV,EAAAA,EAAAA,KAAI,GACvBsV,IAA0BtV,EAAAA,EAAAA,IAAI,MAE9BuV,GAAmB3T,MAAAA,IACvB,MAAM/H,QAAe2b,KAAKC,KAAK,CAC7B9U,MAAO,gBACP+U,KAAM,oCACNC,KAAM,UACNC,kBAAkB,EAClBC,mBAAoB,UACpBC,kBAAmB,OACnBC,kBAAmB,oBAGrB,GAAIlc,EAAOmc,YAAa,CACtBX,GAAiBnT,OAAQ,EACzBoT,GAAwBpT,MAAQoB,EAChC,UACQI,GAAcuS,OAAQ,qBAAoB3S,WAC1C4Q,KACNhU,EAAY,yCACZ,MAAOxG,OACPwK,QAAQxK,MAAMA,OACd2G,EAAU3G,MAAMoF,SANlB,QAQEuW,GAAiBnT,OAAQ,EACzBoT,GAAwBpT,MAAQ,QAKhCgU,IAAqBlW,EAAAA,EAAAA,KAAI,GACzBmW,IAA4BnW,EAAAA,EAAAA,IAAI,MAEhCoW,GAAiBxU,MAAAA,IACrBsU,GAAmBhU,OAAQ,EACvBiU,GAA0BjU,MAAQoB,EAClC,UACQI,GAAcuS,OAAQ,mBAAkB3S,WACxC4Q,KACNhU,EAAY,iCAEZ,MAAOxG,OACPwK,QAAQxK,MAAMA,OACd2G,EAAU3G,MAAMoF,SAPlB,QASEoX,GAAmBhU,OAAQ,EAC3BiU,GAA0BjU,MAAQ,OAKlCmU,GAAgBzU,UACtBsH,GAAUhH,OAAQ,EAElB,MAAMuQ,EAAW,CACf6D,oBAAqB3B,GAAUzS,MAC/ByE,SAAUA,GAASzE,MACnBiB,SAAUA,GAASjB,MACnB2R,QAASjN,GAAK1E,MAAMoB,IAEtB,UACyBI,GAAcyF,KAAM,kBAAkBsJ,SACvDyB,KACNpQ,SAASC,eAAe,aAAaC,QACrC9D,EAAY,kBACZ,MAAMxG,OACNwK,QAAQC,IAAIzK,OACZ2G,EAAU3G,MAAMoF,SAPlB,QASEoK,GAAUhH,OAAQ,IAIhBqS,IAAQvU,EAAAA,EAAAA,IAAI,MAEZuW,GAAqBC,IACvB,MAAMC,EAAOD,EAAE/W,OAAOiX,MAAM,GAC5BnC,GAAMrS,MAAQuU,aAAgBE,KAAOF,EAAO,KAC5CvS,QAAQC,IAAI,aAAcoQ,GAAMrS,QAG9B0U,GAAgBhV,UAClBsH,GAAUhH,OAAQ,EAElB,MAAM2U,EAAW,IAAIC,SACrBD,EAASE,OAAO,sBAAuBpC,GAAUzS,OACjD2U,EAASE,OAAO,cAAevQ,GAAYtE,OAEvCqS,GAAMrS,iBAAiByU,MACvBE,EAASE,OAAO,YAAaxC,GAAMrS,OAGvC,IACI,MAAMoG,QAAiB5E,GAAcyF,KACjC,+BACA0N,EACA,CAAEG,QAAS,CAAE,eAAgB,+BAG3B9C,KACNpQ,SAASC,eAAe,oBAAoBC,QAC5C9D,EAAY,oBAEZgE,QAAQC,IAAI,YAAamE,EAAS9F,KAAKyU,KAEzC,MAAOvd,OACLwK,QAAQxK,MAAMA,OACd2G,EAAU3G,MAAMoF,SAfpB,QAiBIoK,GAAUhH,OAAQ,IAOpBgV,GAAiB,CAACC,EAAeC,KACrCC,GAAmBnV,MAAQiV,EAC3BG,GAAuBpV,MAAQkV,GAG3BC,IAAqBrX,EAAAA,EAAAA,IAAI,IACzBsX,IAAyBtX,EAAAA,EAAAA,IAAI,MAG5BuX,IAAcvX,EAAAA,EAAAA,IAAI,IAEnBwX,IAAyB5F,EAAAA,EAAAA,KAAS,IACjC2F,GAAYrV,MAGV0S,GAAiB1S,MAAMiI,QAAOnF,IACnC,MAAMyS,EAAQF,GAAYrV,MAAMwV,cAChC,OACE1S,EAAOuB,aAAamR,cAAcC,SAASF,IAC3CzS,EAAOwB,aAAakR,cAAcC,SAASF,IAC3CzS,EAAO4S,YAAY5Y,MAAM0Y,cAAcC,SAASF,IAChDzS,EAAOO,MAAMoS,SAASF,IACtBzS,EAAO6D,QAAQ6O,cAAcC,SAASF,IACtCzS,EAAOyB,YAAYoR,MAAKlR,GACtBA,EAASA,UAAU+Q,cAAcC,SAASF,IAC1C9Q,EAASC,MAAMT,YAAYuR,cAAcC,SAASF,QAZ/C7C,GAAiB1S,QAkBtBgS,GAA4BtS,UAChC,MAAM0G,QAAiB5E,GAAczG,IAAK,gCAA+BuG,GAAMtB,MAAMwK,cACnFkI,GAAiB1S,MAAQoG,EAAS9F,KAAKtB,KAAI,CAACmC,EAAMqD,KAAP,IACtCrD,EACH4J,IAAKvG,EAAQ,EACbnB,KAAM/E,EAAW6C,EAAKkC,MAAQlC,EAAKuF,YACnCnC,WAAYpD,EAAKoD,WAAWvF,KAAI,CAACyF,EAAUmO,KAAX,IAC3BnO,EACHsG,IAAK6H,EAAW,EAChBlO,KAAMD,EAASC,MAAMT,YAAe,eAKtC2R,IAAa9X,EAAAA,EAAAA,KAAI,GACjB+X,IAAoB/X,EAAAA,EAAAA,IAAI,MACxBgY,GAAmBpW,MAAAA,IACvBkW,GAAW5V,OAAQ,EACnB6V,GAAkB7V,MAAQoB,EAE1B,UACQI,GAAcuS,OAAQ,gCAA+B3S,WACjD4Q,KACNhU,EAAY,mCAChB,MAAOxG,OACPwK,QAAQxK,MAAMA,OACd2G,EAAU3G,MAAMoF,SANlB,QAQEgZ,GAAW5V,OAAQ,EACnB6V,GAAkB7V,MAAQ,OAIxB+V,IAAiBjY,EAAAA,EAAAA,IAAI,GACrBkY,GAAc,KAClBD,GAAe/V,OAAS,IAKpB+D,IAAqBjG,EAAAA,EAAAA,IAAI,IAEzBmY,GAAe,CAACC,EAAWC,EAAY,cACpCzG,EAAAA,EAAAA,KAAS,IACT3L,GAAmB/D,MAEjBkW,EAAUlW,MAAMiI,QAAO9G,IAC5B,MAAMiV,EAAIjV,EAAKgV,GACf,IAAKC,EAAG,OAAO,EAGf,GAAI,sBAAsB7d,KAAK6d,GAC7B,OAAOA,IAAMrS,GAAmB/D,MAIlC,GAAI,uBAAuBzH,KAAK6d,GAAI,CAClC,MAAMC,EAAQD,EAAEha,MAAM,KAAK,GAAGA,MAAM,KAC9BsH,EAAO,KAAO2S,EAAM,GACpB7S,EAAQ6S,EAAM,GACdC,EAAMD,EAAM,GACZE,EAAY,GAAE7S,KAAQF,KAAS8S,IACrC,OAAOC,IAAaxS,GAAmB/D,MAGzC,OAAO,IAAIsC,KAAK8T,GAAG7T,cAAcnG,MAAM,KAAK,KAAO2H,GAAmB/D,SArBlCkW,EAAUlW,QA2B9CwW,GAAe,CAACN,EAAWC,EAAY,cACpCzG,EAAAA,EAAAA,KAAS,KACd,IAAK3L,GAAmB/D,MAAO,OAAOkW,EAAUlW,MAEhD,MAAMyW,EAAW,IAAInU,KAAKyB,GAAmB/D,OAGvCsW,EAAMG,EAASC,SACfC,EAAuB,IAARL,GAAa,EAAI,EAAIA,EACpCM,EAAY,IAAItU,KAAKmU,GAC3BG,EAAUC,QAAQJ,EAASnT,UAAYqT,GAGvC,MAAMG,EAAU,IAAIxU,KAAKsU,GACzBE,EAAQD,QAAQD,EAAUtT,UAAY,GAGtC,MAAMyT,EAAWH,EAAUrU,cAAcnG,MAAM,KAAK,GAC9C4a,EAASF,EAAQvU,cAAcnG,MAAM,KAAK,GAEhD,OAAO8Z,EAAUlW,MAAMiI,QAAO9G,IAC5B,MAAMiV,EAAIjV,EAAKgV,GACf,IAAKC,EAAG,OAAO,EAEf,IAAIa,EAGJ,GAAI,uBAAuB1e,KAAK6d,GAAI,CAClC,MAAMC,EAAQD,EAAEha,MAAM,KAAK,GAAGA,MAAM,KAC9BsH,EAAO,KAAO2S,EAAM,GACpB7S,EAAQ6S,EAAM,GACdC,EAAMD,EAAM,GAClBY,EAAe,GAAEvT,KAAQF,KAAS8S,SAG/B,GAAI,sBAAsB/d,KAAK6d,GAClCa,EAAcb,MAGX,CACH,MAAMG,EAAW,IAAIjU,KAAK8T,GAC1B,GAAIc,MAAMX,EAASY,WAAY,OAAO,EACtCF,EAAcV,EAAShU,cAAcnG,MAAM,KAAK,GAGlD,OAAO6a,GAAeF,GAAYE,GAAeD,QAMjDlM,GAA0BmL,GAAa5M,IACvC9D,GAAiC0Q,GAAatG,IAC9CyH,GAA2BnB,GAAahQ,IACxCoR,GAA8BpB,GAAa7T,IAC3CkV,GAA+BrB,GAAavD,GAAkB,QAG9D6E,IAF8BtB,GAAa3H,GAAe,iBAE5BkI,GAAanN,KAC3CmO,GAAqChB,GAAa7G,IAClD8H,GAA+BjB,GAAavQ,IAC5CyR,GAAkClB,GAAapU,IAC/CuV,GAAmCnB,GAAa9D,GAAkB,QAClEkF,GAAkCpB,GAAalI,GAAe,iBAE9DuJ,GAA2BnY,UAC/B3B,EAAgBiC,OAAQ,EAExB,IACE,MAAM8X,EAAoB/T,GAAmB/D,MACxC8K,GAAwB9K,OAAS,GACjCqJ,GAAUrJ,OAAS,GAClB+X,EAAqBhU,GAAmB/D,MACzCuF,GAA+BvF,OAAS,GACxC2P,GAAiB3P,OAAS,GACzBgY,EAAyBjU,GAAmB/D,MAC7CoX,GAAyBpX,OAAS,GAClCiG,GAAWjG,OAAS,GACnBiY,EAAwBlU,GAAmB/D,MAC5CqX,GAA4BrX,OAAS,GACrCoC,GAAiBpC,OAAS,GACzBkY,EAAyBnU,GAAmB/D,MAC7CsX,GAA6BtX,OAAS,GACtC0S,GAAiB1S,OAAS,GAEzBmY,EACJL,EAAkB5d,QAClB6d,EAAmB7d,QACnB8d,EAAuB9d,QACvB+d,EAAsB/d,QACtBge,EAAuBhe,OAEzB,IAAKie,EAGH,OAFApa,EAAgBiC,OAAQ,OACxB7B,EAAU,2CAIZ,MAAMia,EAAsBrU,GAAmB/D,MAC3C1B,EAAWyF,GAAmB/D,OAC9B1B,GAAW,IAAIgE,MAAOC,cAAcnG,MAAM,KAAK,IAG7Cic,EAAmBtU,GAAmB/D,MAAQ,IAAIsC,KAAKyB,GAAmB/D,OAAS,IAAIsC,KACvFe,EAAOgV,EAAiB/U,UAAUtJ,WAAWuJ,SAAS,EAAG,KACzDC,GAAS6U,EAAiB5U,WAAa,GAAGzJ,WAAWuJ,SAAS,EAAG,KACjE+U,EAAiB,GAAEjV,KAAQG,IAG3B+U,EAAcR,EAAmB5K,QAAO,CAACqL,EAAKC,KAClD,MAAM5L,EAAO4L,EAAMjT,aAAe,SAGlC,OAFKgT,EAAI3L,KAAO2L,EAAI3L,GAAQ,GAC5B2L,EAAI3L,KACG2L,IACN,IAGG9C,EAAaqC,EAAmB/G,MAAK0H,GAAuB,eAAlBA,EAAElT,aAAkD,YAAlBkT,EAAElT,eAClElE,GAAMtB,OAAOkE,SAAW,CAAEpH,KAAM,OAE5CiG,EAASnB,SAASoB,cAAc,UACtCD,EAAOE,MAAMC,QAAU,OACvBtB,SAASuB,KAAKC,YAAYL,GAE1B,MAAMe,EAAgB,mqDAuCKwU,4SAc4CF,mFACF9W,GAAMtB,OAAOgE,SAASC,YAAc,2LAIpD3C,GAAMtB,OAAOgE,SAAS2U,iBAAmB,mZAiBrFzhB,OAAO0hB,QAAQL,GAAavZ,KAAI,EAAE6N,EAAM7E,GAAQ6Q,IAAS,uCAEnDhM,4BACA7E,0CAELrD,KAAK,mBAC8B,IAApCzN,OAAO4hB,KAAKP,GAAare,OAAgB,mHAIvC,uUAkBL4d,EAAkB9Y,KAAK+Z,GAAO,iCAExBA,EAAE5X,MAAQ,6BACV4X,EAAEzU,aAAe,6BACjByU,EAAExP,MAAQ,sCAEf5E,KAAK,gBACuB,IAA7BmT,EAAkB5d,OAAgB,gGAIhC,yWAoBJ+d,EAAsBjZ,KAAKga,GAAO,6BAE5BA,EAAEnM,MAAQ,2BACVmM,EAAErM,SAAW,2BACbqM,EAAEvT,MAAQ,2BACVuT,EAAEhN,QAAU,UAAUgN,EAAE7M,WAAa,wCAE1CxH,KAAK,cAC2B,IAAjCsT,EAAsB/d,OAAgB,8FAIpC,oEAMNge,EAAuBlZ,KAAKia,GAAO,OACnCA,EAAE1U,YAAYrK,OAAU,wGAMpB+e,EAAE1U,WAAWvF,KAAI,CAACtC,EAAGmc,IAAS,6BAExBA,EAAM,MAAMnc,EAAE+H,UAAY,WAAW/H,EAAEuE,UAAY,OAAOvE,EAAEgI,MAAQ,yBACpEC,KAAK,oCAGb,wCACDA,KAAK,2JASFqT,EAAuBhZ,KAAI,CAACka,EAAGL,IAAS,6BAElCA,EAAM,MAAMK,EAAElT,WAAa,WAAWkT,EAAE3S,aAAe,WAAW2S,EAAEzS,kBAAoB,WAAWyS,EAAEvS,QAAU,oCAEpHhC,KAAK,cAC4B,IAAlCqT,EAAuB9d,OAAgB,uGAIrC,mQAeIwb,EAAW5Y,iMAQXsb,8LAcJxT,EAAY7B,EAAO8B,cAAcjD,SACvCgD,EAAUE,OACVF,EAAUG,MAAMjB,GAChBc,EAAUI,QAEVjC,EAAOkC,OAAS,KACdlC,EAAO8B,cAAcK,QACrBnC,EAAO8B,cAAcM,QACrBC,YAAW,KACTxD,SAASuB,KAAKkC,YAAYtC,KACzB,KACHgB,GAAmB/D,MAAQ,GAC3BjC,EAAgBiC,OAAQ,GAG1B,MAAOxI,OACPwK,QAAQxK,MAAMA,OACd2G,EAAU3G,MAAMoF,SAChBmB,EAAgBiC,OAAQ,IAKtBmZ,GAAiCzZ,UACrC3B,EAAgBiC,OAAQ,EAExB,IAEE,MAAM8X,EAAoB/T,GAAmB/D,MACxCuX,GAA4BvX,OAAS,GACrCqJ,GAAUrJ,OAAS,GAClB+X,EAAqBhU,GAAmB/D,MACzCwX,GAAmCxX,OAAS,GAC5C2P,GAAiB3P,OAAS,GACzBgY,EAAyBjU,GAAmB/D,MAC7CyX,GAA6BzX,OAAS,GACtCiG,GAAWjG,OAAS,GACnBiY,EAAwBlU,GAAmB/D,MAC5C0X,GAAgC1X,OAAS,GACzCoC,GAAiBpC,OAAS,GACzBkY,EAAyBnU,GAAmB/D,MAC7C2X,GAAiC3X,OAAS,GAC1C0S,GAAiB1S,OAAS,GACzBoZ,EAAwBrV,GAAmB/D,MAC5C4X,GAAgC5X,OAAS,GACzCsO,GAActO,OAAS,GAEtBmY,EACJL,EAAkB5d,QAClB6d,EAAmB7d,QACnB8d,EAAuB9d,QACvB+d,EAAsB/d,QACtBge,EAAuBhe,QACvBkf,EAAsBlf,OAExB,IAAKie,EAGH,OAFApa,EAAgBiC,OAAQ,OACxB7B,EAAU,uCAKZ,IAAIkb,EAAqB,GACrBC,EAAmB,GAEvB,GAAIvV,GAAmB/D,MAAO,CAC5B,MAAMuZ,EAAaxV,GAAmB/D,MAChCyW,EAAW,IAAInU,KAAKiX,GACpBjD,EAAMG,EAASC,SACfC,EAAuB,IAARL,GAAa,EAAI,EAAIA,EACpCM,EAAY,IAAItU,KAAKmU,GAC3BG,EAAUC,QAAQJ,EAASnT,UAAYqT,GACvC,MAAMG,EAAU,IAAIxU,KAAKsU,GACzBE,EAAQD,QAAQD,EAAUtT,UAAY,GAEtC+V,EAAqB/a,EAAWsY,EAAUrU,cAAcnG,MAAM,KAAK,IACnEkd,EAAmBhb,EAAWwY,EAAQvU,cAAcnG,MAAM,KAAK,IAGjE,MAAM2G,EAASnB,SAASoB,cAAc,UACtCD,EAAOE,MAAMC,QAAU,OACvBtB,SAASuB,KAAKC,YAAYL,GAE1B,MAAMe,EAAgB,y/CAoEGwV,EAAoB,GAAED,QAAyBC,IAAqBD,qDAKlE/X,GAAMtB,OAAOgE,SAASC,YAAc,8CACjC3C,GAAMtB,OAAOkE,SAASpH,MAAQ,oCACtCwE,GAAMtB,OAAOkE,SAASC,OAAS,oCAC/B7C,GAAMtB,OAAOkE,SAASE,UAAY,0CAG1D0T,EAAkB5d,OAAU,uNAW5B4d,EAAkB9Y,KAAI,CAACwa,EAAGX,IAAS,iBAE7BA,EAAM,iBACNW,EAAErY,MAAQ,qBACVqY,EAAE1Q,UAAY,yCACM0Q,EAAEjQ,MAAQ,qBAC9BiQ,EAAE/T,MAAQ,qBACV+T,EAAEnW,MAAQ,sBACVsB,KAAK,0BAED,wCAGVyU,EAAsBlf,OAAU,qOAWhCkf,EAAsBpa,KAAI,CAACwa,EAAGX,IAAS,iBAEjCA,EAAM,iBACNW,EAAE1c,MAAQ,qBACV0c,EAAE1Q,UAAY,yCACM0Q,EAAEC,cAAgB,yCAClBD,EAAEE,gBAAkB,sBACxC/U,KAAK,0BAED,8BAGVsT,EAAsB/d,OAAU,uQAWhC+d,EAAsBjZ,KAAI,CAACwa,EAAGX,IAAS,iBAEjCA,EAAM,iBACNW,EAAEpQ,QAAU,qBACZoQ,EAAEjN,QAAU,qBACZiN,EAAE7M,SAAW,SAAS6M,EAAE3M,MAAQ,qBAChC2M,EAAE/T,MAAQ,wCACS+T,EAAExN,QAAU,qBAC/BwN,EAAEvN,SAAW,qBACbuN,EAAE5Q,OAAS,qBACX4Q,EAAElN,aAAe,sBACjB3H,KAAK,0BAED,oCAGVoT,EAAmB7d,OAAU,yMAU7B6d,EAAmB/Y,KAAI,CAACwa,EAAGX,IAAS,iBAE9BA,EAAM,iBACNW,EAAE1c,MAAQ,qBACV0c,EAAEhU,aAAe,qBACjBgU,EAAE/T,MAAQ,qBACV+T,EAAE9T,gBAAkB,qBACpB8T,EAAE7T,gBAAkB,qBACpB6T,EAAEnW,MAAQ,sBACVsB,KAAK,0BAED,2BAMFC,EAAY7B,EAAO8B,cAAcjD,SACvCgD,EAAUE,OACVF,EAAUG,MAAMjB,GAChBc,EAAUI,QAEVjC,EAAOkC,OAAS,KACdlC,EAAO8B,cAAcK,QACrBnC,EAAO8B,cAAcM,QACrBvD,SAASuB,KAAKkC,YAAYtC,GAC1BhF,EAAgBiC,OAAQ,EACxB+D,GAAmB/D,MAAQ,IAG7B,MAAOxI,OACPwK,QAAQxK,MAAMA,OACd2G,EAAU,oCACVJ,EAAgBiC,OAAQ,KAIxB2Z,EAAAA,EAAAA,KAAUja,UACFmT,KACN+G,KACAta,KACAJ,WACM2K,KACNgG,QAGN,MAAMgK,IAAuB/b,EAAAA,EAAAA,IAAI,IAE3BsC,IAAkBtC,EAAAA,EAAAA,IAAI,CACxBuC,QAAS,GACTV,SAAU,KACVC,UAAW,KACXka,UAAW,OAGTC,IAAkBjc,EAAAA,EAAAA,KAAI,GACtBkc,IAAsBlc,EAAAA,EAAAA,KAAI,GAI1Bmc,GAAiB,KAEd7Z,GAAgBJ,MAAML,UAClBS,GAAgBJ,MAAMJ,UAS/B0T,KAAKC,KAAK,CACN9U,MAAO,iBACPyb,KAAO,iJAKPzG,KAAM,WACNC,kBAAkB,EAClBC,mBAAoB,UACpBC,kBAAmB,OACnBC,kBAAmB,kBACnBsG,iBAAkB,WACnBtL,MAAMlX,IACDA,EAAOmc,aACPsG,QAtBJzM,OAAO7I,KACH,wDACA,WA0BNsV,GAAe1a,UACjBsa,GAAoBha,OAAQ,EAE5B,IAQI,GALKI,GAAgBJ,MAAML,UACtBS,GAAgBJ,MAAMJ,iBAEjBN,MAGLc,GAAgBJ,MAAML,WACtBS,GAAgBJ,MAAMJ,UAEvB,MAAM,IAAI5H,MAAM,4DAGpB,MAAM8I,EAAU,CACZuZ,QAAS1b,KAAKC,MAAMC,aAAaC,QAAQ,SAASsC,GAClDC,SAAU1D,EAAM0I,OAAOhF,SACvBiZ,SAAUla,GAAgBJ,MAAMK,QAChCV,SAAUS,GAAgBJ,MAAML,SAChCC,UAAWQ,GAAgBJ,MAAMJ,iBAG/B4B,GAAcyF,KAAK,2BAA4BnG,GAErD9C,EAAY,wCACN4b,KAER,MAAOpiB,OACLwK,QAAQC,IAAIzK,OACZ2G,EAAU3G,MAAM4O,SAAS9F,KAAK1D,SA9BlC,QAgCIod,GAAoBha,OAAQ,IAK9B4Z,GAA6Bla,UAC/BK,GAAQC,OAAQ,EAChB,IACI,MAAMoG,QAAiB5E,GAAczG,IAAK,eAAc4D,KAAKC,MAAMC,aAAaC,QAAQ,SAASsC,MACjGyY,GAAqB7Z,MAAQoG,EAAS9F,KAClC5B,EAAiB+W,SAAS,2BACpCoE,GAAqB7Z,MAAQ,CAAC8C,QAAQ,IAElC,MAAOtL,OACP2G,EAAU3G,MAAMoF,SACdoF,QAAQC,IAAIzK,OARhB,QAUEuI,GAAQC,OAAQ,IAKhBua,IAAiBzc,EAAAA,EAAAA,KAAI,GACrB0c,GAAa9a,UACf6a,GAAeva,OAAQ,EACvB,UACUqN,WACAkB,WACAoE,WACAxM,WACAzE,KACR,MAAOlK,OACLwK,QAAQC,IAAIzK,OACZ2G,EAAU3G,MAAMoF,SARpB,QAUI2d,GAAeva,OAAQ,IAMzBya,GAAoBnG,IACxBY,GAAWlV,MAAQsU,EAAE/W,OAAOiX,MAAM,IAE9BU,IAAapX,EAAAA,EAAAA,IAAI,IACjB4c,IAAwB5c,EAAAA,EAAAA,IAAI,IAC5B6c,IAAsB7c,EAAAA,EAAAA,KAAI,GAC1B8c,GAAuBlb,UACzBib,GAAoB3a,OAAQ,EAE5B,MAAM2U,EAAW,IAAIC,SACrBD,EAASE,OAAO,WAAYlX,EAAM0I,OAAOhF,UACzCsT,EAASE,OAAO,SAAU6F,GAAsB1a,OAChD2U,EAASE,OAAO,aAAcK,GAAWlV,OAEzC,UAC2BwB,GAAcyF,KAChC,0BACD0N,EACA,CAAEG,QAAS,CAAE,eAAgB,yBAEjC9W,EAAY,qCACZ6c,KACDC,KAED,MAAOtjB,OACL2G,EAAU3G,MAAMoF,SAChBoF,QAAQC,IAAIzK,OAZhB,QAcImjB,GAAoB3a,OAAQ,IAI9B6a,GAAyB,KAC3BE,GAAmB/a,OAAQ,EAC3B0a,GAAsB1a,MAAQ,GAC9BkV,GAAWlV,MAAQ,IAIjBgb,IAAmB/c,EAAAA,EAAAA,IAAO,oBAC1Bgd,GAAuBvb,MAAAA,IAC3B,MAAM/H,QAAeqjB,GACnB,gBACC,mCAAkC7Z,EAAKmD,eACvC,2BAA0BnD,EAAKC,KAChC,UAGEzJ,GAAQujB,eACJJ,MAGJC,IAAqBjd,EAAAA,EAAAA,KAAI,GACzBqd,IAAkBrd,EAAAA,EAAAA,IAAI,IACtBsd,IAAwBtd,EAAAA,EAAAA,IAAI,CAAC,MAAM,cAAc,OAAO,YACxDud,IAAYvd,EAAAA,EAAAA,KAAI,GACdwd,GAAqB5b,UACzB2b,GAAUrb,OAAQ,EAClB,IACI,MAAMoG,QAAiB5E,GAAczG,IAAK,oCAAmC4C,EAAM0I,OAAOhF,YAC1F8Z,GAAgBnb,MAAQoG,EAAS9F,KAAKtB,KAAI,CAACmC,EAAMqD,KAAP,IACrCrD,EACHmF,IAAK9B,EAAQ,EACbF,YAAYnD,EAAKwF,QAAU,KAC3BtD,KAAM/E,EAAW6C,EAAKuF,gBAC1B,MAAOlP,OACLwK,QAAQC,IAAIzK,OACZ2G,EAAU3G,MAAMoF,SATpB,QAWEye,GAAUrb,OAAQ,IAIlB8a,GAA6Bpb,UAChC,MAAM0G,QAAiB5E,GAAczG,IAAK,oCAAmC4C,EAAM0I,OAAOhF,YACrF8Z,GAAgBnb,MAAQoG,EAAS9F,KAAKtB,KAAI,CAACmC,EAAMqD,KAAP,IACrCrD,EACHmF,IAAK9B,EAAQ,EACbF,YAAYnD,EAAKwF,QAAU,KAC3BtD,KAAM/E,EAAW6C,EAAKuF,iB,mkwCC3wIhC,MAAM6U,IAA2B,QAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://cork-vue3/./node_modules/core-js/internals/a-possible-prototype.js","webpack://cork-vue3/./node_modules/core-js/internals/classof.js","webpack://cork-vue3/./node_modules/core-js/internals/clear-error-stack.js","webpack://cork-vue3/./node_modules/core-js/internals/error-stack-installable.js","webpack://cork-vue3/./node_modules/core-js/internals/function-apply.js","webpack://cork-vue3/./node_modules/core-js/internals/inherit-if-required.js","webpack://cork-vue3/./node_modules/core-js/internals/install-error-cause.js","webpack://cork-vue3/./node_modules/core-js/internals/normalize-string-argument.js","webpack://cork-vue3/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://cork-vue3/./node_modules/core-js/internals/proxy-accessor.js","webpack://cork-vue3/./node_modules/core-js/internals/to-string-tag-support.js","webpack://cork-vue3/./node_modules/core-js/internals/to-string.js","webpack://cork-vue3/./node_modules/core-js/internals/wrap-error-constructor-with-cause.js","webpack://cork-vue3/./node_modules/core-js/modules/es.error.cause.js","webpack://cork-vue3/./src/views/report/Report.vue","webpack://cork-vue3/./src/views/report/Report.vue?4a7b"],"sourcesContent":["var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar String = global.String;\nvar TypeError = global.TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw TypeError(\"Can't set \" + String(argument) + ' as a prototype');\n};\n","var global = require('../internals/global');\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar Object = global.Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar $Error = Error;\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String($Error(arg).stack); })('zxcasd');\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","var fails = require('../internals/fails');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = !fails(function () {\n  var error = Error('a');\n  if (!('stack' in error)) return true;\n  // eslint-disable-next-line es-x/no-object-defineproperty -- safe\n  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));\n  return error.stack !== 7;\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es-x/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\n// `InstallErrorCause` abstract operation\n// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause\nmodule.exports = function (O, options) {\n  if (isObject(options) && 'cause' in options) {\n    createNonEnumerableProperty(O, 'cause', options.cause);\n  }\n};\n","var toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","/* eslint-disable no-proto -- safe */\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es-x/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\n    setter = uncurryThis(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (Target, Source, key) {\n  key in Target || defineProperty(Target, key, {\n    configurable: true,\n    get: function () { return Source[key]; },\n    set: function (it) { Source[key] = it; }\n  });\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var global = require('../internals/global');\nvar classof = require('../internals/classof');\n\nvar String = global.String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return String(argument);\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar proxyAccessor = require('../internals/proxy-accessor');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar installErrorCause = require('../internals/install-error-cause');\nvar clearErrorStack = require('../internals/clear-error-stack');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nmodule.exports = function (FULL_NAME, wrapper, FORCED, IS_AGGREGATE_ERROR) {\n  var STACK_TRACE_LIMIT = 'stackTraceLimit';\n  var OPTIONS_POSITION = IS_AGGREGATE_ERROR ? 2 : 1;\n  var path = FULL_NAME.split('.');\n  var ERROR_NAME = path[path.length - 1];\n  var OriginalError = getBuiltIn.apply(null, path);\n\n  if (!OriginalError) return;\n\n  var OriginalErrorPrototype = OriginalError.prototype;\n\n  // V8 9.3- bug https://bugs.chromium.org/p/v8/issues/detail?id=12006\n  if (!IS_PURE && hasOwn(OriginalErrorPrototype, 'cause')) delete OriginalErrorPrototype.cause;\n\n  if (!FORCED) return OriginalError;\n\n  var BaseError = getBuiltIn('Error');\n\n  var WrappedError = wrapper(function (a, b) {\n    var message = normalizeStringArgument(IS_AGGREGATE_ERROR ? b : a, undefined);\n    var result = IS_AGGREGATE_ERROR ? new OriginalError(a) : new OriginalError();\n    if (message !== undefined) createNonEnumerableProperty(result, 'message', message);\n    if (ERROR_STACK_INSTALLABLE) createNonEnumerableProperty(result, 'stack', clearErrorStack(result.stack, 2));\n    if (this && isPrototypeOf(OriginalErrorPrototype, this)) inheritIfRequired(result, this, WrappedError);\n    if (arguments.length > OPTIONS_POSITION) installErrorCause(result, arguments[OPTIONS_POSITION]);\n    return result;\n  });\n\n  WrappedError.prototype = OriginalErrorPrototype;\n\n  if (ERROR_NAME !== 'Error') {\n    if (setPrototypeOf) setPrototypeOf(WrappedError, BaseError);\n    else copyConstructorProperties(WrappedError, BaseError, { name: true });\n  } else if (DESCRIPTORS && STACK_TRACE_LIMIT in OriginalError) {\n    proxyAccessor(WrappedError, OriginalError, STACK_TRACE_LIMIT);\n    proxyAccessor(WrappedError, OriginalError, 'prepareStackTrace');\n  }\n\n  copyConstructorProperties(WrappedError, OriginalError);\n\n  if (!IS_PURE) try {\n    // Safari 13- bug: WebAssembly errors does not have a proper `.name`\n    if (OriginalErrorPrototype.name !== ERROR_NAME) {\n      createNonEnumerableProperty(OriginalErrorPrototype, 'name', ERROR_NAME);\n    }\n    OriginalErrorPrototype.constructor = WrappedError;\n  } catch (error) { /* empty */ }\n\n  return WrappedError;\n};\n","/* eslint-disable no-unused-vars -- required for functions `.length` */\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar wrapErrorConstructorWithCause = require('../internals/wrap-error-constructor-with-cause');\n\nvar WEB_ASSEMBLY = 'WebAssembly';\nvar WebAssembly = global[WEB_ASSEMBLY];\n\nvar FORCED = Error('e', { cause: 7 }).cause !== 7;\n\nvar exportGlobalErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  var O = {};\n  O[ERROR_NAME] = wrapErrorConstructorWithCause(ERROR_NAME, wrapper, FORCED);\n  $({ global: true, constructor: true, arity: 1, forced: FORCED }, O);\n};\n\nvar exportWebAssemblyErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  if (WebAssembly && WebAssembly[ERROR_NAME]) {\n    var O = {};\n    O[ERROR_NAME] = wrapErrorConstructorWithCause(WEB_ASSEMBLY + '.' + ERROR_NAME, wrapper, FORCED);\n    $({ target: WEB_ASSEMBLY, stat: true, constructor: true, arity: 1, forced: FORCED }, O);\n  }\n};\n\n// https://github.com/tc39/proposal-error-cause\nexportGlobalErrorCauseWrapper('Error', function (init) {\n  return function Error(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('EvalError', function (init) {\n  return function EvalError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('RangeError', function (init) {\n  return function RangeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('ReferenceError', function (init) {\n  return function ReferenceError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('SyntaxError', function (init) {\n  return function SyntaxError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('TypeError', function (init) {\n  return function TypeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('URIError', function (init) {\n  return function URIError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('CompileError', function (init) {\n  return function CompileError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('LinkError', function (init) {\n  return function LinkError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('RuntimeError', function (init) {\n  return function RuntimeError(message) { return apply(init, this, arguments); };\n});\n","<template>\r\n    <div class=\"layout-px-spacing\">  \r\n            <ul class=\"navbar-nav flex-row mt-2\">\r\n                <li>\r\n                    <div class=\"page-header\">\r\n                        <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\r\n                            <ol class=\"breadcrumb\">\r\n                                <li class=\"breadcrumb-item active\" aria-current=\"page\"><span> Work Report</span></li>\r\n                            </ol>\r\n                        </nav>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n\r\n            \r\n\r\n  <div class=\"d-flex justify-content-end align-items-center gap-3\" v-if=\"supervisorAttendance.report\">\r\n\r\n    <!-- Daily Date -->\r\n    <input \r\n        type=\"date\"\r\n        v-model=\"selectedReportDate\"\r\n        class=\"form-control form-control-sm\"\r\n        @change=\"filterByDate\"\r\n        style=\"width: 160px;\"\r\n    >\r\n\r\n    <!-- Daily Print Button -->\r\n    <button \r\n        class=\"btn btn-success btn-sm\"\r\n        @click=\"getAllData().then(() => printComprehensiveReport())\"\r\n        :disabled=\"loadingAllData\"\r\n    >\r\n        <span v-if=\"loadingAllData\" v-html=\"loadingSpinner()\"></span>\r\n        <span v-else>Print Daily Report</span>\r\n    </button>\r\n\r\n    <!-- Divider (optional but looks neat) -->\r\n    <div style=\"border-left: 1px solid #ccc; height: 28px;\"></div>\r\n\r\n    <!-- Weekly Print Button -->\r\n    <button \r\n        class=\"btn btn-primary btn-sm\"\r\n        @click=\"getAllData().then(() => printWeeklyComprehensiveReport())\"\r\n        :disabled=\"loadingAllData\"\r\n    >\r\n        <span v-if=\"loadingAllData\" v-html=\"loadingSpinner()\"></span>\r\n        <span v-else>Print Weekly Report</span>\r\n    </button>\r\n   \r\n    <button \r\n        class=\"btn btn-outline-secondary btn-sm\"\r\n        data-bs-toggle=\"modal\" \r\n        data-bs-target=\"#view-site-attachment-modal\"\r\n        @click=\"getSiteAttachments()\"\r\n        title=\"View Site Report Attachments\"\r\n    >\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-paperclip me-1\" viewBox=\"0 0 16 16\">\r\n              <path d=\"M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0z\"/>\r\n            </svg>\r\n    </button>\r\n\r\n    <a \r\n        href=\"https://bushman.ink/daily_construction_report.pdf\" \r\n        target=\"_blank\"\r\n        class=\"btn btn-dark btn-sm\"\r\n        v-if=\"user_permissions.includes('can_print_daily_work_report')\"\r\n    >\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-printer me-1\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n            <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n        </svg>\r\n        Print Empty report\r\n    </a>\r\n\r\n</div>\r\n\r\n\r\n\r\n  <div class=\"panel-body simple-tab tabs\" v-if=\"supervisorAttendance.report \">\r\n    <div class=\"d-flex justify-content-between align-items-center\" >\r\n        <ul class=\"nav nav-tabs mb-3 mt-3\" id=\"simpletab\" role=\"tablist\">\r\n            <li class=\"nav-item\">\r\n    <a class=\"nav-link\"  id=\"home-tab\" data-bs-toggle=\"tab\" href=\"#home\"\r\n       role=\"tab\" aria-controls=\"home\" aria-selected=\"false\">project details</a>\r\n</li>\r\n<li class=\"nav-item\" @click=\"getItemUsage()\">\r\n    <a class=\"nav-link \"  id=\"profile-tab\" data-bs-toggle=\"tab\" href=\"#profile\"\r\n       role=\"tab\" aria-controls=\"profile\" aria-selected=\"true\">Materials used</a>\r\n</li>\r\n<li class=\"nav-item\" @click=\"item_id = 364 , getBulkDistribution()\">\r\n    <a class=\"nav-link \"  id=\"diesel-tab\" data-bs-toggle=\"tab\" href=\"#diesel\"\r\n       role=\"tab\" aria-controls=\"diesel\" aria-selected=\"true\">Bulk Diesel </a>\r\n</li>\r\n\r\n<li class=\"nav-item\" @click=\"item_id = 365, getBulkDistribution()\">\r\n    <a class=\"nav-link \"  id=\"petrol-tab\" data-bs-toggle=\"tab\" href=\"#petrol\"\r\n       role=\"tab\" aria-controls=\"petrol\" aria-selected=\"true\">Bulk Petrol</a>\r\n</li>\r\n\r\n<li class=\"nav-item\" @click=\"item_id = '' , getAssetConsumption()\">\r\n    <a class=\"nav-link \"  id=\"diesel-tab\" data-bs-toggle=\"tab\" href=\"#diesel\"\r\n       role=\"tab\" aria-controls=\"diesel\" aria-selected=\"true\">Project Fuel Statement</a>\r\n</li>\r\n\r\n<li class=\"nav-item\" @click=\"getDeliveryNotes()\">\r\n    <a class=\"nav-link \"  id=\"delivery-notes-tab\" data-bs-toggle=\"tab\" href=\"#delivery-notes\"\r\n       role=\"tab\" aria-controls=\"delivery-notes\" aria-selected=\"true\">Delivery Notes</a>\r\n</li>\r\n\r\n<li class=\"nav-item\" @click=\"getStoreItems()\">\r\n    <a class=\"nav-link\" \r\n       \r\n       id=\"store-tab\" \r\n       data-bs-toggle=\"tab\" \r\n       href=\"#store\"\r\n       role=\"tab\" \r\n       aria-controls=\"store\" \r\n       aria-selected=\"true\"\r\n       :tabindex=\"!supervisorAttendance.report  ? -1 : 0\">\r\n       Store Items\r\n    </a>\r\n</li>\r\n<li class=\"nav-item\">\r\n    <a class=\"nav-link\" \r\n       :class=\"{ disabled:!supervisorAttendance.report  }\"\r\n       id=\"shortage-tab\" \r\n       data-bs-toggle=\"tab\" \r\n       href=\"#shortage\" \r\n       @click=\"getIssueNotes()\"\r\n       role=\"tab\" \r\n       aria-controls=\"store\" \r\n       aria-selected=\"true\"\r\n       :tabindex=\"!supervisorAttendance.report  ? -1 : 0\">\r\n       Shortage Statement\r\n    </a>\r\n</li>\r\n\r\n<li class=\"nav-item\">\r\n    <a class=\"nav-link\" \r\n       :class=\"{ disabled: !supervisorAttendance.report }\"\r\n       id=\"challenge-tab\" \r\n       data-bs-toggle=\"tab\" \r\n       href=\"#challenge\" \r\n       @click=\"getChallenges()\"\r\n       role=\"tab\" \r\n       aria-controls=\"challenge\" \r\n       aria-selected=\"true\"\r\n       :tabindex=\"!supervisorAttendance.report  ? -1 : 0\">\r\n       Challenges Faced\r\n    </a>\r\n</li>\r\n\r\n<li class=\"nav-item\">\r\n    <a class=\"nav-link active\"  id=\"labour-tab\" data-bs-toggle=\"tab\" href=\"#labour\" @click=\"getLabourAttendant()\"\r\n       role=\"tab\" aria-controls=\"labour\" aria-selected=\"true\">Labour Attendance</a>\r\n</li>\r\n<li class=\"nav-item\">\r\n    <a class=\"nav-link \"  id=\"work-tab\" data-bs-toggle=\"tab\" href=\"#work\" @click=\"getWorkCarriedOut()\"\r\n       role=\"tab\" aria-controls=\"work\" aria-selected=\"true\">Work Carried Out</a>\r\n</li>\r\n\r\n        </ul>\r\n  \r\n    </div>\r\n    <div class=\"tab-content\" id=\"simpletabContent\">\r\n\r\n        <div class=\"tab-pane fade \" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\">\r\n            <div class=\"row card shadow \">\r\n                <div class=\"col-md-12 text-start mt-3\">\r\n                    <p class=\"mb-1 text-start\"><strong>Project Details: </strong>{{ store?.project?.project_name }}</p>  <br>                  \r\n                    <p class=\"mb-1 text-start\"><strong>Financial Year:</strong> {{ store?.project?.financial_year }}</p><br>\r\n                    <p class=\"mb-1 text-start\"><strong>Client:</strong> {{ store?.project?.client }}</p><br>\r\n                    <p class=\"mb-1 text-start\"><strong>Contract Number:</strong> {{ store?.project?.contract_number }}</p><br>\r\n                    <p class=\"mb-1 text-start\"><strong>Store Name:</strong> {{ store?.project?.short_name }}</p><br>\r\n                    <p class=\"mb-1 text-start\"><strong>Officer Incharge:</strong> {{ store?.officer?.name }}</p><br>\r\n                    <p class=\"mb-1 text-start\"><strong>Phone No:</strong> {{ store?.officer?.phone_no }}</p><br>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"tab-pane fade \" id=\"profile\" role=\"tabpanel\" aria-labelledby=\"profile-tab\" >\r\n             \r\n          <h5 class=\"text-center\">SITE MATERIALS USED STETEMENT </h5>\r\n          <div class=\"d-flex justify-content-end\">\r\n\r\n          <button class=\"btn btn-primary me-2\"\r\n     data-bs-toggle=\"modal\" data-bs-target=\"#work-form\"\r\n     @click=\"getStoreItems()\"\r\n    >\r\n       <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-plus-square\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect><line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\"></line><line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line></svg>\r\n    </button>\r\n\r\n         <button \r\n            class=\"btn btn-success  me-2\" \r\n            @click=\"printReport\" \r\n            title=\"Print Report\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n            <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n            </svg>\r\n            &nbsp;Print\r\n            </button>\r\n     \r\n                    </div>\r\n\r\n  \r\n          <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                                      <!-- loading spinner starts -->\r\n        <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n        <!-- Loading spinner ends -->\r\n                        <v-client-table v-else :data=\"filteredReportItemUsage\" :columns=\"itemUsageColumns\" :options=\"table_option\" >\r\n                           <template #action=\"props\">\r\n                         <a href=\"javascript:void(0);\" \r\n                          title=\"Return Items\"\r\n                          @click=\"returnedItem = props.row\"\r\n                          data-bs-toggle=\"modal\" \r\n                          data-bs-target=\"#return-items\"\r\n                          class=\"text-primary\"\r\n                           \r\n                                 >\r\n                           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-arrow-left-square\" viewBox=\"0 0 16 16\">\r\n  <path fill-rule=\"evenodd\" d=\"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm11.5 5.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z\"/>\r\n</svg>\r\n                                    </a>\r\n                           </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n\r\n        <div class=\"tab-pane fade\" id=\"diesel\" role=\"tabpanel\" aria-labelledby=\"diesel-tab\">\r\n  <div class=\"panel p-0\">\r\n      <h5 class=\"text-center mt-2\" v-if=\"item_id\">SITE DIESEL STETEMENT</h5>\r\n    <div class=\"custom-table table3 p-2\">\r\n      <div class=\"d-flex align-items-start\" v-if=\"item_id\">\r\n        <div>\r\n          <table class=\"table mb-0\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th class=\"text-primary\">Used</th>\r\n                <th class=\"text-success\">Balance</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td class=\"fw-bold\">Diesel</td>\r\n                <td>{{ bulkData?.diesel_used }} L</td>\r\n                <td>{{ bulkData?.diesel_balance }} L</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div class=\"ms-auto\">\r\n          <button class=\"btn btn-primary\"\r\n                data-bs-toggle=\"modal\" \r\n                data-bs-target=\"#fuel-form\"\r\n                @click=\"fuel='diesel',getAssets()\"\r\n          >Issue Diesel</button>\r\n        </div>\r\n      </div>\r\n      <div v-else>\r\n        <h5 class=\"text-center\">DIESEL AND PETROL STATEMENT</h5>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n  <div v-else class=\"panel p-0 mt-3\">\r\n    <div class=\"custom-table table3\">\r\n      <v-client-table \r\n        :data=\"bulkDistribution\" \r\n        :columns=\"distributionColumn\" \r\n        :options=\"table_option\">\r\n        <template #machine=\"props\">\r\n          <router-link class=\"text-primary\" :to=\"`/assets/fuel-statement/${props.row.asset_id}`\">\r\n           {{ props.row.machine }}\r\n          </router-link>\r\n        </template>\r\n        <template #actions=\"props\">\r\n        <div class=\"position-relative d-inline-block\">\r\n                                        <svg \r\n    xmlns=\"http://www.w3.org/2000/svg\" \r\n    width=\"26\" \r\n    height=\"26\" \r\n    fill=\"currentColor\" \r\n    viewBox=\"0 0 24 24\"\r\n    style=\"cursor: pointer;\"\r\n    title=\"Add Remark\"\r\n     data-bs-toggle=\"modal\" data-bs-target=\"#edit\"\r\n      @click=\"statement = props.row\"\r\n\r\n  >\r\n\r\n   <!-- @click=\"openRemarkModal(props.row)\" -->\r\n    <!-- Speech Bubble -->\r\n    <path d=\"M4 4h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7l-4 4v-16a2 2 0 0 1 2-2z\" \r\n          stroke=\"currentColor\" \r\n          stroke-width=\"2\" \r\n          fill=\"none\" \r\n          stroke-linejoin=\"round\"/>\r\n    \r\n    <!-- Horizontal Remark Lines -->\r\n    <line x1=\"7\" y1=\"9\" x2=\"17\" y2=\"9\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\r\n    <line x1=\"7\" y1=\"13\" x2=\"14\" y2=\"13\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\r\n    \r\n  <!-- notification circle starts -->\r\n    <circle\r\n    v-if=\"props.row.remark\"\r\n    cx=\"19\" cy=\"6\" r=\"6\" fill=\"red\" stroke=\"white\" stroke-width=\"1.5\"/>\r\n  <!-- notification circle ends -->\r\n  </svg>\r\n\r\n   <!-- Black notification circle for missing readings -->\r\n    <svg \r\n      v-if=\"!props.row.initial || !props.row.final || parseFloat(props.row.initial) === 0 || parseFloat(props.row.final) === 0\"\r\n      xmlns=\"http://www.w3.org/2000/svg\" \r\n      width=\"20\" \r\n      height=\"20\" \r\n      fill=\"currentColor\" \r\n      class=\"bi bi-exclamation-triangle-fill text-warning position-absolute top-0 start-100 translate-middle\" \r\n      viewBox=\"0 0 16 16\"\r\n      title=\"Missing readings\"\r\n      style=\"cursor: pointer; z-index: 10;\">\r\n      <path d=\"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5m.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2\"/>\r\n    </svg>\r\n    </div>\r\n        </template>\r\n      </v-client-table>\r\n    </div>\r\n  </div>\r\n       </div>\r\n\r\n          <div class=\"tab-pane fade\" id=\"shortage\" role=\"tabpanel\" aria-labelledby=\"shortage-tab\">\r\n  \r\n      <h5 class=\"text-center mb-0\">SITE DELIVERY NOTE SHORTAGE STATEMENT</h5>\r\n        <div class=\"bg-white px-3 py-2 rounded fw-bold \">Shortage Cost : {{ formatNumber(totalShortageCost) }}</div>\r\n  \r\n  <div class=\"panel p-0\">\r\n  <div class=\"custom-table table3\">\r\n                        <v-client-table :data=\"notes\" :columns=\"columns\" :options=\"table_option\">\r\n                            <template #status=\"props\">\r\n                                <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.color\">{{ props.row.status.name }} </span>\r\n                            </template>\r\n                           <template #footer>\r\n                               <div class=\"modal-footer\">\r\n                                   <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                                   <button type=\"button\" class=\"btn btn-primary\" @click=\"save_edit\" :disabled=\"isSaving\" >Save changes</button>\r\n                               </div>\r\n                           </template>\r\n                        </v-client-table>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n        \r\n\r\n     \r\n    <div class=\"tab-pane fade \" id=\"petrol\" role=\"tabpanel\" aria-labelledby=\"petrol-tab\">\r\n      <div class=\"panel p-0\">\r\n          <h5 class=\"text-center mt-2\">SITE PETROL STETEMENT</h5>\r\n    <div class=\"custom-table table3 p-2\">\r\n      <div class=\"d-flex align-items-start\">\r\n        <div>\r\n          <table class=\"table mb-0\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th class=\"text-primary\">Used</th>\r\n                <th class=\"text-success\">Balance</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td class=\"fw-bold\">Petrol</td>\r\n                <td>{{ bulkData?.petrol_used }} L</td>\r\n                <td>{{ bulkData?.petrol_balance }} L</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div class=\"ms-auto\">\r\n          <button class=\"btn btn-primary\"\r\n           data-bs-toggle=\"modal\" \r\n           data-bs-target=\"#fuel-form\"\r\n          @click=\"fuel='petrol',getAssets()\"\r\n          >Issue Petrol</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n   <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n  <div v-else class=\"panel p-0 mt-3\">\r\n    <div class=\"custom-table table3\">\r\n      <v-client-table \r\n        :data=\"bulkDistribution\" \r\n        :columns=\"distributionColumn\" \r\n        :options=\"table_option\">\r\n         <template #machine=\"props\">\r\n          <router-link class=\"text-primary\" :to=\"`/assets/fuel-statement/${props.row.asset_id}`\">\r\n           {{ props.row.machine }}\r\n          </router-link>\r\n        </template>\r\n        <template #actions=\"props\">\r\n                                        <svg \r\n    xmlns=\"http://www.w3.org/2000/svg\" \r\n    width=\"26\" \r\n    height=\"26\" \r\n    fill=\"currentColor\" \r\n    viewBox=\"0 0 24 24\"\r\n    style=\"cursor: pointer;\"\r\n    title=\"Add Remark\"\r\n     data-bs-toggle=\"modal\" data-bs-target=\"#edit\"\r\n      @click=\"statement = props.row\"\r\n\r\n  >\r\n\r\n   <!-- @click=\"openRemarkModal(props.row)\" -->\r\n    <!-- Speech Bubble -->\r\n    <path d=\"M4 4h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7l-4 4v-16a2 2 0 0 1 2-2z\" \r\n          stroke=\"currentColor\" \r\n          stroke-width=\"2\" \r\n          fill=\"none\" \r\n          stroke-linejoin=\"round\"/>\r\n    \r\n    <!-- Horizontal Remark Lines -->\r\n    <line x1=\"7\" y1=\"9\" x2=\"17\" y2=\"9\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\r\n    <line x1=\"7\" y1=\"13\" x2=\"14\" y2=\"13\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\r\n    \r\n  <!-- notification circle starts -->\r\n    <circle\r\n    v-if=\"props.row.remark\"\r\n    cx=\"19\" cy=\"6\" r=\"6\" fill=\"red\" stroke=\"white\" stroke-width=\"1.5\"/>\r\n  <!-- notification circle ends -->\r\n  </svg>\r\n        </template>\r\n      </v-client-table>\r\n    </div>\r\n  </div>\r\n            </div>\r\n\r\n        <!-- delivery note starts -->\r\n        <div class=\"tab-pane fade \" id=\"delivery-notes\" role=\"tabpanel\" aria-labelledby=\"delivery-notes-tab\">\r\n       <div class=\"panel p-0\">\r\n    <div class=\"custom-table table3 p-2\">\r\n      <h5 class=\"text-center\">SITE DELIVERY NOTES</h5>\r\n      <div class=\"d-flex align-items-start\">\r\n       \r\n        <div class=\"ms-auto\">\r\n          <button class=\"btn btn-success\"\r\n          @click=\"showError('Printout Not Found!')\"\r\n          >Print </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n   <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n  <div v-else class=\"panel p-0 mt-3\">\r\n    <div class=\"custom-table table3\">\r\n      <v-client-table \r\n        :data=\"deliveryNotes\" \r\n        :columns=\"deliveryNotesColumns\" \r\n        :options=\"table_option\">\r\n        <template #action=\"props\">\r\n           <svg \r\n                                     xmlns=\"http://www.w3.org/2000/svg\" \r\n                                     width=\"28\" height=\"28\" \r\n                                     fill=\"currentColor\"\r\n                                      class=\"bi bi-eye text-secondary\" \r\n                                      viewBox=\"0 0 16 16\"\r\n                                      data-bs-toggle=\"modal\" data-bs-target=\"#delivery\"\r\n                                      @click=\"deliveryNoteRecords = props.row.records,record = props.row\"\r\n                                      >\r\n                                      <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z\"/>\r\n                                      <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0\"/>\r\n            </svg>\r\n\r\n        </template>\r\n      </v-client-table>\r\n    </div>\r\n  </div>\r\n        </div>\r\n        <!-- delivery note ends -->\r\n\r\n         <!-- store items tab starts -->\r\n          <div class=\"tab-pane fade \" id=\"store\" role=\"tabpanel\" aria-labelledby=\"store-tab\">\r\n   <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n  <div v-else class=\"panel p-0 mt-3\">\r\n\r\n <div class=\"d-flex flex-column flex-md-row align-items-center justify-content-between text-center text-md-start\">\r\n  <h5 class=\"mb-3 mb-md-0 w-100 text-center\">{{ storeCategory.toUpperCase() }} STORE ITEMS LIST</h5>\r\n  <div class=\"btn-group mt-2 mt-md-0\">\r\n    <button class=\"btn btn-success text-nowrap me-2\" @click=\"filterStoreItems('all')\">All Items</button>\r\n    <button class=\"btn btn-dark text-nowrap me-2\" @click=\"filterStoreItems('Consumable')\">Consumable</button>\r\n    <button class=\"btn btn-primary text-nowrap\" @click=\"filterStoreItems('Receivable')\">Receivable</button>\r\n  </div>\r\n</div>\r\n\r\n\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table :data=\"filteredStoreItems\" :columns=\"itemsColumns\" :options=\"table_option\" >\r\n                            <template #actions=\"props\">\r\n                                <div class=\"d-flex justify-content-center align-items-center\"></div>\r\n                            </template>\r\n                        </v-client-table>\r\n                    </div>\r\n  </div>\r\n        </div>\r\n          <!-- store items tab ends -->\r\n\r\n           <!-- challenges tab starts -->\r\n              <div class=\"tab-pane fade \" id=\"challenge\" role=\"tabpanel\" aria-labelledby=\"challenge-tab\">\r\n   <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n  <div v-else class=\"panel p-0 mt-3\">\r\n\r\n    <h5 class=\"text-center mt-3 \">CHALLENGES FACED AT SITE</h5>\r\n    <div class=\"d-flex\">\r\n      <div class=\"ms-auto\">\r\n        <button class=\"btn me-2\" :class=\"!fillChallenge ? 'btn-primary ':'btn-danger'\" @click=\"fillChallenge =! fillChallenge\">\r\n            <svg\r\n            v-if=\"!fillChallenge\"\r\n            xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-plus-square\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect><line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\"></line><line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line></svg>\r\n            <span v-else>X</span>\r\n          </button>\r\n      </div>\r\n    </div>\r\n    <!-- challenge form starts -->\r\n     <form v-if=\"fillChallenge\" @submit.prevent=\"submitChallenge()\">\r\n       <div class=\"row mt-2 \">\r\n         <div class=\"col-md-6 \">\r\n          <label class=\"form-label mx-2\">Challenge Faced</label>\r\n               <textarea class=\"form-control\" placeholder=\"Enter challenge faced\" v-model=\"challenge\"></textarea>\r\n         </div>\r\n        <div class=\"col-md-6 \">\r\n          <label class=\"form-label mx-2\">Proposed Measure</label>\r\n              <textarea class=\"form-control\" placeholder=\"Enter Proposed Measure\" v-model=\"measure\"></textarea>\r\n         </div>\r\n       </div>\r\n       <div class=\"d-flex\">\r\n        <div class=\"ms-auto\">\r\n          <button class=\"btn btn-success me-2 mt-1\" :disabled=\"isSending\">\r\n             <span v-if=\"isSending\" v-html=\"loadingSpinner()\"></span>\r\n            <span>Save</span>\r\n          </button>\r\n        </div>\r\n       </div>\r\n     </form>\r\n     <!-- challenge form ends -->\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table :data=\"challenges\" :columns=\"challengesColumns\" :options=\"table_option\" >\r\n                            <template #actions=\"props\">\r\n                         <svg \r\n                                     xmlns=\"http://www.w3.org/2000/svg\" \r\n                                     width=\"28\" height=\"28\" \r\n                                     fill=\"currentColor\"\r\n                                      class=\"bi bi-eye text-secondary\" \r\n                                      viewBox=\"0 0 16 16\"\r\n                                      data-bs-toggle=\"modal\" data-bs-target=\"#remark-challenge\"\r\n                                      @click=\"selectedChallenge = props.row\"\r\n                                      >\r\n                                      <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z\"/>\r\n                                      <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0\"/>\r\n            </svg>       \r\n                            </template>\r\n                        </v-client-table>\r\n                    </div>\r\n  </div>\r\n        </div>\r\n            <!-- challenges tab ends -->\r\n\r\n\r\n                <!-- labour tab starts -->\r\n<div class=\"tab-pane fade  show active\" id=\"labour\" role=\"tabpanel\" aria-labelledby=\"labour-tab\">\r\n<div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n  <div v-else class=\"panel p-0 mt-3\">\r\n\r\n\r\n\r\n    <h5 class=\"text-center mt-3 \">LABOUR ATTENDANCE</h5>\r\n      <div class=\"d-flex justify-content-end\">\r\n\r\n        <button class=\"btn me-2\" :class=\"!fillAttendant ? 'btn-primary ':'btn-danger'\" @click=\"fillAttendant =! fillAttendant;getLabourType()\" v-if=\"supervisorAttendance.report\">\r\n            <svg\r\n            v-if=\"!fillAttendant\"\r\n            xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-plus-square\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect><line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\"></line><line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line></svg>\r\n            <span v-else>X</span>\r\n          </button>\r\n           <button class=\"btn btn-success me-2\" @click=\"printAttendance()\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n            <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n            </svg>\r\n          </button>\r\n                                      <router-link :to=\"`/attendances/individual`\">\r\n                                <button \r\n                                    class=\"btn btn-info align-items-center me-2\"\r\n                                    title=\"Your Attendances\"\r\n                                >\r\n         <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-geo-alt-fill\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6\"/>\r\n</svg>\r\n         \r\n                                </button>\r\n                            </router-link>\r\n    \r\n    </div>\r\n    <!-- labour attendant form starts -->\r\n     <form v-if=\"fillAttendant\" @submit.prevent=\"submitLabourAttendant()\">\r\n       <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                    <label class=\"form-label\">Labour Name</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter Labour Name\" v-model=\"labour_name\" required>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <label class=\"form-label small\">Labour Type</label>\r\n                    <multiselect \r\n                        v-model=\"labour_type\"\r\n                        :options=\"labour_types\"\r\n                        placeholder=\"select labour type\"\r\n                        label=\"name\"\r\n                        :searchable=\"true\"        \r\n                        :multiple=\"false\"\r\n                        :required=\"true\"\r\n                        :allow-empty=\"false\"\r\n                    ></multiselect>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <label class=\"form-label\">Reporting Time</label>\r\n                    <input type=\"time\" class=\"form-control\" placeholder=\"Enter Report Time\" v-model=\"report_time\" required>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <label class=\"form-label\">Task</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter Task\" v-model=\"task\" required>\r\n                </div>\r\n            </div>\r\n       <div class=\"d-flex\">\r\n        <div class=\"ms-auto\">\r\n          <button class=\"btn btn-success me-2 mt-1\" :disabled=\"isSending\">\r\n             <span v-if=\"isSending\" v-html=\"loadingSpinner()\"></span>\r\n            <span>Save</span>\r\n          </button>\r\n        </div>\r\n       </div>\r\n     </form>\r\n     <!-- labour attendant form ends -->\r\n                    <div class=\"custom-table table3\">\r\n                        <v-client-table :data=\"filteredReportLabourAttendance\" :columns=\"labour_attendant_columns\" :options=\"table_option\" >\r\n                          <template #status=\"props\">\r\n                                <span class=\"badge inv-status\" :class=\"'badge-' + props.row.status.class\">{{ props.row.status.key }} </span>\r\n                            </template>\r\n                            <template #actions=\"props\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-calendar-week\" viewBox=\"0 0 16 16\"\r\n             data-bs-toggle=\"modal\" data-bs-target=\"#edit-labour-modal\"\r\n                                     @click=\"openLabourModal(props.row) ; getStatuses()\"\r\n                                     v-if=\"props.row.status.key === 'Pending' ||  user_permissions.includes('can_edit_labour_attendance')\">\r\n  <path d=\"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z\"/>\r\n  <path d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z\"/>\r\n</svg>\r\n                            </template>\r\n                        </v-client-table>\r\n                    </div>\r\n  </div>\r\n        </div>\r\n            <!-- labour tab ends -->\r\n\r\n            \r\n                            <!-- work carried out tab starts -->\r\n<div class=\"tab-pane fade\" id=\"work\" role=\"tabpanel\" aria-labelledby=\"work-tab\">\r\n  <div v-if=\"loading_spinner\" v-html=\"tableShimmer()\"></div>\r\n\r\n  <div v-else class=\"panel p-0 mt-3\">\r\n    <h5 class=\"text-center mt-3\">WORK CARRIED OUT </h5>\r\n\r\n    <!-- Add New Button -->\r\n    <div class=\"d-flex\">\r\n      <div class=\"ms-auto d-flex gap-2\">\r\n        <input \r\n          type=\"text\" \r\n          v-model=\"searchQuery\" \r\n          class=\"form-control form-control-sm\" \r\n          style=\"width: 250px;\"\r\n          placeholder=\"Search work carried out...\"\r\n        >\r\n        <button\r\n          class=\"btn btn-primary me-2\"\r\n          data-bs-toggle=\"modal\"\r\n          data-bs-target=\"#report-modal\"\r\n          v-if=\"user_permissions.includes('can_add_work_carried_out_report')\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            stroke-width=\"2\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n            class=\"feather feather-plus-square\"\r\n          >\r\n            <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\r\n            <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\"></line>\r\n            <line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Reports Displayed as Cards -->\r\n    <div class=\"row mt-4\">\r\n      <div\r\n        v-for=\"(report, index) in filteredSiteWorkReport \"\r\n        :key=\"report.id\"\r\n        class=\"col-12 col-md-6 mb-4\"\r\n      >\r\n        <div class=\"card shadow\">\r\n          <div class=\"card-body\">\r\n            <div class=\"d-flex justify-content-between align-items-center\">\r\n              <h5 class=\"card-title text-dark fw-bold text-start mb-0\">\r\n                {{ report.report_name || 'Untitled Report' }}{{ report.description ? `(${report.description})` : '' }} {{ report.date }}\r\n              </h5>\r\n              <div class=\"ms-auto me-2\">\r\n                <button class=\"btn btn-success me-2\" @click=\"printActivities(report)\">\r\n                     <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-printer\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1\"/>\r\n            <path d=\"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1\"/>\r\n            </svg>\r\n                </button>\r\n              </div>\r\n  \r\n             <div class=\"d-flex gap-2\">\r\n  <button \r\n    type=\"button\"\r\n    class=\"btn btn-primary btn-sm me-2\"\r\n    data-bs-toggle=\"modal\" \r\n    data-bs-target=\"#remark-modal\" \r\n    @click=\"openRemarkModal(report)\"\r\n    v-if=\"user_permissions.includes('can_remark_work_carried_out_report')\"\r\n  >\r\n    Remark\r\n  </button>\r\n  \r\n  <!-- Delete Button with Loading Spinner -->\r\n  <button \r\n    type=\"button\"\r\n    class=\"btn btn-danger btn-sm d-flex align-items-center justify-content-center\"\r\n    @click=\"deleteWorkReport(report.id)\"\r\n    :disabled=\"isDeletingReport && currentDeletingReportId === report.id\"\r\n    v-if=\"(user_permissions.includes('can_delete_work_carried_out_report') && new Date(report.created_at).toISOString().split('T')[0] === today) || user_permissions.includes('is_programmer') \"\r\n    style=\"min-width: 80px;\"\r\n  >\r\n    <!-- Loading Spinner -->\r\n    <span \r\n      v-if=\"isDeletingReport && currentDeletingReportId === report.id\"\r\n      class=\"spinner-border spinner-border-sm me-1\" \r\n      role=\"status\"\r\n      style=\"width: 14px; height: 14px;\"\r\n    >\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </span>\r\n    \r\n    <!-- Button Text -->\r\n    <span v-if=\"isDeletingReport && currentDeletingReportId === report.id\">\r\n      Deleting...\r\n    </span>\r\n    <span v-else>\r\n      Delete\r\n    </span>\r\n  </button> \r\n</div>\r\n            </div>\r\n\r\n\r\n\r\n            <div class = \"my-4\">\r\n            <p class=\"text-muted mb-1 text-start\"><strong>Supervisor:</strong> {{ report.supervisor?.name }}</p>\r\n           <p v-if=\"report.remark\" class=\"text-muted mb-1 text-start mt-3\"><strong>Remark:</strong> {{ report.remark }}</p>\r\n\r\n            <div class=\"panel p-0 mt-3\">\r\n         <div class=\"custom-table table3 mt-3\">\r\n  <v-client-table \r\n    :data=\"report.activities\" \r\n    :columns=\"activity_columns\" \r\n    :options=\"table_option\">\r\n    <template #actions=\"props\">\r\n      <!-- Edit SVG -->\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"24\"\r\n        height=\"24\"\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        stroke-width=\"1.5\"\r\n        stroke-linecap=\"round\"\r\n        stroke-linejoin=\"round\"\r\n        class=\"text-primary\"\r\n        data-bs-toggle=\"modal\" \r\n        data-bs-target=\"#edit-activity-modal\"\r\n        @click=\"openEditActivityModal(props.row)\"\r\n        style=\"cursor: pointer;\"\r\n        title=\"Edit Activity\"\r\n        v-if=\"(user_permissions.includes('can_edit_work_carried_out_report') && new Date(props.row.created_at).toISOString().split('T')[0] === today) || user_permissions.includes('is_programmer') \"\r\n      >\r\n        <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n        <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n      </svg>\r\n\r\n      <!-- Loading Spinner for Delete -->\r\n      <div \r\n        v-if=\"isDeletingActivity && currentDeletingActivityId === props.row.id\"\r\n        class=\"spinner-border spinner-border-sm text-danger ms-2\" \r\n        role=\"status\"\r\n        style=\"width: 24px; height: 24px; display: inline-flex; align-items: center; justify-content: center;\"\r\n        title=\"Deleting...\"\r\n      >\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n      \r\n      <!-- Delete SVG (only show when not deleting this specific activity) -->\r\n      <svg \r\n         v-if=\"(user_permissions.includes('can_delete_work_carried_out_report') && new Date(props.row.created_at).toISOString().split('T')[0] === today) || user_permissions.includes('is_programmer') \"\r\n        xmlns=\"http://www.w3.org/2000/svg\" \r\n        width=\"24\" \r\n        height=\"24\" \r\n        viewBox=\"0 0 24 24\" \r\n        fill=\"none\" \r\n        stroke=\"currentColor\" \r\n        stroke-width=\"1.5\" \r\n        stroke-linecap=\"round\" \r\n        stroke-linejoin=\"round\" \r\n        class=\"text-danger ms-2\"\r\n        @click=\"deleteActivity(props.row.id)\"\r\n        style=\"cursor: pointer;\"\r\n        title=\"Delete Activity\"\r\n      >\r\n        <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n        <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line>\r\n        <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line>\r\n      </svg>\r\n    </template>\r\n  </v-client-table>\r\n</div>\r\n            </div>\r\n\r\n</div>\r\n\r\n<div class=\"d-flex gap-2 justify-content-end\">\r\n <button \r\n    type=\"button\"\r\n    class=\"btn btn-primary btn-sm me-3\"\r\n    data-bs-toggle=\"modal\" \r\n    data-bs-target=\"#add-activity-modal\" \r\n    @click=\"report_id = report.id\"\r\n    v-if=\"user_permissions.includes('can_add_work_carried_out_report')\"\r\n  >\r\n    Add Activity\r\n  </button>\r\n\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" fill=\"currentColor\" class=\"bi bi-card-image\" viewBox=\"0 0 16 16\" data-bs-toggle=\"modal\" \r\n    data-bs-target=\"#add-attachment-modal\" \r\n    @click=\"report_id = report.id\"\r\n    v-if=\"user_permissions.includes('can_add_work_carried_out_report')\"\r\n    >\r\n      <path d=\"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0\"/>\r\n      <path d=\"M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2zm13 1a.5.5 0 0 1 .5.5v6l-3.775-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12v.54L1 12.5v-9a.5.5 0 0 1 .5-.5z\"/>\r\n    </svg>\r\n    </div>\r\n\r\n<!-- Attachments Section -->\r\n<div class=\"row mt-3\" v-if=\"report.attachments && report.attachments.length > 0\">\r\n  <div class=\"col-12\">\r\n    <h6 class=\"text-start fw-bold mb-3\">Activity Attachments</h6>\r\n    <div class=\"row g-3\">\r\n      <div \r\n  v-for=\"attachment in report.attachments\" \r\n  :key=\"attachment.id\"\r\n  :class=\"report.attachments.length > 6 ? 'col-md-3 col-sm-6' : report.attachments.length > 4 ? 'col-md-4 col-sm-6' : 'col-md-6 col-sm-6'\"\r\n>\r\n        <div class=\"card shadow-sm h-100\">\r\n  <div class=\"card-body p-2\">\r\n    <div class=\"attachment-preview mb-2\" style=\"height: 150px; overflow: hidden; border-radius: 9px; display: flex; align-items: center; justify-content: center; background-color: #f8f9fa;\">\r\n      <img \r\n        :src=\"`${baseURL}/${attachment.file_path}`\" \r\n        :alt=\"attachment.description\"\r\n        style=\"max-width: 100%; max-height: 100%; object-fit: contain; cursor: pointer;\"\r\n        @click=\"viewAttachment(`${baseURL}/${attachment.file_path}`, attachment)\"\r\n        data-bs-toggle=\"modal\" \r\n        data-bs-target=\"#view-attachment-modal\"\r\n      >\r\n    </div>\r\n    <div class=\"d-flex justify-content-between align-items-center\">\r\n      <p class=\"mb-1 small text-muted\">\r\n        <strong>{{ attachment.description || ' ' }}</strong>\r\n      </p>\r\n      \r\n      <!-- Loading Spinner -->\r\n      <div \r\n        v-if=\"isDeleting && currentDeletingId === attachment.id\"\r\n        class=\"spinner-border spinner-border-sm text-danger\" \r\n        role=\"status\"\r\n        style=\"width: 20px; height: 20px;\"\r\n      >\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n      <!-- Delete SVG (only show when not deleting this specific attachment) -->\r\n      <svg \r\n        v-else-if=\"user_permissions.includes('can_delete_work_carried_out_report') && new Date().toDateString()\"\r\n        xmlns=\"http://www.w3.org/2000/svg\" \r\n        width=\"20\" \r\n        height=\"20\" \r\n        viewBox=\"0 0 24 24\" \r\n        fill=\"none\" \r\n        stroke=\"currentColor\" \r\n        stroke-width=\"1.5\" \r\n        stroke-linecap=\"round\" \r\n        stroke-linejoin=\"round\" \r\n        class=\"text-danger\"\r\n        @click=\"deleteAttachment(attachment.id)\"\r\n        style=\"cursor: pointer;\"\r\n        title=\"Delete Attachment\"\r\n      >\r\n        <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n        <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n        <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line>\r\n        <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line>\r\n      </svg>\r\n    </div>\r\n  </div>\r\n</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n            <!-- Footer Actions -->\r\n<div class=\"card-footer bg-transparent border-0 d-flex justify-content-between\">\r\n  \r\n    </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n            <!-- work carried out tab ends -->\r\n    </div>\r\n   </div>\r\n   \r\n   <div v-else  class=\"container text-center mt-5\">\r\n                               <button \r\n                                class=\"btn btn-success btn-lg me-2 \"\r\n                                :disabled=\"gettingLocation || loading\"\r\n                                @click=\"initiateReport\"\r\n                            >\r\n                                <svg v-if=\"gettingLocation || isSupervisorLoading\" class=\"spinner-border spinner-border-sm me-2\" width=\"20\" height=\"20\" role=\"status\"></svg>\r\n                                <svg v-else xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-check-circle me-2\" viewBox=\"0 0 16 16\">\r\n                                    <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16\"/>\r\n                                    <path d=\"m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05\"/>\r\n                                </svg>\r\n                                <span v-if=\"isSupervisorLoading\">Submitting...</span>\r\n                                <span v-else>Report to Site</span>\r\n                            </button>\r\n\r\n                                <button \r\n                                class=\"btn btn-info btn-lg \"\r\n                                :disabled=\"gettingLocation\"\r\n                                @click=\"getCurrentLocation()\"\r\n                            >\r\n                                <svg v-if=\"loading\" class=\"spinner-border spinner-border-sm me-2\" width=\"20\" height=\"20\" role=\"status\"></svg>\r\n                                <svg v-else xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" class=\"bi bi-geo-alt\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A32 32 0 0 1 8 14.58a32 32 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10\"/>\r\n  <path d=\"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6\"/>\r\n</svg>                          <span v-if=\"loading\">Loading...</span>\r\n                                <span v-else>Refresh Location</span>\r\n                            </button>\r\n<div class=\"alert alert-dark mt-5 text-start alert-dismissible fade show\"  role=\"alert\">\r\n NB: You must report your current location to proceed! , Make sure to allow an app to access your location . If Location is not precise according to map click \"Refresh Location\" Button.\r\n<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\" style=\"filter: invert(1);\"></button>\r\n</div>\r\n\r\n<!-- current location preview before submission -->\r\n<link\r\n  rel=\"stylesheet\"\r\n  href=\"https://unpkg.com/leaflet/dist/leaflet.css\"\r\n/>\r\n\r\n<div id=\"map\" style=\"height:600px\" class=\"mb-2 mt-5\"></div>\r\n\r\n \r\n                             <!-- current location -->\r\n   </div>\r\n     <!-- <div v-if=\"loading\" v-html=\"mapShimmer()\"></div> -->\r\n\r\n\r\n\r\n\r\n\r\n        <!-- store item usage form modal starts -->\r\n<div class=\"modal fade mymodal\" data-bs-backdrop=\"false\" id=\"work-form\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">STORE ITEM USAGE FORM</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"close\"></button>\r\n      </div>\r\n       <form @submit.prevent=\"registerItemUsage()\">\r\n      <div class=\"modal-body\">\r\n   \r\n    <div class=\"row\">\r\n                        <div class=\"col-md-3\">\r\n                          <label class=\"form-label\">Select An Item </label>\r\n        <Multiselect\r\n  v-model=\"store_item\"\r\n  :options=\"storeItems\"\r\n  label=\"name\"\r\n  placeholder=\"Select an item\"  \r\n  :searchable=\"true\" \r\n  :allow-empty=\"false\"\r\n/>                        </div>\r\n\r\n                           <div class=\"col-md-3\">\r\n                          <label class=\"form-label\">Quantity Used , Available : {{ store_item.balance_quantity }}</label>\r\n                          <input class=\"form-control\" type=\"number\" step=\"any\" placeholder=\"Enter Quantity Used \"\r\n                           v-model=\"quantity\"\r\n                           :readonly=\"!store_item\"\r\n                          @input=\"quantity = enforceMax(quantity,store_item.balance_quantity,)\"\r\n                          required\r\n                          :min=\"0.1\"\r\n                           >\r\n                        </div>\r\n                        <div class=\"col-md-3\">\r\n                          <label class=\"form-label\">Condition</label>\r\n                          <label class=\"form-control\" >{{ store_item.condition ?? 'no condition' }}</label>                        \r\n                        </div>\r\n                        <div class=\"col-md-3\">\r\n                          <label class=\"form-label\">Date</label>\r\n                          <input type=\"date\" class=\"form-control\" v-model=\"today\">\r\n                          <!-- <label class=\"form-control\" >{{ today }}</label>                         -->\r\n                        </div>\r\n\r\n        \r\n\r\n                      </div>\r\n  <div class=\"mb-3\">\r\n    <label for=\"message-text\" class=\"col-form-label\">Work Carried Out :</label>\r\n    <textarea class=\"form-control\" id=\"message-text\" placeholder=\"Enter Work Description\" v-model=\"description\"></textarea>\r\n  </div>\r\n\r\n\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" id=\"close\">Close</button>\r\n        <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">\r\n          <span v-if=\"loading\" v-html=\"loadingSpinner()\"></span>\r\n          <span v-else>Save</span>\r\n        </button>\r\n      </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n         <!-- store item usage form modal ends -->\r\n\r\n<!-- diesel stetement form starts  -->\r\n <div class=\"modal fade mymodal\" data-bs-backdrop=\"false\" id=\"fuel-form\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">{{ fuel==='diesel' ? 'DIESEL':'PETROL' }} STATEMENT FORM</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"distribution-form\" @click=\"clearForm()\"></button>\r\n      </div>\r\n       <form @submit.prevent=\"registerAssetConsumption()\">\r\n      <div class=\"modal-body\">\r\n   \r\n    <div class=\"row\">\r\n                        <div class=\"col-md-4\">\r\n                          <label class=\"form-label\">Select An Asset </label>\r\n        <Multiselect\r\n  v-model=\"asset\"\r\n  :options=\"assets\"\r\n  label=\"name\"\r\n  placeholder=\"Select an Asset\"  \r\n  :searchable=\"true\" \r\n  :allow-empty=\"false\"\r\n/>                        </div>\r\n\r\n                           <div class=\"col-md-4\">\r\n                          <label class=\"form-label\">Quantity Used , Available : {{ fuel==='diesel' ? bulkData?.diesel_balance : bulkData?.petrol_balance }}</label>\r\n                          <input class=\"form-control\" type=\"number\" step=\"any\" placeholder=\"Enter Quantity Used \"\r\n                           v-model=\"quantity\"\r\n                           :readonly=\"!asset\"\r\n                          @input=\"quantity = enforceMax(quantity,fuel==='diesel' ? bulkData?.diesel_balance : bulkData?.petrol_balance)\"\r\n                          required\r\n                          :min=\"0.1\"\r\n                           >\r\n                        </div>\r\n\r\n                        <div class=\"col-md-4\">\r\n                          <label class=\"form-label\">Date</label>\r\n                          <!-- <label class=\"form-control\" >{{ today }}</label> -->\r\n                          <input type=\"date\" class=\"form-control\" v-model=\"today\">                        \r\n                        </div>\r\n\r\n                          <div class=\"col-md-4\">\r\n                                    <label for=\"consuption_type\">Consuption Ratio</label>\r\n                                    <select class=\"form-control\" v-model=\"ratio\" name=\"consuption_type\" required>\r\n                                        <option value=\"\">Select Consuption Type</option>\r\n                                        <option value=\"km/Litre\">km/Litre</option>\r\n                                        <option value=\"Litre/hr\">Litre/hr</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                         <div class=\"col-md-4\">\r\n                          <label class=\"form-label\">Driver Name</label>\r\n                          <input class=\"form-control\" type=\"text\" step=\"any\" placeholder=\"Enter Driver Name \" v-model=\"driver_name\">\r\n                        </div>\r\n\r\n                            <div class=\"col-md-2\">\r\n                          <label class=\"form-label\">Initial Reading</label>\r\n                          <input class=\"form-control\" type=\"number\" step=\"any\" placeholder=\"Initial Reading \" v-model=\"initial_reading\">\r\n                        </div>\r\n\r\n                        <div class=\"col-md-2\">\r\n                          <label class=\"form-label\">Final Reading</label>\r\n                          <input class=\"form-control\" type=\"number\" step=\"any\" placeholder=\"Final Reading \" v-model=\"final_reading\">\r\n                        </div>\r\n\r\n        <div class=\"col-md-4\" >\r\n    <label class=\"form-label\">Volume of work</label>\r\n    <input class=\"form-control\" type=\"number\" step=\"any\" placeholder=\"Enter Work Volume\" v-model=\"volume\">\r\n  </div>\r\n\r\n  <div class=\"col-md-4\" >\r\n    <label class=\"form-label\">Unit</label>\r\n  <multiselect \r\n                        v-model=\"unit\"\r\n                        :options=\"units\"\r\n                        placeholder=\"Select Unit\"\r\n                        label=\"short_name\"\r\n                        :searchable=\"true\"        \r\n                        :multiple=\"false\"\r\n                        :allow-empty=\"false\"\r\n                    ></multiselect>\r\n  </div>\r\n\r\n                      </div>\r\n  <div class=\"mb-3\">\r\n    <label for=\"message-text\" class=\"col-form-label\">Work Carried Out :</label>\r\n    <textarea class=\"form-control\" id=\"message-text\" placeholder=\"Enter Work Description\" v-model=\"description\"></textarea>\r\n  </div>\r\n\r\n\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" id=\"close\" @click=\"clearForm()\">Close</button>\r\n        <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">\r\n          <span v-if=\"loading\" v-html=\"loadingSpinner()\"></span>\r\n          <span v-else>Save</span>\r\n        </button>\r\n      </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n <!-- diesel statement form ends -->\r\n\r\n\r\n       <!-- to store returning modal starts --> \r\n                 <div class=\"modal fade mymodal\" id=\"return-items\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\" >\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"staticBackdropLabel\">TO STORE RETURN FORM</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"close-return\" ></button>\r\n      </div>\r\n      <form @submit.prevent=\"returnItem()\">\r\n<div class=\"modal-body\" >\r\n      <div class=\"row layout-top-spacing\" style=\"max-height: 67vh; overflow-y: auto;\">\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                      <div class=\"row\">\r\n                        <div class=\"col-md-4\">\r\n                          <label class=\"form-label\">Item </label>\r\n                          <label class=\"form-control\">{{ returnedItem.item }}</label>                        \r\n                        </div>\r\n\r\n                        <div class=\"col-md-4\">\r\n                          <label class=\"form-label\">Used Quantity</label>\r\n                          <label class=\"form-control\"> {{ returnedItem.used }}</label>                        \r\n                        </div>\r\n                        <div class=\"col-md-4\">\r\n                          <label class=\"form-label\">Returning Quantity : ( available {{ (returnedItem.used - returnedItem.returned).toFixed(2) }})</label>\r\n                          <input type=\"number\" class=\"form-control\" step=\"any\" placeholder=\"Enter Returned Quantity\" v-model=\"quantity\" :min=\"0.1\" :max=\"returnedItem.used - returnedItem.returned\">                        \r\n                        </div>\r\n                         <div class=\"col-md-4\">\r\n                          <label class=\"form-label\">Condition</label>\r\n                          <select class=\"form-control\" v-model=\"condition\" required>\r\n                            <option value=\"\">Select Condition</option>\r\n                            <option value=\"used\">Used</option>\r\n                            <option value=\"new\">New</option>\r\n                            <option  value=\"damaged\">Damaged</option>\r\n                          </select>                      \r\n                        </div>\r\n\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-danger btn-sm \" data-bs-dismiss=\"modal\">Close</button>\r\n        <button type=\"submit\" class=\"btn btn-success btn-sm \"  :disabled=\"!quantity || loading\">\r\n           <span v-if=\"loading\" v-html=\"loadingSpinner()\"></span>\r\n           <span v-else> Save </span>\r\n        </button>\r\n      </div>\r\n    </form>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n        <!-- ro store returning modal ends -->\r\n\r\n          <!-- edit distribution modal starts -->\r\n <div class=\"modal fade mymodal\" id=\"edit\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\" >\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"staticBackdropLabel\">   {{ statement?.type }} - {{ statement?.machine }} CONSUMPTION  SUMMARY</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"close\" ></button>\r\n      </div>\r\n<div class=\"modal-body\" >\r\n<div class=\"card mb-3\">\r\n  <div class=\"card-body\">\r\n    <div class=\"row mb-2 text-start\">\r\n      <div class=\"col-md-4\"><strong>Issued Date:</strong> {{statement?.issued_date}}</div>\r\n      <div class=\"col-md-4\"><strong>Issuer:</strong> {{ statement?.issuer }}</div>\r\n      <div class=\"col-md-4\"><strong>Driver:</strong> {{ statement?.driver }}</div>\r\n    </div>\r\n    <div class=\"row mb-2 text-start\">\r\n      <div class=\"col-md-4\"><strong>Machine:</strong> {{ statement?.machine }}</div>\r\n      <div class=\"col-md-4\"><strong>Type:</strong> {{ statement?.type }}</div>\r\n      <div class=\"col-md-4\"><strong>Issued:</strong> {{ statement?.issued }}Ltrs</div>\r\n    </div>\r\n    <div class=\"row mb-2 text-start\">\r\n      <div class=\"col-md-4\"><strong>Initial:</strong> {{statement?.initial}}</div>\r\n      <div class=\"col-md-4\"><strong>Final:</strong> {{ statement?.final }}</div>\r\n      <div class=\"col-md-4\"><strong>Ratio:</strong> {{ statement?.ratio }}</div>\r\n    </div>\r\n     <div class=\"row mb-2 text-start\">\r\n      <div class=\"col-md-4 my-2\"><strong>consumption type:</strong> {{ statement?.consumption_type }}</div>\r\n      <div class=\"col-md-4 my-2\">\r\n        <strong>Work:</strong> \r\n        {{ statement?.work }} \r\n        {{ statement?.consumption_type === 'Km/Litre' ? 'Km' : statement?.consumption_type === 'Litre/hr' ? 'hr' : '' }}\r\n      </div>\r\n      <div class=\"col-md-4 my-2\"><strong>Used:</strong> {{ statement?.used }} Ltrs</div>\r\n      <div class=\"col-md-12\"><strong>Task:</strong> {{ statement?.task }}</div>\r\n    </div>\r\n\r\n     <div v-if=\"statement?.remark\" class=\"row text-start\">\r\n      <div class=\"col-md-12\"><strong>Remark :</strong> {{ statement?.remark }}</div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<form\r\nv-if=\"user_permissions.includes('can_issue_fuel') || user_permissions.includes('is_md')\"\r\n@submit.prevent=\"updateReadings()\">\r\n   <div class=\"row layout-top-spacing\" >\r\n            <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n                    <div class=\"custom-table table3\">\r\n                 <div class=\"row g-3\">\r\n  <div class=\"col-md-4\" v-if=\"user_permissions.includes('can_issue_fuel')\">\r\n    <label class=\"form-label\">Initial Reading</label>\r\n    <input class=\"form-control\" type=\"number\" step=\"any\" placeholder=\"Enter Initial Reading\" v-model=\"statement.initial\">\r\n  </div>\r\n\r\n  <div class=\"col-md-4\" v-if=\"user_permissions.includes('can_issue_fuel')\">\r\n    <label class=\"form-label\">Final Reading</label>\r\n    <input class=\"form-control\" type=\"number\" step=\"any\" placeholder=\"Enter Final Reading\" v-model=\"statement.final\">\r\n  </div>\r\n\r\n\r\n    <div class=\"col-md-4\" v-if=\"user_permissions.includes('can_issue_fuel')\">\r\n    <label class=\"form-label\">Volume of work</label>\r\n    <input class=\"form-control\" type=\"number\" step=\"any\" placeholder=\"Enter Work Volume\" v-model=\"statement.volume\">\r\n  </div>\r\n\r\n  <div class=\"col-md-4\" v-if=\"user_permissions.includes('can_issue_fuel')\">\r\n    <label class=\"form-label\">Unit</label>\r\n  <multiselect \r\n                        v-model=\"statement.unit\"\r\n                        :options=\"units\"\r\n                        placeholder=\"Select Unit\"\r\n                        label=\"short_name\"\r\n                        :searchable=\"true\"        \r\n                        :multiple=\"false\"\r\n                        :allow-empty=\"false\"\r\n                    ></multiselect>\r\n  </div>\r\n\r\n  <div class=\"col-md-8\" v-if=\"user_permissions.includes('can_edit_task')\">\r\n    <label class=\"form-label\"> Task </label>\r\n    <input class=\"form-control\" type=\"text\" step=\"any\" placeholder=\"Enter Task\" v-model=\"statement.task\">\r\n  </div>\r\n\r\n   <div class=\"col-md-11\" v-if=\"user_permissions.includes('is_md')\">\r\n    <label class=\"form-label\">Enter Remark</label>\r\n    <input class=\"form-control\" type=\"text\" step=\"any\" placeholder=\"Enter Remark\" v-model=\"statement.remark\">\r\n  </div>\r\n\r\n\r\n  <div class=\"col-md-1 d-flex justify-content-between align-items-center\">\r\n    <div class=\"pt-4\">\r\n      <button class=\"btn btn-success\" :disabled=\"isSending\">\r\n        <span v-if=\"isSending\" v-html=\"loadingSpinner()\"></span>\r\n        <span v-else> Save</span>\r\n       </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</form>\r\n   \r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-danger btn-sm py-2 px-2\" data-bs-dismiss=\"modal\" id=\"close\">Close</button>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n   <!-- edit distribution modal ends -->\r\n    <!-- delivery Note Statement starts -->\r\n      <div class=\"modal fade mymodal\" id=\"delivery\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\" >\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"staticBackdropLabel\"> GOOD DELIVERY NOTE STATEMENT FOR : <b>{{ record?.name?.toUpperCase() }}</b></h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"close\" ></button>\r\n      </div>\r\n<div class=\"modal-body\" >\r\n  <div  class=\"panel p-0 mt-3\">\r\n    <div class=\"custom-table table3\">\r\n      <v-client-table \r\n        :data=\"deliveryNoteRecords\" \r\n        :columns=\"deliveryNoteRecordsColumns\" \r\n        :options=\"table_option\">\r\n        <template #sno=\"props\">\r\n          {{ props.index }}\r\n        </template>\r\n      </v-client-table>\r\n    </div>\r\n  </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-danger btn-sm \" data-bs-dismiss=\"modal\" id=\"close\">Close</button>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n     <!-- delivery note statement ends -->\r\n      <!--  challenge remark starts -->\r\n   <div class=\"modal fade mymodal\" id=\"remark-challenge\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\" >\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"staticBackdropLabel\"> SITE CHALLENGE REMARK</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" id=\"close-challenge-remark\" ></button>\r\n      </div>\r\n      <div class=\"modal-body\" >\r\n        <div class=\"row mb-2 fw-bolder\">\r\n           <div class=\"col-md-4\">Reporter :  {{ selectedChallenge?.reported_by }}</div>\r\n           <div class=\"col-md-4\">Challenge :  {{ selectedChallenge?.challenge }}</div>\r\n           <div class=\"col-md-4\"> Proposed measure : {{ selectedChallenge?.proposed_measure }}</div>\r\n           <div class=\"col-md-12\" v-if=\"selectedChallenge?.remark\">Remarks : {{ selectedChallenge?.remark }}</div>\r\n        </div>\r\n        <form v-if=\"user_permissions.includes('can_fill_challenge_remark')\" @submit.prevent=\"fillChallengeRemark(selectedChallenge?.id)\">\r\n         <div class=\"input-group\">\r\n           <input type=\"text\" class=\"me-2 form-control\" placeholder=\"Enter Remarks\" v-model=\"remark\" required>\r\n           <button class=\"btn btn-primary\" :disabled=\"isSending\">\r\n            <span v-if=\"isSending\" v-html=\"loadingSpinner()\"></span>\r\n            <span v-else>Save</span>\r\n          </button>\r\n         </div>\r\n        </form>\r\n\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-danger btn-sm \" data-bs-dismiss=\"modal\" id=\"close\">Close</button>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n       <!-- challenge remark ends -->\r\n\r\n <!-- Edit labour attendant modal starts -->\r\n<div class=\"modal fade mymodal\" id=\"edit-labour-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"editConversionFactorModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"editConversionFactorModalLabel\">Labour Attendance</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"closeEditLabourModal()\"></button>\r\n      </div>\r\n      <form @submit.prevent=\"updateLabourAttendant(selectedLabour?.id)\">\r\n        <div class=\"modal-body\">\r\n            <div class=\"row mb-3\">\r\n              <div class=\"col-md-6\">\r\n                    <label class=\"form-label\">Derpurture Time</label>\r\n                    <input type=\"time\" class=\"form-control\" placeholder=\"Enter Derpurture Time\" v-model=\"departure_time\" required>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <label class=\"form-label\">Task Status</label>\r\n                    <multiselect \r\n                        v-model=\"selected_status\"\r\n                        :options=\"allStatuses\"\r\n                        placeholder=\"Select status\"\r\n                        label=\"name\"\r\n                        track-by=\"id\"\r\n                        :searchable=\"true\"        \r\n                        :multiple=\"false\"\r\n                        :allow-empty=\"false\"\r\n                    ></multiselect>\r\n                </div>\r\n                <div class=\"col-md-12\">  \r\n                <label class=\"form-label\">Description</label>\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"Enter Description\" v-model=\"description\">\r\n                </div>\r\n                \r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" @click=\"closeEditLabourModal()\" id=\"close_labour_attendant\">Close</button>\r\n          <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isSending\">\r\n            <span v-if=\"isSending\" class=\"spinner-border spinner-border-sm text-white me-2\" role=\"status\"></span>\r\n            Save\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- Edit labour attendant modal ends -->\r\n\r\n<!-- work carried out model starts -->\r\n<div class=\"modal fade mymodal\" id=\"report-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"reportModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"reportModalLabel\">Work Carried Out Form</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"closeReportModal()\" id=\"close_report\"></button>\r\n      </div>\r\n      <form @submit.prevent=\"submitWorkReport()\">\r\n        <div class=\"modal-body\">\r\n    \r\n           <div class=\"row\">\r\n           <div class=\"col-md-8\">\r\n                    <label class=\"form-label\">Title</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter Work Title\" v-model=\"report\" required>\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <label class=\"form-label\">Date</label>\r\n                    <input type=\"date\" class=\"form-control\" placeholder=\"Enter Date\" v-model=\"date\" step=\"any\">\r\n                </div>\r\n                </div>\r\n                \r\n              <div class = \"row mt-3\" v-if=\"date.length>0\">\r\n                <div class=\"col-md-3\">\r\n                  <label class=\"form-label\">Activity</label>\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Enter Activity\" v-model=\"activity\" > \r\n                </div>\r\n                 <div class=\"col-md-3\">\r\n                    <label class=\"form-label small\">Unit</label>\r\n                    <multiselect \r\n                        v-model=\"unit\"\r\n                        :options=\"units\"\r\n                        placeholder=\"select unit\"\r\n                        label=\"short_name\"\r\n                        :searchable=\"true\"        \r\n                        :multiple=\"false\"\r\n                        :required=\"true\"\r\n                      \r\n                    ></multiselect>\r\n                </div> \r\n                <div class=\"col-md-3\">\r\n                  <label class=\"form-label\">Quantity</label>\r\n                  <input type=\"number\" class=\"form-control\" placeholder=\"Enter Quantity\" v-model=\"quantity\"  step=\"any\">\r\n                </div>\r\n                <div class=\"col-md-3\">\r\n                  <label class=\"form-label\">Description</label>\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Enter Description\" v-model=\"activityDescription\" > \r\n                </div>\r\n                <div class=\"col-md-12 col-lg-12 mb-2 text-end\">\r\n            <button \r\n                type=\"button\" \r\n                class=\"btn btn-outline-success btn-sm mt-4\"\r\n                @click=\"pushActivity()\"\r\n            >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-plus-square\">\r\n                    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\r\n                    <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\"></line>\r\n                    <line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line>\r\n                </svg>\r\n                Add activity\r\n            </button>\r\n        </div>\r\n        <div \r\n        v-if=\"activities.length>0\"\r\n        class=\"row mb-3\">\r\n        <div class=\"col-12\">\r\n          <div class=\"col-xl-12 col-lg-12 col-sm-12 layout-spacing\">\r\n                <div class=\"panel p-0\">\r\n            <div class=\"custom-table table3\">\r\n                <v-client-table \r\n                    :data=\"activities\" \r\n                    :columns=\"activityColumns\" \r\n                    :options=\"table_option\"\r\n                >\r\n                    <template #actions=\"props\">\r\n                        <a href=\"javascript:void(0);\" title=\"Delete\" @click=\"pullActivity(props.row.Sno)\">\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-trash text-danger\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z\"/>\r\n                                <path d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1z\"/>\r\n                            </svg>\r\n                        </a>\r\n                    </template>\r\n                </v-client-table>\r\n            </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n              </div>\r\n  \r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\" @click=\"closeReportModal()\" id=\"close_report\">Close</button>\r\n         <button class=\"btn btn-primary me-2 mt-1\" :disabled=\"isSending\">\r\n             <span v-if=\"isSending\" v-html=\"loadingSpinner()\"></span>\r\n            <span>Save</span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- work carried out model ends -->\r\n\r\n<!-- remark work carried out start -->\r\n<div class=\"modal fade mymodal\" id=\"remark-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"remarkModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"reportModalLabel\">Remark</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"closeReportModal()\" id=\"close_report\"></button>\r\n      </div>\r\n      <form @submit.prevent=\"updateWorkReport()\">\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n              <label class=\"form-label\">Remark</label>\r\n              <input type=\"text\" class=\"form-control\" placeholder=\"Enter Activity Name\" v-model=\"remark\" required>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\" @click=\"closeReportModal()\" id=\"close_remark\">Close</button>\r\n         <button class=\"btn btn-primary me-2 mt-1\" :disabled=\"isSending\">\r\n             <span v-if=\"isSending\" v-html=\"loadingSpinner()\"></span>\r\n            <span>Save</span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- remark work carried out ends -->\r\n\r\n<!-- edit activity starts -->\r\n<div class=\"modal fade mymodal\" id=\"edit-activity-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"activityModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"activityModalLabel\">Edit Activity</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"closeReportModal()\" id=\"close_report\"></button>\r\n      </div>\r\n      <form @submit.prevent=\"updateActivities()\">\r\n        <div class=\"modal-body\">\r\n              <div class=\"row mb-3\">\r\n                <div class=\"col-md-4\">\r\n                <label for=\"Activity\">name</label>\r\n              <input type=\"text\" v-model=\"activity\" class=\"form-control\" placeholder=\"activity\" required>\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n            <label class=\"form-label small\">Unit</label>\r\n            <multiselect \r\n                v-model=\"unit\"\r\n                :options= \"units\"\r\n                placeholder=\"select unit\"\r\n                label=\"short_name\"\r\n                :searchable = \"true\"        \r\n                multple=\"false\"\r\n                :required=\"true\"\r\n                :allow-empty=\"true\"\r\n            ></multiselect>\r\n        </div>\r\n            <div class=\"col-md-4\">\r\n                <label for=\"quantity\">Quantity</label>\r\n              <input type=\"number\" v-model=\"quantity\" class=\"form-control\" placeholder=\"Enter Quantity\" min=\"1\" >\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\" @click=\"closeReportModal()\" id=\"close_activity\">Close</button>\r\n         <button class=\"btn btn-primary me-2 mt-1\" :disabled=\"isSending\">\r\n             <span v-if=\"isSending\" v-html=\"loadingSpinner()\"></span>\r\n            <span>Save</span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- edit activity ends -->\r\n\r\n<!-- add activity starts -->\r\n<div class=\"modal fade mymodal\" id=\"add-activity-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"activityModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"activityModalLabel\">Add Activity</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"closeReportModal()\" id=\"close_report\"></button>\r\n      </div>\r\n      <form @submit.prevent=\"AddActivities()\">\r\n        <div class=\"modal-body\">\r\n              <div class=\"row mb-3\">\r\n                <div class=\"col-md-4\">\r\n                <label for=\"Activity\">name</label>\r\n              <input type=\"text\" v-model=\"activity\" class=\"form-control\" placeholder=\"activity\" required>\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n            <label class=\"form-label small\">Unit</label>\r\n            <multiselect \r\n                v-model=\"unit\"\r\n                :options= \"units\"\r\n                placeholder=\"select unit\"\r\n                label=\"short_name\"\r\n                :searchable = \"true\"        \r\n                multple=\"false\"\r\n                :required=\"true\"\r\n                :allow-empty=\"false\"\r\n            ></multiselect>\r\n        </div>\r\n            <div class=\"col-md-4\">\r\n                <label for=\"quantity\">Quantity</label>\r\n              <input type=\"number\" v-model=\"quantity\" class=\"form-control\" placeholder=\"Enter Quantity\" step=\"any\" >\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\" @click=\"closeReportModal()\" id=\"close_add\">Close</button>\r\n         <button class=\"btn btn-primary me-2 mt-1\" :disabled=\"isSending\">\r\n             <span v-if=\"isSending\" v-html=\"loadingSpinner()\"></span>\r\n            <span>Save</span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- add activity ends -->\r\n\r\n<!-- add attachment starts -->\r\n<div class=\"modal fade mymodal\" id=\"add-attachment-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"attachmentModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"attachmentModalLabel\">Add Attachment</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" @click=\"closeReportModal()\" id=\"close_report\"></button>\r\n      </div>\r\n      <form @submit.prevent=\"AddAttachmnet()\">\r\n        <div class=\"modal-body\">\r\n          <div class=\"row mb-3\">\r\n             <div class=\"col-md-6\">\r\n              <label class=\"form-label\">Attachment (Image)</label>\r\n              <input \r\n                type=\"file\" \r\n                class=\"form-control\" \r\n                accept=\"image/*\"\r\n                @change=\"handleImageUpload\"\r\n                required\r\n              >\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n                <label for=\"Activity\">Descreption</label>\r\n              <input type=\"text\" v-model=\"description\" class=\"form-control\" placeholder=\"description\">\r\n            </div>\r\n             \r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\" @click=\"closeReportModal()\" id=\"close_attachment\">Close</button>\r\n         <button class=\"btn btn-primary me-2 mt-1\" :disabled=\"isSending\">\r\n             <span v-if=\"isSending\" v-html=\"loadingSpinner()\"></span>\r\n            <span>Save</span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- add attachment ends -->\r\n\r\n<!-- view  attachment starts -->\r\n<div class=\"modal fade mymodal\" id=\"view-attachment-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"attachmentModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-fullscreen\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"attachmentModalLabel\">Attachment</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n        <div class=\"modal-body p-0\">\r\n  <div class=\"attachment-wrapper\">\r\n    <img \r\n      v-if=\"selectedAttachment\" \r\n      :src=\"selectedAttachment\" \r\n      alt=\"Attachment\"\r\n      class=\"attachment-img\"\r\n      :style=\"{ transform: `rotate(${rotationDegree}deg)` }\"\r\n    >\r\n  </div>\r\n</div>\r\n        <div class=\"modal-footer\">\r\n               <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" class=\"bi bi-repeat\" viewBox=\"0 0 16 16\" @click=\"rotateImage\">\r\n  <path d=\"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z\"/>\r\n</svg>\r\n          <button type=\"button\" class=\"btn btn-danger ms-4\" data-bs-dismiss=\"modal\">Close</button>\r\n        </div>\r\n     \r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- view attachment ends -->\r\n\r\n<!-- View Site Attachments Modal starts -->\r\n<div class=\"modal fade mymodal\" id=\"view-site-attachment-modal\" data-bs-backdrop=\"false\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"viewSiteAttachmentModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5\" id=\"viewSiteAttachmentModalLabel\">DAILY CONSTRUCTION ATTACHMENTS REPORT</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n\r\n        <!-- Project Details Section -->\r\n        <div class=\"mb-3\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n              <p class=\"mb-2 text-start\"><strong>Project Name:</strong> {{ store?.project?.short_name || 'N/A' }}</p>\r\n             <p class=\"mb-2 text-start\"><strong>Contract Number:</strong> {{ store?.project?.contract_number || 'N/A' }}</p>\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <p class=\"mb-2 text-start\"><strong>Officer In Charge:</strong> {{ store?.officer?.name || 'N/A' }}</p>\r\n              <p class=\"mb-2 text-start\"><strong>Client:</strong> {{ store?.project?.client || 'N/A' }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Attachment Section -->\r\n        <div class=\"d-flex justify-content-between align-items-center mb-3\">\r\n          <h5 class=\"mb-0\"></h5>\r\n          <button \r\n            type=\"button\" \r\n            class=\"btn btn-primary btn-sm\" \r\n            @click=\"showAttachmentForm = !showAttachmentForm\"\r\n            v-if=\"user_permissions.includes('can_add_site_report_attachment')\"\r\n          >\r\n            Add Attachment\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Attachment Form -->\r\n        <div v-if=\"showAttachmentForm\" class=\"row mb-3\">\r\n          <div class=\"col-md-12\">\r\n            <form @submit.prevent=\"submitSiteAttachment()\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                  <label class=\"form-label\">Attachment Description</label>\r\n                  <input \r\n                    type=\"text\" \r\n                    class=\"form-control\" \r\n                    v-model=\"attachmentDescription\"\r\n                    placeholder=\"Enter attachment description\"\r\n                  >\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                  <label class=\"form-label\">Attachment (PDF)</label>\r\n                          <input  class=\"form-control\" type=\"file\"\r\n                            @change=\"handleFileUpload\"\r\n                            accept=\"application/pdf\"\r\n                            required\r\n                          >\r\n                </div>\r\n              </div>\r\n              <div class=\"row mt-3\">\r\n                <div class=\"col-md-12 text-end\">\r\n                  <button type=\"button\" class=\"btn btn-danger me-2\" @click=\"cancelAttachmentUpload()\">\r\n                    Cancel\r\n                  </button>\r\n                  <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"uploadingAttachment\">\r\n                    <span v-if=\"uploadingAttachment\" class=\"spinner-border spinner-border-sm text-white me-2\" role=\"status\"></span>\r\n                    Upload\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        <h5 class=\"text-start mb-3 mt-3\">Daily Report Attachments</h5>\r\n        \r\n        <div v-if=\"isloading\" v-html=\"tableShimmer()\"></div>\r\n        <div v-else class=\"panel p-0\">\r\n          <div class=\"custom-table table3\">\r\n            <v-client-table \r\n              :data=\"siteAttachments\" \r\n              :columns=\"siteAttachmentColumns\" \r\n              :options=\"table_option\">\r\n              <template #actions=\"props\">\r\n                <a \r\n                  :href=\"`${baseURL}/${props.row.attachment}`\" \r\n                  target=\"_blank\"\r\n                  title=\"View Attachment\"\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\"  width=\"28\" height=\"28\"  fill=\"currentColor\" class=\"bi bi-eye text-primary\" viewBox=\"0 0 16 16\" style=\"cursor: pointer;\">\r\n                    <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z\"/>\r\n                    <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0\"/>\r\n                  </svg>\r\n                </a>\r\n                <a \r\n                  v-if=\"user_permissions.includes('can_delete_site_report_attachment')\"\r\n                  href=\"javascript:void(0);\" \r\n                  title=\"Delete\" \r\n                  @click=\"deleteSiteAttachment(props.row)\"\r\n                >\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"24\"\r\n                    height=\"24\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    stroke-width=\"1.5\"\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    class=\"text-danger\"\r\n                  >\r\n                    <polyline points=\"3 6 5 6 21 6\"></polyline>\r\n                    <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                  </svg>\r\n                </a>\r\n              </template>\r\n            </v-client-table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- View Site Attachments Modal ends -->\r\n\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import { onMounted, ref,inject,watch,computed } from 'vue';\r\n    import axios from 'axios';\r\n    import { useMeta } from '@/composables/use-meta';\r\n     import { useRoute} from 'vue-router';\r\n    import Multiselect from '@suadelabs/vue3-multiselect';\r\n    import '@suadelabs/vue3-multiselect/dist/vue3-multiselect.css';\r\n    import '@/assets/sass/scrollspyNav.scss';\r\n    // Add base URL for file paths\r\n    const baseURL = 'https://bushman.ink';\r\n     const route = useRoute();\r\n    const item_id = ref(0);\r\n    const loading_spinner = ref(true);\r\n    const showMessage = inject('showMessage');\r\n    const loadingSpinner = inject('loadingSpinner');\r\n    const showError = inject('showError');\r\n    const tableShimmer = inject('tableShimmer');\r\n    const formatNumber = inject('formatNumber');\r\n    const formatDate = inject('formatDate');\r\n    const enforceMax = inject('enforceMax')\r\n    const mapShimmer = inject('mapShimmer')\r\n    useMeta({ title: 'DAILY WORK REPORT' });\r\n    \r\nconst user_permissions = JSON.parse(localStorage.getItem(\"user\")).permissions;\r\n\r\n\r\nimport L from \"leaflet\"\r\nlet map\r\nlet marker\r\n\r\nconst initMap = () => {\r\n    map = L.map(\"map\").setView([0, 0], 2)\r\n\r\n    L.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\").addTo(map)\r\n}\r\n\r\nconst getCurrentLocation = () => {\r\n\r\n    navigator.geolocation.getCurrentPosition(\r\n        async (position) => {\r\n            const { latitude, longitude } = position.coords\r\n            loading.value = true\r\n            map.setView([latitude, longitude], 16)\r\n\r\n            if (marker) {\r\n                marker.setLatLng([latitude, longitude])\r\n            } else {\r\n                marker = L.marker([latitude, longitude]).addTo(map)\r\n            }\r\n\r\n            const res = await axios.get(\r\n                `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}`\r\n            )\r\n             loading.value = false\r\n\r\n            currentLocation.value = {\r\n                latitude,\r\n                longitude,\r\n                address: res.data.display_name\r\n            }\r\n\r\n            marker.bindPopup(res.data.display_name).openPopup()\r\n        }\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst statement = ref({});\r\n   const returnedItem = ref('')\r\n   const condition = ref('')\r\n   const returnItem = async ()=>{\r\n     const payload = {\r\n      returned : Number(quantity.value) + Number(returnedItem.value.returned),\r\n      store_item :{\r\n        item_id : returnedItem.value.store_item.item.id,\r\n        store_id :store.value.id,\r\n        item_condition : condition.value,\r\n      }\r\n     }\r\n     loading.value = true\r\n     try{\r\n       const response = await axiosInstance.put(`item-usage/${returnedItem.value.id}`,payload)\r\n       showMessage('Item Returned To Store')\r\n       getItemUsage()\r\nconst activity_columns = ref(['Sno', 'activity', 'unit', 'quantity', 'actions']);\r\n       getStoreItems()\r\n      document.getElementById('close-return').click()\r\n      clearForm()\r\n     }catch(error){\r\n      showError(error.message)\r\n      console.log(error)\r\n     }finally{\r\n       loading.value = false\r\n     }\r\n   }\r\n\r\n    const fuel = ref('')\r\n    const selectedLabour = ref('')\r\n    const bulkDistribution = ref([]);\r\nconst loading = ref(false)\r\nconst today = ref(new Date().toISOString().split('T')[0]);\r\nconst store_item = ref('');\r\n const itemsColumns = ref(['SNo', 'name','category_name','condition','used_quantity','balance_quantity','total_quantity']);\r\n const distributionColumn = ref(['SNo','issuer','machine','type', 'task','volume','issued','balance','fuel_type','ratio','issued_date','actions']);\r\n const challengesColumns = ref(['SNo', 'challenge','reported_by','proposed_measure','date','remark','actions']);\r\nconst itemUsageColumns = ref(['sno', 'item','category','description','used','returned','date','action']);\r\n\r\n\r\n //dozzer\r\n\r\n     const printActivities = async (report) => {\r\n      const selectedReport = ref(report)\r\n        const iframe = document.createElement(\"iframe\");\r\n        iframe.style.display = \"none\";\r\n        document.body.appendChild(iframe);\r\n        loading_spinner.value = false;\r\n    const today = new Date();\r\n    const date = today.getDate().toString().padStart(2, '0');\r\n    const month = (today.getMonth() + 1).toString().padStart(2, '0');\r\n    const year = today.getFullYear();\r\n    const dateString = `${date}/${month}`;\r\n    const formattedDate = `${dateString}/${year}`;\r\n\r\n        const printContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>Store Items Report</title>\r\n<style>\r\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\r\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\r\n  .logo { width: 160px; height: auto; }\r\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; margin-left: auto; border-radius: 5px; }\r\n  .company-title { text-align: center; margin-top: 10px; }\r\n  .company-title h2 { margin: 5px 0; }\r\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\r\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\r\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\r\n  table.details td, table.items th, table.items td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\r\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\r\n  table tr:first-child th:first-child, table tr:first-child td:first-child { border-top-left-radius: 8px; }\r\n  table tr:first-child th:last-child, table tr:first-child td:last-child { border-top-right-radius: 8px; }\r\n  table tr:last-child td:first-child { border-bottom-left-radius: 8px; }\r\n  table tr:last-child td:last-child { border-bottom-right-radius: 8px; }\r\n  .summary-section { margin-top: 30px; font-size: 12px; }\r\n  .text-center {text-align: center;}\r\n    .text-right { text-align: right; }\r\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\r\n</style>\r\n</head>\r\n<body>\r\n<div class=\"header\">\r\n  <img src=\"https://bushman.ink/copex.jpg\" class=\"logo\" />\r\n  <div class=\"report-box\">\r\n    REPORT ON.<br>\r\n    <span style=\"color:red;\">${formatDate(selectedReportDate.value)}</span>\r\n  </div>\r\n</div>\r\n<div class=\"reg-info\">\r\n  TIN: 103-826-519<br>\r\n  VRN: 20-01-017530R\r\n</div>\r\n<div class=\"company-title\">\r\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\r\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\r\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\r\n</div>\r\n\r\n<div class=\"section-title\">SITE ACTIVITIES REPORT</div>\r\n<h3 class=\"header\">REPORT DETAILS </h3>\r\n<table class=\"items\">\r\n    <thead>\r\n        <tr>\r\n            <th>PROJECT</th>\r\n            <th>SUPERVISOR</th>\r\n            <th>SUPERVISOR'S EMAIL</th>\r\n            <th>SUPERVISOR'S PHONE</th>\r\n        </tr>\r\n    </thead>\r\n     <tbody>\r\n        <tr>\r\n          <td class=\"text-center\">${store.value.project.short_name}</td>\r\n          <td class=\"text-center\"> ${ store.value.officer?.name}</td>\r\n          <td class=\"text-center\"> ${ store.value.officer?.email}</td>\r\n          <td class=\"text-center\"> ${ store.value.officer?.phone_no}</td>\r\n        </tr>\r\n        <tr>\r\n          <td  colspan=\"6\" >\r\n             Brief Description : ${ (selectedReport.value.report_name || '') + (selectedReport.value.description ? ' , ' + selectedReport.value.description : '') }\r\n          </td>\r\n    </tbody>\r\n</table>\r\n\r\n\r\n<h3 class=\"header\">ACTIVITY DETAILS </h3>\r\n<table class=\"items\">\r\n    <thead>\r\n        <tr>\r\n            <th>S.No</th>\r\n            <th>Activity</th>\r\n            <th>Unit Measure</th>\r\n            <th>Quantity</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${selectedReport.value.activities\r\n            .map((item, index) => `\r\n        <tr>\r\n            <td >${index + 1}</td>\r\n            <td>${item.activity || 'N/A'}</td>\r\n            <td>${item.unit || 'N/A'}</td>\r\n            <td class=\"text-right\">${item.quantity|| 'N/A'}</td>\r\n        </tr>\r\n        `).join(\"\")}\r\n    </tbody>\r\n   \r\n</table>\r\n\r\n<div style=\"margin-top: 30px; text-align: right;\">\r\n    <div>Printed on: ${formattedDate}</div>\r\n</div>\r\n\r\n</body>\r\n</html>\r\n`;\r\n\r\n        const iframeDoc = iframe.contentWindow.document;\r\n        iframeDoc.open();\r\n        iframeDoc.write(printContent);\r\n        iframeDoc.close();\r\n\r\n        iframe.onload = () => {\r\n            iframe.contentWindow.focus();\r\n            iframe.contentWindow.print();\r\n            setTimeout(() => {\r\n                document.body.removeChild(iframe);\r\n            }, 1000);\r\n        };\r\n\r\n};\r\n\r\n\r\n    const printAttendance = async () => {\r\n        const iframe = document.createElement(\"iframe\");\r\n        iframe.style.display = \"none\";\r\n        document.body.appendChild(iframe);\r\n        loading_spinner.value = false;\r\n    const today = new Date();\r\n    const date = today.getDate().toString().padStart(2, '0');\r\n    const month = (today.getMonth() + 1).toString().padStart(2, '0');\r\n    const year = today.getFullYear();\r\n    const dateString = `${date}/${month}`;\r\n    const formattedDate = `${dateString}/${year}`;\r\n\r\n        const printContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>Store Items Report</title>\r\n<style>\r\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\r\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\r\n  .logo { width: 160px; height: auto; }\r\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; margin-left: auto; border-radius: 5px; }\r\n  .company-title { text-align: center; margin-top: 10px; }\r\n  .company-title h2 { margin: 5px 0; }\r\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\r\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\r\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\r\n  table.details td, table.items th, table.items td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\r\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\r\n  table tr:first-child th:first-child, table tr:first-child td:first-child { border-top-left-radius: 8px; }\r\n  table tr:first-child th:last-child, table tr:first-child td:last-child { border-top-right-radius: 8px; }\r\n  table tr:last-child td:first-child { border-bottom-left-radius: 8px; }\r\n  table tr:last-child td:last-child { border-bottom-right-radius: 8px; }\r\n  .summary-section { margin-top: 30px; font-size: 12px; }\r\n  .text-center {text-align: center;}\r\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\r\n</style>\r\n</head>\r\n<body>\r\n<div class=\"header\">\r\n  <img src=\"https://bushman.ink/copex.jpg\" class=\"logo\" />\r\n  <div class=\"report-box\">\r\n    REPORT ON.<br>\r\n    <span style=\"color:red;\">${formatDate(selectedReportDate.value)}</span>\r\n  </div>\r\n</div>\r\n<div class=\"reg-info\">\r\n  TIN: 103-826-519<br>\r\n  VRN: 20-01-017530R\r\n</div>\r\n<div class=\"company-title\">\r\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\r\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\r\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\r\n</div>\r\n\r\n<div class=\"section-title\">LABOUR ATTENDANCE REPORT</div>\r\n<h3 class=\"header\">REPORT DETAILS </h3>\r\n<table class=\"items\">\r\n    <thead>\r\n        <tr>\r\n            <th>PROJECT</th>\r\n            <th>SUPERVISOR</th>\r\n            <th>SUPERVISOR'S EMAIL</th>\r\n            <th>SUPERVISOR'S PHONE</th>\r\n        </tr>\r\n    </thead>\r\n     <tbody>\r\n        <tr>\r\n          <td class=\"text-center\">${store.value.project.short_name}</td>\r\n          <td class=\"text-center\"> ${ store.value.officer?.name}</td>\r\n          <td class=\"text-center\"> ${ store.value.officer?.email}</td>\r\n           <td class=\"text-center\"> ${ store.value.officer?.phone_no}</td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n\r\n\r\n<h3 class=\"header\">ATTENDANCE DETAILS </h3>\r\n<table class=\"items\">\r\n    <thead>\r\n        <tr>\r\n            <th>S.No</th>\r\n            <th>Labour Name</th>\r\n            <th>Labour Type</th>\r\n            <th>Task</th>\r\n            <th>Reporting Time</th>\r\n            <th>Departure Time</th>\r\n            <th>Work Status</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${filteredReportLabourAttendance.value\r\n            .map((item, index) => `\r\n        <tr>\r\n            <td >${index + 1}</td>\r\n            <td>${item.name || 'N/A'}</td>\r\n            <td>${item.labour_type || 'N/A'}</td>\r\n            <td>${item.task || 'N/A'}</td>\r\n            <td>${item.reporting_time || 'N/A'}</td>\r\n            <td>${item.departure_time || 'N/A'}</td>\r\n            <td>${item.status.key || 'N/A'}</td>\r\n        </tr>\r\n        `).join(\"\")}\r\n    </tbody>\r\n   \r\n</table>\r\n\r\n<div style=\"margin-top: 30px; text-align: right;\">\r\n    <div>Printed on: ${formattedDate}</div>\r\n</div>\r\n\r\n</body>\r\n</html>\r\n`;\r\n\r\n        const iframeDoc = iframe.contentWindow.document;\r\n        iframeDoc.open();\r\n        iframeDoc.write(printContent);\r\n        iframeDoc.close();\r\n\r\n        iframe.onload = () => {\r\n            iframe.contentWindow.focus();\r\n            iframe.contentWindow.print();\r\n            setTimeout(() => {\r\n                document.body.removeChild(iframe);\r\n            }, 1000);\r\n        };\r\n\r\n};\r\n\r\n const fillChallenge = ref(false)\r\n const fillAttendant = ref(false)\r\n const measure = ref('')\r\n const challenge = ref('')\r\n const challenges = ref([])\r\n const selectedChallenge = ref('')\r\n const getChallenges = async () =>{\r\n  loading_spinner.value = true;\r\n  try{\r\n     const response = await axiosInstance.get(`site-challenges?store_id=${route.params.store_id}`)\r\n     challenges.value = response.data.map((item,index)=>({\r\n      ...item,\r\n       SNo : index + 1,\r\n       challenge : item.description,\r\n       reported_by : item.remarker.name,\r\n       proposed_measure : item.measure.description,\r\n       date : formatDate(item.created_at),\r\n       remark : item.remark,\r\n       raw_date: item.created_at\r\n     }))\r\n  }catch(error){\r\n    showError(error.message)\r\n    console.log(error)\r\n  }finally{\r\n    loading_spinner.value = false;\r\n  }\r\n }\r\n const submitChallenge = async ()=>{\r\n  const payload = {\r\n    challenge : challenge.value,\r\n    measure : measure.value,\r\n    remarker_id : useId,\r\n    store_id : route.params.store_id\r\n  }\r\n  isSending.value = true\r\n try{\r\n  const response = await axiosInstance.post('register-site-challenge',payload)\r\n  showMessage(response.data)\r\n  getChallenges()\r\n  fillChallenge.value = false\r\n  measure.value = ''\r\n  challenge.value = ''\r\n }catch(error){\r\n   showError(error.message)\r\n   console.log(error)\r\n }finally{\r\n  isSending.value = false\r\n }\r\n\r\n }\r\n const table_option = ref({\r\n        perPage: 20,\r\n        perPageValues: [ 20,50,100,200,500,1000],\r\n        skin: 'table table-hover table-striped',\r\n        columnsClasses: { actions: 'actions text-center' },\r\n        sortIcon: {\r\n            base: 'sort-icon-none',\r\n            up: 'sort-icon-asc',\r\n            down: 'sort-icon-desc',\r\n        },\r\n        pagination: { nav: 'scroll', chunk: 5 },\r\n        texts: {\r\n            count: 'Showing {from} to {to} of {count}',\r\n            filter: '',\r\n            filterPlaceholder: 'Search...',\r\n            limit: 'Results:',\r\n        },\r\n        resizableColumns: false,\r\n    });\r\n\r\n    const axiosInstance = axios.create({\r\n        baseURL: process.env.VUE_APP_API_BASE_URL\r\n    });\r\n\r\n  \r\nwatch(store_item, (newVal) => {\r\n    if (newVal) {\r\n        quantity.value = ''\r\n    }\r\n});    \r\n\r\nconst clearForm = () =>{\r\n   description.value = ''\r\n   quantity.value = ''\r\n   store_item.value = ''\r\n   asset.value = ''\r\n   document.getElementById('close').click()\r\n   initial_reading.value = ''\r\n   final_reading.value = ''\r\n   driver_name.value = ''\r\n   ratio.value = ''\r\n   condition.value = ''\r\n}\r\nconst description = ref('')\r\nconst quantity = ref('')\r\nconst registerItemUsage = async()=>{\r\nloading.value = true\r\n  const payload = {\r\n        item_id: store_item.value.id,\r\n        category: 'store',\r\n        category_id: route.params.store_id, \r\n        quantity: quantity.value,\r\n        usage_type: store_item.value.category_name,\r\n        description: description.value,\r\n        rate : 0,\r\n        issuer_id : JSON.parse(localStorage.getItem(\"user\")).id\r\n};\r\n\r\n\r\n  try{\r\n   const response = await axiosInstance.post('item-usage',payload)\r\n   showMessage('Item Registered')\r\n   getStoreItems()\r\n   getItemUsage()\r\n   clearForm()\r\n  }catch(error){\r\n    console.log(error)\r\n    showError(error.message)\r\n  }finally{\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst issuer = ref('')\r\nconst itemUsage = ref([])\r\nconst getItemUsage = async () => {\r\n  loading_spinner.value = true;\r\n  try {\r\n    const response = await axiosInstance.get(`daily-report?category_id=${route.params.store_id}`)\r\n    itemUsage.value = response.data.map((item, index) => ({\r\n      ...item,\r\n      sno: index + 1,\r\n      item: item.store_item?.item.name,\r\n      category: item.usage_type,\r\n      used: item.quantity,\r\n      task: item.description,\r\n      raw_date: item.created_at,\r\n      date: formatDate(item.created_at)\r\n    }))\r\n\r\n    if (response.data.length > 0) {\r\n      const lastRow = response.data[response.data.length - 1]\r\n      issuer.value = lastRow.issuer\r\n    }\r\n  } catch (error) {\r\n    showError(error.message)\r\n    console.log(error)\r\n  } finally {\r\n    loading_spinner.value = false\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nconst storeItems = ref([])\r\nconst getStoreItems = async () => {\r\n  try {\r\n    const response = await axiosInstance.get(`get-store-items?store_id=${route.params.store_id}`)\r\n    storeItems.value = response.data\r\n      .filter(item => item.category_name !== 'Fuel')\r\n      .map((item, index) => ({\r\n        ...item,\r\n        SNo: index + 1,\r\n      }))\r\n      filteredStoreItems.value = storeItems.value\r\n  } catch (error) {\r\n    showError(error.message)\r\n    console.log(error)\r\n  } finally {\r\n    loading_spinner.value = false\r\n  }\r\n}\r\n\r\nconst filteredStoreItems = ref([])\r\nconst storeCategory = ref('all')\r\nconst filterStoreItems = (category)=>{\r\nstoreCategory.value = category\r\nif (category === 'all') {\r\n  filteredStoreItems.value = storeItems.value;\r\n} else {\r\n  filteredStoreItems.value = storeItems.value.filter(item => item.category_name === category);\r\n}\r\n}\r\n\r\nconst store = ref()\r\nconst getStore = async () =>{\r\n      try{\r\n    const response = await axiosInstance.get(`stores/${route.params.store_id}`)\r\n     store.value = response.data\r\n      // getLabourAttendant()\r\n    //  getAssetConsumption()\r\n    //  getDeliveryNotes()\r\n    //  getWorkCarriedOut()\r\n    }catch(error){\r\n        showError(error.message)\r\n        console.log(error)\r\n    }finally{\r\n        loading_spinner.value = false\r\n    }\r\n}\r\n\r\nconst asset = ref('')\r\nconst assets= ref([])\r\nconst getAssets = async () =>{\r\n      try{\r\n    const response = await axiosInstance.get(`machines`)\r\n     assets.value = response.data.map((item)=>({\r\n      ...item,\r\n      name : item.name +' - '+ item.type_name\r\n     }))\r\n    }catch(error){\r\n        showError(error.message)\r\n        console.log(error)\r\n    }finally{\r\n        loading_spinner.value = false\r\n    }\r\n}\r\n\r\nconst initial_reading = ref('')\r\nconst final_reading = ref('')\r\nconst ratio = ref('')\r\nconst driver_name = ref('')\r\nconst store_item_id = ref('')\r\nconst volume = ref('')\r\nconst registerAssetConsumption = async()=>{\r\n  loading.value = true\r\n  if(fuel.value ==='diesel'){\r\n    store_item_id.value = bulkData.value.store_diesel_id\r\n  }else{\r\n     store_item_id.value = bulkData.value.store_petrol_id\r\n  }\r\n         const payload = {\r\n            store_item_id: store_item_id.value, \r\n            asset_id:asset.value.id,\r\n            project_id: store.value.project.id, \r\n            consumption_type: ratio.value,\r\n            issuer_id: JSON.parse(localStorage.getItem(\"user\")).id,\r\n            quantity: quantity.value,\r\n            usage_date: today.value,\r\n            initial_reading: initial_reading.value,\r\n            final_reading: final_reading.value,\r\n            task: description.value,\r\n            driver_name: driver_name.value,\r\n            volume : volume.value,\r\n            unit : unit.value.short_name\r\n        };\r\n\r\n        try{\r\n          const response = await axiosInstance.post('asset-consumptions',payload)\r\n          showMessage(\"Fuel Issued\")\r\n          getBulkDistribution()\r\n          getBulk()\r\n          document.getElementById('distribution-form').click()\r\n        }catch(error){\r\n          console.log(error)\r\n          showError(error.message)\r\n        }finally{\r\n          loading.value = false\r\n        }\r\n        console.log(payload)\r\n}\r\n\r\n    const printReport = async () => {\r\n        const itemsData = storeItems.value;\r\n        const iframe = document.createElement(\"iframe\");\r\n        iframe.style.display = \"none\";\r\n        document.body.appendChild(iframe);\r\n\r\n        loading_spinner.value = false;\r\n\r\n            // Get current date in DD/MM/YYYY format\r\n    const today = new Date();\r\n    const date = today.getDate().toString().padStart(2, '0');\r\n    const month = (today.getMonth() + 1).toString().padStart(2, '0');\r\n    const year = today.getFullYear();\r\n    const dateString = `${date}/${month}`;\r\n    const formattedDate = `${dateString}/${year}`;\r\n\r\n        const printContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>Store Items Report</title>\r\n<style>\r\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\r\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\r\n  .logo { width: 160px; height: auto; }\r\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; margin-left: auto; border-radius: 5px; }\r\n  .company-title { text-align: center; margin-top: 10px; }\r\n  .company-title h2 { margin: 5px 0; }\r\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\r\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\r\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\r\n  table.details td, table.items th, table.items td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\r\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\r\n  table tr:first-child th:first-child, table tr:first-child td:first-child { border-top-left-radius: 8px; }\r\n  table tr:first-child th:last-child, table tr:first-child td:last-child { border-top-right-radius: 8px; }\r\n  table tr:last-child td:first-child { border-bottom-left-radius: 8px; }\r\n  table tr:last-child td:last-child { border-bottom-right-radius: 8px; }\r\n  .summary-section { margin-top: 30px; font-size: 12px; }\r\n  .text-center {text-align: center;}\r\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\r\n</style>\r\n</head>\r\n<body>\r\n<div class=\"header\">\r\n  <img src=\"https://bushman.ink/copex.jpg\" class=\"logo\" />\r\n  <div class=\"report-box\">\r\n    REPORT ON.<br>\r\n    <span style=\"color:red;\">${dateString}</span>\r\n  </div>\r\n</div>\r\n<div class=\"reg-info\">\r\n  TIN: 103-826-519<br>\r\n  VRN: 20-01-017530R\r\n</div>\r\n<div class=\"company-title\">\r\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\r\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\r\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\r\n</div>\r\n\r\n<div class=\"section-title\">SITE STORE MATERIAL USAGE REPORT</div>\r\n<h3 class=\"header\">STORE DETAILS </h3>\r\n<table class=\"items\">\r\n    <thead>\r\n        <tr>\r\n            <th>PROJECT</th>\r\n            <th>STORE</th>\r\n            <th>SUPERVISOR</th>\r\n            <th>SUPERVISOR'S EMAIL</th>\r\n        </tr>\r\n    </thead>\r\n     <tbody>\r\n        <tr>\r\n          <td class=\"text-center\">${store.value.project.short_name}</td>\r\n          <td class=\"text-center\"> ${ store.value.officer?.name}</td>\r\n          <td class=\"text-center\"> ${ store.value.officer?.email}</td>\r\n           <td class=\"text-center\"> ${ store.value.officer?.phone_no}</td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n\r\n\r\n<h3 class=\"header\">USAGE DETAILS </h3>\r\n<table class=\"items\">\r\n    <thead>\r\n        <tr>\r\n            <th>S.No</th>\r\n            <th>Item Name</th>\r\n            <th>Category</th>\r\n            <th>Description</th>\r\n            <th>Quantity Used</th>\r\n            <th>Date Used</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        ${filteredReportItemUsage.value\r\n            .map((item, index) => `\r\n        <tr>\r\n            <td >${index + 1}</td>\r\n            <td>${item.item || 'N/A'}</td>\r\n            <td>${item.category || 'N/A'}</td>\r\n            <td>${item.description || 'N/A'}</td>\r\n            <td>${item.used || 'N/A'}</td>\r\n            <td>${item.date || 'N/A'}</td>\r\n        </tr>\r\n        `).join(\"\")}\r\n    </tbody>\r\n   \r\n</table>\r\n\r\n<div style=\"margin-top: 30px; text-align: right;\">\r\n    <div>Printed on: ${formattedDate}</div>\r\n</div>\r\n\r\n</body>\r\n</html>\r\n`;\r\n\r\n        const iframeDoc = iframe.contentWindow.document;\r\n        iframeDoc.open();\r\n        iframeDoc.write(printContent);\r\n        iframeDoc.close();\r\n\r\n        iframe.onload = () => {\r\n            iframe.contentWindow.focus();\r\n            iframe.contentWindow.print();\r\n            setTimeout(() => {\r\n                document.body.removeChild(iframe);\r\n            }, 1000);\r\n        };\r\n\r\n};\r\n\r\n\r\n    const bulkData = ref([])\r\n    const getBulk = async () =>{\r\n      const response = await axiosInstance.get(`get-fuel?store_id=${route.params.store_id}`)\r\n       bulkData.value = response.data.map((item,index)=>({\r\n        ...item,\r\n        Sno : index + 1,\r\n        project_id: item.project_id, \r\n        store_diesel_id: item.store_diesel_id,\r\n        store_petrol_id: item.store_petrol_id,\r\n        diesel_quantity: item.diesel_quantity,\r\n        petrol_quantity: item.petrol_quantity,\r\n        petrol_used: item.petrol_used,\r\n        diesel_used: item.diesel_used,\r\n        diesel_balance: item.diesel_quantity - item.diesel_used,\r\n        petrol_balance: item.petrol_quantity - item.petrol_used\r\n       }))[0];      \r\n       }\r\n\r\n    const total_fuel = ref(0);\r\n    const getBulkDistribution = async () => {\r\n      getBulk()\r\n    loading_spinner.value = true;   \r\n    try {\r\n        const response = await axiosInstance.get(`/asset-consumptions?store_id=${route.params.store_id}`);\r\n        if (Array.isArray(response.data)) {   \r\n         bulkDistribution.value = response.data.filter(distribution => \r\n         distribution.store_id == route.params.store_id && distribution.item_id== item_id.value\r\n        )\r\n            .map((statement, index) => {\r\n                let ratio;\r\n                if (statement.consumption_type === \"Litre/hr\") {\r\n                    ratio = statement.quantity / (statement.final_reading - statement.initial_reading);\r\n                } else {\r\n                    ratio = (statement.final_reading - statement.initial_reading) / statement.quantity;\r\n                }\r\n\r\n              ratio = (ratio > 50 || ratio < 0) ? \"---\" : ratio.toFixed(2);\r\n\r\n              const rateNumber = Number(statement.rate); // keep raw number\r\n               const costNumber = rateNumber * statement.quantity; // keep raw number\r\n\r\n              // Calculate used fuel based on readings and average ratio\r\n              const workDone = statement.final_reading - statement.initial_reading;\r\n              const averageRatio = statement.machine_average_ratio || 0;\r\n              const usedFuel = averageRatio > 0 ? (workDone / averageRatio).toFixed(2) : 0;\r\n               \r\n                return {\r\n                    SNo: index + 1,\r\n                    asset_id : statement.asset_id,\r\n                    issued: statement.quantity,\r\n                    used: usedFuel,\r\n                    balance: (statement.quantity - usedFuel).toFixed(2),\r\n                    work: (workDone).toFixed(2), \r\n                    fuel_type: statement.item_name,\r\n                    consuption: statement.consumption_type,\r\n                    issued_date: formatDate(statement.created_at),\r\n                    task: statement.task,\r\n                    driver: statement.driver_name,\r\n                    issuer: statement.issuer_name,\r\n                    initial: statement.initial_reading,\r\n                    final: statement.final_reading,\r\n                    machine: statement.machine_name,\r\n                    type:statement.machine_type,\r\n                    ratio: statement.machine_average_ratio,\r\n                    consumption_type: statement.machine_consumption_type,\r\n                    project_id:statement.project_id,\r\n                    store_id:statement.store_id,\r\n                    id:statement.id,\r\n                    remark :statement.remark,\r\n                    volume : statement.volume,\r\n                           used_cost: formatNumber(usedFuel * rateNumber), \r\n                    rate: formatNumber(rateNumber), // raw number\r\n        cost: formatNumber(costNumber), // raw number\r\n        cost_original :costNumber\r\n                };\r\n            });\r\n\r\n\r\n     total_fuel.value = bulkDistribution.value.reduce((sum, statement) => {\r\n                return sum + Number(statement.fuel); // Summing up the fuel_issued after mapping\r\n            }, 0);\r\n           \r\n            loading_spinner.value = false;\r\n        } else {\r\n          showError(error.message);\r\n            console.error(\"Invalid response format\");\r\n        }\r\n    } catch (error) {\r\n      showError(error.message);\r\n      loading_spinner.value = false;\r\n        console.error(\"Error fetching Bulk Distribution: \", error);\r\n    }\r\n};\r\n\r\n    const getAssetConsumption = async () => {\r\n    loading_spinner.value = true;   \r\n    try {\r\n        const response = await axiosInstance.get(`/asset-consumptions?project_id=${store.value.project_id}`);\r\n        if (Array.isArray(response.data)) {   \r\n         bulkDistribution.value = response.data\r\n            .map((statement, index) => {\r\n                let ratio;\r\n                if (statement.consumption_type === \"Litre/hr\") {\r\n                    ratio = statement.quantity / (statement.final_reading - statement.initial_reading);\r\n                } else {\r\n                    ratio = (statement.final_reading - statement.initial_reading) / statement.quantity;\r\n                }\r\n\r\n              ratio = (ratio > 50 || ratio < 0) ? \"---\" : ratio.toFixed(2);\r\n\r\n               const rateNumber = Number(statement.rate); // keep raw number\r\n               const costNumber = rateNumber * statement.quantity; // keep raw number\r\n\r\n                  // Calculate used fuel based on readings and average ratio\r\n              const workDone = statement.final_reading - statement.initial_reading;\r\n              const averageRatio = statement.machine_average_ratio || 0;\r\n              const usedFuel = averageRatio > 0 ? (workDone / averageRatio).toFixed(2) : 0;\r\n               \r\n                return {\r\n                    SNo: index + 1,\r\n                    issued: statement.quantity,\r\n                    used: usedFuel,\r\n                    balance: (statement.quantity - usedFuel).toFixed(2),\r\n                    work: (workDone).toFixed(2), \r\n                    asset_id : statement.asset_id,\r\n                    fuel_type: statement.item_name,\r\n                    consuption: statement.consumption_type,\r\n                    issued_date: formatDate(statement.created_at),\r\n                    task: statement.task,\r\n                    volume : statement.volume,\r\n                    driver: statement.driver_name,\r\n                    issuer: statement.issuer_name,\r\n                    initial: statement.initial_reading,\r\n                    final: statement.final_reading,\r\n                    machine: statement.machine_name,\r\n                    ratio: statement.machine_average_ratio,\r\n                    consumption_type: statement.machine_consumption_type,\r\n                    type:statement.machine_type,\r\n                    project_id:statement.project_id,\r\n                    store_id:statement.store_id,\r\n                    id:statement.id,\r\n                    remark :statement.remark,\r\n                    raw_date: statement.created_at,\r\n                    used_cost: formatNumber(usedFuel * rateNumber), \r\n                    rate: formatNumber(rateNumber), // raw number\r\n        cost: formatNumber(costNumber), // raw number\r\n        cost_original :costNumber\r\n                  \r\n                };\r\n            });\r\n\r\n            loading_spinner.value = false;\r\n        } else {\r\n          showError(error.message);\r\n            console.error(\"Invalid response format\");\r\n        }\r\n    } catch (error) {\r\n      showError(error.message);\r\n      loading_spinner.value = false;\r\n        console.error(\"Error fetching Bulk Distribution: \", error);\r\n    }\r\n};\r\n\r\n\r\n//method for fetching remarks\r\nconst name =  ref();\r\nconst user_role = JSON.parse(localStorage.getItem(\"user\")).role;\r\nconst isfetching = ref(false);   \r\nconst status = ref(\"unchecked\"); // Default status\r\nconst usage = ref(); // Default usage ID\r\nconst newremark = ref();\r\nconst remarks = ref([]);\r\nconst remark = ref('')\r\n\r\nconst useId =  JSON.parse(localStorage.getItem(\"user\")).id;\r\nconst isSending = ref(false);\r\n\r\nconst fillChallengeRemark = async (id) =>{\r\n  const payload = {\r\n    remark : selectedChallenge.value.remark + '\\n'+remark.value\r\n  }\r\n  isSending.value = true\r\n   try{\r\n    await axiosInstance.put(`remarks/${id}`,payload)\r\n    showMessage('Remark Saved')\r\n    getChallenges()\r\n    remark.value = ''\r\n    document.getElementById('close-challenge-remark').click()\r\n   }catch(error){\r\n    showError(error.message)\r\n    console.log(error)\r\n   }finally{\r\n     isSending.value = false\r\n   }\r\n}\r\n\r\n\r\n    const updateReadings = async()=>{\r\n      isSending.value = true\r\n      const payload = {\r\n        initial_reading : statement.value.initial,\r\n        final_reading :statement.value.final,\r\n        remark : statement.value.remark,\r\n        task: statement.value.task,\r\n        volume : statement.value.volume,\r\n        unit : statement.value.unit.short_name\r\n      }\r\n\r\n\r\n    \r\n      try{\r\n        const response = await axiosInstance.put(`asset-consumptions/${statement.value.id}`,payload)\r\n        showMessage(\"Readings Updated\")\r\n        getBulkDistribution()\r\n         const modalEl = document.getElementById('edit');\r\n  if (modalEl) {\r\n    const modalInstance = window.bootstrap?.Modal?.getInstance(modalEl) || (window.bootstrap?.Modal ? new window.bootstrap.Modal(modalEl) : null);\r\n    if (modalInstance) modalInstance.hide();\r\n    else modalEl.classList.remove('show');\r\n  }\r\n      }catch(error){\r\n        showError(error.message)\r\n        console.log(error)\r\n      }finally{\r\n        isSending.value = false\r\n      }\r\n    }\r\n\r\n  const deliveryNotesColumns = ref(['sno', 'name','category','total_issued','total_received','action']);\r\n  const deliveryNoteRecordsColumns = ref(['sno','delivery_no','issuer','issued','receiver','received','date_issued','date_received']);\r\n  const deliveryNoteRecords = ref([])\r\n  const record = ref('')\r\n  const deliveryNotes = ref([])\r\n  const getDeliveryNotes = async ()=>{\r\n    loading_spinner.value = true;\r\n    const response = await axiosInstance.get(`good-delivery-note-items?project_id=${store.value.project_id}`)\r\n    deliveryNotes.value = response.data.map((item,index)=>({\r\n      ...item,\r\n      sno : index + 1,\r\n      name : item.name + ' - '+ item.description,\r\n      raw_date: item.records[0]?.date_received\r\n    }))\r\n    loading_spinner.value = false;\r\n  }\r\n\r\n\r\nconst columns = ref(['SNo','item', 'description','units','receiver','date','approved','received','shortage','briefing','remark','cost', 'status']);\r\n    const notes = ref([]);\r\n  const getIssueNotes = () => {\r\n        loading_spinner.value = true;\r\n        axiosInstance.get(`/grn-items?project_id=${store?.value.project_id}`).then((response) => {\r\n            \r\n            notes.value = response.data.map((item, index) => {\r\n                return {\r\n                    ...item,\r\n                    SNo: index + 1,\r\n                    id: item.id,\r\n                    receiver : item?.receiver?.name,\r\n                    grn: item.grn_id,\r\n                    remark:item.remark,\r\n                    date: formatDate(item.created_at),\r\n                    item: item.approval_item.requisition_item.remark,\r\n                    description: item.approval_item.requisition_item.description,\r\n                    units: item.approval_item.requisition_item.units,\r\n                    rate: item.approval_item.requisition_item.rate,\r\n                    received: item.quantity,\r\n                    approved: item.approval_item.quantity,\r\n                    shortage: (item.approval_item.quantity - item.quantity).toFixed(2),\r\n                    briefing : item.description,\r\n                    cost: formatNumber(item.approval_item.requisition_item.rate * (item.approval_item.quantity - item.quantity)),\r\n                    rate: item.approval_item.requisition_item.rate,\r\n                };\r\n              \r\n            });\r\n            \r\n            loading_spinner.value = false;\r\n        }).catch(error => {\r\n            showError(error.message || \"Failed to fetch units\");\r\n            loading_spinner.value = false;\r\n        });\r\n    };\r\n\r\nconst totalShortageCost = computed(() => {\r\n  return notes.value\r\n    .filter(item => item.status?.name === 'Rejected')\r\n    .reduce((sum, item) => {\r\n      const cost = item.approval_item.requisition_item.rate * (item.approval_item.quantity - item.quantity) || 0;\r\n      return sum + cost;\r\n    }, 0);\r\n});\r\n\r\n\r\nconst labour_attendant = ref([])\r\nconst labour_attendant_columns = ref(['Sno','name','labour_type','task','date','reporting_time','departure_time','description','remark','status','actions'])\r\nconst getLabourAttendant = async () => {\r\n  loading_spinner.value = true;\r\n  try{\r\n    const response = await axiosInstance.get(`labour-attendants?project_id=${store.value.project_id}`)\r\n    labour_attendant.value = response.data.map((item,index)=>({\r\n      ...item,\r\n      raw_date :item.created_at,\r\n      Sno:index+1,\r\n      name:item.labour_name,\r\n      task:item.task,\r\n      remark:item.remark,\r\n      description:item.description,\r\n      date:formatDate(item.created_at),\r\n      reporting_time:item.reporting_time,\r\n      departure_time:item.departure_time,\r\n      labour_type:item.labour_type?.name,\r\n      status_id : item.status.id,\r\n       status: {\r\n                 key: item.status.name,\r\n                class: item.status.color\r\n               },\r\n\r\n    }))  \r\n  }catch(error){  \r\n    console.log(error)\r\n    showError(error.message)\r\n  }finally{\r\n    loading_spinner.value = false;\r\n  }\r\n  \r\n}\r\n    \r\n    const labour_name = ref('');\r\n    const labour_attendant_id = ref('')\r\n    const task = ref('');\r\n    const report_time = ref('');\r\n    const departure_time = ref('');\r\n    const labour_type = ref('');\r\n    const selected_status = ref('');\r\n    const labour_types = ref([]);\r\n     \r\n\r\nconst submitLabourAttendant = async () => {\r\n  isSending.value = true;\r\n\r\n  const itemData = {\r\n            labour_name: labour_name.value,\r\n            project_id: store.value.project_id,\r\n            description: description.value,\r\n            task: task.value,\r\n            reporting_time: report_time.value,\r\n            departure_time: departure_time.value,\r\n            labour_type_id: labour_type.value.id,\r\n            registrar_id: JSON.parse(localStorage.getItem(\"user\")).id,\r\n            remark:remark.value\r\n        };\r\n  try{  \r\n    const response = await axiosInstance.post('labour-attendants',itemData)\r\n    getLabourAttendant()\r\n    clearAttendantForm()  \r\n    showMessage('Labour Attendant registered')\r\n  }catch(error){\r\n    console.log(error)\r\n    showError(error.message)\r\n  }finally{\r\n    isSending.value = false;    \r\n  }\r\n}\r\n\r\nconst clearAttendantForm = () =>{\r\n  labour_name.value = ''\r\n  task.value = ''\r\n  report_time.value = ''\r\n  departure_time.value = ''\r\n  labour_type.value = ''\r\n  remark.value = ''\r\n  description.value = ''\r\n  fillAttendant.value = false\r\n}\r\n\r\nconst updateLabourAttendant = async () => {\r\n  isSending.value = true;\r\n  const itemData = {\r\n    description: description.value,\r\n    departure_time: departure_time.value,\r\n    status_id: selected_status.value.id,\r\n  };\r\n  try{  \r\n    const response = await axiosInstance.put(`labour-attendants/${labour_attendant_id.value}`,itemData)\r\n    getLabourAttendant() \r\n    document.getElementById('close_labour_attendant').click();\r\n    showMessage('Labour Attendant updated')\r\n  }catch(error){\r\n    console.log(error)\r\n    showError(error.message)\r\n  }finally{\r\n    isSending.value = false;    \r\n  }\r\n}\r\n\r\nconst closeEditLabourModal = () => {\r\n  description.value = '';\r\n  departure_time.value = '';\r\n}\r\n\r\n const openLabourModal = (row) => {\r\n        labour_attendant_id.value = row.id;\r\n        description.value = row.description;\r\n        departure_time.value = row.departure_time;\r\n        selected_status.value = row.status_id\r\n    ? allStatuses.value.find(p => p.id === row.status_id) || ''\r\n    : '';\r\n    };\r\n\r\n\r\n    const getLabourType = async () => {\r\n\r\n        try {\r\n            const response = await axiosInstance.get('labour-types');\r\n            labour_types.value = response.data;\r\n        } catch (error) {\r\n            showError(error.message);\r\n        }finally{\r\n\r\n        }\r\n    };\r\n\r\n    const allStatuses = ref([])\r\n      const getStatuses = async () => {\r\n        try {\r\n            const response = await axiosInstance.get(`/statuses`);\r\n            allStatuses.value = response.data.filter(status => \r\n                status.id === 8 || status.id === 19\r\n            );\r\n        } catch (error) {\r\n            showError(error.message);\r\n        }\r\n    };\r\n\r\nconst activityColumns = ref(['Sno', 'activity','unit','quantity','description','actions']);\r\nconst activity_columns = ref(['Sno', 'activity','unit','quantity','actions']);\r\nconst activities = ref([]);\r\nconst activity = ref('');\r\nconst activityDescription = ref('');\r\nconst activity_id = ref('');\r\nconst whatsappAlert = inject('whatsappAlert');\r\nconst pushActivity = () => {\r\n  if (activity.value) {\r\n    activities.value.push({\r\n      Sno: activities.value.length + 1,\r\n      activity: activity.value,\r\n      unit_id: unit?.value?.id || '',\r\n      unit: unit?.value?.short_name || '',\r\n      quantity: quantity.value,\r\n      description: activityDescription.value || '',\r\n    });\r\n\r\n    activity.value = '';\r\n    unit.value = null;\r\n    quantity.value = '';\r\n    activityDescription.value = '';\r\n  } else {\r\n    showError('Please fill an activity');\r\n  }\r\n};\r\n\r\nconst pullActivity = (sno) => {\r\n    activities.value = activities.value.filter(item => item.Sno !== sno);\r\n    // Re-index the remaining items\r\n    activities.value = activities.value.map((item, index) => ({\r\n        ...item,\r\n        Sno: index + 1\r\n    }));\r\n};\r\n\r\nconst submitWorkReport = async () => {\r\n  if (activities.value.length === 0) {\r\n    showError('Please add atleast one activity.');\r\n    return;\r\n  }\r\n\r\n  isSending.value = true;\r\n\r\n  const reportData = {\r\n    report_name: report.value,\r\n    description: description.value,\r\n    date:date.value,\r\n    project_id: store.value.project.id,\r\n    supervisor_id: JSON.parse(localStorage.getItem(\"user\")).id,\r\n    activities: activities.value,\r\n  };\r\n\r\n  try {\r\n    await axiosInstance.post('/work-carried-outs', reportData);\r\n    await getReactiveWorkCarriedOut()\r\n    closeReportModal();\r\n    document.getElementById('close_report').click();\r\n    showMessage('Data Saved');\r\n\r\nconst message =\r\n  `${JSON.parse(localStorage.getItem(\"user\")).name} created a work report:\\n\\n` +\r\n  `Report: ${reportData.report_name}\\n` +\r\n  `Project: ${store.value.project.short_name}\\n` +\r\n  `Date: ${reportData.date}\\n` +\r\n  `Description: ${reportData.description}\\n\\n` +\r\n  `Activities:\\n` +\r\n  reportData.activities\r\n    .map(a => `${a.activity} ${a.quantity}${a.unit}`)\r\n    .join(\"\\n\");\r\n\r\n\r\n\r\n\r\n           const message_id = \"wamid.HBgMMjU1Njk4MjY3NjYyFQIAEhggQUM5QUMyMzIyRUVEMTJBOTNBNTIwQjRCMTA3QUNGQTQA\"\r\n           const receivers = ['255697315583','255698267662']\r\n             receivers.forEach(receiver => {\r\n                whatsappAlert(message,message_id,receiver)\r\n             });\r\n\r\n\r\n  } catch (error) {\r\n    console.error(error);\r\n    showError(error.message);\r\n  } finally {\r\n    isSending.value = false;\r\n  }\r\n};\r\n\r\nconst closeReportModal = () => {\r\n  report.value = '';\r\n  description.value = '';\r\n  date.value = '';\r\n  activity.value = '';\r\n  unit.value = null;\r\n  quantity.value = '';\r\n  activityDescription.value = '';\r\n  activities.value = [];\r\n  remark.value = ''; \r\n  image.value = '';\r\n  const fileInputs = document.querySelectorAll('input[type=\"file\"]');\r\n  fileInputs.forEach(input => input.value = '');\r\n};\r\n     \r\n    const report = ref('')\r\n    const unit = ref(''); \r\n    const date = ref('')\r\n    const report_id = ref('');\r\n    const site_work_report = ref([])\r\n    \r\n   const getWorkCarriedOut = async () => {\r\n  loading_spinner.value = true;\r\n  try {\r\n    const response = await axiosInstance.get(`work-carried-outs?project_id=${store.value.project_id}`);\r\n    site_work_report.value = response.data.map((item, index) => ({\r\n      ...item,\r\n      Sno: index + 1,\r\n      date: formatDate(item.date || item.created_at),\r\n      raw_date: item.created_at,\r\n      activities: item.activities.map((activity, actIndex) => ({\r\n        ...activity,\r\n        Sno: actIndex + 1,\r\n        unit: activity.unit?.short_name  || 'N/A'\r\n      }))\r\n    }));\r\n  } catch (error) {\r\n    console.error(error);\r\n    showError(error.message);\r\n  } finally {\r\n    loading_spinner.value = false;\r\n  }\r\n};\r\n\r\n const units = ref([])\r\n    const getUnits = async () => {\r\n        loading_spinner.value = true;\r\n        try {\r\n            const response = await axiosInstance.get('units');\r\n            units.value = response.data;\r\n        } catch (error) {\r\n            showError(error.message);\r\n        }finally{\r\n            loading_spinner.value = false;\r\n        }\r\n    };\r\n\r\n    const openRemarkModal = (row) => {\r\n        report_id.value = row.id;\r\n        remark.value = row.remark;\r\n    };\r\n\r\n    const updateWorkReport = async () => {\r\n  isSending.value = true;\r\n\r\n  const itemData = {\r\n    remark: remark.value,\r\n  };\r\n  try{  \r\n    const response = await axiosInstance.put(`work-carried-outs/${report_id.value}`,itemData)\r\n    await getReactiveWorkCarriedOut() \r\n    document.getElementById('close_remark').click();\r\n    showMessage('Work Report updated')\r\n  }catch(error){\r\n    console.log(error)\r\n    showError(error.message)\r\n  }finally{\r\n    isSending.value = false;    \r\n  }\r\n};\r\n\r\nconst openEditActivityModal = (row) => {\r\n  activity_id.value = row.id; // Store the activity ID\r\n  activity.value = row.activity;\r\n  quantity.value = row.quantity;\r\n  unit.value = row.unit_id\r\n    ? units.value.find(u => u.id === row.unit_id) || ''\r\n    : '';\r\n};\r\n\r\n\r\n const updateActivities = async () => {\r\n  isSending.value = true;\r\n\r\n  const itemData = {\r\n    activity: activity.value,\r\n    quantity: quantity.value,\r\n    unit_id: unit?.value?.id ?? ''\r\n  };\r\n  try {  \r\n    const response = await axiosInstance.put(`site-activities/${activity_id.value}`, itemData)\r\n    await getReactiveWorkCarriedOut() \r\n    document.getElementById('close_activity').click();\r\n    showMessage('activity updated')\r\n  } catch(error) {\r\n    console.log(error)\r\n    showError(error.message)\r\n  } finally {\r\n    isSending.value = false;    \r\n  }\r\n};\r\n\r\nconst isDeletingReport = ref(false);\r\nconst currentDeletingReportId = ref(null);\r\n\r\nconst deleteWorkReport = async (id) => {\r\n  const result = await Swal.fire({\r\n    title: 'Are you sure?',\r\n    text: \"You won't be able to revert this!\",\r\n    icon: 'warning',\r\n    showCancelButton: true,\r\n    confirmButtonColor: '#3085d6',\r\n    cancelButtonColor: '#d33',\r\n    confirmButtonText: 'Yes, delete it!'\r\n  });\r\n\r\n  if (result.isConfirmed) {\r\n    isDeletingReport.value = true;\r\n    currentDeletingReportId.value = id;\r\n    try {\r\n      await axiosInstance.delete(`work-carried-outs/${id}`);\r\n      await getReactiveWorkCarriedOut()\r\n      showMessage('work carried out deleted successfully');\r\n    } catch (error) {\r\n      console.error(error);\r\n      showError(error.message);\r\n    } finally {\r\n      isDeletingReport.value = false;\r\n      currentDeletingReportId.value = null;\r\n    }\r\n  }\r\n};\r\n\r\nconst isDeletingActivity = ref(false);\r\nconst currentDeletingActivityId = ref(null);\r\n\r\nconst deleteActivity = async (id) => {\r\n  isDeletingActivity.value = true;\r\n      currentDeletingActivityId.value = id;\r\n      try {\r\n        await axiosInstance.delete(`site-activities/${id}`);\r\n        await getReactiveWorkCarriedOut()\r\n        showMessage('Activity deleted successfully');\r\n        \r\n      } catch (error) {\r\n        console.error(error);\r\n        showError(error.message);\r\n      } finally {\r\n        isDeletingActivity.value = false;\r\n        currentDeletingActivityId.value = null;\r\n      }\r\n \r\n};\r\n\r\n  const AddActivities = async () => {\r\n  isSending.value = true;\r\n\r\n  const itemData = {\r\n    work_carried_out_id: report_id.value,\r\n    activity: activity.value,\r\n    quantity: quantity.value,\r\n    unit_id: unit.value.id\r\n  };\r\n  try {  \r\n    const response = await axiosInstance.post(`site-activities`, itemData)\r\n    await getReactiveWorkCarriedOut() \r\n    document.getElementById('close_add').click();\r\n    showMessage('activity added')\r\n  } catch(error) {\r\n    console.log(error)\r\n    showError(error.message)\r\n  } finally {\r\n    isSending.value = false;    \r\n  }\r\n};\r\n\r\nconst image = ref(null);\r\n\r\nconst handleImageUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    image.value = file instanceof File ? file : null;\r\n    console.log(\"FILE SENT:\", image.value);\r\n};\r\n\r\nconst AddAttachmnet = async () => {\r\n    isSending.value = true;\r\n\r\n    const formData = new FormData();\r\n    formData.append('work_carried_out_id', report_id.value);\r\n    formData.append('description', description.value);\r\n\r\n    if (image.value instanceof File) {\r\n        formData.append('file_path', image.value);\r\n    }\r\n\r\n    try {\r\n        const response = await axiosInstance.post(\r\n            'work-carried-out-attachments',\r\n            formData,\r\n            { headers: { 'Content-Type': 'multipart/form-data' } }\r\n        );\r\n\r\n        await getReactiveWorkCarriedOut();\r\n        document.getElementById('close_attachment').click();\r\n        showMessage('Attachment added');\r\n\r\n        console.log(\"File URL:\", response.data.url);\r\n\r\n    } catch (error) {\r\n        console.error(error);\r\n        showError(error.message);\r\n    } finally {\r\n        isSending.value = false;\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\nconst viewAttachment = (attachmentUrl, attachment) => {\r\n  selectedAttachment.value = attachmentUrl;\r\n  selectedAttachmentData.value = attachment; // Store attachment data\r\n};\r\n\r\nconst selectedAttachment = ref('');\r\nconst selectedAttachmentData = ref(null);\r\n\r\n\r\n const searchQuery = ref('');\r\n// Add computed property for filtered reports\r\nconst filteredSiteWorkReport = computed(() => {\r\n  if (!searchQuery.value) {\r\n    return site_work_report.value;\r\n  }\r\n  return site_work_report.value.filter(report => {\r\n    const query = searchQuery.value.toLowerCase();\r\n    return (\r\n      report.report_name?.toLowerCase().includes(query) ||\r\n      report.description?.toLowerCase().includes(query) ||\r\n      report.supervisor?.name?.toLowerCase().includes(query) ||\r\n      report.date?.includes(query) ||\r\n      report.remark?.toLowerCase().includes(query) ||\r\n      report.activities?.some(activity => \r\n        activity.activity?.toLowerCase().includes(query) ||\r\n        activity.unit?.short_name?.toLowerCase().includes(query)\r\n      )\r\n    );\r\n  });\r\n});\r\n\r\nconst getReactiveWorkCarriedOut = async () => {\r\n  const response = await axiosInstance.get(`work-carried-outs?project_id=${store.value.project_id}`);\r\n    site_work_report.value = response.data.map((item, index) => ({\r\n      ...item,\r\n      Sno: index + 1,\r\n      date: formatDate(item.date || item.created_at),\r\n      activities: item.activities.map((activity, actIndex) => ({\r\n        ...activity,\r\n        Sno: actIndex + 1,\r\n        unit: activity.unit?.short_name  || 'N/A'\r\n      }))\r\n    }));\r\n}\r\n\r\nconst isDeleting = ref(false);\r\nconst currentDeletingId = ref(null);\r\nconst deleteAttachment = async (id) => {\r\n  isDeleting.value = true;\r\n  currentDeletingId.value = id;\r\n  \r\n  try {\r\n    await axiosInstance.delete(`work-carried-out-attachments/${id}`);\r\n        await getReactiveWorkCarriedOut()\r\n        showMessage('Attachment deleted successfully');\r\n  } catch (error) {\r\n    console.error(error);\r\n    showError(error.message);\r\n  } finally {\r\n    isDeleting.value = false;\r\n    currentDeletingId.value = null;\r\n  }\r\n};\r\n\r\nconst rotationDegree = ref(0); \r\nconst rotateImage = () => {\r\n  rotationDegree.value += 90; \r\n};\r\n\r\n\r\n//ngugo\r\nconst selectedReportDate = ref(\"\")\r\n\r\nconst filterByDate = (sourceRef, dateField = \"raw_date\") => {\r\n  return computed(() => {\r\n    if (!selectedReportDate.value) return sourceRef.value;\r\n\r\n    return sourceRef.value.filter(item => {\r\n      const d = item[dateField];\r\n      if (!d) return false;\r\n\r\n      // If already YYYY-MM-DD, compare directly\r\n      if (/^\\d{4}-\\d{2}-\\d{2}$/.test(d)) {\r\n        return d === selectedReportDate.value;\r\n      }\r\n      \r\n      // Handle DD/MM/YY HH:mm format from the date field\r\n      if (/^\\d{2}\\/\\d{2}\\/\\d{2}/.test(d)) {\r\n        const parts = d.split(' ')[0].split('/');\r\n        const year = '20' + parts[2];\r\n        const month = parts[1];\r\n        const day = parts[0];\r\n        const itemDate = `${year}-${month}-${day}`;\r\n        return itemDate === selectedReportDate.value;\r\n      }\r\n      \r\n      return new Date(d).toISOString().split(\"T\")[0] === selectedReportDate.value;\r\n    });\r\n  });\r\n};\r\n\r\n\r\nconst filterByWeek = (sourceRef, dateField = \"raw_date\") => {\r\n  return computed(() => {\r\n    if (!selectedReportDate.value) return sourceRef.value;\r\n\r\n    const selected = new Date(selectedReportDate.value);\r\n\r\n    // Compute Monday (week start)\r\n    const day = selected.getDay(); // 0 = Sun, 1 = Mon, ... 6 = Sat\r\n    const diffToMonday = day === 0 ? -6 : 1 - day; \r\n    const weekStart = new Date(selected);\r\n    weekStart.setDate(selected.getDate() + diffToMonday);\r\n\r\n    // Compute Sunday (week end)\r\n    const weekEnd = new Date(weekStart);\r\n    weekEnd.setDate(weekStart.getDate() + 6);\r\n\r\n    // Convert to YYYY-MM-DD for comparison\r\n    const startStr = weekStart.toISOString().split(\"T\")[0];\r\n    const endStr = weekEnd.toISOString().split(\"T\")[0];\r\n\r\n    return sourceRef.value.filter(item => {\r\n      const d = item[dateField];\r\n      if (!d) return false;\r\n\r\n      let itemDateStr;\r\n\r\n      // Handle DD/MM/YY HH:mm format (like \"25/01/26 03:00\")\r\n      if (/^\\d{2}\\/\\d{2}\\/\\d{2}/.test(d)) {\r\n        const parts = d.split(' ')[0].split('/');\r\n        const year = '20' + parts[2];\r\n        const month = parts[1];\r\n        const day = parts[0];\r\n        itemDateStr = `${year}-${month}-${day}`;\r\n      }\r\n      // Handle YYYY-MM-DD format\r\n      else if (/^\\d{4}-\\d{2}-\\d{2}$/.test(d)) {\r\n        itemDateStr = d;\r\n      }\r\n      // Handle ISO datetime strings\r\n      else {\r\n        const itemDate = new Date(d);\r\n        if (isNaN(itemDate.getTime())) return false; // Invalid date\r\n        itemDateStr = itemDate.toISOString().split(\"T\")[0];\r\n      }\r\n\r\n      return itemDateStr >= startStr && itemDateStr <= endStr;\r\n    });\r\n  });\r\n};\r\n\r\n\r\nconst filteredReportItemUsage = filterByDate(itemUsage);\r\nconst filteredReportLabourAttendance = filterByDate(labour_attendant);\r\nconst filteredReportChallenges = filterByDate(challenges);\r\nconst filteredReportFuelStatement = filterByDate(bulkDistribution);\r\nconst filteredReportWorkCarriedOut = filterByDate(site_work_report, \"date\");\r\nconst filteredReportDeliveryNotes = filterByDate(deliveryNotes, \"date_received\");\r\n\r\nconst filteredReportItemUsageWeek = filterByWeek(itemUsage);\r\nconst filteredReportLabourAttendanceWeek = filterByWeek(labour_attendant);\r\nconst filteredReportChallengesWeek = filterByWeek(challenges);\r\nconst filteredReportFuelStatementWeek = filterByWeek(bulkDistribution);\r\nconst filteredReportWorkCarriedOutWeek = filterByWeek(site_work_report, \"date\");\r\nconst filteredReportDeliveryNotesWeek = filterByWeek(deliveryNotes, \"date_received\");\r\n\r\nconst printComprehensiveReport = async () => {\r\n  loading_spinner.value = true;\r\n\r\n  try {\r\n    const filteredMaterials = selectedReportDate.value \r\n      ? (filteredReportItemUsage.value || [])\r\n      : (itemUsage.value || []);\r\n    const filteredAttendance = selectedReportDate.value\r\n      ? (filteredReportLabourAttendance.value || [])\r\n      : (labour_attendant.value || []);\r\n    const filteredSiteChallenges = selectedReportDate.value\r\n      ? (filteredReportChallenges.value || [])\r\n      : (challenges.value || []);\r\n    const filteredFuelStatement = selectedReportDate.value\r\n      ? (filteredReportFuelStatement.value || [])\r\n      : (bulkDistribution.value || []);\r\n    const filteredWorkCarriedOut = selectedReportDate.value\r\n      ? (filteredReportWorkCarriedOut.value || [])\r\n      : (site_work_report.value || []);\r\n\r\n    const hasAnyData =\r\n      filteredMaterials.length ||\r\n      filteredAttendance.length ||\r\n      filteredSiteChallenges.length ||\r\n      filteredFuelStatement.length ||\r\n      filteredWorkCarriedOut.length;\r\n\r\n    if (!hasAnyData) {\r\n      loading_spinner.value = false;\r\n      showError('No data available for the selected date');\r\n      return;\r\n    }\r\n\r\n    const formattedReportDate = selectedReportDate.value \r\n      ? formatDate(selectedReportDate.value)\r\n      : formatDate(new Date().toISOString().split('T')[0]);\r\n\r\n    // Get date and month for report number box\r\n    const reportDateSource = selectedReportDate.value ? new Date(selectedReportDate.value) : new Date();\r\n    const date = reportDateSource.getDate().toString().padStart(2, '0');\r\n    const month = (reportDateSource.getMonth() + 1).toString().padStart(2, '0');\r\n    const reportDateBox = `${date}/${month}`;\r\n\r\n    // Calculate totals from labor attendance\r\n    const laborCounts = filteredAttendance.reduce((acc, labor) => {\r\n      const type = labor.labour_type || 'Others';\r\n      if (!acc[type]) acc[type] = 0;\r\n      acc[type]++;\r\n      return acc;\r\n    }, {});\r\n\r\n    // Get supervisor from first labor entry or use default\r\n    const supervisor = filteredAttendance.find(l => l.labour_type === 'Supervisor' || l.labour_type === 'Foreman') || \r\n                      store.value?.officer || { name: 'N/A' };\r\n\r\n    const iframe = document.createElement(\"iframe\");\r\n    iframe.style.display = \"none\";\r\n    document.body.appendChild(iframe);\r\n\r\n    const printContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>Daily Construction Report</title>\r\n<style>\r\n  body { font-family: 'Courier New', monospace; margin: 40px; font-size: 13px; }\r\n  .text-style { font-family: 'Courier New', monospace; }\r\n  .header-container { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }\r\n  .company-title { text-align: center; flex: 1; }\r\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 10px; text-align: center; border-radius: 5px; min-width: 80px; margin-top: 20px; }\r\n  .title { text-align: center; font-size: 20px; margin: 10px 0; }\r\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; }\r\n  th, td { border: 0.5px solid #000; padding: 6px; text-align: left; }\r\n  th { background-color: #f8f8f8; font-weight: bold; }\r\n  .text-right { text-align: right; }\r\n  .text-center { text-align: center; }\r\n  hr { border: 0; border-top: 0.5px solid #000; margin: 0px 0; }\r\n  .section { margin-top: 20px; }\r\n  .side-by-side { display: flex; gap: 20px; margin-top: 20px; }\r\n  .side-by-side > div { flex: 1; }\r\n  @media print { body { margin: 10mm; } }\r\n</style>\r\n</head>\r\n<body>\r\n\r\n<div class=\"header-container\">\r\n  <div style=\"width: 80px;\"></div>\r\n  <div class=\"company-title text-style\">\r\n    <i>\r\n    <h1>COPEX CONTRACTORS CO.LTD</h1>\r\n    <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\r\n    <div><b>Tel:</b> 0713 000 777, 0657 111 555</div>\r\n    <div><b>Email:</b> info@copexcontractors.co.tz</div>\r\n    <div><b>TIN:</b> 103-826-519 &nbsp;&nbsp; <b>VRN:</b> 20-01-017530R</div>\r\n    </i>\r\n  </div>\r\n  <div class=\"report-box\">\r\n    REPORT NO.<br>\r\n    <span style=\"color:red;\">${reportDateBox}</span>\r\n  </div>\r\n</div>\r\n\r\n<hr style=\"margin-top:20px\">\r\n\r\n<div class=\"title text-style\">\r\n  DAILY CONSTRUCTION REPORT\r\n</div>\r\n\r\n<hr>\r\n\r\n<div style=\"display: flex; gap: 40px; margin: 10px 0;\">\r\n  <div style=\"flex: 1;\">\r\n    <div><strong>Date:</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;${formattedReportDate}</div>\r\n    <div><strong>Location:</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;${store.value?.project?.short_name || 'N/A'}</div>\r\n  </div>\r\n  <div style=\"flex: 1;\">\r\n    <div><strong>Contractor:</strong>&nbsp;&nbsp;&nbsp;COPEX CONTRACTORS</div>\r\n    <div><strong>Tender No.:</strong>&nbsp;&nbsp;&nbsp;${store.value?.project?.contract_number || 'N/A'}</div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"side-by-side\">\r\n  <div>\r\n    <table>\r\n         <thead>\r\n           <tr>\r\n             <th colspan=\"2\" style=\"background-color:black; color:black;\">CONTRACTOR'S LABOR FORCE</th>\r\n             </tr>\r\n           <tr>\r\n             <th>Classification</th>\r\n             <th># of Persons</th>\r\n           </tr>\r\n         </thead>\r\n         <tbody>\r\n           ${Object.entries(laborCounts).map(([type, count], idx) => `\r\n           <tr>\r\n             <td>${type}</td>\r\n             <td>${count}</td>\r\n           </tr>\r\n           `).join('')}\r\n           ${Object.keys(laborCounts).length === 0 ? `\r\n           <tr>\r\n             <td colspan=\"2\">No labor attendance recorded</td>\r\n           </tr>\r\n           ` : ''}\r\n         </tbody>\r\n       </table>\r\n  </div>\r\n\r\n  <div>\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th colspan=\"3\">MATERIALS USED/RECEIVED</th>\r\n        </tr>\r\n        <tr>\r\n          <th>Item</th>\r\n          <th>Description</th>\r\n          <th>Used</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        ${filteredMaterials.map((m) => `\r\n        <tr>\r\n          <td>${m.item || 'N/A'}</td>\r\n          <td>${m.description || 'N/A'}</td>\r\n          <td>${m.used || '0'}</td>\r\n        </tr>\r\n        `).join('')}\r\n        ${filteredMaterials.length === 0 ? `\r\n        <tr>\r\n          <td colspan=\"3\">No materials recorded</td>\r\n        </tr>\r\n        ` : ''}\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"section\">\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th colspan=\"4\">EQUIPMENT USED TODAY</th>\r\n      </tr>\r\n      <tr>\r\n        <th>Machine Type</th>\r\n        <th>Machine Name</th>\r\n        <th>Type of Work</th>\r\n        <th>Fuel Issued</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      ${filteredFuelStatement.map((f) => `\r\n      <tr>\r\n        <td>${f.type || 'N/A'}</td>\r\n        <td>${f.machine || 'N/A'}</td>\r\n        <td>${f.task || 'N/A'}</td>\r\n        <td>${f.issued || '0'} L (${f.fuel_type || 'Diesel'})</td>\r\n      </tr>\r\n      `).join('')}\r\n      ${filteredFuelStatement.length === 0 ? `\r\n      <tr>\r\n        <td colspan=\"4\">No equipment usage recorded</td>\r\n      </tr>\r\n      ` : ''}\r\n    </tbody>\r\n  </table>\r\n</div>\r\n\r\n<div class=\"section\">\r\n  ${filteredWorkCarriedOut.map((r) => `\r\n  ${r.activities?.length ? `\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th colspan=\"4\">WORK ACTIVITY</th>\r\n      </tr>\r\n      ${r.activities.map((a, idx) => `\r\n      <tr>\r\n        <td>${idx + 1}. ${a.activity || 'N/A'} - ${a.quantity || '0'} ${a.unit || ''}</td>\r\n      </tr>`).join('')}\r\n    </thead>\r\n  </table>\r\n  ` : '<p>No activities recorded</p>'}\r\n  `).join('')}\r\n</div>\r\n\r\n<div class=\"section\">\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th colspan=\"4\">Comments & Site Requirements</th>\r\n      </tr>\r\n      ${filteredSiteChallenges.map((c, idx) => `\r\n      <tr>\r\n        <td>${idx + 1}. ${c.challenge || 'N/A'} - ${c.reported_by || 'N/A'} - ${c.proposed_measure || 'N/A'} - ${c.remark || 'N/A'}</td>\r\n      </tr>\r\n      `).join('')}\r\n      ${filteredSiteChallenges.length === 0 ? `\r\n      <tr>\r\n        <td colspan=\"4\">No comments or requirements reported</td>\r\n      </tr>\r\n      ` : ''}\r\n    </thead>\r\n  </table>\r\n</div>\r\n\r\n<div style=\"margin-top: 30px;\">\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th colspan=\"2\">REPORTED BY</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <td><strong>Name:</strong></td>\r\n        <td>${supervisor.name}</td>\r\n      </tr>\r\n      <tr>\r\n        <td><strong>Title:</strong></td>\r\n        <td>Site Supervisor</td>\r\n      </tr>\r\n      <tr>\r\n        <td><strong>Date:</strong></td>\r\n        <td>${formattedReportDate}</td>\r\n      </tr>\r\n      <tr>\r\n        <td><strong>Signature:</strong></td>\r\n        <td><strong>Date:</strong></td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n\r\n</body>\r\n</html>\r\n`;\r\n\r\n    const iframeDoc = iframe.contentWindow.document;\r\n    iframeDoc.open();\r\n    iframeDoc.write(printContent);\r\n    iframeDoc.close();\r\n\r\n    iframe.onload = () => {\r\n      iframe.contentWindow.focus();\r\n      iframe.contentWindow.print();\r\n      setTimeout(() => {\r\n        document.body.removeChild(iframe);\r\n      }, 1000);\r\n      selectedReportDate.value = '';\r\n      loading_spinner.value = false;\r\n    };\r\n\r\n  } catch (error) {\r\n    console.error(error);\r\n    showError(error.message);\r\n    loading_spinner.value = false;\r\n  }\r\n};\r\n\r\n\r\nconst printWeeklyComprehensiveReport = async () => {\r\n  loading_spinner.value = true;\r\n\r\n  try {\r\n    // If no date selected, use all data; otherwise filter by week\r\n    const filteredMaterials = selectedReportDate.value \r\n      ? (filteredReportItemUsageWeek.value || [])\r\n      : (itemUsage.value || []);\r\n    const filteredAttendance = selectedReportDate.value\r\n      ? (filteredReportLabourAttendanceWeek.value || [])\r\n      : (labour_attendant.value || []);\r\n    const filteredSiteChallenges = selectedReportDate.value\r\n      ? (filteredReportChallengesWeek.value || [])\r\n      : (challenges.value || []);\r\n    const filteredFuelStatement = selectedReportDate.value\r\n      ? (filteredReportFuelStatementWeek.value || [])\r\n      : (bulkDistribution.value || []);\r\n    const filteredWorkCarriedOut = selectedReportDate.value\r\n      ? (filteredReportWorkCarriedOutWeek.value || [])\r\n      : (site_work_report.value || []);\r\n    const filteredDeliveryNotes = selectedReportDate.value\r\n      ? (filteredReportDeliveryNotesWeek.value || [])\r\n      : (deliveryNotes.value || []);\r\n\r\n    const hasAnyData =\r\n      filteredMaterials.length ||\r\n      filteredAttendance.length ||\r\n      filteredSiteChallenges.length ||\r\n      filteredFuelStatement.length ||\r\n      filteredWorkCarriedOut.length ||\r\n      filteredDeliveryNotes.length;\r\n\r\n    if (!hasAnyData) {\r\n      loading_spinner.value = false;\r\n      showError('No data available for weekly report');\r\n      return;\r\n    }\r\n\r\n    /* WEEK RANGE - only calculate if date is selected */\r\n    let weekStartFormatted = '';\r\n    let weekEndFormatted = '';\r\n    \r\n    if (selectedReportDate.value) {\r\n      const reportDate = selectedReportDate.value;\r\n      const selected = new Date(reportDate);\r\n      const day = selected.getDay();\r\n      const diffToMonday = day === 0 ? -6 : 1 - day;\r\n      const weekStart = new Date(selected);\r\n      weekStart.setDate(selected.getDate() + diffToMonday);\r\n      const weekEnd = new Date(weekStart);\r\n      weekEnd.setDate(weekStart.getDate() + 6);\r\n\r\n      weekStartFormatted = formatDate(weekStart.toISOString().split('T')[0]);\r\n      weekEndFormatted = formatDate(weekEnd.toISOString().split('T')[0]);\r\n    }\r\n\r\n    const iframe = document.createElement(\"iframe\");\r\n    iframe.style.display = \"none\";\r\n    document.body.appendChild(iframe);\r\n\r\n    const printContent = `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<title>Weekly Comprehensive Report</title>\r\n<style>\r\n  body {\r\n    font-family: 'Courier New', monospace;\r\n    margin: 30px;\r\n    font-size: 12px;\r\n  }\r\n  .text-style { font-family: 'Courier New', monospace; }\r\n  .company-title { text-align: center; }\r\n  .title {\r\n    text-align: center;\r\n    font-size: 15px;\r\n    margin: 10px 0;\r\n    font-weight: bold;\r\n  }\r\n  table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-top: 10px;\r\n    font-size: 11px;\r\n  }\r\n  th, td {\r\n    border: 0.5px solid #000;\r\n    padding: 5px;\r\n  }\r\n  th {\r\n    background-color: #f8f8f8;\r\n    font-weight: bold;\r\n  }\r\n  .text-center { text-align: center; }\r\n  .text-right { text-align: right; }\r\n  hr {\r\n    border: 0;\r\n    border-top: 0.5px solid #000;\r\n    margin: 10px 0;\r\n  }\r\n  .section-title {\r\n    margin-top: 18px;\r\n    font-weight: bold;\r\n    text-decoration: underline;\r\n  }\r\n  @media print { body { margin: 8mm; } }\r\n</style>\r\n</head>\r\n\r\n<body>\r\n\r\n<div class=\"company-title text-style\">\r\n  <i>\r\n    <h1 style=\"font-size:18px;margin:5px 0;\">COPEX CONTRACTORS CO.LTD</h1>\r\n    <div><b>Address:</b> Msamvu, P.O.BOX 678, Morogoro</div>\r\n    <div><b>Tel:</b> 0713 000 777, 0657 111 555</div>\r\n    <div><b>Email:</b> info@copexcontractors.co.tz</div>\r\n    <div><b>TIN:</b> 103-826-519 &nbsp;&nbsp; <b>VRN:</b> 20-01-017530R</div>\r\n  </i>\r\n</div>\r\n\r\n<hr>\r\n\r\n<div class=\"title text-style\">\r\n  WEEKLY COMPREHENSIVE REPORT\r\n</div>\r\n\r\n<div class=\"text-style text-center\">\r\n  <strong>Period:</strong> ${weekEndFormatted ? `${weekStartFormatted} to ${weekEndFormatted}` : weekStartFormatted}\r\n</div>\r\n\r\n<hr>\r\n\r\n<p><strong>Project:</strong> ${store.value?.project?.short_name || 'N/A'}</p>\r\n<p><strong>Supervisor:</strong> ${store.value?.officer?.name || 'N/A'} |\r\n<strong>Email:</strong> ${store.value?.officer?.email || 'N/A'} |\r\n<strong>Phone:</strong> ${store.value?.officer?.phone_no || 'N/A'}</p>\r\n\r\n<!-- MATERIALS -->\r\n${filteredMaterials.length ? `\r\n<div class=\"section-title\">MATERIALS USED</div>\r\n<table>\r\n<thead>\r\n<tr>\r\n  <th>No</th><th>Item</th><th>Category</th>\r\n  <th class=\"text-center\">Qty</th>\r\n  <th>Task</th><th>Date</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n${filteredMaterials.map((i, idx) => `\r\n<tr>\r\n  <td>${idx + 1}</td>\r\n  <td>${i.item || 'N/A'}</td>\r\n  <td>${i.category || 'N/A'}</td>\r\n  <td class=\"text-center\">${i.used || 'N/A'}</td>\r\n  <td>${i.task || 'N/A'}</td>\r\n  <td>${i.date || 'N/A'}</td>\r\n</tr>`).join('')}\r\n</tbody>\r\n</table>` : ''}\r\n\r\n<!-- DELIVERY NOTES -->\r\n${filteredDeliveryNotes.length ? `\r\n<div class=\"section-title\">DELIVERY NOTES</div>\r\n<table>\r\n<thead>\r\n<tr>\r\n  <th>No</th><th>Item</th><th>Category</th>\r\n  <th class=\"text-center\">Issued</th>\r\n  <th class=\"text-center\">Received</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n${filteredDeliveryNotes.map((i, idx) => `\r\n<tr>\r\n  <td>${idx + 1}</td>\r\n  <td>${i.name || 'N/A'}</td>\r\n  <td>${i.category || 'N/A'}</td>\r\n  <td class=\"text-center\">${i.total_issued || 'N/A'}</td>\r\n  <td class=\"text-center\">${i.total_received || 'N/A'}</td>\r\n</tr>`).join('')}\r\n</tbody>\r\n</table>` : ''}\r\n\r\n<!-- FUEL -->\r\n${filteredFuelStatement.length ? `\r\n<div class=\"section-title\">FUEL STATEMENT</div>\r\n<table>\r\n<thead>\r\n<tr>\r\n  <th>No</th><th>Issuer</th><th>Driver</th>\r\n  <th>Machine</th><th>Task</th>\r\n  <th class=\"text-right\">Issued</th><th>Balance</th><th>Ratio</th><th>Date</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n${filteredFuelStatement.map((i, idx) => `\r\n<tr>\r\n  <td>${idx + 1}</td>\r\n  <td>${i.issuer || 'N/A'}</td>\r\n  <td>${i.driver || 'N/A'}</td>\r\n  <td>${i.machine || 'N/A'}-${i.type || 'N/A'}</td>\r\n  <td>${i.task || 'N/A'}</td>\r\n  <td class=\"text-right\">${i.issued || 'N/A'}</td>\r\n  <td>${i.balance || 'N/A'}</td>\r\n  <td>${i.ratio || 'N/A'}</td>\r\n  <td>${i.issued_date || 'N/A'}</td>\r\n</tr>`).join('')}\r\n</tbody>\r\n</table>` : ''}\r\n\r\n<!-- ATTENDANCE -->\r\n${filteredAttendance.length ? `\r\n<div class=\"section-title\">LABOUR ATTENDANCE</div>\r\n<table>\r\n<thead>\r\n<tr>\r\n  <th>No</th><th>Name</th><th>Type</th>\r\n  <th>Task</th><th>In</th><th>Out</th><th>Date</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n${filteredAttendance.map((i, idx) => `\r\n<tr>\r\n  <td>${idx + 1}</td>\r\n  <td>${i.name || 'N/A'}</td>\r\n  <td>${i.labour_type || 'N/A'}</td>\r\n  <td>${i.task || 'N/A'}</td>\r\n  <td>${i.reporting_time || 'N/A'}</td>\r\n  <td>${i.departure_time || 'N/A'}</td>\r\n  <td>${i.date || 'N/A'}</td>\r\n</tr>`).join('')}\r\n</tbody>\r\n</table>` : ''}\r\n\r\n</body>\r\n</html>\r\n`;\r\n\r\n    const iframeDoc = iframe.contentWindow.document;\r\n    iframeDoc.open();\r\n    iframeDoc.write(printContent);\r\n    iframeDoc.close();\r\n\r\n    iframe.onload = () => {\r\n      iframe.contentWindow.focus();\r\n      iframe.contentWindow.print();\r\n      document.body.removeChild(iframe);\r\n      loading_spinner.value = false;\r\n      selectedReportDate.value = '';\r\n    };\r\n\r\n  } catch (error) {\r\n    console.error(error);\r\n    showError('Failed to generate weekly report');\r\n    loading_spinner.value = false;\r\n  }\r\n};\r\n\r\n    onMounted(async () => {\r\n            getUnits()\r\n      getSupervisorCurrentStatus();\r\n      getCurrentLocation();\r\n      initMap()\r\n      await getStore()  \r\n      getLabourAttendant()\r\n    });\r\n\r\nconst supervisorAttendance = ref('');\r\n\r\nconst currentLocation = ref({\r\n    address: '',\r\n    latitude: null,\r\n    longitude: null,\r\n    timestamp: null\r\n});\r\n\r\nconst gettingLocation = ref(false);\r\nconst isSupervisorLoading = ref(false);\r\n\r\n\r\n\r\nconst initiateReport = () => {\r\n    // Check if location is already available\r\n    if (!currentLocation.value.latitude ||\r\n            !currentLocation.value.longitude) {\r\n        // Open Google Chrome Location Settings page in a new tab.\r\n        window.open(\r\n            \"https://support.google.com/chrome/answer/142065?hl=en\", \r\n            \"_blank\"\r\n        );\r\n        return;\r\n    }\r\n\r\n    Swal.fire({\r\n        title: 'Report to Site',\r\n        html: `\r\n            <div class=\"text-center\">\r\n                <p>This will record your current location and time.</p>\r\n            </div>\r\n        `,\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Yes, Report Now',\r\n        cancelButtonText: 'Cancel'\r\n    }).then((result) => {\r\n        if (result.isConfirmed) {\r\n            submitReport();\r\n        }\r\n    });\r\n};\r\n\r\n\r\nconst submitReport = async () => {\r\n    isSupervisorLoading.value = true;\r\n\r\n    try {\r\n        // Always ensure location is fetched\r\n        if (\r\n            !currentLocation.value.latitude ||\r\n            !currentLocation.value.longitude\r\n        ) {\r\n            await getCurrentLocation();\r\n        }\r\n        if (\r\n            !currentLocation.value.latitude ||\r\n            !currentLocation.value.longitude\r\n        ) {\r\n            throw new Error(\"Failed to get location. Please enable location services.\");\r\n        }\r\n\r\n        const payload = {\r\n            user_id: JSON.parse(localStorage.getItem(\"user\")).id,\r\n            store_id: route.params.store_id,\r\n            location: currentLocation.value.address,\r\n            latitude: currentLocation.value.latitude,\r\n            longitude: currentLocation.value.longitude\r\n        };\r\n\r\n        await axiosInstance.post('geo-location-attendances', payload);\r\n\r\n        showMessage('Successfully reported to site!');\r\n        await getSupervisorCurrentStatus();\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n        showError(error.response.data.message);\r\n    } finally {\r\n        isSupervisorLoading.value = false;\r\n    }\r\n};\r\n\r\n\r\nconst getSupervisorCurrentStatus = async () => {\r\n    loading.value = true\r\n    try {\r\n        const response = await axiosInstance.get(`user-status/${JSON.parse(localStorage.getItem(\"user\")).id}`);\r\n        supervisorAttendance.value = response.data;\r\n         if(user_permissions.includes('can_check_site_report')){\r\n  supervisorAttendance.value = {report :true}\r\n }\r\n    } catch (error) {\r\n      showError(error.message)\r\n        console.log(error);\r\n    }finally{\r\n      loading.value = false\r\n    }\r\n};\r\n\r\n\r\nconst loadingAllData = ref(false);\r\nconst getAllData = async () => {\r\n    loadingAllData.value = true;\r\n    try {\r\n        await getAssetConsumption()\r\n        await getDeliveryNotes()\r\n        await getWorkCarriedOut()\r\n        await getChallenges()\r\n        await getItemUsage()\r\n    } catch (error) {\r\n        console.log(error);\r\n        showError(error.message);\r\n    } finally {\r\n        loadingAllData.value = false;\r\n    }\r\n};\r\n\r\n\r\n\r\nconst handleFileUpload = (e) => {\r\n  attachment.value = e.target.files[0];\r\n};\r\nconst attachment = ref('')\r\nconst attachmentDescription = ref('')\r\nconst uploadingAttachment = ref(false);\r\nconst submitSiteAttachment = async () => {\r\n    uploadingAttachment.value = true;\r\n\r\n    const formData = new FormData();\r\n    formData.append('store_id', route.params.store_id);\r\n    formData.append('remark', attachmentDescription.value);\r\n    formData.append('attachment', attachment.value);\r\n\r\n    try {\r\n        const response = await axiosInstance.post(\r\n            `site-report-attachments`,\r\n            formData,\r\n            { headers: { 'Content-Type': 'multipart/form-data' } }\r\n        );\r\n        showMessage('Attachment uploaded successfully!');\r\n        cancelAttachmentUpload();\r\n       getReactiveSiteAttachments();\r\n        \r\n    } catch (error) {\r\n        showError(error.message);\r\n        console.log(error);\r\n    } finally {\r\n        uploadingAttachment.value = false;\r\n    }\r\n};\r\n\r\nconst cancelAttachmentUpload = () => { \r\n    showAttachmentForm.value = false;\r\n    attachmentDescription.value = '';   \r\n    attachment.value = '';\r\n};\r\n  \r\n\r\nconst showConfirmation = inject('showConfirmation');\r\nconst deleteSiteAttachment = async (item) => {\r\n  const result = await showConfirmation(\r\n    'Delete Record',\r\n    `Are you sure you want to delete ${item.description}?`,\r\n    `site-report-attachments/${item.id}`,\r\n    'delete'\r\n  )\r\n\r\n  if (result?.refresh) {\r\n    await getReactiveSiteAttachments()\r\n  }\r\n}\r\nconst showAttachmentForm = ref(false);\r\nconst siteAttachments = ref([]);\r\nconst siteAttachmentColumns = ref(['SNo','description','date','actions']);\r\nconst isloading = ref(false);\r\n  const getSiteAttachments = async () => {\r\n    isloading.value = true;\r\n    try {\r\n        const response = await axiosInstance.get(`site-report-attachments?store_id=${route.params.store_id}`);\r\n        siteAttachments.value = response.data.map((item, index) => ({ \r\n          ...item, \r\n          SNo: index + 1,\r\n          description:item.remark || '--',\r\n          date: formatDate(item.created_at) })); \r\n    } catch (error) {\r\n        console.log(error);\r\n        showError(error.message);\r\n    }finally{\r\n      isloading.value = false;\r\n    }\r\n};\r\n\r\nconst getReactiveSiteAttachments = async () => {\r\n   const response = await axiosInstance.get(`site-report-attachments?store_id=${route.params.store_id}`);\r\n        siteAttachments.value = response.data.map((item, index) => ({ \r\n          ...item, \r\n          SNo: index + 1,\r\n          description:item.remark || '--',\r\n          date: formatDate(item.created_at) }));\r\n}\r\n\r\n\r\n</script>\r\n<style scoped>\r\n.attachment-wrapper {\r\n  width: 100%;\r\n  height: 100%; \r\n  overflow: hidden;\r\n}\r\n\r\n.attachment-img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;   \r\n  object-position: center;\r\n  object-fit: contain;\r\n}\r\n\r\n</style>\r\n","import script from \"./Report.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Report.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Report.vue?vue&type=style&index=0&id=a069eb30&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\copexErp\\\\frontEnd\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a069eb30\"]])\n\nexport default __exports__"],"names":["global","isCallable","String","TypeError","module","exports","argument","TO_STRING_TAG_SUPPORT","classofRaw","wellKnownSymbol","TO_STRING_TAG","Object","CORRECT_ARGUMENTS","arguments","tryGet","it","key","error","O","tag","result","undefined","callee","uncurryThis","$Error","Error","replace","TEST","arg","stack","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","test","dropEntries","prepareStackTrace","fails","createPropertyDescriptor","defineProperty","NATIVE_BIND","FunctionPrototype","Function","prototype","apply","call","Reflect","bind","isObject","setPrototypeOf","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","createNonEnumerableProperty","options","cause","toString","$default","length","anObject","aPossiblePrototype","setter","CORRECT_SETTER","getOwnPropertyDescriptor","set","Array","proto","__proto__","Target","Source","configurable","get","classof","getBuiltIn","hasOwn","isPrototypeOf","copyConstructorProperties","proxyAccessor","inheritIfRequired","normalizeStringArgument","installErrorCause","clearErrorStack","ERROR_STACK_INSTALLABLE","DESCRIPTORS","IS_PURE","FULL_NAME","wrapper","FORCED","IS_AGGREGATE_ERROR","STACK_TRACE_LIMIT","OPTIONS_POSITION","path","split","ERROR_NAME","OriginalError","OriginalErrorPrototype","BaseError","WrappedError","a","b","message","this","name","$","wrapErrorConstructorWithCause","WEB_ASSEMBLY","WebAssembly","exportGlobalErrorCauseWrapper","arity","forced","exportWebAssemblyErrorCauseWrapper","target","stat","init","baseURL","route","useRoute","item_id","ref","loading_spinner","showMessage","inject","loadingSpinner","showError","tableShimmer","formatNumber","formatDate","enforceMax","useMeta","title","user_permissions","JSON","parse","localStorage","getItem","permissions","map","marker","initMap","L","setView","addTo","getCurrentLocation","navigator","geolocation","getCurrentPosition","async","latitude","longitude","position","coords","loading","value","setLatLng","res","axios","currentLocation","address","data","display_name","bindPopup","openPopup","statement","returnedItem","condition","returnItem","payload","returned","Number","quantity","store_item","item","id","store_id","store","item_condition","axiosInstance","put","getItemUsage","getStoreItems","document","getElementById","click","clearForm","console","log","fuel","selectedLabour","bulkDistribution","today","Date","toISOString","itemsColumns","distributionColumn","challengesColumns","itemUsageColumns","printActivities","selectedReport","report","iframe","createElement","style","display","body","appendChild","date","getDate","padStart","month","getMonth","year","getFullYear","dateString","formattedDate","printContent","selectedReportDate","project","short_name","officer","email","phone_no","report_name","description","activities","index","activity","unit","join","iframeDoc","contentWindow","open","write","close","onload","focus","print","setTimeout","removeChild","printAttendance","filteredReportLabourAttendance","labour_type","task","reporting_time","departure_time","status","fillChallenge","fillAttendant","measure","challenge","challenges","selectedChallenge","getChallenges","response","params","SNo","reported_by","remarker","proposed_measure","created_at","remark","raw_date","submitChallenge","remarker_id","useId","isSending","post","table_option","perPage","perPageValues","skin","columnsClasses","actions","sortIcon","base","up","down","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","resizableColumns","process","watch","newVal","asset","initial_reading","final_reading","driver_name","ratio","registerItemUsage","category","category_id","usage_type","category_name","rate","issuer_id","issuer","itemUsage","sno","used","lastRow","storeItems","filteredStoreItems","storeCategory","filterStoreItems","getStore","assets","getAssets","type_name","store_item_id","volume","registerAssetConsumption","bulkData","store_diesel_id","store_petrol_id","asset_id","project_id","consumption_type","usage_date","getBulkDistribution","getBulk","printReport","filteredReportItemUsage","Sno","diesel_quantity","petrol_quantity","petrol_used","diesel_used","diesel_balance","petrol_balance","total_fuel","isArray","distribution","toFixed","rateNumber","costNumber","workDone","averageRatio","machine_average_ratio","usedFuel","issued","balance","work","fuel_type","item_name","consuption","issued_date","driver","issuer_name","initial","final","machine","machine_name","type","machine_type","machine_consumption_type","used_cost","cost","cost_original","reduce","sum","getAssetConsumption","role","fillChallengeRemark","updateReadings","modalEl","modalInstance","window","bootstrap","Modal","getInstance","hide","classList","remove","deliveryNotesColumns","deliveryNoteRecordsColumns","deliveryNoteRecords","record","deliveryNotes","getDeliveryNotes","records","date_received","columns","notes","getIssueNotes","then","receiver","grn","grn_id","approval_item","requisition_item","units","received","approved","shortage","briefing","catch","totalShortageCost","computed","labour_attendant","labour_attendant_columns","getLabourAttendant","labour_name","status_id","class","color","labour_attendant_id","report_time","selected_status","labour_types","submitLabourAttendant","itemData","labour_type_id","registrar_id","clearAttendantForm","updateLabourAttendant","closeEditLabourModal","openLabourModal","row","allStatuses","find","p","getLabourType","getStatuses","activityColumns","activity_columns","activityDescription","activity_id","whatsappAlert","pushActivity","push","unit_id","pullActivity","submitWorkReport","reportData","supervisor_id","getReactiveWorkCarriedOut","closeReportModal","message_id","receivers","forEach","image","fileInputs","querySelectorAll","input","report_id","site_work_report","getWorkCarriedOut","actIndex","getUnits","openRemarkModal","updateWorkReport","openEditActivityModal","u","updateActivities","isDeletingReport","currentDeletingReportId","deleteWorkReport","Swal","fire","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","delete","isDeletingActivity","currentDeletingActivityId","deleteActivity","AddActivities","work_carried_out_id","handleImageUpload","e","file","files","File","AddAttachmnet","formData","FormData","append","headers","url","viewAttachment","attachmentUrl","attachment","selectedAttachment","selectedAttachmentData","searchQuery","filteredSiteWorkReport","query","toLowerCase","includes","supervisor","some","isDeleting","currentDeletingId","deleteAttachment","rotationDegree","rotateImage","filterByDate","sourceRef","dateField","d","parts","day","itemDate","filterByWeek","selected","getDay","diffToMonday","weekStart","setDate","weekEnd","startStr","endStr","itemDateStr","isNaN","getTime","filteredReportChallenges","filteredReportFuelStatement","filteredReportWorkCarriedOut","filteredReportItemUsageWeek","filteredReportLabourAttendanceWeek","filteredReportChallengesWeek","filteredReportFuelStatementWeek","filteredReportWorkCarriedOutWeek","filteredReportDeliveryNotesWeek","printComprehensiveReport","filteredMaterials","filteredAttendance","filteredSiteChallenges","filteredFuelStatement","filteredWorkCarriedOut","hasAnyData","formattedReportDate","reportDateSource","reportDateBox","laborCounts","acc","labor","l","contract_number","entries","idx","keys","m","f","r","c","printWeeklyComprehensiveReport","filteredDeliveryNotes","weekStartFormatted","weekEndFormatted","reportDate","i","total_issued","total_received","onMounted","getSupervisorCurrentStatus","supervisorAttendance","timestamp","gettingLocation","isSupervisorLoading","initiateReport","html","cancelButtonText","submitReport","user_id","location","loadingAllData","getAllData","handleFileUpload","attachmentDescription","uploadingAttachment","submitSiteAttachment","cancelAttachmentUpload","getReactiveSiteAttachments","showAttachmentForm","showConfirmation","deleteSiteAttachment","refresh","siteAttachments","siteAttachmentColumns","isloading","getSiteAttachments","__exports__"],"sourceRoot":""}