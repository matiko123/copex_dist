"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[1418],{51418:function(e,a,l){l.r(a),l.d(a,{default:function(){return Qe}});var t=l(66252),o=l(49963),s=l(3577),r=l(2262),c=l(87066),n=l(56296);const i={class:"layout-px-spacing"},u=(0,t.uE)('<ul class="navbar-nav flex-row mt-2"><li><div class="page-header"><nav class="breadcrumb-one" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="javascript:;">Masters</a></li><li class="breadcrumb-item active" aria-current="page"><span>Services</span></li></ol></nav></div></li></ul>',1),d={class:"d-flex me-4 mt-2"},v={class:"ms-auto"},m=(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,t._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})],-1),p=[m],_={key:0,class:"d-flex justify-content-center align-items-center",style:{height:"100px"}},b=(0,t._)("span",{class:"text-primary spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},[(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z"}),(0,t._)("path",{d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z"}),(0,t._)("path",{d:"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z"})]),(0,t.Uk)(" Loading... ")],-1),f=[b],h=["onSubmit"],w=(0,t._)("h4",{class:"text-center"},"PROJECT REGISTRATION FORM",-1),g={class:"row mb-2"},y={class:"col-md-12"},j=(0,t._)("label",{class:"form-label"},"Project Name",-1),x={class:"row mb-2"},P={class:"col-md-3"},k=(0,t._)("label",{class:"form-label"},"Project Short Name",-1),C={class:"col-md-3"},E=(0,t._)("label",{class:"form-label"},"Project Contract Number",-1),V={class:"col-md-3"},U=(0,t._)("label",{class:"form-label"},"Project Cost",-1),S={class:"col-md-3"},N=(0,t._)("label",{class:"form-label"},"Financia Year",-1),H=(0,t._)("option",{value:"",selected:"",disabled:""},"Select Financial Year For The Project",-1),q=(0,t._)("option",{value:"2023/2024"},"2023/2024",-1),M=(0,t._)("option",{value:"2024/2025"},"2024/2025",-1),D=(0,t._)("option",{value:"2025/2026"},"2025/2026",-1),T=[H,q,M,D],A={class:"row mb-2"},I={class:"col-md-3"},F=(0,t._)("label",{class:"form-label"},"Client Name",-1),z={class:"col-md-3"},R=(0,t._)("label",{class:"form-label"}," Start Date",-1),L={class:"col-md-3"},O=(0,t._)("label",{class:"form-label"},"End Date Name",-1),B={class:"col-md-3"},Y=(0,t._)("label",{class:"form-label"},"Status",-1),Z=(0,t._)("option",{value:"",selected:"",disabled:""},"Select Status Of The Project",-1),G=(0,t._)("option",{value:"active"},"ACTIVE",-1),J=(0,t._)("option",{value:"Inactive"},"INACTIVE",-1),W=[Z,G,J],$={class:"text-center gap-2 justify-content-end"},K=(0,t._)("button",{type:"submit",class:"btn btn-primary"},"Register",-1),Q={class:"row layout-top-spacing"},X={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},ee={class:"panel p-0"},ae={class:"custom-table table3"},le=["onClick"],te=(0,t._)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"},null,-1),oe=[te],se={key:0,class:"modal fade show d-block",role:"dialog"},re={class:"modal-dialog modal-dialog modal-lg"},ce={class:"modal-content d-flex flex-column",style:{"block-size":"auto"}},ne={class:"modal-header"},ie={class:"modal-title"},ue=["onSubmit"],de={class:"modal-body flex-grow-1",style:{"overflow-y":"auto"}},ve={class:"row mb-2"},me={class:"col-md-"},pe=(0,t._)("label",{class:"form-label"},"Project Name",-1),_e={class:"row mb-2"},be={class:"col-md-6"},fe=(0,t._)("label",{class:"form-label"},"Project Aka",-1),he={class:"col-md-6"},we=(0,t._)("label",{class:"form-label"},"Project Contract Number",-1),ge={class:"row mb-2"},ye={class:"col-md-6"},je=(0,t._)("label",{class:"form-label"},"Project Cost",-1),xe={class:"col-md-6"},Pe=(0,t._)("label",{class:"form-label"},"Financia Year",-1),ke=(0,t._)("option",{value:"2023/2024"},"2023/2024",-1),Ce=(0,t._)("option",{value:"2024/2025"},"2024/2025",-1),Ee=(0,t._)("option",{value:"2025/2026"},"2025/2026",-1),Ve=[ke,Ce,Ee],Ue={class:"row mb-2"},Se={class:"col-md-6"},Ne=(0,t._)("label",{class:"form-label"},"Client Name",-1),He={class:"col-md-6"},qe=(0,t._)("label",{class:"form-label"},"Status",-1),Me=(0,t._)("option",{value:"active"},"ACTIVE",-1),De=(0,t._)("option",{value:"inactive"},"INACTIVE",-1),Te=(0,t._)("option",{value:"append"},"APPEND",-1),Ae=(0,t._)("option",{value:"completed"},"COMPLETED",-1),Ie=[Me,De,Te,Ae],Fe={class:"row mb-2"},ze={class:"col-md-6"},Re=(0,t._)("label",{class:"form-label"}," Start Date",-1),Le={class:"col-md-6"},Oe=(0,t._)("label",{class:"form-label"},"End Date Name",-1),Be={class:"modal-footer"},Ye=["disabled"],Ze={key:0},Ge=(0,t._)("span",{class:"spinner-border spinner-border-xs",role:"status","aria-hidden":"true"},null,-1),Je=[Ge],We={key:1};var $e={setup(e){(0,n.j)({title:"Projects List"});const a=c.Z.create({baseURL:"https://bushman.ink/api/v1/"}),l=(0,r.iH)(""),m=(0,r.iH)(""),b=(0,r.iH)(""),H=(0,r.iH)(""),q=(0,r.iH)(""),M=(0,r.iH)(""),D=(0,r.iH)(""),Z=(0,r.iH)(""),G=(0,r.iH)(""),J=(0,t.f3)("showMessage"),te=(0,t.f3)("showError"),ke=(0,r.iH)(!1),Ce=(0,r.iH)(!1),Ee=(0,r.iH)(["SNo","project_name","short_name","contract_number","financial_year","client","project_cost","start_date","end_date","status","actions"]),Me=(0,r.iH)([]),De=(0,r.iH)(!1),Te=(0,r.iH)({perPage:20,perPageValues:[20,50,100],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:["id","service_name"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),Ae=()=>{ke.value=!0,a.get("/projects").then((e=>{Me.value=e.data.map(((e,a)=>({...e,SNo:a+1,id:e.id,project_cost:e.project_cost.toLocaleString()+"/="}))),ke.value=!1}))},Ge=()=>{De.value=!1,ke.value=!0;const e={short_name:m.value,project_name:l.value,company_id:6,project_cost:M.value,contract_number:b.value,financial_year:H.value,client:q.value,client_id:0,start_date:D.value,end_date:Z.value,status:G.value};a.post("/projects",e).then((e=>{201===e.status?(Ae(),ke.value=!1,J("Project registered successfully!")):(te("Fail to registering Project ! please try again!"),console.error("Error registering Project:",e.statusText),ke.value=!1)})).catch((e=>{console.error("Error registering Project:",e.message),te("Error registering Project:",e.message),ke.value=!1}))},$e=()=>{Ce.value=!0,De.value=!1,ke.value=!0;const e={project_name:l.value,short_name:m.value,project_cost:M.value,contract_number:b.value,financial_year:H.value,client:q.value,start_date:D.value,end_date:Z.value,status:G.value};a.patch(`/projects/${Qe.value}`,e).then((e=>{200===e.status?(Ae(),ke.value=!1,Ce.value=!1,J("Project Updated successfully!"),ea()):(te("Fail to registering Project ! please try again!"),console.error("Error Updating Project:",e.statusText),ke.value=!1,Ce.value=!1)})).catch((e=>{console.error("Error registering Project:",e.message),te("Error registering Project:",e.message),ke.value=!1}))},Ke=(0,r.iH)(!1),Qe=(0,r.iH)(""),Xe=e=>{Ke.value=!0,Qe.value=e.id,l.value=e.project_name,M.value=Number(e.project_cost.replace(/[^\d.-]/g,"")),H.value=e.financial_year.replace("/","/"),m.value=e.short_name||"",q.value=e.client,b.value=e.contract_number,D.value=e.start_date,Z.value=e.end_date,G.value=e.status.trim().toUpperCase()},ea=()=>{Ke.value=!1,l.value="",M.value="",H.value="",m.value="",q.value="",b.value="",D.value="",Z.value="",G.value=""};return(0,t.bv)((()=>{Ae()})),(e,a)=>{const r=(0,t.up)("v-client-table");return(0,t.wg)(),(0,t.iD)("div",i,[u,(0,t._)("div",d,[(0,t._)("div",v,[(0,t._)("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=e=>De.value=!De.value)},p)])]),ke.value?((0,t.wg)(),(0,t.iD)("div",_,f)):(0,t.kq)("",!0),De.value?((0,t.wg)(),(0,t.iD)("form",{key:1,class:"mt-3 p-3 border rounded bg-white shadow",onSubmit:(0,o.iM)(Ge,["prevent"])},[w,(0,t._)("div",g,[(0,t._)("div",y,[j,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Enter Project Name","onUpdate:modelValue":a[1]||(a[1]=e=>l.value=e),required:""},null,512),[[o.nr,l.value]])])]),(0,t._)("div",x,[(0,t._)("div",P,[k,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Enter Project Short Name","onUpdate:modelValue":a[2]||(a[2]=e=>m.value=e),required:""},null,512),[[o.nr,m.value]])]),(0,t._)("div",C,[E,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Enter Contract Number","onUpdate:modelValue":a[3]||(a[3]=e=>b.value=e),required:""},null,512),[[o.nr,b.value]])]),(0,t._)("div",V,[U,(0,t.wy)((0,t._)("input",{type:"number",class:"form-control",placeholder:"Enter Project Cost","onUpdate:modelValue":a[4]||(a[4]=e=>M.value=e),required:""},null,512),[[o.nr,M.value]])]),(0,t._)("div",S,[N,(0,t.wy)((0,t._)("select",{name:"",id:"",placeholder:"Select Financial year fro the Project","onUpdate:modelValue":a[5]||(a[5]=e=>H.value=e),required:"",class:"form-control form-select"},T,512),[[o.bM,H.value]])])]),(0,t._)("div",A,[(0,t._)("div",I,[F,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Enter Client Name","onUpdate:modelValue":a[6]||(a[6]=e=>q.value=e),required:""},null,512),[[o.nr,q.value]])]),(0,t._)("div",z,[R,(0,t.wy)((0,t._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=e=>D.value=e),required:""},null,512),[[o.nr,D.value]])]),(0,t._)("div",L,[O,(0,t.wy)((0,t._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=e=>Z.value=e),required:""},null,512),[[o.nr,Z.value]])]),(0,t._)("div",B,[Y,(0,t.wy)((0,t._)("select",{name:"",id:"","onUpdate:modelValue":a[9]||(a[9]=e=>G.value=e),required:"",class:"form-control form-select"},W,512),[[o.bM,G.value]])])]),(0,t._)("div",$,[(0,t._)("button",{type:"button",class:"btn btn-danger me-3",onClick:a[10]||(a[10]=e=>De.value=!1)},"Cancel"),K])],40,h)):(0,t.kq)("",!0),(0,t._)("div",Q,[(0,t._)("div",X,[(0,t._)("div",ee,[(0,t._)("div",ae,[(0,t.Wm)(r,{data:Me.value,columns:Ee.value,options:Te.value},{actions:(0,t.w5)((e=>[((0,t.wg)(),(0,t.iD)("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",onClick:a=>Xe(e.row)},oe,8,le)),((0,t.wg)(),(0,t.j4)(t.lR,{to:"body"},[Ke.value?((0,t.wg)(),(0,t.iD)("div",se,[(0,t._)("div",re,[(0,t._)("div",ce,[(0,t._)("div",ne,[(0,t._)("h5",ie,"Editing Form for Project Details"+(0,s.zw)(Qe.value),1),(0,t._)("button",{type:"button",class:"btn-close",onClick:ea})]),(0,t._)("form",{onSubmit:(0,o.iM)($e,["prevent"])},[(0,t._)("div",de,[(0,t._)("div",ve,[(0,t._)("div",me,[pe,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[11]||(a[11]=e=>l.value=e),required:""},null,512),[[o.nr,l.value]])])]),(0,t._)("div",_e,[(0,t._)("div",be,[fe,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[12]||(a[12]=e=>m.value=e),required:""},null,512),[[o.nr,m.value]])]),(0,t._)("div",he,[we,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[13]||(a[13]=e=>b.value=e),required:""},null,512),[[o.nr,b.value]])])]),(0,t._)("div",ge,[(0,t._)("div",ye,[je,(0,t.wy)((0,t._)("input",{type:"number",class:"form-control","onUpdate:modelValue":a[14]||(a[14]=e=>M.value=e),required:""},null,512),[[o.nr,M.value,void 0,{number:!0}]])]),(0,t._)("div",xe,[Pe,(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":a[15]||(a[15]=e=>H.value=e),class:"form-control form-select"},Ve,512),[[o.bM,H.value]])])]),(0,t._)("div",Ue,[(0,t._)("div",Se,[Ne,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[16]||(a[16]=e=>q.value=e)},null,512),[[o.nr,q.value]])]),(0,t._)("div",He,[qe,(0,t.wy)((0,t._)("select",{name:"",id:"","onUpdate:modelValue":a[17]||(a[17]=e=>G.value=e),class:"form-control form-select"},Ie,512),[[o.bM,G.value]])])]),(0,t._)("div",Fe,[(0,t._)("div",ze,[Re,(0,t.wy)((0,t._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[18]||(a[18]=e=>D.value=e)},null,512),[[o.nr,D.value]])]),(0,t._)("div",Le,[Oe,(0,t.wy)((0,t._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[19]||(a[19]=e=>Z.value=e)},null,512),[[o.nr,Z.value]])])])]),(0,t._)("div",Be,[(0,t._)("button",{type:"button",class:"btn btn-danger",onClick:ea},"Cancel"),(0,t._)("button",{type:"submit",class:"btn btn-primary",disabled:Ce.value},[Ce.value?((0,t.wg)(),(0,t.iD)("span",Ze,Je)):((0,t.wg)(),(0,t.iD)("span",We,"Update"))],8,Ye)])],40,ue)])])])):(0,t.kq)("",!0)]))])),_:1},8,["data","columns","options"])])])])])])}}};const Ke=$e;var Qe=Ke}}]);
//# sourceMappingURL=1418.e9d48578.js.map