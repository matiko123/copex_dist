"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[402],{58483:function(e,t,l){l.d(t,{i:function(){return a}});l(26699);function a(e,t){const l=t.toLowerCase().trim();if(!l)return e;const a=e=>null!=e&&("string"===typeof e?e.toLowerCase().includes(l):Array.isArray(e)?e.some(a):"object"===typeof e&&Object.values(e).some(a));return e.filter((e=>a(e)))}},86500:function(e,t,l){l.d(t,{Z:function(){return d}});var a=l(66252),i=l(49963),n=l(2262);const o=(0,a._)("span",{class:"input-group-text bg-white border-start-0"},[(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.415l-3.85-3.85zm-5.442.656a5 5 0 1 1 \r\n        0-10 5 5 0 0 1 0 10z"})])],-1);var s={props:{filterValue:String},emits:["update:filterValue"],setup(e,{emit:t}){const l=e,s=(0,n.iH)(l.filterValue||null);return(0,a.YP)(s,(e=>t("update:filterValue",e))),(e,t)=>((0,a.wg)(),(0,a.iD)("form",{onSubmit:t[1]||(t[1]=(0,i.iM)((()=>{}),["prevent"])),class:"input-group container"},[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control border-end-0",placeholder:"Search a word...","onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e)},null,512),[[i.nr,s.value]]),o],32))}};const r=s;var d=r},90402:function(e,t,l){l.r(t),l.d(t,{default:function(){return Ol}});l(26699);var a=l(66252),i=l(3577),n=l(2262),o=l(49963),s=l(87066),r=l(56296),d=l(26212),c=l.n(d),u=l(86500),p=l(58483);const m={class:"layout-px-spacing"},v={class:"navbar-nav flex-row mt-2"},_={class:"page-header"},g={class:"breadcrumb-one","aria-label":"breadcrumb"},h={class:"breadcrumb"},b=(0,a._)("li",{class:"breadcrumb-item"},[(0,a._)("a",{href:"javascript:;"},"Producurement")],-1),y={class:"breadcrumb-item active","aria-current":"page"},w=(0,a._)("h4",{class:"text-center"},"GOOD RECEIVED NOTES",-1),f={class:"d-flex mb-2"},k={class:"ms-auto"},x={key:0,class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#register"},D=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},[(0,a._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,a._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,a._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1),S=[D],q=["innerHTML"],V={key:1,class:"row layout-top-spacing"},C={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},U={class:"panel p-0"},H={key:0,class:"custom-table table3"},E=(0,a._)("div",{class:"d-flex justify-content-center align-items-center"},null,-1),R={href:"javascript:;",class:"edit me-2"},z=["onClick"],O=(0,a._)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},null,-1),j=(0,a._)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},null,-1),L=[O,j],M={key:1,class:"custom-table table3"},I={key:0},N=(0,a._)("div",{class:"d-flex justify-content-center align-items-center"},null,-1),T={href:"javascript:;",class:"edit me-2"},B=["onClick"],P=(0,a._)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},null,-1),$=(0,a._)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},null,-1),A=[P,$],F={class:"modal fade mymodal",id:"view_items","data-bs-backdrop":"false",tabindex:"-1",role:"dialog","aria-labelledby":"editModalLabel","aria-hidden":"true"},W={class:"modal-dialog modal-fullscreen",role:"document"},G={class:"modal-content"},J=(0,a._)("h5",{class:"modal-title",id:"editModalLabel"},"GOODS RECEIVED LIST ",-1),Y={class:"modal-body"},Q={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},Z={class:"panel p-0"},K={class:"custom-table table3"},X={class:"table table-bordered table-striped"},ee=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"GRN No"),(0,a._)("th",null,"Requester"),(0,a._)("th",null,"Receiver"),(0,a._)("th",null,"Date Created"),(0,a._)("th",null,"Project"),(0,a._)("th",null,"Vendor"),(0,a._)("th",null,"Cost"),(0,a._)("th",null,"Status"),(0,a._)("th",null,"Delay"),(0,a._)("th",null,"Action")])],-1),te=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),(0,a._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})],-1),le=[te],ae={key:0},ie={colspan:"5"},ne=(0,a._)("b",null," Brief Description : ",-1),oe={key:1},se={colspan:"5"},re=(0,a._)("b",null," Remarks : ",-1),de={class:"col-12 text-end mt-2"},ce={class:"input-group"},ue=["disabled"],pe=["innerHTML"],me={key:1},ve={key:0,class:"row"},_e={class:"col-md-6"},ge={class:"col-md-6"},he={class:"col-12 text-end mt-2"},be=["disabled"],ye={key:0,class:"spinner-border text-white",role:"status"},we=(0,a._)("span",{class:"sr-only"},null,-1),fe=[we],ke={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-send-check",viewBox:"0 0 16 16"},xe=(0,a._)("path",{d:"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855a.75.75 0 0 0-.124 1.329l4.995 3.178 1.531 2.406a.5.5 0 0 0 .844-.536L6.637 10.07l7.494-7.494-1.895 4.738a.5.5 0 1 0 .928.372zm-2.54 1.183L5.93 9.363 1.591 6.602z"},null,-1),De=(0,a._)("path",{d:"M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m-1.993-1.679a.5.5 0 0 0-.686.172l-1.17 1.95-.547-.547a.5.5 0 0 0-.708.708l.774.773a.75.75 0 0 0 1.174-.144l1.335-2.226a.5.5 0 0 0-.172-.686"},null,-1),Se=[xe,De],qe={class:"row layout-top-spacing"},Ve={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},Ce={class:"panel p-0"},Ue={class:"custom-table table3"},He={class:"table table-striped table-bordered"},Ee=(0,a._)("th",null,"SNo",-1),Re=(0,a._)("th",null,"Item",-1),ze=(0,a._)("th",null,"Description",-1),Oe=(0,a._)("th",null,"vendor",-1),je={key:0},Le=(0,a._)("th",null,"Unit",-1),Me=(0,a._)("th",null,"Purchased",-1),Ie=(0,a._)("th",null,"Received",-1),Ne=(0,a._)("th",null,"Shortage",-1),Te={key:0},Be={key:1},Pe={key:0},$e=["onUpdate:modelValue","onInput"],Ae=["onUpdate:modelValue"],Fe=["onUpdate:modelValue"],We={key:1},Ge={class:"modal fade",id:"send_message","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Je={class:"modal-dialog"},Ye={class:"modal-content"},Qe=(0,a._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Send Report To :",-1),Ze={class:"modal-body"},Ke={class:"modal-footer"},Xe=(0,a._)("button",{type:"button",class:"btn btn-danger btn-sm py-2 px-2","data-bs-dismiss":"modal"},"Close",-1),et={key:0,class:"spinner-border text-white",role:"status"},tt=(0,a._)("span",{class:"sr-only"},null,-1),lt=[tt],at={key:1,xmlns:"http://www.w3.org/2000/svg",width:"2",height:"2",fill:"currentColor",class:"bi bi-send-check",viewBox:"0 0 16 16"},it=(0,a._)("path",{d:"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855a.75.75 0 0 0-.124 1.329l4.995 3.178 1.531 2.406a.5.5 0 0 0 .844-.536L6.637 10.07l7.494-7.494-1.895 4.738a.5.5 0 1 0 .928.372zm-2.54 1.183L5.93 9.363 1.591 6.602z"},null,-1),nt=(0,a._)("path",{d:"M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m-1.993-1.679a.5.5 0 0 0-.686.172l-1.17 1.95-.547-.547a.5.5 0 0 0-.708.708l.774.773a.75.75 0 0 0 1.174-.144l1.335-2.226a.5.5 0 0 0-.172-.686"},null,-1),ot=[it,nt],st={class:"modal fade mymodal",id:"register","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},rt={class:"modal-dialog modal-xl"},dt={class:"modal-content"},ct=(0,a._)("div",{class:"modal-header"},[(0,a._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"REGISTER LOCAL ORDER OUT OF ERP"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close-local-order"})],-1),ut={class:"modal-body"},pt={class:"row layout-top-spacing"},mt={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},vt={class:"panel p-0"},_t={class:"custom-table table3"},gt={class:"row"},ht=(0,a._)("h6",{class:"mt-2 mb-2"},"Order Details",-1),bt={class:"col-md-4"},yt=(0,a._)("label",{class:"form-label"},"Source",-1),wt=(0,a.uE)('<option value="">Select Reference Source</option><option value="ERP Voucher">ERP Voucher</option><option value="Local Voucher Paper">ERP Voucher</option><option value="Local Voucher">Local Voucher</option><option value="Local Order Paper">Local Order Paper</option>',5),ft=[wt],kt={key:0,class:"col-md-4"},xt={class:"form-label"},Dt=["placeholder"],St={key:1,class:"col-md-4"},qt=(0,a._)("label",{class:"form-label"},"Select Project",-1),Vt={class:"col-md-12"},Ct=(0,a._)("label",{class:"form-label"},"Brief Description",-1),Ut=(0,a._)("hr",null,null,-1),Ht={key:2},Et=(0,a._)("h6",null,"Purchased Items",-1),Rt={class:"row"},zt={class:"col-md-3"},Ot=(0,a._)("label",{class:"form-label"},"Item ",-1),jt={class:"col-md-3"},Lt=(0,a._)("label",{class:"form-label"},"Description",-1),Mt={class:"col-md-3"},It=(0,a._)("label",{class:"form-label"},"Unit",-1),Nt={class:"col-md-3"},Tt=(0,a._)("label",{class:"form-label"},"Quantity",-1),Bt={class:"d-flex mt-2"},Pt={class:"ms-auto"},$t=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},[(0,a._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,a._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,a._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})],-1),At=[$t],Ft=["onClick"],Wt=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger"},[(0,a._)("polyline",{points:"3 6 5 6 21 6"}),(0,a._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),Gt=[Wt],Jt={class:"modal-footer"},Yt=(0,a._)("button",{type:"button",class:"btn btn-danger me-2","data-bs-dismiss":"modal"},"Close",-1),Qt=["disabled"],Zt=["innerHTML"],Kt={key:1},Xt={class:"modal fade mymodal",id:"local-order-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},el={class:"modal-dialog modal-xl"},tl={class:"modal-content"},ll=(0,a._)("div",{class:"modal-header"},[(0,a._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"LOCAL ORDERS (out of erp) GOODS RECEIVED NOTE "),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close-local-grn"})],-1),al={class:"modal-body"},il={class:"row layout-top-spacing"},nl={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},ol={class:"panel p-0"},sl={class:"custom-table table3"},rl={class:"row"},dl={key:0,class:"col-md-4"},cl=(0,a._)("label",{class:"form-label"},"Brief Description",-1),ul={key:1,class:"col-md-8"},pl=(0,a._)("label",{class:"form-label"},"Brief Description",-1),ml=(0,a._)("hr",null,null,-1),vl={class:"custom-table table3"},_l={class:"table table-striped table-bordered"},gl=(0,a._)("th",null,"SNo",-1),hl=(0,a._)("th",null,"Item",-1),bl=(0,a._)("th",null,"Description",-1),yl=(0,a._)("th",null,"Unit",-1),wl=(0,a._)("th",null,"Quantity",-1),fl={key:0},kl={key:1},xl={key:0},Dl={key:1},Sl={key:2},ql={key:3},Vl=["onUpdate:modelValue"],Cl={class:"modal-footer"},Ul=["disabled"],Hl=["innerHTML"],El={key:1};var Rl={setup(e){(0,r.j)({title:"Custom Table"});const t=s.Z.create({baseURL:"https://bushman.ink/api/v1/"}),l=(0,n.iH)(""),d=(0,a.Fl)((()=>(0,p.i)(Gl.value,l.value))),D=(0,n.iH)([]),O=async()=>{const e=await t.get("item-list");D.value=e.data.map((e=>({...e,name:e.name+(e.description?" - "+e.description:"")})))},j=(0,n.iH)([]),P=async()=>{const e=await t.get("machines");j.value=e.data.map((e=>({...e,name:e.name+" - "+e.type_name})))},$=(0,n.iH)([]),te=async()=>{try{const e=await t.get("projects");$.value=e.data}catch(e){console.log(e),Yl(e.message)}},we=async()=>{Fl.value=!0;try{const e=await t.get("local-orders");nt.value=e.data.map(((e,t)=>({...e,SNo:t+1,source_id:e.local_order_no,project:e?.project?.short_name??"no Project",registrar:e.registrar.name,date:Kl(e.created_at),delay:(()=>{const t=new Date(e.created_at),l=new Date,a=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),i=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate()),n=Math.floor((i-a)/864e5);return n>3?n-3:0})()})))}catch(e){console.log(e),Yl(e.message)}finally{Fl.value=!1}},xe=(0,n.iH)([]),De=async()=>{try{const e=await t.get("units");xe.value=e.data}catch(e){console.log(e),Yl(e.message)}},tt=(0,n.iH)(!1),it=async()=>{tt.value=!tt.value,1==tt.value&&we(),te(),De()},nt=(0,n.iH)([]),wt=(0,n.iH)(["SNo","source","source_id","project","registrar","description","remarks","status","date","delay","actions"]),$t=(0,n.iH)({source:"",source_id:"",registrar_id:"",description:"",project:""}),Wt=(0,n.iH)({item:"",description:"",quantity:"",unit:""}),Rl=()=>{Ol.value=[],$t.value={source:"",source_id:"",registrar_id:"",description:"",project:""}},zl=async()=>{Nl.value=!0;const e={order:{source:$t.value.source,local_order_no:$t.value.source_id,registrar_id:JSON.parse(localStorage.getItem("user")).id,description:$t.value.description,project_id:$t.value.project.id??""},items:Ol.value};if(0===Ol.value.length)return Yl("Fill in atleast one item"),void(Nl.value=!1);try{await t.post("local-orders",e);Jl("Order Saved"),we(),Rl(),document.getElementById("close-local-order").click()}catch(l){Yl(l.message),console.log(l)}finally{Nl.value=!1}},Ol=(0,n.iH)([]),jl=(0,n.iH)(["Sno","item","description","unit","quantity","actions"]),Ll=(0,n.iH)(1),Ml=()=>{if(""===Wt.value.quantity||""===Wt.value.item||""===Wt.value.unit)return void Yl("Fill required items");const e={Sno:Ll.value,item:Wt.value.item,description:Wt.value.description,quantity:Wt.value.quantity,unit:Wt.value.unit.short_name};Ol.value.push(e),Wt.value={name:"",description:"",quantity:"",unit:""},Ll.value=Ll.value+1},Il=e=>{Ol.value=Ol.value.filter((t=>t.Sno!==e)),Ol.value.forEach(((e,t)=>{e.Sno=t+1})),Ll.value=Ol.value.length+1},Nl=(0,n.iH)(!1),Tl=(0,a.f3)("tableShimmer"),Bl=JSON.parse(localStorage.getItem("user")),Pl=(0,n.iH)(!1),$l=(0,n.iH)(""),Al=(0,n.iH)(""),Fl=(0,n.iH)(!1),Wl=(0,n.iH)(["SNo","grn_no","lpo_no","project","requester","receiver","cost","briefing","remarks","status","pending","date","delay","actions"]),Gl=(0,n.iH)([]),Jl=(0,a.f3)("showMessage"),Yl=(0,a.f3)("showError"),Ql=(0,a.f3)("enforceMax"),Zl=(0,a.f3)("formatNumber"),Kl=(0,a.f3)("formatDate"),Xl=(0,a.f3)("loadingSpinner"),ea=JSON.parse(localStorage.getItem("user")).permissions,ta=(0,n.iH)(""),la=(0,n.iH)({perPage:50,perPageValues:[50,100,200],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:[],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),aa=(0,n.iH)([]),ia=e=>{t.get("/stores").then((e=>{aa.value=[{id:0,name:"DIRECT TO ASSET"},...e.data.map((e=>({...e,name:e.project+" - "+e.name})))]}))},na=(0,n.iH)(""),oa=(0,n.iH)(),sa=()=>{wa(),document.getElementById("dismiss").click(),document.getElementById("close-local-grn").click(),document.getElementById("close_report").click(),da.value="",ba.value="",Al.value="",Pl.value=!1,oa.value="",Nl.value=!1,na.value="",ta.value="",ha.value=""},ra=(0,n.iH)([]),da=(0,n.iH)(""),ca=(0,n.iH)(0),ua=(0,n.iH)(""),pa=(0,n.iH)(""),ma=e=>{pa.value=e,ca.value=e.id,$l.value=e.remarks_original,Al.value=e.remarks_original,da.value=e.receiver,ua.value=e.updated_at;const t=new Date(e.approval?.created_at),l=new Date("2025-10-19");let a=e.approval?.items||[];t>=l&&(a=a.filter((e=>e.requisition_items?.vendor_id))),ra.value=a.map(((e,t)=>{const l=Array.isArray(e.grn_items)?e.grn_items.reduce(((e,t)=>e+(parseFloat(t.quantity)||0)),0):parseFloat(e.grn_item?.quantity)||0;return{SNo:t+1,id:e.id,asset_id:e.asset_id,unit:e.requisition_items?.units,vendor:e.requisition_items?.vendor?.name??"---",expected:e.quantity??"",item:e.requisition_items?.remark,description:e.requisition_items?.description,excess:e.grn_item?.excess??"",grn_item_id:e.grn_item?.id??0,shortage:e.grn_item?.shortage??0,item_list_id:0,item_id:e.grn_item?.item_id??2025,purchased:e.quantity??0,received:l,quantity:e.quantity,shortage:(e.quantity-l).toFixed(2),filled:"",initial_reading:"",final_reading:""}}))},va=(0,n.iH)(""),_a=e=>{va.value=e,Ol.value=e.items.map(((e,t)=>({...e,Sno:t+1,filled:""})))},ga=async()=>{Nl.value=!0;const e={user_id:JSON.parse(localStorage.getItem("user")).id,description:ba.value,local_order_id:va.value.id},l=Ol.value.map((e=>({item_id:e.item_list_id?.id??e.item_id,order_item_id:e.id,quantity:e.filled,description:ba.value}))).filter((e=>e.item_id&&e.quantity&&e.quantity>0)),a=Ol.value.map((e=>({item_id:e.item_list_id?.id,quantity:e.filled,store_id:ta.value.id,item_condition:"new"}))).filter((e=>e.item_id&&e.quantity&&e.quantity>0)),i={remarkData:e,grnItemData:l,storeItemData:a};try{await t.post("/local-grns",i);await wa(),Jl("Receive Note Sent!"),we(),sa()}catch(n){Yl(n.message),console.log(n)}finally{Nl.value=!1}},ha=(0,n.iH)(""),ba=(0,n.iH)(""),ya=async(e,l)=>{Nl.value=!0;const a={...ha.value?{remarks:ha.value}:{},description:ba.value,user_id:Bl.id,project_id:l},i=ra.value.map((e=>({item_id:e.item_list_id?.id,quantity:e.filled,store_id:ta.value.id,item_condition:"new",grn_item_id:e.grn_item_id,initial_reading:e.initial_reading,final_reading:e.final_reading}))).filter((e=>e.item_id&&e.quantity)),n=ra.value.map((t=>({item_id:t.item_list_id?.id??t.item_id,grn_id:e,approval_item_id:t.id,shortage:t.shortage??0,quantity:t.filled,description:ba.value,receiver_id:JSON.parse(localStorage.getItem("user")).id}))).filter((e=>e.item_id&&e.quantity)),o={remarkData:a,storeItemData:i,grnItemData:n};try{await t.put(`/good-received-notes/${e}`,o);await wa(),Jl("Receive Note Sent!"),sa()}catch(s){Yl(s.message),console.log(s)}finally{Nl.value=!1}},wa=async()=>{try{const e=await t.get("good-received-notes");Gl.value=e.data.map(((e,t)=>{const l=new Date(e.created_at),a=new Date,i=Math.floor((a.setHours(0,0,0,0)-l.setHours(0,0,0,0))/864e5),n=e.approval.items.reduce(((e,t)=>{const l=parseFloat(t.quantity)||0,a=Array.isArray(t.grn_items)?t.grn_items.reduce(((e,t)=>e+(parseFloat(t.quantity)||0)),0):parseFloat(t.grn_items?.quantity)||0;return e+(l-a)}),0);let o="",s="",r="--";return e?.receiver?.name?n>0?(o="Partial Received",s="secondary"):(o="Received",s="success"):i<=3?(o="Pending",s="warning"):(o="Delayed",s="danger",r=i-3),{...e,SNo:t+1,id:e.id,briefing:e.approval.requisition.description,project:e.approval.requisition.project?.short_name??"no project",project_id:e.approval.requisition.project?.id??"",requester:e.approval?.requester?.name??"Unknown",lpo_no:"0"+e.approval_list_id,approval_id:e.approval_list_id,receiver:e?.receiver?.name??"---",grn_no:e.id,remarks:e.remarks,remarks_original:e.remarks??"",status:{key:o,class:s},delay:r??"--",date:Kl(e.created_at),cost:Zl(e.approval.items.reduce(((e,t)=>e+parseFloat(t.quantity)*parseFloat(t.requisition_items?.rate??0)),0)),pending:n.toFixed(2)}}))}catch(e){Yl(e.message),console.log(e)}finally{Fl.value=!1}},fa=async e=>{try{const t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t);new Date;const l=new Date(e.created_at),a=`${l.getDate().toString().padStart(2,"0")}/${(l.getMonth()+1).toString().padStart(2,"0")}`,i=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Print grn</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 13px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; }\n  .logo { width: 160px; height: auto; }\n  .grn-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 13px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; }\n  .company-title h2 { margin: 5px 0; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 10px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 20px 0 10px 0; }\n  .title { text-align: center; font-weight: bold;  margin: 20px 0 10px 0; }\n  table { width: 100%; border-collapse: collapse; margin-top: 10px; border-radius: 4px; overflow: hidden; }\n  table.details td, table.items th, table.items td, .signatures th, .signatures td { border: 0.5px solid #000; padding: 6px; font-weight: normal; }\n  table.items thead tr th { background-color: #f8f8f8; border-bottom: 1px solid #000; }\n  .text-right { text-align: right; }\n  .text-center { text-align: center; }\n  .text-success { color: green; }\n .signature-area { margin-top: 30px; }\n  .signature-line { border-top: 1px solid #000; width: 200px; display: inline-block; margin-top: 50px; }\n  .text-danger { color: red; }\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="grn-box">\n    GRN NO:<br>\n    <span style="color:red;">${("0000"+e.grn_no).slice(-4)}/${a}</span>\n  </div>\n</div>\n<div class="reg-info">\n  TIN: 135-489-247<br>\n  VRN: 40-032826C\n</div>\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n<div class="section-title"> GOOD RECEIVED NOTES DETAILS</div>\n<div class="title">PROJECT :  ${e?.project?.toUpperCase()??"NO PROJECT"}</div>\n<table class="items">\n  <thead>\n    <tr>\n      <th>Requester</th>\n      <th>Receiver</th>\n      <th>Date</th>\n      <th>Project</th>\n      <th>Vendor</th>\n      <th>Status</th>\n      <th>Delay</th>\n    </tr>\n  </thead>\n  <tbody>\n\n    <tr>\n      <td>${e.requester}</td>\n      <td>${e.receiver}</td>\n      <td class="text-right">${e.date}</td>\n      <td class="text-right">${e?.project?.toUpperCase()}</td>\n      <td class="text-right">${e.vendor}</td>\n      <td class="text-right">${e.status.key}</td>\n      <td class="text-right">${e.delay}</td>\n    </tr>\n\n  </tbody>\n</table>\n<div class="section-title"> GOOD RECEIVED NOTE ITEMS</div>\n<table class="items">\n  <thead>\n    <tr>\n      <th>SN</th>\n      <th>Item</th>\n      <th>Description</th>\n      <th>Unit</th>\n      <th>Purchased</th>\n      <th>Received</th>\n      <th>Shortage</th>\n    </tr>\n  </thead>\n  <tbody>\n    ${ra.value.map(((e,t)=>`\n    <tr>\n      <td>${t+1}</td>\n      <td>${e.item||"N/A"}</td>\n      <td>${e.description||"N/A"}</td>\n      <td>${e.unit||"nill"}</td>\n      <td>${e.purchased||"0"}</td>\n      <td>${e.received||"0"}</td>\n      <td>${e.shortage||"0"}</td>\n    </tr>\n\n    `)).join("")}\n ${e.description?`\n  <tr>\n    <td colspan="7" style="text-align:start;">\n      Brief Description : ${e.description??""}\n    </td>\n  </tr>\n`:""}\n\n ${e.remarks?`\n  <tr>\n    <td colspan="7" style="text-align:start;">\n      MD's Remarks : ${e.remarks??""}\n    </td>\n  </tr>\n`:""}\n\n\n    <tr>\n     <td colspan="7" style="text-align:right;"><strong>ORDER COST</strong>  <strong>${e.cost}</strong></td>\n    </tr>\n  </tbody>\n</table>\n\n\n\n\n</body>\n</html>\n`,n=t.contentWindow.document;n.open(),n.write(i),n.close(),t.onload=()=>{t.contentWindow.focus(),t.contentWindow.print(),setTimeout((()=>{document.body.removeChild(t)}),1e3)}}catch(t){Yl(`Failed to print grn: ${t.message}`)}};return(0,a.bv)((()=>{Fl.value=!0,wa(),ia(),O(),P()})),(e,t)=>{const s=(0,a.up)("v-client-table"),r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("ul",v,[(0,a._)("li",null,[(0,a._)("div",_,[(0,a._)("nav",g,[(0,a._)("ol",h,[b,(0,a._)("li",y,[(0,a._)("span",null,"Good Received Notes / "+(0,i.zw)(tt.value?"Local":"General"),1)])])])])])]),w,(0,a._)("div",f,[(0,a._)("div",k,[(0,a._)("button",{onClick:t[0]||(t[0]=e=>it()),class:(0,i.C_)(["btn me-2",tt.value?"btn-success":"btn-secondary"])},(0,i.zw)(tt.value?"General Orders":"Local Orders"),3),tt.value?((0,a.wg)(),(0,a.iD)("button",x,S)):(0,a.kq)("",!0)])]),(0,a.Wm)(u.Z,{filterValue:l.value,"onUpdate:filterValue":t[1]||(t[1]=e=>l.value=e)},null,8,["filterValue"]),Fl.value?((0,a.wg)(),(0,a.iD)("div",{key:0,innerHTML:(0,n.SU)(Tl)()},null,8,q)):((0,a.wg)(),(0,a.iD)("div",V,[(0,a._)("div",C,[(0,a._)("div",U,[tt.value?((0,a.wg)(),(0,a.iD)("div",H,[(0,a.Wm)(s,{data:nt.value,columns:wt.value,options:la.value},{status:(0,a.w5)((e=>[(0,a._)("span",{class:(0,i.C_)(["badge inv-status","badge-"+e.row.status.color])},(0,i.zw)(e.row.status.name),3)])),actions:(0,a.w5)((e=>[E,(0,a._)("a",R,[((0,a.wg)(),(0,a.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-primary","data-bs-toggle":"modal","data-bs-target":"#local-order-modal",onClick:t=>_a(e.row)},L,8,z))])])),_:1},8,["data","columns","options"])])):((0,a.wg)(),(0,a.iD)("div",M,[(0,a.Wm)(s,{data:(0,n.SU)(d),columns:Wl.value,options:la.value},{lpo_no:(0,a.w5)((e=>[(0,a.Wm)(r,{to:`/approval-chain/${e.row.approval_id}`,class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.row.lpo_no),1)])),_:2},1032,["to"])])),status:(0,a.w5)((e=>[(0,a._)("span",{class:(0,i.C_)(["badge inv-status","badge-"+e.row.status.class])},(0,i.zw)(e.row.status.key),3)])),delayed_count:(0,a.w5)((e=>["Delayed"===e.row.status.key?((0,a.wg)(),(0,a.iD)("span",I,(0,i.zw)(e.row.delayed_count)+" days",1)):(0,a.kq)("",!0)])),actions:(0,a.w5)((e=>[N,(0,a._)("a",T,[((0,a.wg)(),(0,a.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-primary","data-bs-toggle":"modal","data-bs-target":"#view_items",onClick:t=>ma(e.row)},A,8,B))])])),_:1},8,["data","columns","options"])]))])])])),(0,a._)("div",F,[(0,a._)("div",W,[(0,a._)("div",G,[(0,a._)("div",{class:"modal-header"},[J,(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"dismiss",onClick:sa})]),(0,a._)("div",Y,[(0,a._)("div",Q,[(0,a._)("div",Z,[(0,a._)("div",K,[(0,a._)("table",X,[ee,(0,a._)("tbody",null,[(0,a._)("tr",null,[(0,a._)("td",null,(0,i.zw)(pa.value.id),1),(0,a._)("td",null,(0,i.zw)(pa.value.requester),1),(0,a._)("td",null,(0,i.zw)(pa.value.receiver),1),(0,a._)("td",null,(0,i.zw)(pa.value.date),1),(0,a._)("td",null,(0,i.zw)(pa.value.project),1),(0,a._)("td",null,(0,i.zw)(pa.value.vendor??"No vendor"),1),(0,a._)("td",null,(0,i.zw)(pa.value.cost),1),(0,a._)("td",null,[(0,a._)("span",{class:(0,i.C_)(["badge inv-status","badge-"+pa.value.status?.class])},(0,i.zw)(pa.value.status?.key),3)]),(0,a._)("td",null,(0,i.zw)(pa.value.delay),1),(0,a._)("td",null,[(0,n.SU)(ea).includes("can_print_lpo")?((0,a.wg)(),(0,a.iD)("a",{key:0,href:"javascript:void(0);",onClick:t[2]||(t[2]=e=>fa(pa.value)),class:"text-success"},le)):(0,a.kq)("",!0)])]),null!=pa.value.description?((0,a.wg)(),(0,a.iD)("tr",ae,[(0,a._)("td",ie,[ne,(0,a.Uk)(" "+(0,i.zw)(pa.value.description),1)])])):(0,a.kq)("",!0),pa.value.remarks?((0,a.wg)(),(0,a.iD)("tr",oe,[(0,a._)("td",se,[re,(0,a.Uk)(" "+(0,i.zw)(pa.value.remarks),1)])])):(0,a.kq)("",!0)])])])])]),(0,a._)("div",de,[(0,n.SU)(ea).includes("is_md")&&!pa.value.remarks?((0,a.wg)(),(0,a.iD)("form",{key:0,onSubmit:t[4]||(t[4]=(0,o.iM)((e=>ya(ca.value)),["prevent"]))},[(0,a._)("div",ce,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"Enter Remarks","onUpdate:modelValue":t[3]||(t[3]=e=>ha.value=e)},null,512),[[o.nr,ha.value]]),(0,a._)("button",{type:"submit",class:"btn btn-primary",disabled:Nl.value},[Nl.value?((0,a.wg)(),(0,a.iD)("span",{key:0,innerHTML:(0,n.SU)(Xl)()},null,8,pe)):((0,a.wg)(),(0,a.iD)("span",me,"Send"))],8,ue)])],32)):(0,a.kq)("",!0)]),("No Receiver"===da.value||ra.value.some((e=>e.shortage>0)))&&(0,n.SU)(ea).includes("can_fill_grn")?((0,a.wg)(),(0,a.iD)("div",ve,[(0,a._)("div",_e,[(0,a.Wm)((0,n.SU)(c()),{modelValue:ta.value,"onUpdate:modelValue":t[5]||(t[5]=e=>ta.value=e),options:aa.value,"close-on-select":!0,label:"name","value-prop":"id",placeholder:"Select Store",searchable:!0,class:"w-100"},null,8,["modelValue","options"])]),(0,a._)("div",ge,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"Enter Brief Description","onUpdate:modelValue":t[6]||(t[6]=e=>ba.value=e)},null,512),[[o.nr,ba.value]])]),(0,a._)("div",he,["No Receiver"===da.value||ra.value.some((e=>e.shortage>0))?((0,a.wg)(),(0,a.iD)("form",{key:0,onSubmit:t[7]||(t[7]=(0,o.iM)((e=>ya(ca.value,pa.value.project_id)),["prevent"]))},[(0,a._)("button",{type:"submit",class:"btn btn-info btn-sm px-3",disabled:Nl.value||!ta.value},[Nl.value?((0,a.wg)(),(0,a.iD)("div",ye,fe)):((0,a.wg)(),(0,a.iD)("svg",ke,Se))],8,be)],32)):(0,a.kq)("",!0)])])):(0,a.kq)("",!0),(0,a._)("div",qe,[(0,a._)("div",Ve,[(0,a._)("div",Ce,[(0,a._)("div",Ue,[(0,a._)("table",He,[(0,a._)("thead",null,[(0,a._)("tr",null,[Ee,Re,ze,Oe,ta.value?((0,a.wg)(),(0,a.iD)("th",je,"Bind To")):(0,a.kq)("",!0),Le,Me,Ie,Ne])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(ra.value,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,i.zw)(t+1),1),(0,a._)("td",null,(0,i.zw)(e.item),1),(0,a._)("td",null,(0,i.zw)(e.description),1),(0,a._)("td",null,(0,i.zw)(e.vendor),1),ta.value.id>0&&e.shortage>0?((0,a.wg)(),(0,a.iD)("td",Te,[(0,a.Wm)((0,n.SU)(c()),{modelValue:e.item_list_id,"onUpdate:modelValue":t=>e.item_list_id=t,options:D.value,placeholder:"Select Item",label:"name","close-on-select":!0,searchable:!0,style:{width:"400px"}},null,8,["modelValue","onUpdate:modelValue","options"])])):0==ta.value.id&&e.shortage>0?((0,a.wg)(),(0,a.iD)("td",Be,[(0,a.Wm)((0,n.SU)(c()),{modelValue:e.item_list_id,"onUpdate:modelValue":t=>e.item_list_id=t,options:j.value,placeholder:"Select An Asset",label:"name","close-on-select":!0,searchable:!0,style:{width:"400px"}},null,8,["modelValue","onUpdate:modelValue","options"])])):(0,a.kq)("",!0),(0,a._)("td",null,(0,i.zw)(e.unit),1),(0,a._)("td",null,(0,i.zw)(e.purchased),1),(0,a._)("td",null,[ta.value?((0,a.wg)(),(0,a.iD)("span",Pe,[e.shortage>0&&e.item_list_id?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,type:"number",class:"form-control w-100",placeholder:"Qty Received","onUpdate:modelValue":t=>e.filled=t,onInput:t=>e.filled=(0,n.SU)(Ql)(e.filled,e.shortage)},null,40,$e)),[[o.nr,e.filled]]):(0,a.kq)("",!0),0==ta.value.id?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:1,type:"number",placeholder:"Initial Reading",class:"form-control","onUpdate:modelValue":t=>e.initial_reading=t},null,8,Ae)),[[o.nr,e.initial_reading]]):(0,a.kq)("",!0),0==ta.value.id?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:2,type:"number",placeholder:"Final Reading",class:"form-control","onUpdate:modelValue":t=>e.final_reading=t},null,8,Fe)),[[o.nr,e.final_reading]]):(0,a.kq)("",!0)])):((0,a.wg)(),(0,a.iD)("span",We,(0,i.zw)(e.received),1))]),(0,a._)("td",null,(0,i.zw)(e.shortage),1)])))),128))])])])])])])]),(0,a._)("div",{class:"modal-footer"},[(0,a._)("button",{type:"button",class:"btn btn-secondary",onClick:sa},"Close")])])])]),(0,a._)("div",Ge,[(0,a._)("div",Je,[(0,a._)("div",Ye,[(0,a._)("div",{class:"modal-header"},[Qe,(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close_report",onClick:sa})]),(0,a._)("div",Ze,[(0,a.wy)((0,a._)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=e=>oa.value=e),placeholder:"Send to : 255..."},null,512),[[o.nr,oa.value]])]),(0,a._)("div",Ke,[Xe,(0,a._)("button",{type:"button",onClick:t[9]||(t[9]=t=>e.sendTemplate()),class:"btn btn-success py-2 px-2"},[Nl.value?((0,a.wg)(),(0,a.iD)("div",et,lt)):((0,a.wg)(),(0,a.iD)("svg",at,ot))])])])])]),(0,a._)("div",st,[(0,a._)("div",rt,[(0,a._)("div",dt,[ct,(0,a._)("form",{onSubmit:t[19]||(t[19]=(0,o.iM)((e=>zl()),["prevent"]))},[(0,a._)("div",ut,[(0,a._)("div",pt,[(0,a._)("div",mt,[(0,a._)("div",vt,[(0,a._)("div",_t,[(0,a._)("div",gt,[ht,(0,a._)("div",bt,[yt,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>$t.value.source=e),class:"form-control",required:""},ft,512),[[o.bM,$t.value.source]])]),$t.value.source?((0,a.wg)(),(0,a.iD)("div",kt,[(0,a._)("label",xt,(0,i.zw)($t.value.source)+" Number ",1),(0,a.wy)((0,a._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter "+$t.value.source+" Number","onUpdate:modelValue":t[11]||(t[11]=e=>$t.value.source_id=e),required:""},null,8,Dt),[[o.nr,$t.value.source_id]])])):(0,a.kq)("",!0),$t.value.source?((0,a.wg)(),(0,a.iD)("div",St,[qt,(0,a.Wm)((0,n.SU)(c()),{modelValue:$t.value.project,"onUpdate:modelValue":t[12]||(t[12]=e=>$t.value.project=e),options:$.value,"close-on-select":!0,label:"short_name",placeholder:"Select Project",searchable:!0,class:"w-100"},null,8,["modelValue","options"])])):(0,a.kq)("",!0),(0,a._)("div",Vt,[Ct,(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",placeholder:"Enter Brief Description","onUpdate:modelValue":t[13]||(t[13]=e=>$t.value.description=e)},null,512),[[o.nr,$t.value.description]])]),Ut,$t.value.source_id?((0,a.wg)(),(0,a.iD)("div",Ht,[Et,(0,a._)("div",Rt,[(0,a._)("div",zt,[Ot,(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",placeholder:"Enter Item","onUpdate:modelValue":t[14]||(t[14]=e=>Wt.value.item=e)},null,512),[[o.nr,Wt.value.item]])]),(0,a._)("div",jt,[Lt,(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",step:"any",placeholder:"'Enter Description","onUpdate:modelValue":t[15]||(t[15]=e=>Wt.value.description=e)},null,512),[[o.nr,Wt.value.description]])]),(0,a._)("div",Mt,[It,(0,a.Wm)((0,n.SU)(c()),{modelValue:Wt.value.unit,"onUpdate:modelValue":t[16]||(t[16]=e=>Wt.value.unit=e),options:xe.value,"close-on-select":!0,label:"short_name",placeholder:"Select Unit",searchable:!0,class:"w-100"},null,8,["modelValue","options"])]),(0,a._)("div",Nt,[Tt,(0,a.wy)((0,a._)("input",{class:"form-control",type:"number",step:"any",placeholder:"Enter Quantity","onUpdate:modelValue":t[17]||(t[17]=e=>Wt.value.quantity=e)},null,512),[[o.nr,Wt.value.quantity]])]),(0,a._)("div",Bt,[(0,a._)("div",Pt,[(0,a._)("button",{class:"btn btn-success",onClick:t[18]||(t[18]=e=>Ml()),type:"button"},At)])])]),(0,a.Wm)(s,{data:Ol.value,columns:jl.value,options:la.value},{actions:(0,a.w5)((e=>[(0,a._)("a",{href:"javascript:void(0);",title:"Delete",onClick:t=>Il(e.row.Sno)},Gt,8,Ft)])),_:1},8,["data","columns","options"])])):(0,a.kq)("",!0)])])])])])]),(0,a._)("div",Jt,[Yt,(0,a._)("button",{type:"submit",class:"btn btn-primary",disabled:Nl.value},[Nl.value?((0,a.wg)(),(0,a.iD)("span",{key:0,innerHTML:(0,n.SU)(Xl)()},null,8,Zt)):((0,a.wg)(),(0,a.iD)("span",Kt,"Save"))],8,Qt)])],32)])])]),(0,a._)("div",Xt,[(0,a._)("div",el,[(0,a._)("div",tl,[ll,(0,a._)("form",{onSubmit:t[23]||(t[23]=(0,o.iM)((e=>ga()),["prevent"]))},[(0,a._)("div",al,[(0,a._)("div",il,[(0,a._)("div",nl,[(0,a._)("div",ol,[(0,a._)("div",sl,[(0,a._)("div",rl,[(0,n.SU)(ea).includes("can_fill_grn")?((0,a.wg)(),(0,a.iD)("div",dl,[cl,(0,a.Wm)((0,n.SU)(c()),{modelValue:ta.value,"onUpdate:modelValue":t[20]||(t[20]=e=>ta.value=e),options:aa.value,"close-on-select":!0,label:"name","value-prop":"id",placeholder:"Select Store",searchable:!0,class:"w-100","allow-empty":!1},null,8,["modelValue","options"])])):(0,a.kq)("",!0),(0,n.SU)(ea).includes("can_fill_grn")?((0,a.wg)(),(0,a.iD)("div",ul,[pl,(0,a.wy)((0,a._)("input",{class:"form-control",type:"text",placeholder:"Enter Brief Description","onUpdate:modelValue":t[21]||(t[21]=e=>ba.value=e)},null,512),[[o.nr,ba.value]])])):(0,a.kq)("",!0),ml,(0,a._)("div",vl,[(0,a._)("table",_l,[(0,a._)("thead",null,[(0,a._)("tr",null,[gl,hl,bl,yl,wl,ta.value?((0,a.wg)(),(0,a.iD)("th",fl,"Bind To")):(0,a.kq)("",!0),ta.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("th",kl,"Received"))])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Ol.value,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,i.zw)(t+1),1),(0,a._)("td",null,(0,i.zw)(e.item),1),(0,a._)("td",null,(0,i.zw)(e.description),1),(0,a._)("td",null,(0,i.zw)(e.unit),1),(0,a._)("td",null,(0,i.zw)(e.quantity),1),ta.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("td",xl,(0,i.zw)(e.receivedItemsCount),1)),ta.value.id>0?((0,a.wg)(),(0,a.iD)("td",Dl,[(0,a.Wm)((0,n.SU)(c()),{modelValue:e.item_list_id,"onUpdate:modelValue":t=>e.item_list_id=t,options:D.value,placeholder:"Select Item",label:"name","close-on-select":!0,searchable:!0,style:{width:"400px"},"allow-empty":!1},null,8,["modelValue","onUpdate:modelValue","options"])])):0==ta.value.id?((0,a.wg)(),(0,a.iD)("td",Sl,[(0,a.Wm)((0,n.SU)(c()),{modelValue:e.item_list_id,"onUpdate:modelValue":t=>e.item_list_id=t,options:j.value,placeholder:"Select An Asset",label:"name","close-on-select":!0,searchable:!0,style:{width:"400px"}},null,8,["modelValue","onUpdate:modelValue","options"])])):(0,a.kq)("",!0),e.item_list_id?((0,a.wg)(),(0,a.iD)("td",ql,[(0,a._)("span",null,[(0,a.wy)((0,a._)("input",{type:"number",class:"form-control w-100",placeholder:"Qty Received","onUpdate:modelValue":t=>e.filled=t},null,8,Vl),[[o.nr,e.filled]])])])):(0,a.kq)("",!0)])))),128))])])])])])])])])]),(0,a._)("div",Cl,[(0,a._)("button",{type:"button",class:"btn btn-danger me-2","data-bs-dismiss":"modal",onClick:t[22]||(t[22]=e=>sa())},"Close"),(0,n.SU)(ea).includes("can_fill_grn")?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"submit",class:"btn btn-primary",disabled:Nl.value||!ta.value},[Nl.value?((0,a.wg)(),(0,a.iD)("span",{key:0,innerHTML:(0,n.SU)(Xl)()},null,8,Hl)):((0,a.wg)(),(0,a.iD)("span",El,"Save"))],8,Ul)):(0,a.kq)("",!0)])],32)])])])])}}};const zl=Rl;var Ol=zl}}]);
//# sourceMappingURL=402.03522c47.js.map