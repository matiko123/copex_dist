"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[9057],{9057:function(e,a,l){l.r(a),l.d(a,{default:function(){return ie}});var t=l(66252),s=l(49963),o=l(2262),r=l(3577),n=l(87066),i=l(56296),c=l(86455),u=l.n(c);const d={class:"layout-px-spacing"},v=(0,t.uE)('<ul class="navbar-nav flex-row mt-2"><li><div class="page-header"><nav class="breadcrumb-one" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="javascript:;">Masters</a></li><li class="breadcrumb-item active" aria-current="page"><span>roles</span></li></ol></nav></div></li></ul>',1),p={class:"d-flex me-4 mt-2"},m={class:"ms-auto"},b=(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,t._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})],-1),h=[b],_=["onSubmit"],g=(0,t._)("h4",{class:"text-center"},"ROLE REGISTRATION FORM",-1),w={class:"row mb-2"},f={class:"col-md-4"},y=(0,t._)("label",{class:"form-label"},"Role Name",-1),k={class:"col-md-4"},x=(0,t._)("label",{class:"form-label"},"Description",-1),C={class:"col-md-4"},H=(0,t._)("label",{class:"form-label"},"Path",-1),E={class:"text-center gap-2 justify-content-end"},D=(0,t._)("button",{type:"submit",class:"btn btn-primary"},"Register",-1),M=["innerHTML"],R={class:"row layout-top-spacing"},V={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},B={class:"panel p-0"},q={class:"custom-table table3"},L={href:"javascript:;",class:"edit me-2"},S=["onClick"],U=(0,t._)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},null,-1),j=(0,t._)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},null,-1),I=[U,j],P=["onClick"],T=(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger"},[(0,t._)("polyline",{points:"3 6 5 6 21 6"}),(0,t._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),N=[T],z={class:"modal fade",id:"edit_role","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},O={class:"modal-dialog modal-lg"},A={class:"modal-content"},G=(0,t._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"ROLE EDITING",-1),Y={class:"modal-body"},$={class:"row mb-2"},F={class:"col-md-4"},W=(0,t._)("label",{class:"form-label"},"Role Name",-1),Z={class:"col-md-4"},J=(0,t._)("label",{class:"form-label"},"Description",-1),K={class:"col-md-4"},Q=(0,t._)("label",{class:"form-label"},"Path",-1),X={class:"modal-footer"},ee=(0,t._)("button",{type:"button",class:"btn btn-danger btn-sm py-2 px-2","data-bs-dismiss":"modal"},"Close",-1),ae={type:"submit",class:"btn btn-success py-2 px-2"},le={key:0,class:"spinner-border text-white",role:"status"},te=(0,t._)("span",{class:"sr-only"},null,-1),se=[te],oe={key:1};var re={setup(e){(0,i.j)({title:"Custom Table"});const a=n.Z.create({baseURL:"https://bushman.ink/api/v1/"}),l=(0,t.f3)("loadingIndicator"),c=(0,o.iH)([]),b=(0,o.iH)(""),U=(0,o.iH)(!1),j=(0,o.iH)(["id","name","description","path","actions"]),T=(0,o.iH)([]),te=(0,o.iH)(!1),re=(0,o.iH)(""),ne=(0,o.iH)(""),ie=(0,o.iH)(null),ce=(0,o.iH)(""),ue=(0,o.iH)(""),de=(0,o.iH)(""),ve=(0,o.iH)(!1),pe=(0,t.f3)("showMessage"),me=(0,t.f3)("showError"),be=(0,o.iH)({perPage:10,perPageValues:[10,20,50],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:["id","role_name"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),he=()=>{U.value=!0,a.get("/roles").then((e=>{c.value=e.data,T.value=e.data,U.value=!1})).catch((e=>{me(e.message),U.value=!1,console.error("Error fetching roles:",e.message)}))},_e=e=>{u().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((l=>{l.isConfirmed&&(U.value=!0,a.delete(`/roles/${e}`).then((e=>{he(),pe(e.data.message),U.value=!1,u().fire("Deleted!","Role has been deleted.","success")})))}))},ge=()=>{te.value=!1,U.value=!0;const e={name:b.value,description:re.value,path:ne.value};a.post("/roles",e).then((e=>{he(),U.value=!1,pe("role registered successfully!"),b.value="",re.value="",ne.value=""})).catch((e=>{me(e.message),U.value=!1,console.error("Error registering Order:",e.message)}))},we=e=>{ie.value=e.id,ce.value=e.name,ue.value=e.description,de.value=e.path},fe=()=>{ve.value=!0;const e={name:ce.value,description:ue.value,path:de.value};a.put(`/roles/${ie.value}`,e).then((e=>{he(),ve.value=!1,document.getElementById("close_editing").click(),pe("Role updated successfully!")})).catch((e=>{ve.value=!1,me(e.message),console.error("Error updating role:",e.message)}))},ye=()=>{ie.value=null,ce.value="",ue.value="",de.value=""};return(0,t.bv)((()=>{he()})),(e,a)=>{const n=(0,t.up)("v-client-table");return(0,t.wg)(),(0,t.iD)("div",d,[v,(0,t._)("div",p,[(0,t._)("div",m,[(0,t._)("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=e=>te.value=!te.value)},h)])]),te.value?((0,t.wg)(),(0,t.iD)("form",{key:0,class:"mt-3 p-3 border rounded bg-white shadow",onSubmit:(0,s.iM)(ge,["prevent"])},[g,(0,t._)("div",w,[(0,t._)("div",f,[y,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Enter role Name","onUpdate:modelValue":a[1]||(a[1]=e=>b.value=e),required:""},null,512),[[s.nr,b.value]])]),(0,t._)("div",k,[x,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Enter role Description","onUpdate:modelValue":a[2]||(a[2]=e=>re.value=e),step:"any",required:""},null,512),[[s.nr,re.value]])]),(0,t._)("div",C,[H,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Enter Path","onUpdate:modelValue":a[3]||(a[3]=e=>ne.value=e),step:"any",required:""},null,512),[[s.nr,ne.value]])])]),(0,t._)("div",E,[(0,t._)("button",{type:"button",class:"btn btn-danger me-3",onClick:a[4]||(a[4]=e=>te.value=!1)},"Cancel"),D])],40,_)):(0,t.kq)("",!0),U.value?((0,t.wg)(),(0,t.iD)("div",{key:1,innerHTML:(0,o.SU)(l)()},null,8,M)):(0,t.kq)("",!0),(0,t._)("div",R,[(0,t._)("div",V,[(0,t._)("div",B,[(0,t._)("div",q,[(0,t.Wm)(n,{data:T.value,columns:j.value,options:be.value},{status:(0,t.w5)((e=>[(0,t._)("span",{class:(0,r.C_)(["badge inv-status","badge-"+e.row.status.class])},(0,r.zw)(e.row.status.key),3)])),actions:(0,t.w5)((e=>[(0,t._)("a",L,[((0,t.wg)(),(0,t.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-primary","data-bs-toggle":"modal","data-bs-target":"#edit_role",onClick:a=>we(e.row)},I,8,S))]),(0,t._)("a",{href:"javascript:void(0);",title:"Delete",onClick:a=>_e(e.row.id)},N,8,P)])),_:1},8,["data","columns","options"])])])])]),(0,t._)("div",z,[(0,t._)("div",O,[(0,t._)("div",A,[(0,t._)("div",{class:"modal-header"},[G,(0,t._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close_editing",onClick:ye})]),(0,t._)("form",{onSubmit:a[8]||(a[8]=(0,s.iM)((e=>fe()),["prevent"]))},[(0,t._)("div",Y,[(0,t._)("div",$,[(0,t._)("div",F,[W,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=e=>ce.value=e),placeholder:"Enter Role Name",required:""},null,512),[[s.nr,ce.value]])]),(0,t._)("div",Z,[J,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=e=>ue.value=e),placeholder:"Enter Description",required:""},null,512),[[s.nr,ue.value]])]),(0,t._)("div",K,[Q,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=e=>de.value=e),placeholder:"Enter Path"},null,512),[[s.nr,de.value]])])])]),(0,t._)("div",X,[ee,(0,t._)("button",ae,[ve.value?((0,t.wg)(),(0,t.iD)("div",le,se)):((0,t.wg)(),(0,t.iD)("span",oe,"Save changes"))])])],32)])])])])}}};const ne=re;var ie=ne}}]);
//# sourceMappingURL=9057.9ead36b8.js.map