"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[6308],{58483:function(e,t,a){a.d(t,{i:function(){return s}});a(26699);function s(e,t){const a=t.toLowerCase().trim();if(!a)return e;const s=e=>null!=e&&("string"===typeof e?e.toLowerCase().includes(a):Array.isArray(e)?e.some(s):"object"===typeof e&&Object.values(e).some(s));return e.filter((e=>s(e)))}},76308:function(e,t,a){a.r(t),a.d(t,{default:function(){return gt}});a(26699);var s=a(66252),l=a(49963),n=a(2262),i=a(3577),o=a(87066),d=a(56296),r=a(26212),u=a.n(r),c=a(58483);const m={class:"layout-px-spacing"},p=(0,s.uE)('<ul class="navbar-nav flex-row mt-2"><li><div class="page-header"><nav class="breadcrumb-one" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="javascript:;">Masters</a></li><li class="breadcrumb-item active" aria-current="page"><span>Good Issue Notes</span></li></ol></nav></div></li></ul>',1),b={class:"d-flex justify-content-between align-items-center mb-3"},_=(0,s._)("h4",{class:"text-center flex-grow-1"},"GOOD ISSUE NOTES",-1),v=(0,s.Uk)("Delivery Notes"),g=(0,s.Uk)("Gate Passes"),h=(0,s._)("span",{class:"input-group-text bg-white border-start-0"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.415l-3.85-3.85zm-5.442.656a5 5 0 1 1 \r\n        0-10 5 5 0 0 1 0 10z"})])],-1),y=["innerHTML"],w={key:1,class:"row layout-top-spacing"},f={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},x={class:"panel p-0"},k={class:"custom-table table3"},S=["onClick"],q=(0,s._)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},null,-1),D=(0,s._)("circle",{cx:"12",cy:"12",r:"3"},null,-1),C=[q,D],H=["onClick"],N=(0,s._)("path",{d:"M8.5 10c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1"},null,-1),z=(0,s._)("path",{d:"M10.828.122A.5.5 0 0 1 11 .5V1h.5A1.5 1.5 0 0 1 13 2.5V15h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V1.5a.5.5 0 0 1 .43-.495l7-1a.5.5 0 0 1 .398.117M11.5 2H11v13h1V2.5a.5.5 0 0 0-.5-.5M4 1.934V15h6V1.077z"},null,-1),U=[N,z],A={key:1,"data-bs-toggle":"modal","data-bs-target":"#edit",xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},V=(0,s._)("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"},null,-1),M=(0,s._)("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"},null,-1),$=[V,M],j={class:"modal-footer"},I=(0,s._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),E=["disabled"],P={class:"modal fade mymodal",id:"issuedItems","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},R={class:"modal-dialog modal-fullscreen"},L={class:"modal-content"},T={class:"modal-header"},G=(0,s._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"GOODS DELIVERY NOTE",-1),O={class:"modal-body"},B={class:"row layout-top-spacing"},W={class:"d-flex align-items-center justify-content-between"},Q=(0,s.Uk)(" Status : "),F={key:0,class:"d-flex justify-content-end gap-2"},Y={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},K={class:"panel p-0"},J={class:"custom-table table3"},Z={key:0,class:"table table-bordered table-striped"},X=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,"Item Requested"),(0,s._)("th",null,"Item Issued"),(0,s._)("th",null,"Quantity Requested"),(0,s._)("th",null,"Quantity Issued"),(0,s._)("th",null,"Quantity Delivered")])],-1),ee={key:0},te=["onUpdate:modelValue"],ae={key:1},se={class:"modal-footer"},le=["disabled"],ne=["innerHTML"],ie={key:1},oe={class:"modal fade mymodal",id:"gate-pass-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"gatePassModalLabel","aria-hidden":"true"},de={class:"modal-dialog modal-xl"},re={class:"modal-content"},ue={class:"modal-header"},ce={class:"modal-title fs-5",id:"gatePassModalLabel"},me={class:"d-flex me-5 mt-2"},pe={key:0},be=(0,s._)("p",{class:"badge badge-warning text-white mb-5 mx-3"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-info-circle",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),(0,s._)("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"})]),(0,s.Uk)(" No Gate Pass Created")],-1),_e=[be],ve={class:"ms-auto"},ge=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white"},[(0,s._)("polyline",{points:"6 9 6 2 18 2 18 9"}),(0,s._)("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),(0,s._)("rect",{x:"6",y:"14",width:"12",height:"8"})],-1),he=[ge],ye=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),(0,s._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})],-1),we=[ye],fe={class:"modal-body"},xe={key:0},ke={class:"row"},Se={class:"col-md-4"},qe=(0,s._)("label",{class:"form-label fw-bold"},"Asset :  ",-1),De={class:"form-label"},Ce={class:"col-md-4"},He=(0,s._)("label",{class:"form-label fw-bold"},"Asset Type :  ",-1),Ne={class:"form-label"},ze={class:"col-md-4"},Ue=(0,s._)("label",{class:"form-label fw-bold"},"Current Reading :  ",-1),Ae={class:"form-label"},Ve={class:"col-md-4"},Me=(0,s._)("label",{class:"form-label fw-bold"},"Return Reading :  ",-1),$e={class:"form-label"},je={class:"col-md-4"},Ie=(0,s._)("label",{class:"form-label fw-bold"},"Driver Name :  ",-1),Ee={class:"form-label"},Pe={class:"col-md-4"},Re=(0,s._)("label",{class:"form-label fw-bold"},"Security Name :  ",-1),Le={class:"form-label"},Te={class:"col-md-6"},Ge=(0,s._)("label",{class:"form-label fw-bold"},"Source Store :  ",-1),Oe={class:"form-label"},Be={class:"col-md-6"},We=(0,s._)("label",{class:"form-label fw-bold"},"Destination Store :  ",-1),Qe={class:"form-label"},Fe={key:0,class:"row mb-3"},Ye={class:"col-md-4"},Ke=(0,s._)("label",{class:"form-label small"},"Select An Asset ",-1),Je={class:"col-md-4"},Ze=(0,s._)("label",{for:"current_reading"},"Current Reading",-1),Xe={class:"col-md-4"},et=(0,s._)("label",{for:"return_reading"},"Return Reading",-1),tt={class:"col-md-4"},at=(0,s._)("label",{for:"driver_name"},"Driver Name",-1),st={class:"col-md-4"},lt=(0,s._)("label",{for:"security_name"},"Security Name",-1),nt={class:"col-md-4"},it=(0,s._)("label",{for:"date"},"Date",-1),ot=(0,s._)("h5",{class:"mb-3"},"Issued Items",-1),dt={class:"panel p-0"},rt={class:"custom-table table3"},ut={class:"modal-footer"},ct={key:0},mt=["disabled"],pt={key:0,class:"spinner-border spinner-border-sm text-white me-2",role:"status"},bt=(0,s.Uk)(" Create Gate Pass ");var _t={setup(e){(0,d.j)({title:"Good Issue Note"});const t=(0,s.Fl)((()=>(0,c.i)(At.value,r.value))),a=o.Z.create({baseURL:"https://bushman.ink/api/v1/"}),r=(0,n.iH)(""),q=(0,n.iH)(!1),D=(0,n.iH)(""),N=(0,n.iH)(""),z=(0,n.iH)(""),V=(0,n.iH)(""),M=(0,n.iH)(""),be=(0,n.iH)(""),ge=JSON.parse(localStorage.getItem("user")).permissions,ye=(0,s.f3)("formatDate"),_t=(0,s.f3)("tableShimmer"),vt=(0,s.f3)("loadingSpinner"),gt=(0,n.iH)({id:1,name:"Warehouse Storage"}),ht=(0,n.iH)([{id:1,name:"Warehouse Storage"}]),yt=()=>{$t.value=""},wt=(0,n.iH)(!1),ft=(0,n.iH)(["SNo","requisition_id","issue_no","from","to","requester","issuer","date_issued","items_count","status","actions"]),xt=(0,n.iH)(["SNo","item","category","unit","quantity"]),kt=(0,n.iH)([]),St=(0,n.iH)([]),qt=(0,n.iH)({perPage:20,perPageValues:[20,50,100],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:["SNo","name","short_name","status"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),Dt=(0,n.iH)(!1),Ct=async()=>{Dt.value=!0;const e={deliveryData:{gin_id:zt.value.id,receiver_id:JSON.parse(localStorage.getItem("user")).id},deliveryItems:Ht.value.map((e=>({gin_item_id:e.id,item_id:e.store_item.item_id,store_item_id:e.store_item.id,item_condition:e.store_item.item_condition,quantity:e.received,purpose:gt.value.id,store_id:$t.value.id,unit:e.unit.short_name})))};try{await a.post("good-delivery-notes",e);Vt(),Lt("Data Saved Successfully"),document.getElementById("close").click(),zt.value.status={id:10,name:"Delivered",color:"success"}}catch(t){Tt(t.message),console.log(t)}finally{Dt.value=!1}},Ht=(0,n.iH)([]),Nt=(0,n.iH)(["Sno","item_requested","category","item_issued","quantity_requested","quantity_issued","received"]),zt=(0,n.iH)(""),Ut=e=>{zt.value=e,e.destination_store&&($t.value={id:e.destination_store?.id,name:e.destination_store?e.destination_store.project?.short_name+" - "+e.destination_store.name:""}),Ht.value=e.items.map(((e,t)=>{const a=e.delivered_items||{};return{...e,Sno:t+1,item_requested:e.requisition_item.remark,category:e.store_item.item.category?.name,item_issued:e.store_item.item.name,quantity_requested:e.requisition_item.quantity,quantity_issued:e.quantity,received:a.quantity??"",unit:a.unit??""}})),St.value=e.items.map(((e,t)=>({SNo:t+1,item:e.store_item.item.name,category:e.store_item.item.category?.name,unit:e.store_item.item.unit?.short_name||"---",quantity:e.quantity})))},At=(0,n.iH)([]),Vt=()=>{wt.value=!0,a.get("/good-issue-notes").then((e=>{kt.value=e.data.map(((e,t)=>({...e,SNo:t+1,id:e.id,issue_no:e.id,from:e.source_store?.project?.short_name+" - "+e?.source_store?.name,to:e?.destination_store?.project?.short_name+" - "+e?.destination_store?.name,issuer:e?.issuer?.name,requester:e?.requisition?.requester?.name??"---",source_store_id:e.source_store_id,destination_store_id:e.destination_store_id,items_count:e.items?.length,date_issued:ye(e.created_at)}))),At.value=kt.value,wt.value=!1})).catch((e=>{Tt(e.message||"Failed to fetch units"),wt.value=!1}))},Mt=(0,n.iH)([]),$t=(0,n.iH)(""),jt=async()=>{const e=await a.get("stores");Mt.value=e.data.map((e=>({...e,name:e.project+" : "+e.name})))},It=(0,n.iH)([]),Et=async()=>{const e=await a.get("machines");It.value=e.data.map((e=>({...e,name:e.name+" - "+e.type_name,AssetNo:e.name,AssetType:e.type_name})))},Pt=(0,n.iH)([]),Rt=async()=>{const e=await a.get("units");Pt.value=e.data},Lt=(0,s.f3)("showMessage"),Tt=(0,s.f3)("showError"),Gt=async e=>{Dt.value=!0;const t={good_issue_note_id:e,asset_id:D.value.id,current_reading:N.value,return_reading:z.value,destination_store_id:zt.value.destination_store_id,source_store_id:zt.value.source_store_id,driver_name:V.value,security_name:M.value,date:be.value};try{await a.post("gate-passes",t);Lt("Gate Pass created successfully!"),Vt(),document.getElementById("close_modal").click()}catch(s){Tt(`Failed to create gate pass: ${s.message}`)}finally{Dt.value=!1}},Ot=()=>{D.value="",N.value="",z.value="",V.value="",M.value="",be.value=""},Bt=async e=>{try{const t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t);const a=e.gate_pass||{},s=a.asset?.name||"N/A",l=a.asset?.type_name||"N/A",n=e.source_store?`${e.source_store.project?.short_name||""} - ${e.source_store.name||""}`:"N/A",i=e.destination_store?`${e.destination_store.project?.short_name||""} - ${e.destination_store.name||""}`:"N/A",o=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Print Gate Pass</title>\n<style>\n  body { font-family: 'Segoe UI', Arial, sans-serif; margin: 40px; font-size: 13px; color: #222; }\n  .header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #000; padding-bottom: 10px; }\n  .logo { width: 150px; height: auto; }\n  .gatepass-box { border: 2px solid #000; padding: 6px 14px; font-weight: bold; font-size: 14px; border-radius: 6px; background: #f9f9f9; box-shadow: 0 0 3px rgba(0,0,0,0.2); }\n  .company-title { text-align: center; margin: 25px 0 15px 0; }\n  .company-title h2 { margin: 0; font-size: 18px; text-transform: uppercase;  }\n  .details { margin-top: 15px; line-height: 2; }\n  .line-field { display: flex; justify-content: space-between; margin-bottom: 6px; }\n  .label { width: 35%; font-weight: bold; }\n  .value { flex: 1; border-bottom: 1px solid #000; text-align: center; padding-bottom: 2px; }\n  table { width: 100%; border-collapse: collapse; margin-top: 15px; border-radius: 6px; overflow: hidden; }\n  table.items thead th { background: #f0f0f0; border: 1px solid #000; font-weight: bold; text-align: center; }\n  table.items td { border: 1px solid #000; padding: 6px; vertical-align: middle; text-align: center; }\n  .signatures { margin-top: 40px; display: flex; justify-content: space-between; align-items: center; }\n  .signature-box { text-align: center; width: 45%; }\n  .signature-line { margin-top: 50px; border-top: 1px solid #000; width: 80%; margin-left: auto; margin-right: auto; }\n.check-square {\n  width: 20px;\n  height: 20px;\n  border: 1px solid #000;\n  display: inline-block;\n}\n  @media print { body { margin: 10mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="gatepass-box">\n    PASS NO: <span style="color:red;">${"00"+(a.id||"")}</span><br>\n    GIN NO: ${e.id||""}<br>\n    Date : ${ye(a.date||a.created_at)}\n  </div>\n</div>\n\n<div class="company-title">\n  <h2>Gate Pass for Construction Equipment / Vehicles</h2>\n</div>\n\n<table style="width:100%; border-collapse:separate; border-spacing:0 8px; margin-top:15px; font-size:13px;">\n  <tr>\n    <td style="font-weight:bold; width:20%;">Driver Name:</td>\n    <td style="border-bottom:1px solid #000; padding:4px;">${a.driver_name||""}</td>\n     <td style="font-weight:bold; padding-left:20px;">Security Name:</td>\n    <td style="border-bottom:1px solid #000; padding:4px;">${a.security_name||""}</td>\n  </tr>\n  <tr>\n    <td style="font-weight:bold;">Reg No:</td>\n    <td style="border-bottom:1px solid #000; padding:4px;">${s}</td>\n    <td style="font-weight:bold; padding-left:20px;">Type:</td>\n    <td style="border-bottom:1px solid #000; padding:4px;">${l}</td>\n  </tr>\n  <tr>\n    <td style="font-weight:bold;">Start Kms/Hrs:</td>\n    <td style="border-bottom:1px solid #000; padding:4px;">${a.current_reading||""}</td>\n    <td style="font-weight:bold; padding-left:20px;">Return&nbsp;Kms/Hrs:</td>\n    <td style="border-bottom:1px solid #000; padding:4px; white-space:nowrap;">${a.return_reading||""}</td>\n  </tr>\n  <tr>\n    <td style="font-weight:bold;">Destination:</td>\n    <td style="border-bottom:1px solid #000; padding:4px;">${i}</td>\n    <td style="font-weight:bold; padding-left:20px;">Source Location:</td>\n    <td style="border-bottom:1px solid #000; padding:4px;">${n}</td>\n  </tr>\n\n</table>\n\n\n<h4 style="margin-top:25px;">CARRIED ITEMS:</h4>\n<table class="items">\n  <thead>\n    <tr>\n      <th>SN</th>\n      <th>Item</th>\n      <th>Description</th>\n      <th>Quantity</th>\n        <th>Check</th>\n    </tr>\n  </thead>\n  <tbody>\n    ${(e.items||[]).map(((e,t)=>`\n    <tr>\n      <td>${t+1}</td>\n      <td>${e.store_item?.item?.name||"N/A"}</td>\n      <td>${e.store_item?.item?.description||"--"}</td>\n      <td style="text-align: right;">${e.quantity||"0"}</td>\n        <td><div class="check-square"></div></td>\n    </tr>`)).join("")}\n    ${e.items&&0!==e.items.length?"":'<tr><td colspan="4">No items found</td></tr>'}\n  </tbody>\n</table>\n\n<div class="signatures">\n  <div class="signature-box">\n    <div class="signature-line"></div>\n    <p>Driver's Signature</p>\n  </div>\n  <div class="signature-box">\n    <div class="signature-line"></div>\n    <p>Security Signature</p>\n  </div>\n</div>\n\n</body>\n</html>\n`,d=t.contentWindow.document;d.open(),d.write(o),d.close(),t.onload=()=>{t.contentWindow.focus(),t.contentWindow.print(),setTimeout((()=>{document.body.removeChild(t)}),1e3)}}catch(t){console.error("Print error:",t),Tt(`Failed to print gate pass: ${t.message}`)}};return(0,s.bv)((()=>{Vt(),jt(),Rt(),Et()})),(e,a)=>{const o=(0,s.up)("router-link"),d=(0,s.up)("v-client-table");return(0,s.wg)(),(0,s.iD)("div",m,[p,(0,s._)("div",b,[_,(0,s.Wm)(o,{to:"/good-delivery-notes",class:"btn btn-primary me-2"},{default:(0,s.w5)((()=>[v])),_:1}),(0,s.Wm)(o,{to:"/gate-Passes",class:"btn btn-primary"},{default:(0,s.w5)((()=>[g])),_:1})]),(0,s._)("form",{onSubmit:a[1]||(a[1]=(0,l.iM)((()=>{}),["prevent"])),class:"input-group container"},[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control border-end-0",placeholder:"Search a word...","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},null,512),[[l.nr,r.value]]),h],32),wt.value?((0,s.wg)(),(0,s.iD)("div",{key:0,innerHTML:(0,n.SU)(_t)()},null,8,y)):((0,s.wg)(),(0,s.iD)("div",w,[(0,s._)("div",f,[(0,s._)("div",x,[(0,s._)("div",k,[(0,s.Wm)(d,{data:(0,n.SU)(t),columns:ft.value,options:qt.value},{status:(0,s.w5)((e=>[(0,s._)("span",{class:(0,i.C_)(["badge inv-status","badge-"+e.row.status.color])},(0,i.zw)(e.row.status.name),3)])),actions:(0,s.w5)((e=>[((0,s.wg)(),(0,s.iD)("svg",{onClick:t=>Ut(e.row),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-info","data-bs-toggle":"modal","data-bs-target":"#issuedItems"},C,8,S)),(0,n.SU)(ge).includes("can_view_gate_pass")?((0,s.wg)(),(0,s.iD)("svg",{key:0,onClick:t=>Ut(e.row),"data-bs-toggle":"modal","data-bs-target":"#gate-pass-modal",xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-door-open",viewBox:"0 0 16 16"},U,8,H)):(0,s.kq)("",!0),(0,n.SU)(ge).includes("can_edit_issue_note")?((0,s.wg)(),(0,s.iD)("svg",A,$)):(0,s.kq)("",!0)])),footer:(0,s.w5)((()=>[(0,s._)("div",j,[I,(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:a[2]||(a[2]=(...t)=>e.save_edit&&e.save_edit(...t)),disabled:e.isSaving},"Save changes",8,E)])])),_:1},8,["data","columns","options"])])])])])),(0,s._)("div",P,[(0,s._)("div",R,[(0,s._)("div",L,[(0,s._)("div",T,[G,(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[3]||(a[3]=e=>yt()),id:"close"})]),(0,s._)("form",{onSubmit:a[6]||(a[6]=(0,l.iM)((e=>Ct()),["prevent"]))},[(0,s._)("div",O,[(0,s._)("div",B,[(0,s._)("div",W,[(0,s._)("h4",null,[Q,(0,s._)("span",{class:(0,i.C_)(["mb-2 badge",`badge-${zt.value.status?.color}`])},(0,i.zw)(zt.value.status?.name),3)]),9==zt.value.status?.id&&(0,n.SU)(ge).includes("can_issue_goods")?((0,s.wg)(),(0,s.iD)("div",F,[(0,s.Wm)((0,n.SU)(u()),{class:"me-2",modelValue:gt.value,"onUpdate:modelValue":a[4]||(a[4]=e=>gt.value=e),options:ht.value,placeholder:"Select Purpose",searchable:!0,label:"name",multiple:!1,required:!0,"allow-empty":!1,style:{width:"300px"}},null,8,["modelValue","options"]),gt.value?((0,s.wg)(),(0,s.j4)((0,n.SU)(u()),{key:0,modelValue:$t.value,"onUpdate:modelValue":a[5]||(a[5]=e=>$t.value=e),options:Mt.value,placeholder:"Select A Store",searchable:!0,label:"name",multiple:!1,required:!0,"allow-empty":!0,style:{width:"300px"}},null,8,["modelValue","options"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),(0,s._)("div",Y,[(0,s._)("div",K,[(0,s._)("div",J,[9==zt.value.status?.id?((0,s.wg)(),(0,s.iD)("table",Z,[X,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Ht.value,(e=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",null,(0,i.zw)(e.item_requested),1),(0,s._)("td",null,(0,i.zw)(e.item_issued),1),(0,s._)("td",null,(0,i.zw)(e.quantity_requested),1),(0,s._)("td",null,(0,i.zw)(e.quantity_issued),1),$t.value&&(0,n.SU)(ge).includes("can_issue_goods")?((0,s.wg)(),(0,s.iD)("td",ee,[(0,s.wy)((0,s._)("input",{type:"number",class:"form-control",placeholder:"Enter Received Quantity","onUpdate:modelValue":t=>e.received=t,required:""},null,8,te),[[l.nr,e.received]])])):((0,s.wg)(),(0,s.iD)("td",ae,(0,i.zw)(e.received),1))])))),256))])])):((0,s.wg)(),(0,s.j4)(d,{key:1,data:Ht.value,columns:Nt.value,options:qt.value},null,8,["data","columns","options"]))])])])])]),(0,s._)("div",se,[(0,s._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:yt},"Close"),(0,s._)("button",{type:"submit",class:"btn btn-success",disabled:!$t.value|Dt.value},[Dt.value?((0,s.wg)(),(0,s.iD)("span",{key:0,innerHTML:(0,n.SU)(vt)()},null,8,ne)):((0,s.wg)(),(0,s.iD)("span",ie,"Save"))],8,le)])],32)])])]),(0,s._)("div",oe,[(0,s._)("div",de,[(0,s._)("div",re,[(0,s._)("div",ue,[(0,s._)("h1",ce,(0,i.zw)(zt.value.gate_pass?` Gate Pass No.00${zt.value.gate_pass.id} - Date: ${zt.value.gate_pass.date}`:"GATE PASS DETAILS"),1),(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[7]||(a[7]=e=>Ot()),id:"close_modal"})]),(0,s._)("div",me,[zt.value.gate_pass?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",pe,_e)),(0,s._)("div",ve,[zt.value.gate_pass?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-success",onClick:a[8]||(a[8]=e=>Bt(zt.value))},he)):(0,s.kq)("",!0),(0,n.SU)(ge).includes("can_create_gate_pass")&&!zt.value.gate_pass?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn-primary",onClick:a[9]||(a[9]=e=>q.value=!q.value)},we)):(0,s.kq)("",!0)])]),(0,s._)("form",{onSubmit:a[17]||(a[17]=(0,l.iM)((e=>Gt(zt.value.id)),["prevent"]))},[(0,s._)("div",fe,[zt.value.gate_pass?((0,s.wg)(),(0,s.iD)("div",xe,[(0,s._)("div",ke,[(0,s._)("div",Se,[qe,(0,s._)("label",De,(0,i.zw)(zt.value.gate_pass.asset?.name),1)]),(0,s._)("div",Ce,[He,(0,s._)("label",Ne,(0,i.zw)(zt.value.gate_pass.asset?.type_name),1)]),(0,s._)("div",ze,[Ue,(0,s._)("label",Ae,(0,i.zw)(zt.value.gate_pass.current_reading),1)]),(0,s._)("div",Ve,[Me,(0,s._)("label",$e,(0,i.zw)(zt.value.gate_pass.return_reading),1)]),(0,s._)("div",je,[Ie,(0,s._)("label",Ee,(0,i.zw)(zt.value.gate_pass.driver_name),1)]),(0,s._)("div",Pe,[Re,(0,s._)("label",Le,(0,i.zw)(zt.value.gate_pass.security_name),1)]),(0,s._)("div",Te,[Ge,(0,s._)("label",Oe,(0,i.zw)(zt.value.source_store.project.short_name)+"-"+(0,i.zw)(zt.value.source_store.name),1)]),(0,s._)("div",Be,[We,(0,s._)("label",Qe,(0,i.zw)(zt.value.destination_store.project.short_name)+"-"+(0,i.zw)(zt.value.destination_store.name),1)])])])):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[q.value?((0,s.wg)(),(0,s.iD)("div",Fe,[(0,s._)("div",Ye,[Ke,(0,s.Wm)((0,n.SU)(u()),{modelValue:D.value,"onUpdate:modelValue":a[10]||(a[10]=e=>D.value=e),options:It.value,placeholder:"Select An Asset",label:"name",searchable:!0,multiple:!1,required:!0,"allow-empty":!1},null,8,["modelValue","options"])]),(0,s._)("div",Je,[Ze,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":a[11]||(a[11]=e=>N.value=e),class:"form-control",placeholder:"Enter Current Reading",min:"1"},null,512),[[l.nr,N.value]])]),(0,s._)("div",Xe,[et,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":a[12]||(a[12]=e=>z.value=e),class:"form-control",placeholder:"Enter Return Reading",min:"1"},null,512),[[l.nr,z.value]])]),(0,s._)("div",tt,[at,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[13]||(a[13]=e=>V.value=e),class:"form-control",placeholder:"Enter Driver Name",required:""},null,512),[[l.nr,V.value]])]),(0,s._)("div",st,[lt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[14]||(a[14]=e=>M.value=e),class:"form-control",placeholder:"Enter Security Name",required:""},null,512),[[l.nr,M.value]])]),(0,s._)("div",nt,[it,(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":a[15]||(a[15]=e=>be.value=e),class:"form-control",placeholder:"Enter Date",required:""},null,512),[[l.nr,be.value]])])])):(0,s.kq)("",!0)],64)),ot,(0,s._)("div",dt,[(0,s._)("div",rt,[(0,s.Wm)(d,{data:St.value,columns:xt.value,options:qt.value},null,8,["data","columns","options"])])])]),(0,s._)("div",ut,[(0,s._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:a[16]||(a[16]=e=>Ot())},"Close"),q.value?((0,s.wg)(),(0,s.iD)("div",ct,[(0,s._)("button",{type:"submit",class:"btn btn-primary",disabled:Dt.value},[Dt.value?((0,s.wg)(),(0,s.iD)("span",pt)):(0,s.kq)("",!0),bt],8,mt)])):(0,s.kq)("",!0)])],32)])])])])}}};const vt=_t;var gt=vt}}]);
//# sourceMappingURL=6308.99af4949.js.map