(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[2404,1703],{96077:function(e,t,a){var o=a(17854),r=a(60614),l=o.String,s=o.TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw s("Can't set "+l(e)+" as a prototype")}},70648:function(e,t,a){var o=a(17854),r=a(51694),l=a(60614),s=a(84326),n=a(5112),u=n("toStringTag"),i=o.Object,c="Arguments"==s(function(){return arguments}()),d=function(e,t){try{return e[t]}catch(a){}};e.exports=r?s:function(e){var t,a,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=d(t=i(e),u))?a:c?s(t):"Object"==(o=s(t))&&l(t.callee)?"Arguments":o}},77741:function(e,t,a){var o=a(1702),r=Error,l=o("".replace),s=function(e){return String(r(e).stack)}("zxcasd"),n=/\n\s*at [^:]*:[^\n]*/,u=n.test(s);e.exports=function(e,t){if(u&&"string"==typeof e&&!r.prepareStackTrace)while(t--)e=l(e,n,"");return e}},22914:function(e,t,a){var o=a(47293),r=a(79114);e.exports=!o((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},22104:function(e,t,a){var o=a(34374),r=Function.prototype,l=r.apply,s=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(o?s.bind(l):function(){return s.apply(l,arguments)})},79587:function(e,t,a){var o=a(60614),r=a(70111),l=a(27674);e.exports=function(e,t,a){var s,n;return l&&o(s=t.constructor)&&s!==a&&r(n=s.prototype)&&n!==a.prototype&&l(e,n),e}},58340:function(e,t,a){var o=a(70111),r=a(68880);e.exports=function(e,t){o(t)&&"cause"in t&&r(e,"cause",t.cause)}},56277:function(e,t,a){var o=a(41340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:o(e)}},27674:function(e,t,a){var o=a(1702),r=a(19670),l=a(96077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,a={};try{e=o(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(a,[]),t=a instanceof Array}catch(s){}return function(a,o){return r(a),l(o),t?e(a,o):a.__proto__=o,a}}():void 0)},2626:function(e,t,a){var o=a(3070).f;e.exports=function(e,t,a){a in e||o(e,a,{configurable:!0,get:function(){return t[a]},set:function(e){t[a]=e}})}},51694:function(e,t,a){var o=a(5112),r=o("toStringTag"),l={};l[r]="z",e.exports="[object z]"===String(l)},41340:function(e,t,a){var o=a(17854),r=a(70648),l=o.String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return l(e)}},89191:function(e,t,a){"use strict";var o=a(35005),r=a(92597),l=a(68880),s=a(47976),n=a(27674),u=a(99920),i=a(2626),c=a(79587),d=a(56277),p=a(58340),v=a(77741),b=a(22914),_=a(19781),y=a(31913);e.exports=function(e,t,a,f){var h="stackTraceLimit",g=f?2:1,m=e.split("."),w=m[m.length-1],k=o.apply(null,m);if(k){var j=k.prototype;if(!y&&r(j,"cause")&&delete j.cause,!a)return k;var x=o("Error"),q=t((function(e,t){var a=d(f?t:e,void 0),o=f?new k(e):new k;return void 0!==a&&l(o,"message",a),b&&l(o,"stack",v(o.stack,2)),this&&s(j,this)&&c(o,this,q),arguments.length>g&&p(o,arguments[g]),o}));if(q.prototype=j,"Error"!==w?n?n(q,x):u(q,x,{name:!0}):_&&h in k&&(i(q,k,h),i(q,k,"prepareStackTrace")),u(q,k),!y)try{j.name!==w&&l(j,"name",w),j.constructor=q}catch(C){}return q}}},21703:function(e,t,a){var o=a(82109),r=a(17854),l=a(22104),s=a(89191),n="WebAssembly",u=r[n],i=7!==Error("e",{cause:7}).cause,c=function(e,t){var a={};a[e]=s(e,t,i),o({global:!0,constructor:!0,arity:1,forced:i},a)},d=function(e,t){if(u&&u[e]){var a={};a[e]=s(n+"."+e,t,i),o({target:n,stat:!0,constructor:!0,arity:1,forced:i},a)}};c("Error",(function(e){return function(t){return l(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return l(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return l(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return l(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return l(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return l(e,this,arguments)}})),c("URIError",(function(e){return function(t){return l(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return l(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return l(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return l(e,this,arguments)}}))},52404:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return De}});a(26699),a(21703);var o=a(66252),r=a(3577),l=a(2262),s=a(49963),n=a(47244),u=a(87066),i=a(26212),c=a.n(i),d=a(56296);const p=e=>((0,o.dD)("data-v-4678719e"),e=e(),(0,o.Cn)(),e),v={class:"layout-px-spacing"},b=p((()=>(0,o._)("div",{class:"text-center mb-4"},[(0,o._)("h4",null,"COPEX CONTRACTORS COMPANY LTD")],-1))),_={class:"nav nav-tabs mb-4"},y={class:"nav-item"},f={class:"nav-item"},h={class:"nav-item"},g={class:"table-container"},m={key:0,class:"row"},w={class:"col-xl-12 col-lg-12 col-sm-12"},k={class:"panel br-6 p-0"},j=p((()=>(0,o._)("div",{class:"panel-heading"},[(0,o._)("h4",{class:"panel-title"},"Labour Requests")],-1))),x={class:"custom-table"},q={class:"actions text-center"},C=["onClick"],S=p((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-edit-2 text-success"},[(0,o._)("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})],-1))),E=[S],L=["onClick"],R=p((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x-circle table-cancel"},[(0,o._)("circle",{cx:"12",cy:"12",r:"10"}),(0,o._)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,o._)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})],-1))),T=[R],A={key:1,class:"row"},N={class:"col-xl-12 col-lg-12 col-sm-12"},U={class:"panel br-6 p-0"},O=p((()=>(0,o._)("div",{class:"panel-heading"},[(0,o._)("h4",{class:"panel-title"},"Labour Types")],-1))),D={class:"custom-table"},P={class:"actions text-center"},H=["onClick"],I=p((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-edit-2 text-success"},[(0,o._)("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})],-1))),V=[I],B=["onClick"],$=p((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x-circle table-cancel"},[(0,o._)("circle",{cx:"12",cy:"12",r:"10"}),(0,o._)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,o._)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})],-1))),F=[$],M={key:2,class:"row"},z={class:"col-xl-12 col-lg-12 col-sm-12"},Z={class:"panel br-6 p-0"},W=p((()=>(0,o._)("div",{class:"panel-heading"},[(0,o._)("h4",{class:"panel-title"},"Labour Request List")],-1))),J={class:"custom-table"},Y={class:"actions text-center"},Q=["onClick"],X=p((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-edit-2 text-success"},[(0,o._)("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})],-1))),G=[X],K=["onClick"],ee=p((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x-circle table-cancel"},[(0,o._)("circle",{cx:"12",cy:"12",r:"10"}),(0,o._)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,o._)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})],-1))),te=[ee],ae={class:"modal fade",id:"editModal",tabindex:"-1",role:"dialog","aria-labelledby":"editModalLabel","aria-hidden":"true"},oe={class:"modal-dialog",role:"document"},re={class:"modal-content"},le={class:"modal-header"},se={class:"modal-title",id:"editModalLabel"},ne=p((()=>(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))),ue={class:"modal-body"},ie={key:0},ce={class:"form-group mb-3"},de=p((()=>(0,o._)("label",{for:"project"},"Project",-1))),pe={class:"form-group mb-3"},ve=p((()=>(0,o._)("label",{for:"date"},"Date",-1))),be={class:"form-group mb-3"},_e=p((()=>(0,o._)("label",{for:"days"},"Days",-1))),ye={key:1},fe={class:"form-group mb-3"},he=p((()=>(0,o._)("label",{for:"labour_type"},"Labour Type",-1))),ge={key:0,class:"text-danger mt-1"},me={class:"form-group mb-3"},we=p((()=>(0,o._)("label",{for:"task"},"Task",-1))),ke={class:"form-group mb-3"},je=p((()=>(0,o._)("label",{for:"quantity"},"Quantity",-1))),xe={class:"form-group mb-3"},qe=p((()=>(0,o._)("label",{for:"rate"},"Rate",-1))),Ce=p((()=>(0,o._)("small",{class:"form-text text-muted"},"Rate is determined by the selected labour type",-1))),Se={key:2},Ee={class:"form-group mb-3"},Le=p((()=>(0,o._)("label",{for:"labour_id"},"Labour ID",-1))),Re={class:"form-group mb-3"},Te=p((()=>(0,o._)("label",{for:"labour_name"},"Labour Name",-1))),Ae=p((()=>(0,o._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)));var Ne={setup(e){(0,d.j)({title:"Basic Table"});const t=(0,o.f3)("showMessage"),a=((0,o.f3)("showError"),(0,l.iH)(!1)),i=(0,l.iH)(["SNo","labour_id","labour_name","actions"]),p=(0,l.iH)(["SNo","project","date","days","actions"]),S=(0,l.iH)(["SNo","labour_type","task","quantity","rate","actions"]),R=(0,l.iH)([]),I=(0,l.iH)([]),$=(0,l.iH)([]),X=(0,l.iH)({perPage:10,perPageValues:[5,10,20,50],skin:"table table-hover",columnsClasses:{actions:"actions text-center"},sortable:[],pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),ee=(0,l.iH)("labour_requests");let Ne=null;const Ue=(0,l.iH)({}),Oe=(0,l.iH)(-1),De=(0,l.iH)(""),Pe=(0,l.iH)([]),He=(0,l.iH)([]),Ie=()=>{ee.value="labour_requests",$e()},Ve=()=>{ee.value="labour_types",Fe()},Be=()=>{ee.value="labour_request_list",Me()},$e=async()=>{try{const e=await fetch("https://bcftrack.trustdigital.space/api/v1/labour-request"),t=await e.json(),a=Array.isArray(t)?t.map(((e,t)=>({...e,SNo:t+1}))):[];R.value=a.length>0?a:[]}catch(e){R.value=[]}},Fe=async()=>{a.value=!0;try{console.log("Fetching labour types...");const e=await u.Z.get("https://construction.trustdigital.space/api/v1/request-labour-types"),t=e.data;console.log("Labour types API response:",t);const o=Array.isArray(t)?t.map(((e,t)=>({id:e.id,SNo:t+1,labour_type:e.labour_type?.name||"Unknown",task:e.task,quantity:e.quantity,rate:e.labour_type?.rate||0,labour_type_id:e.labour_type_id,labour_request_id:e.labour_request_id,labour_type_obj:e.labour_type,_original:e}))):[];console.log("Transformed labour types data:",o),$.value=o.length>0?o:[]}catch(e){console.error("Error fetching labour types:",e),console.error("Error details:",e.response?.data||e.message),$.value=[]}finally{a.value=!1}},Me=async()=>{try{const e=await fetch("https://bcftrack.trustdigital.space/api/v1/labour-request-list"),t=await e.json(),a=Array.isArray(t)?t.map(((e,t)=>({...e,SNo:t+1}))):[];I.value=a.length>0?a:[]}catch(e){I.value=[]}},ze=async e=>{window.Swal&&window.Swal.fire({title:"Delete Item",text:"Are you sure you want to delete this item?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async o=>{if(o.isConfirmed){a.value=!0;try{let o="",r=null;"labour_requests"===ee.value?(o=`https://bcftrack.trustdigital.space/api/v1/labour-request/${e.id}`,r=$e):"labour_types"===ee.value?(o=`https://construction.trustdigital.space/api/v1/request-labour-types/${e.id}`,r=Fe):"labour_request_list"===ee.value&&(o=`https://bcftrack.trustdigital.space/api/v1/labour-request-list/${e.id}`,r=Me),await u.Z["delete"](o),"labour_requests"===ee.value?R.value=R.value.filter((t=>t.id!==e.id)):"labour_types"===ee.value?$.value=$.value.filter((t=>t.id!==e.id)):"labour_request_list"===ee.value&&(I.value=I.value.filter((t=>t.id!==e.id))),t("Deleted Successfully"),await r()}catch(r){console.error("Error deleting item:",r),window.Swal.fire({icon:"error",title:"Error",text:"Failed to delete item: "+(r.response?.data?.message||r.message),padding:"2em"})}finally{a.value=!1}}}))},Ze=(e,t)=>{console.log("Editing row:",e,"Table type:",t),De.value=t,Ue.value=JSON.parse(JSON.stringify(e)),"labour_requests"===t?(Oe.value=R.value.findIndex((t=>t.id===e.id)),Ke().then((()=>{if(Ue.value.project_id&&Pe.value.length>0){const e=Pe.value.find((e=>e.id===Ue.value.project_id));e&&(Ue.value.project_obj=e)}}))):"labour_types"===t?(Oe.value=$.value.findIndex((t=>t.id===e.id)),console.log("Editing labour type at index:",Oe.value),console.log("Editing row labour type:",Ue.value.labour_type),et().then((()=>{if(Ue.value.labour_type_id&&He.value.length>0){const t=He.value.find((e=>e.id===Ue.value.labour_type_id));t?(console.log("Found matching labour type:",t),Ue.value.labour_type_obj=t):(console.warn("No matching labour type found in dropdown list"),e.labour_type_obj&&(Ue.value.labour_type_obj=e.labour_type_obj))}}))):"labour_request_list"===t&&(Oe.value=I.value.findIndex((t=>t.id===e.id))),Ne.show()},We=async()=>{console.log("Saving edited row:",Ue.value,"Table type:",De.value),a.value=!0;try{if("labour_types"===De.value){Ue.value.labour_type_obj&&(Ue.value.labour_type=Ue.value.labour_type_obj.name,Ue.value.labour_type_id=Ue.value.labour_type_obj.id,Ue.value.rate=Ue.value.labour_type_obj.rate||0);const t={labour_request_id:Ue.value.labour_request_id||0,labour_type_id:Ue.value.labour_type_id,quantity:parseInt(Ue.value.quantity)||0,task:Ue.value.task||""};console.log("Sending labour type update to API:",t),console.log("Request URL:",`https://construction.trustdigital.space/api/v1/request-labour-types/${Ue.value.id}`),console.log("Request method: PUT"),console.log("Request headers:",{"Content-Type":"application/json",Accept:"application/json"}),console.log("Request body:",JSON.stringify(t));try{const e=await u.Z.put(`https://construction.trustdigital.space/api/v1/request-labour-types/${Ue.value.id}`,t,{headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log("Labour type update response:",e),Je(e.data)}catch(e){console.error("Axios error:",e),console.log("Trying with fetch as fallback...");const a=await fetch(`https://construction.trustdigital.space/api/v1/request-labour-types/${Ue.value.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});console.log("Fetch response status:",a.status),console.log("Fetch response headers:",a.headers);const o=a.headers.get("content-type");if(o&&o.includes("application/json")){const e=await a.json();if(console.log("Fetch response data:",e),!a.ok)throw new Error(`Server responded with ${a.status}: ${JSON.stringify(e)}`);Je(e)}else{const e=await a.text();if(console.log("Fetch response text:",e),!a.ok)throw new Error(`Server responded with ${a.status}: ${e}`);await Fe(),Ne.hide(),Ye("Row edited successfully")}}}else if("labour_requests"===De.value){Ue.value.project_obj&&(Ue.value.project=Ue.value.project_obj.name,Ue.value.project_id=Ue.value.project_obj.id);const e={id:Ue.value.id,project_id:Ue.value.project_id,date:Ue.value.date,days:Ue.value.days,task:Ue.value.task||"Road and gravel clearence"},t=await u.Z.put(`https://bcftrack.trustdigital.space/api/v1/labour-request/${Ue.value.id}`,e);R.value[Oe.value]=t.data,$e()}else if("labour_request_list"===De.value){const e={id:Ue.value.id,labour_id:Ue.value.labour_id,labour_name:Ue.value.labour_name},t=await u.Z.put(`https://bcftrack.trustdigital.space/api/v1/labour-request-list/${Ue.value.id}`,e);t.data?I.value[Oe.value]={...I.value[Oe.value],...t.data,SNo:I.value[Oe.value].SNo}:I.value[Oe.value]={...Ue.value},Me()}Ne.hide(),Ue.value={},Oe.value=-1,Ye("Row edited successfully")}catch(t){console.error("Error saving edit:",t),t.response&&(console.error("Response data:",t.response.data),console.error("Response status:",t.response.status),console.error("Response headers:",t.response.headers)),Qe("Failed to save changes: "+(t.response?.data?.message||t.message))}finally{a.value=!1}},Je=e=>{if(e&&-1!==Oe.value){const e={...$.value[Oe.value],labour_type:Ue.value.labour_type,task:Ue.value.task,quantity:Ue.value.quantity,rate:Ue.value.rate,labour_type_id:Ue.value.labour_type_id,labour_request_id:Ue.value.labour_request_id,labour_type_obj:Ue.value.labour_type_obj};$.value[Oe.value]=e}Fe(),Ne.hide(),Ue.value={},Oe.value=-1,Ye("Row edited successfully")},Ye=e=>{window.Swal?window.Swal.fire({icon:"success",title:"Success",text:e,padding:"2em"}):alert(e)},Qe=e=>{window.Swal?window.Swal.fire({icon:"error",title:"Error",text:e,padding:"2em"}):alert("Error: "+e)},Xe=()=>"labour_requests"===De.value?"Labour Request":"labour_types"===De.value?"Labour Type":"labour_request_list"===De.value?"Labour Request List":"",Ge=()=>{Ue.value.project_obj&&(Ue.value.project=Ue.value.project_obj.name,Ue.value.project_id=Ue.value.project_obj.id)},Ke=async()=>{try{const e=await u.Z.get("https://bcftrack.trustdigital.space/api/v1/projects");Array.isArray(e.data)?Pe.value=e.data:Pe.value=[]}catch(e){Pe.value=[]}},et=async()=>{try{console.log("Fetching labour types list for dropdown...");const e=await u.Z.get("https://construction.trustdigital.space/api/v1/labour-types");console.log("Labour types list API Response:",e.data),Array.isArray(e.data)?He.value=e.data:(console.error("Labour types list response data is not an array:",e.data),He.value=[])}catch(e){console.error("Error fetching labour types list:",e),console.error("Error details:",e.response?.data||e.message),He.value=[]}},tt=()=>{Ue.value.labour_type_obj&&(console.log("Updating labour type with:",Ue.value.labour_type_obj),Ue.value.labour_type=Ue.value.labour_type_obj.name,Ue.value.labour_type_id=Ue.value.labour_type_obj.id,Ue.value.rate=Ue.value.labour_type_obj.rate||0)};return(0,o.bv)((()=>{$e(),Ke(),et(),Ne=new n.Modal(document.getElementById("editModal"))})),(e,t)=>{const a=(0,o.up)("v-client-table");return(0,o.wg)(),(0,o.iD)("div",v,[b,(0,o._)("ul",_,[(0,o._)("li",y,[(0,o._)("button",{class:(0,r.C_)(["nav-link",{active:"labour_requests"===ee.value}]),onClick:Ie}," Labour Request ",2)]),(0,o._)("li",f,[(0,o._)("button",{class:(0,r.C_)(["nav-link",{active:"labour_types"===ee.value}]),onClick:Ve}," Labour Type ",2)]),(0,o._)("li",h,[(0,o._)("button",{class:(0,r.C_)(["nav-link",{active:"labour_request_list"===ee.value}]),onClick:Be}," Labour Request List ",2)])]),(0,o._)("div",g,["labour_requests"===ee.value?((0,o.wg)(),(0,o.iD)("div",m,[(0,o._)("div",w,[(0,o._)("div",k,[j,(0,o._)("div",x,[(0,o.Wm)(a,{data:R.value,columns:p.value,options:X.value},{actions:(0,o.w5)((e=>[(0,o._)("div",q,[(0,o._)("a",{href:"javascript:;",class:"edit me-2",onClick:t=>Ze(e.row,"labour_requests")},E,8,C),(0,o._)("a",{href:"javascript:;",class:"cancel",onClick:t=>ze(e.row)},T,8,L)])])),_:1},8,["data","columns","options"])])])])])):(0,o.kq)("",!0),"labour_types"===ee.value?((0,o.wg)(),(0,o.iD)("div",A,[(0,o._)("div",N,[(0,o._)("div",U,[O,(0,o._)("div",D,[(0,o.Wm)(a,{data:$.value,columns:S.value,options:X.value},{rate:(0,o.w5)((e=>[(0,o.Uk)((0,r.zw)(Number(e.row.rate).toLocaleString()),1)])),actions:(0,o.w5)((e=>[(0,o._)("div",P,[(0,o._)("a",{href:"javascript:;",class:"edit me-2",onClick:t=>Ze(e.row,"labour_types")},V,8,H),(0,o._)("a",{href:"javascript:;",class:"cancel",onClick:t=>ze(e.row)},F,8,B)])])),_:1},8,["data","columns","options"])])])])])):(0,o.kq)("",!0),"labour_request_list"===ee.value?((0,o.wg)(),(0,o.iD)("div",M,[(0,o._)("div",z,[(0,o._)("div",Z,[W,(0,o._)("div",J,[(0,o.Wm)(a,{data:I.value,columns:i.value,options:X.value},{actions:(0,o.w5)((e=>[(0,o._)("div",Y,[(0,o._)("a",{href:"javascript:;",class:"edit me-2",onClick:t=>Ze(e.row,"labour_request_list")},G,8,Q),(0,o._)("a",{href:"javascript:;",class:"cancel",onClick:t=>ze(e.row)},te,8,K)])])),_:1},8,["data","columns","options"])])])])])):(0,o.kq)("",!0)]),(0,o._)("div",ae,[(0,o._)("div",oe,[(0,o._)("div",re,[(0,o._)("div",le,[(0,o._)("h5",se,"Edit "+(0,r.zw)(Xe()),1),ne]),(0,o._)("div",ue,["labour_requests"===De.value?((0,o.wg)(),(0,o.iD)("div",ie,[(0,o._)("div",ce,[de,(0,o.Wm)((0,l.SU)(c()),{modelValue:Ue.value.project_obj,"onUpdate:modelValue":t[0]||(t[0]=e=>Ue.value.project_obj=e),"track-by":"id",options:Pe.value,label:"short_name",placeholder:"Select Project",searchable:!0,required:!0,multiple:!1,"selected-label":"","select-label":"","deselect-label":"",onInput:Ge},null,8,["modelValue","options"])]),(0,o._)("div",pe,[ve,(0,o.wy)((0,o._)("input",{type:"date",class:"form-control",id:"date","onUpdate:modelValue":t[1]||(t[1]=e=>Ue.value.date=e)},null,512),[[s.nr,Ue.value.date]])]),(0,o._)("div",be,[_e,(0,o.wy)((0,o._)("input",{type:"number",class:"form-control",id:"days","onUpdate:modelValue":t[2]||(t[2]=e=>Ue.value.days=e)},null,512),[[s.nr,Ue.value.days]])])])):(0,o.kq)("",!0),"labour_types"===De.value?((0,o.wg)(),(0,o.iD)("div",ye,[(0,o._)("div",fe,[he,(0,o.Wm)((0,l.SU)(c()),{modelValue:Ue.value.labour_type_obj,"onUpdate:modelValue":t[3]||(t[3]=e=>Ue.value.labour_type_obj=e),"track-by":"id",options:He.value,label:"name",placeholder:"Select Labour Type",searchable:!0,required:!0,multiple:!1,"selected-label":"","select-label":"","deselect-label":"",onInput:tt},null,8,["modelValue","options"]),0===He.value.length?((0,o.wg)(),(0,o.iD)("div",ge," Loading labour types... ")):(0,o.kq)("",!0)]),(0,o._)("div",me,[we,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"task","onUpdate:modelValue":t[4]||(t[4]=e=>Ue.value.task=e)},null,512),[[s.nr,Ue.value.task]])]),(0,o._)("div",ke,[je,(0,o.wy)((0,o._)("input",{type:"number",class:"form-control",id:"quantity","onUpdate:modelValue":t[5]||(t[5]=e=>Ue.value.quantity=e)},null,512),[[s.nr,Ue.value.quantity]])]),(0,o._)("div",xe,[qe,(0,o.wy)((0,o._)("input",{type:"number",class:"form-control",id:"rate","onUpdate:modelValue":t[6]||(t[6]=e=>Ue.value.rate=e),readonly:""},null,512),[[s.nr,Ue.value.rate]]),Ce])])):(0,o.kq)("",!0),"labour_request_list"===De.value?((0,o.wg)(),(0,o.iD)("div",Se,[(0,o._)("div",Ee,[Le,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"labour_id","onUpdate:modelValue":t[7]||(t[7]=e=>Ue.value.labour_id=e)},null,512),[[s.nr,Ue.value.labour_id]])]),(0,o._)("div",Re,[Te,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"labour_name","onUpdate:modelValue":t[8]||(t[8]=e=>Ue.value.labour_name=e)},null,512),[[s.nr,Ue.value.labour_name]])])])):(0,o.kq)("",!0)]),(0,o._)("div",{class:"modal-footer"},[Ae,(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:We},"Save changes")])])])])])}}},Ue=a(83744);const Oe=(0,Ue.Z)(Ne,[["__scopeId","data-v-4678719e"]]);var De=Oe}}]);
//# sourceMappingURL=2404.4e016e2d.js.map