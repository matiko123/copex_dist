"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[7994],{67994:function(e,a,t){t.r(a),t.d(a,{default:function(){return ao}});t(26699);var l=t(66252),s=t(3577),n=t(2262),o=t(49963),i=t(87066),d=t(26212),u=t.n(d),r=t(56296);const c=e=>((0,l.dD)("data-v-644bea29"),e=e(),(0,l.Cn)(),e),v={class:"layout-px-spacing"},m=(0,l.uE)('<ul class="navbar-nav flex-row" data-v-644bea29><li data-v-644bea29><div class="page-header" data-v-644bea29><nav class="breadcrumb-one" aria-label="breadcrumb" data-v-644bea29><ol class="breadcrumb" data-v-644bea29><li class="breadcrumb-item" data-v-644bea29><a href="javascript:;" data-v-644bea29>Budgets </a></li></ol></nav></div></li></ul>',1),b={key:0,class:"text-center"},p={key:1,class:"text-center"},_={class:"d-flex justify-content-between align-items-center"},g={class:"flex-grow-1 text-center"},y={style:{overflow:"visible"}},h={class:"d-flex table-responsive",style:{overflow:"visible"}},f={class:"mb-2 ms-auto d-flex align-items-center gap-2",style:{overflow:"visible"}},w={class:"offcanvas offcanvas-end","data-bs-scroll":"true",tabindex:"-1",id:"offcanvasWithBothOptions","aria-labelledby":"offcanvasWithBothOptionsLabel"},k=c((()=>(0,l._)("div",{class:"offcanvas-header"},[(0,l._)("h5",{class:"offcanvas-title",id:"offcanvasWithBothOptionsLabel"},"PROJECT LISTS"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1))),x={class:"offcanvas-body"},S={class:"row"},C={class:"col-12"},U=["id","href","aria-controls","onClick"],D={class:"offcanvas offcanvas-bottom","data-bs-scroll":"true",tabindex:"-1",id:"budgetOffcanvas","aria-labelledby":"budgetOffcanvasLabel"},q=c((()=>(0,l._)("div",{class:"offcanvas-header"},[(0,l._)("h5",{class:"offcanvas-title",id:"budgetOffcanvasLabel"},"BUDGET LISTS"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1))),H={class:"offcanvas-body"},L={class:"row"},B={class:"col-12"},M={class:"list-group",id:"list-tab",role:"tablist"},z=["id","href","aria-controls","onClick"],T=["innerHTML"],A={class:"d-flex mb-2 me-1"},V={class:"ms-auto"},j={key:0,class:"btn","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasWithBothOptions","aria-controls":"offcanvasWithBothOptions"},N=c((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-list-ul",viewBox:"0 0 16 16"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"})],-1))),R=[N],O={key:1},E={key:0},I=["innerHTML"],$={key:1,class:"accordion"},P={key:0,class:"d-flex mb-2 me-1"},W=c((()=>(0,l._)("div",{class:"ms-auto"},[(0,l._)("button",{class:"btn btn-outline-primary","data-bs-toggle":"offcanvas","data-bs-target":"#budgetOffcanvas","aria-controls":"budgetOffcanvas"}," View Budgets ")],-1))),F=[W],Q={key:1,class:"accordion-content"},Y=["onClick"],G=["onClick"],J={key:1},K=c((()=>(0,l._)("h6",{class:"mt-1 text-success"},"Please Select a project from the list",-1))),X=[K],Z={key:0,class:"d-flex flex-column align-items-center"},ee={class:"row"},ae={class:"col-md-5"},te={class:"col-md-4"},le={class:"col-md-3"},se={class:"col-md-12"},ne={class:"col-md-12"},oe={class:"d-flex justify-content-center mt-2"},ie=["disabled"],de=["innerHTML"],ue={key:1},re=(0,l.Uk)("     "),ce={key:0,class:"d-flex justify-content-center my-4"},ve={class:"budget-status-card-container mt-3 col-md-6"},me={class:"card-header d-flex justify-content-between align-items-center"},be={class:"card-title mb-0 text-center w-100"},pe={class:"card-body"},_e={class:"card-text fs-5 text-start"},ge={key:0,class:"mt-4"},ye=c((()=>(0,l._)("h5",{class:"fs-5 text-dark text-start"},"Remarks:",-1))),he={class:"remarks-text fs-5 text-start"},fe={key:1},we={class:"table-responsive"},ke={key:0,class:"table table-bordered table-responsive table-striped"},xe=c((()=>(0,l._)("tr",null,[(0,l._)("a",{href:"javascript:;",class:"edit me-3","data-bs-toggle":"modal","data-bs-target":"#allocation-modal"},[(0,l._)("th",{class:"text-dark fw-bold"},"ALLOCATED")]),(0,l._)("th",{class:"text-success"},"BALANCE"),(0,l._)("th",{class:"text-danger"},"UNALLOCATED"),(0,l._)("th",{class:"text-dark"},"BUDGETED"),(0,l._)("th",{class:"text-dark"},"USED"),(0,l._)("th",{class:"text-dark"},"STATUS")],-1))),Se={href:"javascript:;",class:"edit me-3","data-bs-toggle":"modal","data-bs-target":"#allocation-modal"},Ce={colspan:"6"},Ue={class:"modal fade mymodal",id:"allocation-modal","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"editConversionFactorModalLabel","aria-hidden":"true"},De={class:"modal-dialog modal-xl"},qe={class:"modal-content"},He={class:"modal-header"},Le={class:"modal-title fs-5",id:"editConversionFactorModalLabel"},Be=c((()=>(0,l._)("button",{class:"btn btn-primary"},"view",-1))),Me={class:"modal-body"},ze={class:"row g-2"},Te={class:"col-md-6"},Ae={for:"funded amount"},Ve={class:"col-md-6"},je=c((()=>(0,l._)("label",{for:"funded date"},"Date",-1))),Ne={class:"col-md-12"},Re=c((()=>(0,l._)("label",{for:"purpose"},"Purpose",-1))),Oe={class:"modal-footer"},Ee=["disabled"],Ie=["innerHTML"],$e={key:1},Pe={key:0,class:"d-flex"},We={class:"ms-auto"},Fe={class:"btn-group"},Qe=c((()=>(0,l._)("button",{type:"button",class:"btn btn-outline-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"}," Actions ",-1))),Ye={class:"dropdown-menu"},Ge={key:0,class:"dropdown-item",href:"javascript:void(0);","data-bs-toggle":"modal","data-bs-target":"#amendments"},Je=c((()=>(0,l._)("li",null,[(0,l._)("hr",{class:"dropdown-divider"})],-1))),Ke=(0,l.Uk)("LPO and Vouchers"),Xe={key:0,class:"d-flex flex-wrap gap-2 mb-2 mt-4 justify-content-end align-items-center"},Ze={class:"btn-group flex-wrap",style:{gap:"8px"}},ea=c((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),aa=(0,l.Uk)("  Print Budget "),ta=[ea,aa],la=c((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),sa=(0,l.Uk)("  Print With Consumption "),na=[la,sa],oa={key:3,class:"btn btn-info mt-2","data-bs-toggle":"modal","data-bs-target":"#amendments"},ia=["disabled"],da=["innerHTML"],ua={key:1},ra=["disabled"],ca=["innerHTML"],va={key:1},ma=(0,l.Uk)("LPO and Vouchers"),ba={class:"d-flex"},pa={class:"ms-auto mb-2"},_a={key:2,class:"table-responsive shadow-lg"},ga={class:"row mt-2 justify-content-center g-2"},ya={class:"col-md-6"},ha={class:"input-group"},fa={type:"submit",class:"btn btn-primary"},wa=["innerHTML"],ka={key:1},xa={class:"table-responsive"},Sa={class:"table table-bordered mt-5"},Ca=c((()=>(0,l._)("thead",{class:"thead-light"},[(0,l._)("tr",null,[(0,l._)("th",null,"Sno:"),(0,l._)("th",null,"Item"),(0,l._)("th",null,"Description")])],-1))),Ua={class:"table table-bordered table-responsive mt-5"},Da=c((()=>(0,l._)("thead",{class:"thead-light",style:{position:"sticky",top:"0",background:"white","z-index":"5"}},[(0,l._)("tr",null,[(0,l._)("th",null,"Sno:"),(0,l._)("th",null,"Item"),(0,l._)("th",null,"Specification"),(0,l._)("th",null,"Units"),(0,l._)("th",{class:"text-nowrap"},"Qty 1"),(0,l._)("th",{class:"text-nowrap"},"Qty 2"),(0,l._)("th",null,"Rate"),(0,l._)("th",null,"Cost"),(0,l._)("th")])],-1))),qa=["onClick"],Ha=c((()=>(0,l._)("br",null,null,-1))),La=["onClick"],Ba=c((()=>(0,l._)("br",null,null,-1))),Ma=c((()=>(0,l._)("br",null,null,-1))),za=c((()=>(0,l._)("hr",{style:{"border-top":"1px solid red"}},null,-1))),Ta=c((()=>(0,l._)("br",null,null,-1))),Aa=["onClick"],Va=c((()=>(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1))),ja=c((()=>(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1))),Na=[Va,ja],Ra=["onClick"],Oa=c((()=>(0,l._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1))),Ea=c((()=>(0,l._)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1))),Ia=[Oa,Ea],$a={colspan:"9",style:{"text-align":"right"}},Pa=["onClick"],Wa={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus-square"},Fa=c((()=>(0,l._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1))),Qa=c((()=>(0,l._)("line",{x1:"12",y1:"8",x2:"12",y2:"16"},null,-1))),Ya=c((()=>(0,l._)("line",{x1:"8",y1:"12",x2:"16",y2:"12"},null,-1))),Ga=[Fa,Qa,Ya],Ja=(0,l.Uk)(" close "),Ka=["onSubmit"],Xa={class:"row"},Za={class:"col-md-2"},et=c((()=>(0,l._)("label",{class:"form-label"},"Item ",-1))),at={class:"col-md-2"},tt=c((()=>(0,l._)("label",{class:"form-label"},"Specification ",-1))),lt={class:"col-md-2"},st=c((()=>(0,l._)("label",{class:"form-label"},"Unit",-1))),nt={class:"col-md-1"},ot=c((()=>(0,l._)("label",{class:"form-label"},"Quantity",-1))),it={class:"col-md-1"},dt=c((()=>(0,l._)("label",{class:"form-label"},"quantity_2",-1))),ut={class:"col-md-1"},rt=c((()=>(0,l._)("label",{class:"form-label"},"Rate",-1))),ct={class:"col-md-1"},vt=c((()=>(0,l._)("label",{class:"form-label"},"Cost",-1))),mt={class:"form-control"},bt={class:"col-md-1"},pt=c((()=>(0,l._)("label",{class:"form-label"},"Save",-1))),_t={class:"btn-group",role:"group"},gt=["disabled"],yt=["innerHTML"],ht={key:1},ft={class:"row"},wt={class:"col-md-2"},kt=c((()=>(0,l._)("label",{class:"form-label"},"Item ",-1))),xt={class:"col-md-2"},St=c((()=>(0,l._)("label",{class:"form-label"},"Specification ",-1))),Ct={class:"col-md-2"},Ut=c((()=>(0,l._)("label",{class:"form-label"},"Unit",-1))),Dt={class:"col-md-1"},qt=c((()=>(0,l._)("label",{class:"form-label"},"Quantity",-1))),Ht={class:"col-md-1"},Lt=c((()=>(0,l._)("label",{class:"form-label"},"Quantity_2",-1))),Bt={class:"col-md-1"},Mt=c((()=>(0,l._)("label",{class:"form-label"},"Rate",-1))),zt={class:"col-md-1"},Tt=c((()=>(0,l._)("label",{class:"form-label"},"Cost",-1))),At={class:"form-control"},Vt={class:"col-md-1"},jt=c((()=>(0,l._)("label",{class:"form-label"},"Save",-1))),Nt={class:"btn-group",role:"group"},Rt=["disabled"],Ot=["innerHTML"],Et={key:1},It=c((()=>(0,l._)("td",{colspan:"2",class:"text-start fw-bold"}," SUMMARY ",-1))),$t={class:"table table-bordered table-responsive table-striped"},Pt=c((()=>(0,l._)("tr",null,[(0,l._)("th",{class:"text-dark fw-bold"},"ALLOCATED "),(0,l._)("th",{class:"text-success"},"BALANCE"),(0,l._)("th",{class:"text-danger"},"UNALLOCATED"),(0,l._)("th",{class:"text-dark"},"BUDGETED"),(0,l._)("th",{class:"text-dark"},"USED")],-1))),Wt={class:"modal fade mymodal",id:"consuptions","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ft={class:"modal-dialog modal-fullscreen modal-dialog-scrollable"},Qt={class:"modal-content"},Yt={class:"modal-header"},Gt=c((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Budget Consumption Remarks",-1))),Jt={class:"modal-body flex-grow-1 overflow-auto"},Kt={class:"table table-bordered table-responsive mb-3"},Xt=c((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{colspan:"8",class:"bg-light text-center text-dark fs-6"},"Budget Details")])],-1))),Zt=c((()=>(0,l._)("th",null,"Project:",-1))),el=c((()=>(0,l._)("th",null,"Budget Name:",-1))),al=c((()=>(0,l._)("th",null,"Budget Item:",-1))),tl=c((()=>(0,l._)("th",null,"Description:",-1))),ll=c((()=>(0,l._)("th",null,"Allocated Amount:",-1))),sl=c((()=>(0,l._)("th",null,"Budget Cost:",-1))),nl=c((()=>(0,l._)("th",null,"Used Cost:",-1))),ol=c((()=>(0,l._)("th",null,"Balance:",-1))),il={key:0,class:"d-flex"},dl={class:"ms-auto"},ul={class:"row"},rl={class:"col-md-2"},cl={class:"col-md-8"},vl={class:"col-md-2"},ml={class:"btn-group w-100",role:"group"},bl=["disabled"],pl=["innerHTML"],_l={key:1},gl={class:"row layout-top-spacing"},yl={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},hl=["innerHTML"],fl={key:1,class:"panel p-0"},wl={class:"custom-table table3",style:{"max-height":"95vh","overflow-y":"auto"}},kl=["onClick"],xl=c((()=>(0,l._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1))),Sl=c((()=>(0,l._)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1))),Cl=[xl,Sl],Ul=c((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-arrow-right",style:{cursor:"pointer"},viewBox:"0 0 16 16"},[(0,l._)("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"})],-1))),Dl={class:"modal-footer"},ql={class:"modal fade mymodal",id:"edits","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Hl={class:"modal-dialog modal-xl modal-dialog-scrollable"},Ll={class:"modal-content"},Bl={class:"modal-header"},Ml=c((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Budget Item Editing Record",-1))),zl={class:"modal-body flex-grow-1 overflow-auto"},Tl={class:"row layout-top-spacing"},Al={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},Vl=["innerHTML"],jl={key:1,class:"panel p-0"},Nl={class:"custom-table table3"},Rl={class:"modal-footer"},Ol={class:"modal fade mymodal",id:"amendments","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},El={class:"modal-dialog modal-fullscreen modal-dialog-scrollable"},Il={class:"modal-content"},$l={class:"modal-header"},Pl=c((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Budget Amendment Request",-1))),Wl={class:"modal-body flex-grow-1 overflow-auto"},Fl={class:"row"},Ql={class:"col-md-2"},Yl=c((()=>(0,l._)("label",{class:"form-label"},"Item ",-1))),Gl={class:"col-md-2"},Jl=c((()=>(0,l._)("label",{class:"form-label"},"Unit",-1))),Kl={class:"col-md-1"},Xl=c((()=>(0,l._)("label",{class:"form-label"},"Quantity",-1))),Zl={class:"col-md-1"},es=c((()=>(0,l._)("label",{class:"form-label"},"quantity_2",-1))),as={class:"col-md-2"},ts=c((()=>(0,l._)("label",{class:"form-label"},"Rate",-1))),ls={class:"col-md-2"},ss=c((()=>(0,l._)("label",{class:"form-label"},"Cost",-1))),ns={class:"form-control"},os=c((()=>(0,l._)("div",{class:"col-md-1"},[(0,l._)("label",{class:"form-label"},"Save"),(0,l._)("button",{type:"submit",class:"btn btn-primary"},[(0,l._)("span",null," Add ")])],-1))),is={class:"row layout-top-spacing"},ds={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},us=["innerHTML"],rs={key:1,class:"panel p-0"},cs={class:"custom-table table3",style:{"max-height":"95vh","overflow-y":"auto"}},vs=["onClick"],ms=c((()=>(0,l._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1))),bs=c((()=>(0,l._)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1))),ps=[ms,bs],_s={class:"modal-footer"},gs=["disabled"],ys=["innerHTML"],hs={key:1},fs={class:"modal fade mymodal",id:"amendment-requests","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ws={class:"modal-dialog modal-fullscreen modal-dialog-scrollable"},ks={class:"modal-content"},xs={class:"modal-header"},Ss=c((()=>(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Budget Amendment Request List",-1))),Cs={class:"modal-body flex-grow-1 overflow-auto"},Us={class:"row layout-top-spacing"},Ds={class:"col-xl-6 col-lg-12 col-sm-12 layout-spacing"},qs=["innerHTML"],Hs={key:1,class:"panel p-0"},Ls={class:"custom-table table3"},Bs={key:0,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-check2-circle",viewBox:"0 0 16 16"},Ms=c((()=>(0,l._)("path",{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0"},null,-1))),zs=c((()=>(0,l._)("path",{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"},null,-1))),Ts=[Ms,zs],As=["onClick"],Vs=c((()=>(0,l._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1))),js=[Vs],Ns={class:"col-xl-6 col-lg-12 col-sm-12 layout-spacing"},Rs={key:0,class:"card border-danger shadow-sm my-3"},Os=c((()=>(0,l._)("div",{class:"card-header bg-danger text-white"},[(0,l._)("strong",null,"Amendment Rejected")],-1))),Es={class:"card-body text-start"},Is=c((()=>(0,l._)("strong",null,"Rejected By:",-1))),$s=c((()=>(0,l._)("strong",null,"Reason:",-1))),Ps=["innerHTML"],Ws={key:2,class:"panel p-0"},Fs={class:"custom-table table3"},Qs={class:"modal-footer"},Ys={class:"modal fade mymodal",id:"budgetApprovals","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Gs={class:"modal-dialog modal-fullscreen"},Js={class:"modal-content"},Ks={class:"modal-header"},Xs=c((()=>(0,l._)("div",{class:"d-flex justify-content-center my-3"},null,-1))),Zs={class:"modal-body flex-grow-1 overflow-auto"},en={class:"row layout-top-spacing"},an={class:"col-xl-6 col-lg-12 col-sm-12 layout-spacing"},tn={class:"panel p-0"},ln={class:"custom-table table3",style:{"max-height":"600px","overflow-y":"auto"}},sn=["innerHTML"],nn=["onClick"],on={key:0,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-check2-circle",viewBox:"0 0 16 16"},dn=c((()=>(0,l._)("path",{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0"},null,-1))),un=c((()=>(0,l._)("path",{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"},null,-1))),rn=[dn,un],cn={key:1,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-circle",viewBox:"0 0 16 16"},vn=c((()=>(0,l._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1))),mn=[vn],bn={class:"col-xl-6 col-lg-12 col-sm-12 layout-spacing"},pn={key:0,class:"card mt-2 shadow p-3 border-0"},_n={class:"mb-0 text-white"},gn={class:"card-body py-3"},yn={class:"text-start mb-2"},hn=c((()=>(0,l._)("strong",null,"Requested by:",-1))),fn={class:"text-start mb-2"},wn=c((()=>(0,l._)("strong",null,"Description:",-1))),kn={key:0,class:"text-start mb-0"},xn=c((()=>(0,l._)("strong",null,"Rejection remark:",-1))),Sn={class:"modal-footer"},Cn={class:"modal fade mymodal",id:"edit","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Un={class:"modal-dialog modal-xl"},Dn={class:"modal-content"},qn={class:"modal-header"},Hn={class:"modal-title fs-5",id:"staticBackdropLabel"},Ln=c((()=>(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close_modal"},null,-1))),Bn={class:"modal-body"},Mn={class:"row"},zn={class:"col-md-12"},Tn=c((()=>(0,l._)("label",{class:"form-label"},"Enter Any Remark ",-1))),An={class:"col-md-2"},Vn=c((()=>(0,l._)("label",{class:"form-label"},"Quantity",-1))),jn={class:"col-md-2"},Nn=c((()=>(0,l._)("label",{class:"form-label"},"Quantity_2",-1))),Rn={class:"col-md-3"},On=c((()=>(0,l._)("label",{class:"form-label"},"Rate",-1))),En={class:"col-md-3"},In=c((()=>(0,l._)("label",{class:"form-label"},"Cost",-1))),$n={class:"form-control"},Pn={class:"col-md-1"},Wn=c((()=>(0,l._)("label",{class:"form-label"},"Save",-1))),Fn={class:"btn-group",role:"group"},Qn=["disabled"],Yn=["innerHTML"],Gn={key:1},Jn=c((()=>(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm py-2 px-2","data-bs-dismiss":"modal",id:"close_modal"},"Close")],-1))),Kn=c((()=>(0,l._)("button",{"data-bs-toggle":"modal","data-bs-target":"#edit",style:{display:"none"},id:"edit_button"},null,-1)));var Xn={setup(e){const a=JSON.parse(localStorage.getItem("user")).permissions,t=JSON.parse(localStorage.getItem("user")).id;(0,r.j)({title:"Budgets "});const d=(0,n.iH)([""]),c=(0,n.iH)(""),N=(0,n.iH)(!1),W=(0,l.f3)("showError"),K=(0,l.f3)("formatNumber"),ea=(0,l.f3)("showMessage"),aa=(0,l.f3)("pillShimmer"),la=(0,l.f3)("tableShimmer"),sa=(0,l.f3)("waitIndicator"),Va=(0,l.f3)("loadingSpinner"),ja=(0,l.f3)("printBudget"),Oa=i.Z.create({baseURL:"https://bushman.ink/api/v1/"}),Ea=(0,n.iH)(!0),Fa=(0,n.iH)([]),Qa=(0,n.iH)(""),Ya=(0,n.iH)(!1),xl=(0,n.iH)(!1),Sl=(0,n.iH)(""),ms=(0,n.iH)(""),bs=(0,n.iH)(""),Ms=(0,n.iH)([]),zs=(0,n.iH)([]),Vs=["Sno","editor","remark","quantity","quantity_2","rate","cost"],dn=async e=>{ai.value=!0;const a=await Oa.get(`budget-edit-logs?description_id=${e}`);zs.value=a.data.map(((e,a)=>({...e,Sno:a+1,editor:e.editor.name,quantity:e.from_quantity+"➡️"+e.to_quantity,quantity_2:e.from_quantity_2+"➡️"+e.to_quantity_2,rate:K(e.from_rate)+" ➡️ "+K(e.to_rate),cost:K(e.from_quantity*e.from_quantity_2*e.from_rate)+" ➡️ "+K(e.to_quantity*e.to_quantity_2*e.to_rate)}))),ai.value=!1},un=async e=>{ai.value=!0,ms.value=bs.value;const a={budget_item_description_id:e,from_quantity:To.value.quantity,to_quantity:$o.value,from_quantity_2:To.value.quantity_2,to_quantity_2:Po.value,from_rate:To.value.cost,to_rate:Fo.value,remark:ko.value,editor_id:JSON.parse(localStorage.getItem("user")).id};try{await Oa.post("budget-edit-logs",a);const t=JSON.parse(localStorage.getItem("user")),l=Qa.value.items.find((a=>a.descriptions.some((a=>a.id===e))));if(l){const a=l.descriptions.find((a=>a.id===e));a&&(a.last_editor=t.name)}Xo()}catch(t){W(t.message),console.log(t)}finally{ai.value=!1}},vn=(0,n.iH)(!1),Xn=(0,n.iH)(""),Zn=(0,n.iH)(""),eo=(0,n.iH)(""),ao=async()=>{ai.value=!0;const e={budget_id:Qa.value.id,issuer_id:JSON.parse(localStorage.getItem("user")).id,amount:Xn.value,description:Zn.value,date:eo.value};try{await Oa.post("budget-allocations",e);await to(),ea("Fund added successfully"),document.getElementById("close-allocation").click(),_i(),lo()}catch(a){W(a.message),console.log(a)}finally{ai.value=!1,vn.value=!1}},to=async()=>{ai.value=!0;const e={funded_amount:Qa.value.funded_amount+Xn.value};try{await Oa.put(`budgets/${Qa.value.id}`,e);Qa.value.funded_amount=Number(Qa.value.funded_amount)+Number(Xn.value)}catch(a){W(a.message),console.log(a)}finally{ai.value=!1,vn.value=!1}},lo=()=>{Xn.value="",Zn.value="",eo.value=""},so=(0,n.iH)(""),no=e=>{so.value=e,oo.value=e.items.map(((e,a)=>({...e,sno:a+1,qty:e.quantity,qty2:e.quantity_2,sum:e.quantity*e.quantity_2,cost:(e.quantity*e.quantity_2*e.rate).toLocaleString()+"/=",rate:Number(e.rate).toLocaleString()+"/="})))},oo=(0,n.iH)([]),io=(0,n.iH)([]),uo=["sno","requester","status","date","select"],ro=["sno","description","unit","qty","qty2","sum","rate","cost"],co=(0,n.iH)([]),vo=["sno","description","unit","quantity","quantity_2","rate","cost","actions"],mo=()=>{Eo.value="",$o.value="",Po.value="",Wo.value="",Fo.value="",Qo.value=""},bo=async()=>{ai.value=!0;const e=await Oa.get(`budget-amendments?budget_id=${Qa.value.id}`);io.value=e.data.map(((e,a)=>({...e,sno:a+1,requester:e.requester.name}))),ai.value=!1},po=()=>{oo.value=[],co.value=[],Ea.value=!0,so.value=""},_o=(0,n.iH)(1),go=()=>{const e={sno:_o.value,description:Eo.value,quantity:$o.value,quantity_2:Po.value,rate:Fo.value.toLocaleString()+"/=",unit:Wo.value.short_name,cost:($o.value*Po.value*Fo.value).toLocaleString()+"/="},a={sno:_o.value,description:Eo.value,quantity:$o.value,quantity_2:Po.value,unit:Wo.value.short_name,rate:Fo.value};oo.value.push(e),co.value.push(a),_o.value+=1,mo()},yo=e=>{oo.value=oo.value.filter((a=>a.sno!==e)),co.value=co.value.filter((a=>a.sno!==e)),oo.value.forEach(((e,a)=>{e.sno=a+1,_o.value=e.sno+1})),co.value.forEach(((e,a)=>{e.sno=a+1,_o.value=e.sno+1}))},ho=async()=>{ai.value=!0;const e={items:co.value,amendment:{requester_id:JSON.parse(localStorage.getItem("user")).id,budget_id:Qa.value.id}};try{await Oa.post("budget-amendments",e);ea("Amendment sent"),Ea.value=!1}catch(a){W(a.message),console.log(a)}finally{ai.value=!1}},fo=async e=>{ai.value=!0;const a={status:e};try{const t=await Oa.put(`budgets/${Qa.value.id}`,a);ea("budget "+e),Qa.value.status=t.data.status}catch(t){W(t.message),console.log(t)}finally{ai.value=!1}},wo=(0,n.iH)(""),ko=(0,n.iH)(""),xo=(0,n.iH)(""),So=(0,n.iH)(!1),Co=async()=>{ai.value=!0;try{const e={date:(new Date).toISOString().split("T")[0],remarker_id:JSON.parse(localStorage.getItem("user")).id,approval_id:wo.value,description:ko.value+"This was created from LPO No: "+wo.value,budget_item_description_id:zo.value,cost:xo.value},a=await Oa.post("budget-remarks",e),t=a.data;let l=parseFloat(To.value.quantity*To.value.quantity_2*To.value.cost);To.value.used_cost=(parseFloat(To.value.used_cost||0)+parseFloat(t.cost)).toFixed(2),Qa.value.total_used_cost=Qa.value.total_used_cost+t.cost,qo.value=[...qo.value,{sno:qo.value.length+1,id:t.id,approved_by:JSON.parse(localStorage.getItem("user")).name,date:t.date,debit:t.cost>0?Number(t.cost).toLocaleString()+" Tsh":"--",credit:t.cost<0?Number(Math.abs(t.cost)).toLocaleString()+" Tsh":"--",description:t.description,balance:0}],qo.value=qo.value.map(((e,a)=>(l-=parseFloat(e.debit.replace(/[^0-9.-]+/g,""))||0,{...e,sno:a+1,balance:l.toLocaleString()+" Tsh"}))),Mo(To.value),ea("Remark added successfully"),ko.value="",xo.value="",wo.value="",So.value=""}catch(e){W(e.message)}finally{ai.value=!1}},Uo=(0,l.f3)("showConfirmation"),Do=async(e,a)=>{Uo("Delete Record","Are you sure you want to delete "+e.description+" with cost "+e.debit,`budget-remarks/${e.id}`,"delete");const t=parseFloat(e.debit.replace(/[^0-9.-]+/g,""))||0;a.used_cost=(parseFloat(a.used_cost)-t).toFixed(2),Qa.value.total_used_cost=(parseFloat(Qa.value.total_used_cost)-t).toFixed(2),qo.value=qo.value.filter((a=>a.id!==e.id));let l=parseFloat(a.quantity*a.quantity_2*a.cost);qo.value=qo.value.map(((e,a)=>(l-=parseFloat(e.debit.replace(/[^0-9.-]+/g,""))||0,{...e,sno:a+1,balance:l.toLocaleString()+" Tsh"})))},qo=(0,n.iH)([]),Ho=["sno","approved_by","date","description","debit","credit","balance","actions"],Lo=(0,n.iH)(0),Bo=(0,n.iH)(""),Mo=async(e,a)=>{qo.value=[],ai.value=!0,Bo.value=a.name,Lo.value=parseFloat(e.quantity*e.quantity_2*e.cost);const t=await Oa.get(`budget-remarks?budget_item_description_id=${e.id}`);qo.value=t.data.map(((e,a)=>(Lo.value-=parseFloat(e.cost),{...e,sno:a+1,id:e.id,approved_by:e.remarker.name,date:e.date,debit:e.cost>0?Number(e.cost).toLocaleString()+" Tsh":"--",credit:e.cost<0?Number(Math.abs(e.cost)).toLocaleString()+" Tsh":"--",description:e.description,balance:Lo.value.toLocaleString()+" Tsh"}))),ai.value=!1},zo=(0,n.iH)(""),To=(0,n.iH)(""),Ao=(0,n.iH)(0),Vo=(0,n.iH)(!1),jo=(e,t)=>{if(To.value=e,zo.value=e.id,"open"===Qa.value.status){if(!a.includes("can_edit_budget")||0!=Vo.value)return Ao.value+=1,void(Ao.value>3&&(W("Access Denied"),Ao.value=0));bs.value=t,document.getElementById("edit_button").click()}else ms.value=t;Eo.value=e.name,Io.value=e.specification||"",$o.value=e.quantity,Po.value=e.quantity_2,Fo.value=e.cost,Wo.value=Ro.value.find((a=>a.short_name===e.units))},No=async e=>{if(ko.value=Eo.value,ai.value=!0,!Wo.value&&!bs.value)return W("Please fill all items"),void(ai.value=!1);const a={id:e,name:Eo.value,specification:Io.value,quantity:$o.value??0,quantity_2:Po.value??0,...Wo.value?.short_name&&{units:Wo.value.short_name},cost:Fo.value??0};try{await Oa.put(`budget-item-descriptions/${e}`,a);document.getElementById("close_modal").click(),ea("Updated Successfully"),"open"===Qa.value.status&&(ms.value=bs.value);const t=Ms.value.find((e=>e.id===ms.value));if(t&&t.descriptions){const l=t.descriptions.findIndex((a=>a.id===e));if(-1!==l){const e=t.descriptions[l].cost*t.descriptions[l].quantity*t.descriptions[l].quantity_2,s=a.cost*a.quantity*a.quantity_2;t.descriptions[l]={...t.descriptions[l],...a},Qa.value.total_cost=Qa.value.total_cost-e+s}}"open"===Qa.value.status&&await un(e),Xo()}catch(t){W(t.message),console.log(t)}finally{ai.value=!1}},Ro=(0,n.iH)(""),Oo=async()=>{const e=await Oa.get("units");Ro.value=e.data},Eo=(0,n.iH)(""),Io=(0,n.iH)(""),$o=(0,n.iH)(""),Po=(0,n.iH)(""),Wo=(0,n.iH)(""),Fo=(0,n.iH)(""),Qo=(0,n.iH)(0),Yo=async e=>{if(!Wo.value)return void W("please enter unit");ai.value=!0;const a={budget_item_id:Sl.value,name:Eo.value,specification:Io.value,quantity:$o.value??0,quantity_2:Po.value??0,units:Wo.value.short_name,cost:Fo.value??0};try{await Oa.post("budget-item-descriptions",a);ea("Description added successfully");const e=Ms.value.find((e=>e.id===Sl.value));e&&(e.descriptions=e.descriptions||[],e.descriptions.push(a)),Xo(),_i()}catch(t){W(t.message),console.log(t)}finally{ai.value=!1}},Go=(0,n.iH)(""),Jo=async()=>{ai.value=!0;const e={budget_id:Qa.value.id,name:Go.value};try{const a=await Oa.post("budget-items",e);ea("Item Added successfully"),Ms.value.push(a.data),_i(),Go.value="",xl.value=!1}catch(a){W(a.message),console.log(a)}finally{ai.value=!1}},Ko=async e=>{const a=bi.value.find((a=>a.budget_id===e.id));if(!a||"Rejected"!==a.status?.name&&"Unapproved"!==a.status?.name)W("Can only delete rejected or unapproved budgets");else if(confirm("are you sure you want to delete budget "+e.name))try{Ya.value=!0,await Oa.delete(`budgets/${e.id}`),ea("Budget Deleted"),_i()}catch(t){W(t.message),console.log(t)}},Xo=()=>{Zo.value="",wo.value="",N.value=!1,Go.value="",xl.value=!1,Eo.value="",$o.value="",Po.value="",Wo.value="",Fo.value="",Qo.value="",Sl.value="",zo.value="",ms.value="",xo.value="",ko.value="",So.value="",bs.value="",ko.value="",Io.value="",Vo.value=!1,Ci.value=[],Ui.value="",N.value=!1,ti.value="",ei.value=""},Zo=((0,n.iH)(""),(0,n.iH)("")),ei=(0,n.iH)(""),ai=(0,n.iH)(!1),ti=(0,n.iH)(""),li=async()=>{if(0==Ui.value.length)return void W("Select atleast one budget line");ai.value=!0;const e={name:Zo.value,description:ei.value,project_id:c.value.id,section_length:ti.value,unit:Wo.value.short_name,boq_lines:Ui.value};try{const a=await Oa.post("budgets",e),t=a.data.id,l={budget_id:t,project_name:c.value.short_name,status_id:2,requester_id:JSON.parse(localStorage.getItem("user")).id};await Oa.post("budget-approvals",l),ea("Budget Added and Approval Created"),_i(),pi(),Xo()}catch(a){W(a.message),console.log(a)}finally{ai.value=!1}},si=(0,n.iH)(!1),ni=(0,n.iH)("danger"),oi=(0,n.iH)(""),ii=(0,n.iH)(""),di=(0,n.iH)(""),ui=(0,n.iH)(!1),ri=e=>{ui.value=!1;const a=bi.value.find((a=>a.budget_id===e.id));a?"approved"===a.status?.name?(Qa.value=e,Ms.value=e.items,si.value=!1,console.log("Budget data loaded successfully")):"Unapproved"===a.status?.name?(si.value=!0,ni.value="warning",oi.value="Budget Unapproved",ii.value="This budget is pending approval and cannot be accessed yet.",di.value=a.remark||"No remarks provided.",Qa.value=e,Ms.value=[]):"Rejected"===a.status?.name&&(si.value=!0,ni.value="danger",oi.value="Budget Rejected",ii.value="This budget has been rejected and cannot be accessed.",di.value=a.remark||"No rejection remarks provided.",Qa.value=e,Ms.value=[]):(Qa.value=e,Ms.value=e.items,si.value=!1)},ci=(0,n.iH)(null),vi=e=>{ci.value=e},mi=(0,n.iH)(["Sno","budget_name","project_name","date_created","status","actions"]),bi=(0,n.iH)([]),pi=async()=>{ai.value=!0;const e=await Oa.get("budget-approvals");bi.value=e.data.map(((e,a)=>({...e,Sno:a+1,budget_name:e.budget?.name||"N/A",project:e.budget?.project_id||"N/A",project_name:e.budget?.project?.short_name,requester:e.user.name||"N/A",remark:e.remark||"No rejection remark",description:e.budget?.description||"N/A",date_created:new Date(e.created_at).toLocaleDateString(),status:{name:e.status?.name||"N/A",color:e.status?.color||"default"}}))),ai.value=!1},_i=async()=>{Fa.value=[],Ya.value=!0;try{const e=await Oa.get(`budgets?project_id=${c.value.id}`);Fa.value=e.data}catch(e){W(e.message),console.log(e)}finally{Ya.value=!1}},gi=async()=>{await pi(),await _i()};gi(),(0,l.YP)(c,(e=>{e&&e.id&&(Qa.value="",_i(),Xo())})),(0,l.YP)(Qa,(e=>{e&&(Ms.value=e.items)}));(0,n.iH)({perPage:10,perPageValues:[5,10,20,50],skin:"table table-hover",columnsClasses:{actions:"actions text-center"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},sortable:["SNo","date_issued","fuel_issued"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},resizableColumns:!1,searchable:!0});const yi=async()=>{try{const e=await Oa.get("projects?company_id=6&status=active");d.value=e.data.filter((e=>"YES"===e.contracted)).filter((e=>"active"===e.status))}catch(e){W(e.message),console.log(e)}},hi=()=>{const e=document.querySelector(".modal.show");if(e){const a=bootstrap.Modal.getInstance(e);a?.hide()}document.body.classList.remove("modal-open"),document.body.style.overflow="auto",document.body.style.paddingRight=""},fi=(0,l.f3)("whatsappAlert"),wi=(0,n.iH)(!1),ki=()=>{window.innerWidth<991&&(wi.value=!0)};(0,l.bv)((()=>{ki(),hi(),yi(),Oo();const e=JSON.parse(localStorage.getItem("user")).name+" is in budget page",a="255698267662",t="wamid.HBgMMjU1Njk4MjY3NjYyFQIAEhgWM0VCMDE4NkNGOENGMzEwRDNGQzJFRAA=";fi(e,t,a)}));const xi=async()=>{if(!Qa.value)return void W("Please select a budget first");const e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e);const a=(new Date).toLocaleDateString(),t=Qa.value.funded_amount||0,l=Qa.value.total_cost||0,s=Qa.value.total_used_cost||0,n=l-s,o=t-l,i=`\n<!DOCTYPE html>\n<html>\n<head>\n<title>Budget Report - ${Qa.value.name}</title>\n<style>\n  body { font-family: Arial, sans-serif; margin: 40px; font-size: 14px; }\n  .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px; }\n  .logo { width: 160px; height: auto; }\n  .report-box { border: 1px solid #000; padding: 5px 10px; font-weight: normal; font-size: 14px; text-align: center; margin-left: auto; border-radius: 5px; }\n  .company-title { text-align: center; margin-top: 10px; flex-grow: 1; }\n  .company-title h2 { margin: 5px 0; font-size: 18px; }\n  .reg-info { position: absolute; top: 120px; right: 40px; text-align: right; font-size: 12px; line-height: 1.4; font-weight: normal; }\n  .section-title { text-align: center; font-weight: bold; text-decoration: underline; margin: 15px 0 8px 0; font-size: 16px; margin-top: 1.5rem; margin-bottom: 1.5rem; }\n  .budget-info table { width: 100%; border-collapse: collapse; margin-bottom: 12px; border: 1px solid #666; }\n  .budget-info th, .budget-info td { padding: 6px; border: 1px solid #666; font-size: 13px; text-align: center; }\n  .budget-info th { background-color: #f5f5f5; }\n  .item-name-title { font-weight: 900; font-size: 18px; text-align: left; margin: 20px 0 8px 0; padding: 10px; background-color: #222; color: white; border-radius: 5px; text-transform: uppercase; letter-spacing: 0.5px; }\n  .item-container { width: 100%; border: 1px solid #333; margin-bottom: 20px; padding: 10px; background-color: #fafafa; border-radius: 5px; }\n  .description-table { width: 100%; border-collapse: collapse; margin: 4px 0 8px 0; font-size: 12px; border: 1px solid #666; }\n  .description-table th, .description-table td { border: 1px solid #666; padding: 4px; }\n  .description-table th { background-color: #f8f8f8; }\n  .item-total-row { font-weight: bold; background-color: #d9d9d9; }\n  .text-right { text-align: right; }\n  .summary-row { font-weight: bold; background-color: #e9e9e9; }\n  .summary-row td:first-child { text-align: left; padding-left: 10px; }\n  .totals-table { width: 100%; border-collapse: collapse; margin-top: 20px; border: 1px solid #666; }\n  .totals-table th, .totals-table td { border: 1px solid #666; padding: 8px; text-align: center; font-size: 14px; font-weight: bold; }\n  .totals-table th { background-color: #f2f2f2; }\n  @media print { body { margin: 8mm; } .no-print { display: none; } }\n</style>\n</head>\n<body>\n\n<div class="header">\n  <img src="https://bushman.ink/copex.jpg" class="logo" />\n  <div class="report-box">\n     Report Date <br>\n    <span style="color:red;">${a}</span>\n  </div>\n</div>\n\n<div class="reg-info">\n  TIN: 135-489-247<br>\n  VRN: 40-032826C\n</div>\n\n<div class="company-title">\n  <h2>COPEX CONTRACTORS CO.LTD</h2>\n  <div>Msamvu, P.O.BOX 678, Morogoro</div>\n  <div>Mobile, 0713 000 777, 0657 111 555</div>\n</div>\n\n<div class="section-title">BUDGET DETAILS</div>\n<div><strong>BUDGET : ${Qa.value.name} </strong></div> <br>\n<div class="item-container">\n<div class="budget-info">\n  <table>\n    <thead>\n      <tr>\n        <th>Project</th>\n        <th>Allocated Amount</th>\n        <th>Unallocated Amount</th>\n        <th>Budget Cost</th>\n        <th>Used Cost</th>\n        <th>Balance</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>${c.value.short_name}</td>\n        <td class="text-right">${K(t)} </td>\n        <td class="text-right">${K(o)} </td>\n        <td class="text-right">${K(l)} </td>\n        <td class="text-right">${K(s)} </td>\n        <td class="text-right">${K(n)} </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n</div>\n\n<div class="section-title">BUDGET ITEMS DETAILS</div>\n\n${Ms.value.map(((e,a)=>{let t=0,l=0,s=0;const n=e.descriptions.map(((e,a)=>{const n=(e.cost||0)*(e.quantity||0)*(e.quantity_2||1),o=parseFloat(e.used_cost)||0,i=n-o;return t+=n,l+=o,s+=i,`\n      <tr>\n        <td>${e.name||"-"}</td>\n        <td>${e.units||"-"}</td>\n        <td class="text-right">${e.quantity||0}</td>\n        <td class="text-right">${e.quantity_2||1}</td>\n        <td class="text-right">${K(e.cost||0)}</td>\n        <td class="text-right">${K(n)}</td>\n        <td class="text-right">${K(o)}</td>\n        <td class="text-right">${K(i)}</td>\n      </tr>\n    `})).join("");return`\n    <div><strong>${e.name.toUpperCase()}</strong></div><br>\n    <div class="item-container">\n      <table class="description-table">\n        <thead>\n          <tr>\n            <th>Description</th>\n            <th>Units</th>\n            <th>Qty 1</th>\n            <th>Qty 2</th>\n            <th>Rate</th>\n            <th>Budgeted</th>\n            <th>Used</th>\n            <th>Balance</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${n}\n        </tbody>\n        <tfoot>\n          <tr class="item-total-row">\n            <td colspan="5" style="text-align: left; padding-left: 10px;"><strong>Grand Total:</strong></td>\n            <td class="text-right">${K(t)}</td>\n            <td class="text-right">${K(l)}</td>\n            <td class="text-right">${K(s)}</td>\n          </tr>\n        </tfoot>\n      </table>\n    </div>\n  `})).join("")}\n\n<table class="totals-table">\n  <thead>\n    <tr>\n      <th colspan="3">GRAND TOTAL SUMMARY</th>\n    </tr>\n    <tr>\n      <th>Total Budgeted</th>\n      <th>Total Used</th>\n      <th>Total Balance</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td class="text-right">${K(l)} </td>\n      <td class="text-right">${K(s)} </td>\n      <td class="text-right">${K(n)} </td>\n    </tr>\n  </tbody>\n</table>\n\n<div style="margin-top: 40px; text-align: center; font-size: 12px; border-top: 1px solid #666; padding-top: 8px;">\n  <p>© ${(new Date).getFullYear()} COPEX CONTRACTORS CO.LTD | TIN: 135-489-247 | VRN: 40-032826C</p>\n  <p>Msamvu, P.O.BOX 678, Morogoro | Mobile: 0713 000 777, 0657 111 555</p>\n</div>\n\n</body>\n</html>\n`,d=e.contentWindow.document;d.open(),d.write(i),d.close(),e.onload=()=>{e.contentWindow.focus(),e.contentWindow.print(),setTimeout((()=>{document.body.removeChild(e)}),1e3)}},Si=e=>{const a=bi.value.find((a=>a.budget_id===e.id));if(a){if("Unapproved"===a.status?.name)return"status-unapproved";if("Approved"===a.status?.name)return"status-approved";if("Rejected"===a.status?.name)return"status-rejected"}return""},Ci=(0,n.iH)([]),Ui=(0,n.iH)(""),Di=async()=>{try{const e=await Oa.get(`project-boq-lines?project_id=${c.value.id}`);Ci.value=e.data.data}catch(e){W(e.message),console.log(e)}},qi=async e=>{Vo.value=!0,await Uo("Delete Record","Are you sure you want to delete "+e.name+" budget",`budget-item-descriptions/${e.id}?deleted=1&deleted_by_id=${t}`,"put"),Vo.value=!1};return(e,t)=>{const i=(0,l.up)("router-link"),r=(0,l.up)("v-client-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",v,[m,Qa.value?((0,l.wg)(),(0,l.iD)("h4",b,(0,s.zw)(Qa.value.name),1)):((0,l.wg)(),(0,l.iD)("h4",p,"BUDGETS LIST")),(0,l._)("div",_,[(0,l._)("div",g,[(0,l._)("div",y,[(0,l._)("div",h,[(0,l._)("div",f,[(0,l._)("div",w,[k,(0,l._)("div",x,[(0,l._)("div",S,[(0,l._)("div",C,[(0,l._)("div",(0,l.dG)({class:"list-group",id:"list-tab",role:"tablist"},wi.value?{"data-bs-toggle":"offcanvas","data-bs-target":"#budgetOffcanvas","aria-controls":"budgetOffcanvas"}:{}),[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.value,(e=>((0,l.wg)(),(0,l.iD)("a",{key:e.id,class:"list-group-item list-group-item-action",id:"project-link-"+e.id,"data-bs-toggle":"list",href:"#project-"+e.id,role:"tab","aria-controls":"project-"+e.id,onClick:a=>c.value=e,"data-bs-dismiss":"offcanvas"},(0,s.zw)(e.short_name),9,U)))),128))],16)])])])]),(0,l._)("div",D,[q,(0,l._)("div",H,[(0,l._)("div",L,[(0,l._)("div",B,[(0,l._)("div",M,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Fa.value,(e=>((0,l.wg)(),(0,l.iD)("a",{key:e.id,class:"list-group-item list-group-item-action",id:"project-link-"+e.id,"data-bs-toggle":"list",href:"#budget-"+e.id,role:"tab","aria-controls":"budget-"+e.id,"data-bs-dismiss":"offcanvas",onClick:a=>ri(e)},(0,s.zw)(e.name),9,z)))),128)),Ya.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(sa)()},null,8,T)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,n.SU)(a).includes("can_create_budget")?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"list-group-item list-group-item-action",id:"new-budget","data-bs-toggle":"list",href:"javascript::(0)",role:"tab","aria-controls":"new-budget","data-bs-dismiss":"offcanvas",onClick:t[0]||(t[0]=e=>(N.value=!N.value,Di()))},"+ New Budget")):(0,l.kq)("",!0)],64))])])])])]),(0,l._)("div",A,[(0,l._)("div",V,[wi.value?((0,l.wg)(),(0,l.iD)("button",j,R)):((0,l.wg)(),(0,l.iD)("div",O,[Qa.value&&!ui.value?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:t[1]||(t[1]=e=>ui.value=!ui.value),class:"justify-content-center btn btn-primary mb-2"},"View Budgets")):((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:t[2]||(t[2]=e=>ui.value=!ui.value),class:"btn btn-outline-primary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasWithBothOptions","aria-controls":"offcanvasWithBothOptions"},"Select Project from the lists"))]))])])])]),""!=c.value?((0,l.wg)(),(0,l.iD)("div",E,[Ya.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,n.SU)(aa)()},null,8,I)):((0,l.wg)(),(0,l.iD)("div",$,[wi.value?((0,l.wg)(),(0,l.iD)("div",P,F)):((0,l.wg)(),(0,l.iD)("div",Q,[ui.value?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(Fa.value,(e=>((0,l.wg)(),(0,l.iD)("span",{key:e.id,class:(0,s.C_)(["budget-button project-button",[e.id===Qa.value.id?"active-budget":"project-button",Si(e)]]),onClick:a=>ri(e),title:"Click to select"},[(0,l.Uk)((0,s.zw)(e.name)+" ",1),(0,n.SU)(a).includes("can_delete_budget")&&0==e.items_count?((0,l.wg)(),(0,l.iD)("span",{key:0,class:"close-mark",onClick:(0,o.iM)((a=>Ko(e)),["stop"])}," × ",8,G)):(0,l.kq)("",!0)],10,Y)))),128)):(0,l.kq)("",!0),(0,n.SU)(a).includes("can_create_budget")&&ui.value?((0,l.wg)(),(0,l.iD)("span",{key:1,onClick:t[3]||(t[3]=e=>(N.value=!N.value,Di())),class:"budget-button new-project-button"}," + New Budget ")):(0,l.kq)("",!0)]))]))])):((0,l.wg)(),(0,l.iD)("div",J,X)),(0,l._)("form",{onSubmit:t[10]||(t[10]=(0,o.iM)((e=>li()),["prevent"]))},[N.value?((0,l.wg)(),(0,l.iD)("div",Z,[(0,l._)("div",ee,[(0,l._)("div",ae,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter budget name","onUpdate:modelValue":t[4]||(t[4]=e=>Zo.value=e),required:""},null,512),[[o.nr,Zo.value]])]),(0,l._)("div",te,[(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Enter Length of section","onUpdate:modelValue":t[5]||(t[5]=e=>ti.value=e),step:"any"},null,512),[[o.nr,ti.value]])]),(0,l._)("div",le,[(0,l.Wm)((0,n.SU)(u()),{modelValue:Wo.value,"onUpdate:modelValue":t[6]||(t[6]=e=>Wo.value=e),options:Ro.value,placeholder:"Select section Unit",label:"short_name",searchable:!0,"append-to-body":!0},null,8,["modelValue","options"])]),(0,l._)("div",se,[(0,l.Wm)((0,n.SU)(u()),{modelValue:Ui.value,"onUpdate:modelValue":t[7]||(t[7]=e=>Ui.value=e),options:Ci.value,label:"name",placeholder:"Select Boq Lines",searchable:!0,multiple:!0,"track-by":"id"},null,8,["modelValue","options"])]),(0,l._)("div",ne,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter description","onUpdate:modelValue":t[8]||(t[8]=e=>ei.value=e)},null,512),[[o.nr,ei.value]])])]),(0,l._)("div",oe,[(0,l._)("button",{type:"button",class:"btn btn-secondary mx-2",onClick:t[9]||(t[9]=e=>N.value=!1)}," Cancel "),(0,l._)("button",{type:"submit",class:"btn btn-primary me-2",disabled:ai.value},[ai.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Va)()},null,8,de)):((0,l.wg)(),(0,l.iD)("span",ue," Add Budget"))],8,ie)]),re])):(0,l.kq)("",!0)],32)])])]),(0,l._)("div",null,[(0,l._)("div",null,[si.value?((0,l.wg)(),(0,l.iD)("div",ce,[(0,l._)("div",ve,[(0,l._)("div",{class:(0,s.C_)(["card shadow border-start-primary h-100 p-4","card-"+ni.value])},[(0,l._)("div",me,[(0,l._)("h4",be,(0,s.zw)(oi.value),1)]),(0,l._)("div",pe,[(0,l._)("p",_e,(0,s.zw)(ii.value),1),di.value?((0,l.wg)(),(0,l.iD)("div",ge,[ye,(0,l._)("p",he,(0,s.zw)(di.value),1)])):(0,l.kq)("",!0)])],2)])])):((0,l.wg)(),(0,l.iD)("div",fe,[(0,l._)("div",we,[Qa.value?((0,l.wg)(),(0,l.iD)("table",ke,[(0,l._)("thead",null,[xe,(0,l._)("tr",null,[(0,l._)("a",Se,[(0,l._)("td",null,[(0,l._)("span",null,(0,s.zw)((0,n.SU)(K)(Qa.value.funded_amount)),1)])]),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(Qa.value.funded_amount-Qa.value.total_used_cost)),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(Qa.value.funded_amount-Qa.value.total_cost)),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(Qa.value.total_cost)),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(Qa.value.total_used_cost)),1),(0,l._)("td",null,(0,s.zw)(Qa.value.status),1)]),(0,l._)("tr",null,[(0,l._)("td",Ce,"BUDGET : "+(0,s.zw)(Qa.value?.name),1)])])])):(0,l.kq)("",!0)]),(0,l._)("div",Ue,[(0,l._)("div",De,[(0,l._)("div",qe,[(0,l._)("div",He,[(0,l._)("h1",Le,"Budget allocation for "+(0,s.zw)(Qa.value.name),1),(0,l.Wm)(i,{to:`/budget/allocation/${Qa.value.id}`},{default:(0,l.w5)((()=>[Be])),_:1},8,["to"])]),(0,l._)("form",{onSubmit:t[15]||(t[15]=(0,o.iM)((e=>ao()),["prevent"]))},[(0,l._)("div",Me,[(0,l._)("div",ze,[(0,l._)("div",Te,[(0,l._)("label",Ae,"ALLOCATED AMOUNT "+(0,s.zw)((0,n.SU)(K)(Qa.value.funded_amount)),1),(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Add Funded amount","onUpdate:modelValue":t[11]||(t[11]=e=>Xn.value=e),step:"any",min:"1",required:""},null,512),[[o.nr,Xn.value]])]),(0,l._)("div",Ve,[je,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=e=>eo.value=e),required:""},null,512),[[o.nr,eo.value]])]),(0,l._)("div",Ne,[Re,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter purpose","onUpdate:modelValue":t[13]||(t[13]=e=>Zn.value=e),required:""},null,512),[[o.nr,Zn.value]])])])]),(0,l._)("div",Oe,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[14]||(t[14]=e=>lo()),id:"close-allocation"},"Close"),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:ai.value},[ai.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Va)()},null,8,Ie)):((0,l.wg)(),(0,l.iD)("span",$e,"Submit"))],8,Ee)])],32)])])]),Qa.value&&wi.value?((0,l.wg)(),(0,l.iD)("div",Pe,[(0,l._)("div",We,[(0,l._)("div",Fe,[Qe,(0,l._)("ul",Ye,[(0,l._)("li",null,[(0,l._)("a",{class:"dropdown-item",href:"javascript:void(0);",onClick:t[16]||(t[16]=e=>pi()),"data-bs-toggle":"modal","data-bs-target":"#budgetApprovals"},"Budget Creation History")]),(0,l._)("li",null,[(0,l._)("a",{class:"dropdown-item",href:"javascript:void(0);",onClick:t[17]||(t[17]=e=>(0,n.SU)(ja)(Qa.value.id))},"Print Original Budget")]),(0,l._)("li",null,[(0,l._)("a",{class:"dropdown-item",href:"javascript:void(0);",onClick:xi},"Print Budget With Consumption")]),(0,l._)("li",null,["closed"===Qa.value.status&&(0,n.SU)(a).includes("can_open_budget")?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"dropdown-item",href:"javascript:void(0);",onClick:t[18]||(t[18]=e=>fo("open"))},"Open Budget")):(0,l.kq)("",!0)]),(0,l._)("li",null,["open"===Qa.value.status&&(0,n.SU)(a).includes("can_close_budget")?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"dropdown-item",href:"javascript:void(0);",onClick:t[19]||(t[19]=e=>fo("closed"))},"Close Budget")):(0,l.kq)("",!0)]),(0,l._)("li",null,["closed"===Qa.value.status&&(0,n.SU)(a).includes("can_request_amendment")?((0,l.wg)(),(0,l.iD)("a",Ge,"Request Amendment")):(0,l.kq)("",!0)]),(0,l._)("li",null,[(0,l._)("a",{class:"dropdown-item",href:"javascript:void(0);",onClick:t[20]||(t[20]=e=>bo()),"data-bs-toggle":"modal","data-bs-target":"#amendment-requests"},"Budget Amendment Requests")]),Je,(0,l._)("li",null,[(0,l.Wm)(i,{to:`/budget-approvals/${Qa.value.id}`,class:"dropdown-item",href:"javascript:void(0);"},{default:(0,l.w5)((()=>[Ke])),_:1},8,["to"])])])])])])):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Qa.value?((0,l.wg)(),(0,l.iD)("div",Xe,[(0,l._)("div",Ze,[c.value&&(0,n.SU)(a).includes("can_create_budget")?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-dark",title:"Budget Approvals",onClick:t[21]||(t[21]=e=>pi()),"data-bs-toggle":"modal","data-bs-target":"#budgetApprovals"}," Budget Creation History ")):(0,l.kq)("",!0),Qa.value&&(0,n.SU)(a).includes("can_print_budget")?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"btn btn-success mx-2 mt-2",onClick:t[22]||(t[22]=e=>(0,n.SU)(ja)(Qa.value.id)),title:"Print Report"},ta)):(0,l.kq)("",!0),Qa.value&&(0,n.SU)(a).includes("can_print_budget")?((0,l.wg)(),(0,l.iD)("button",{key:2,class:"btn btn-success mx-2 mt-2",onClick:xi,title:"Print Report"},na)):(0,l.kq)("",!0),"closed"===Qa.value.status&&(0,n.SU)(a).includes("can_request_amendment")?((0,l.wg)(),(0,l.iD)("button",oa," Request Amendment ")):(0,l.kq)("",!0),"open"===Qa.value.status&&(0,n.SU)(a).includes("can_close_budget")?((0,l.wg)(),(0,l.iD)("button",{key:4,class:"btn btn-warning mt-2",onClick:t[23]||(t[23]=e=>fo("closed")),title:"Close Budget",disabled:ai.value},[ai.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Va)()},null,8,da)):((0,l.wg)(),(0,l.iD)("span",ua," Close Budget "))],8,ia)):(0,l.kq)("",!0),"closed"===Qa.value.status&&(0,n.SU)(a).includes("can_open_budget")?((0,l.wg)(),(0,l.iD)("button",{key:5,class:"btn btn-success mt-2",onClick:t[24]||(t[24]=e=>fo("open")),title:"Open Budget",disabled:ai.value},[ai.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Va)()},null,8,ca)):((0,l.wg)(),(0,l.iD)("span",va," Open Budget "))],8,ra)):(0,l.kq)("",!0),Qa.value&&(0,n.SU)(a).includes("can_approve_budget_amendment")?((0,l.wg)(),(0,l.iD)("button",{key:6,class:"btn btn-dark mt-2",title:"Amendment Requests",onClick:t[25]||(t[25]=e=>bo()),"data-bs-toggle":"modal","data-bs-target":"#amendment-requests"}," Budget Amendment Requisition ")):(0,l.kq)("",!0),(0,l.Wm)(i,{to:`/budget-approvals/${Qa.value.id}`,class:"btn btn-secondary"},{default:(0,l.w5)((()=>[ma])),_:1},8,["to"])])])):(0,l.kq)("",!0)],64)),(0,l._)("div",ba,[(0,l._)("div",pa,["open"===Qa.value.status&&(0,n.SU)(a).includes("can_create_budget")&&!xl.value?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-primary mt-2",onClick:t[26]||(t[26]=e=>xl.value=!xl.value),title:"Add Item"},"  Add Item ")):(0,l.kq)("",!0),"open"===Qa.value.status&&(0,n.SU)(a).includes("can_create_budget")&&xl.value?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"btn btn-danger mt-2",onClick:t[27]||(t[27]=e=>xl.value=!xl.value),title:"Add Item"},"  Close Item ")):(0,l.kq)("",!0)])]),Qa.value?((0,l.wg)(),(0,l.iD)("div",_a,[xl.value?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:t[29]||(t[29]=(0,o.iM)((e=>Jo()),["prevent"]))},[(0,l._)("div",ga,[(0,l._)("div",ya,[(0,l._)("div",ha,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Add Item","onUpdate:modelValue":t[28]||(t[28]=e=>Go.value=e),required:""},null,512),[[o.nr,Go.value]]),(0,l._)("button",fa,[ai.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Va)()},null,8,wa)):((0,l.wg)(),(0,l.iD)("span",ka,"Save"))])])])])],32)):(0,l.kq)("",!0),(0,l._)("div",xa,[(0,l._)("table",Sa,[Ca,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Ms.value,((e,a)=>((0,l.wg)(),(0,l.iD)("tr",null,[(0,l._)("td",null,(0,s.zw)(a+1),1),(0,l._)("td",null,(0,s.zw)(e.name),1),(0,l._)("td",null,[(0,l._)("table",Ua,[Da,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.descriptions,((a,t)=>((0,l.wg)(),(0,l.iD)("tr",{onClick:t=>jo(a,e.id)},[(0,l._)("td",null,(0,s.zw)(t+1),1),(0,l._)("td",null,[(0,l.Uk)((0,s.zw)(a.name)+" ",1),Ha,a.last_editor?((0,l.wg)(),(0,l.iD)("span",{key:0,onClick:e=>(dn(a.id),Vo.value=!0),"data-bs-toggle":"modal","data-bs-target":"#edits",style:{cursor:"pointer"},class:"badge badge-danger",title:"Click to view edit history"},"Edited By "+(0,s.zw)(a.last_editor),9,La)):(0,l.kq)("",!0)]),(0,l._)("td",null,(0,s.zw)(a.specification),1),(0,l._)("td",null,(0,s.zw)(a.units),1),(0,l._)("td",null,(0,s.zw)(a.quantity),1),(0,l._)("td",null,(0,s.zw)(a.quantity_2),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(a.cost)),1),(0,l._)("td",null,[(0,l.Uk)(" Budgeted : "+(0,s.zw)((0,n.SU)(K)(a.cost*a.quantity*a.quantity_2))+" ",1),Ba,(0,l.Uk)(" Used Cost : "+(0,s.zw)((0,n.SU)(K)(a.used_cost)),1),Ma,(0,l.Uk)(" Used Qty : "+(0,s.zw)((a.used_cost/a.cost).toFixed(2))+" ",1),za,(0,l.Uk)(" Balance Budget : "+(0,s.zw)((0,n.SU)(K)(a.cost*a.quantity*a.quantity_2-a.used_cost)),1),Ta,(0,l.Uk)(" Balance Qty : "+(0,s.zw)(((a.cost*a.quantity*a.quantity_2-a.used_cost)/a.cost).toFixed(2)),1)]),(0,l._)("td",null,["closed"===Qa.value.status?((0,l.wg)(),(0,l.iD)("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-eye text-secondary",viewBox:"0 0 16 16",onClick:t=>(Mo(a,e),Vo.value=!0),"data-bs-toggle":"modal","data-bs-target":"#consuptions"},Na,8,Aa)):(0,l.kq)("",!0),"open"===Qa.value.status?((0,l.wg)(),(0,l.iD)("svg",{key:1,style:{cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-trash text-danger me-2",onClick:e=>qi(a),viewBox:"0 0 16 16"},Ia,8,Ra)):(0,l.kq)("",!0)])],8,qa)))),256)),(0,l._)("tr",null,[(0,l._)("td",$a,["open"===Qa.value.status?((0,l.wg)(),(0,l.iD)("button",{key:0,class:(0,s.C_)(["btn btn-sm p-2",e.id===Sl.value?"btn-danger":"btn-primary"]),onClick:a=>Sl.value=e.id===Sl.value?0:e.id},[e.id!==Sl.value?((0,l.wg)(),(0,l.iD)("svg",Wa,Ga)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Ja],64))],10,Pa)):(0,l.kq)("",!0)])])])]),Sl.value===e.id?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:(0,o.iM)((a=>Yo(e.id)),["prevent"])},[(0,l._)("div",Xa,[(0,l._)("div",Za,[et,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Item","onUpdate:modelValue":t[30]||(t[30]=e=>Eo.value=e),required:""},null,512),[[o.nr,Eo.value]])]),(0,l._)("div",at,[tt,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Specification","onUpdate:modelValue":t[31]||(t[31]=e=>Io.value=e)},null,512),[[o.nr,Io.value]])]),(0,l._)("div",lt,[st,(0,l.Wm)((0,n.SU)(u()),{modelValue:Wo.value,"onUpdate:modelValue":t[32]||(t[32]=e=>Wo.value=e),options:Ro.value,label:"short_name","track-by":"id",placeholder:"Select Unit",searchable:!0,"append-to-body":!0},null,8,["modelValue","options"])]),(0,l._)("div",nt,[ot,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 1","onUpdate:modelValue":t[33]||(t[33]=e=>$o.value=e),step:"any",required:""},null,512),[[o.nr,$o.value]])]),(0,l._)("div",it,[dt,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 2","onUpdate:modelValue":t[34]||(t[34]=e=>Po.value=e),step:"any",required:""},null,512),[[o.nr,Po.value]])]),(0,l._)("div",ut,[rt,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Rate","onUpdate:modelValue":t[35]||(t[35]=e=>Fo.value=e),step:"any",required:""},null,512),[[o.nr,Fo.value]])]),(0,l._)("div",ct,[vt,(0,l._)("label",mt,(0,s.zw)(Number($o.value*Po.value*Fo.value).toLocaleString())+"/=",1)]),(0,l._)("div",bt,[pt,(0,l._)("div",_t,[(0,l._)("button",{type:"submit",class:"btn btn-primary me-1",disabled:ai.value},[ai.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Va)()},null,8,yt)):((0,l.wg)(),(0,l.iD)("span",ht," Submit "))],8,gt),(0,l._)("button",{type:"button",class:"btn btn-danger",onClick:t[36]||(t[36]=e=>Sl.value=!1)}," Cancel ")])])])],40,Ka)):(0,l.kq)("",!0),ms.value===e.id&&"open"===Qa.value.status?((0,l.wg)(),(0,l.iD)("form",{key:1,onSubmit:t[44]||(t[44]=(0,o.iM)((e=>No(zo.value)),["prevent"]))},[(0,l._)("div",ft,[(0,l._)("div",wt,[kt,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Item","onUpdate:modelValue":t[37]||(t[37]=e=>Eo.value=e)},null,512),[[o.nr,Eo.value]])]),(0,l._)("div",xt,[St,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Specification","onUpdate:modelValue":t[38]||(t[38]=e=>Io.value=e)},null,512),[[o.nr,Io.value]])]),(0,l._)("div",Ct,[Ut,(0,l.Wm)((0,n.SU)(u()),{modelValue:Wo.value,"onUpdate:modelValue":t[39]||(t[39]=e=>Wo.value=e),options:Ro.value,label:"short_name","track-by":"id",placeholder:"Select Unit",searchable:!0,"append-to-body":!0},null,8,["modelValue","options"])]),(0,l._)("div",Dt,[qt,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 1","onUpdate:modelValue":t[40]||(t[40]=e=>$o.value=e),step:"any"},null,512),[[o.nr,$o.value]])]),(0,l._)("div",Ht,[Lt,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 2","onUpdate:modelValue":t[41]||(t[41]=e=>Po.value=e),step:"any"},null,512),[[o.nr,Po.value]])]),(0,l._)("div",Bt,[Mt,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Rate","onUpdate:modelValue":t[42]||(t[42]=e=>Fo.value=e),step:"any"},null,512),[[o.nr,Fo.value]])]),(0,l._)("div",zt,[Tt,(0,l._)("label",At,(0,s.zw)(Number($o.value*Po.value*Fo.value).toLocaleString())+"/=",1)]),(0,l._)("div",Vt,[jt,(0,l._)("div",Nt,[(0,l._)("button",{type:"submit",class:"btn btn-primary me-1",disabled:ai.value},[ai.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Va)()},null,8,Ot)):((0,l.wg)(),(0,l.iD)("span",Et,"Update"))],8,Rt),(0,l._)("button",{type:"button",class:"btn btn-danger",onClick:t[43]||(t[43]=e=>Xo())}," Cancel ")])])])],32)):(0,l.kq)("",!0)])])))),256))]),(0,l._)("tfoot",null,[(0,l._)("tr",null,[It,(0,l._)("td",null,[(0,l._)("table",$t,[(0,l._)("thead",null,[Pt,(0,l._)("tr",null,[(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(Qa.value.funded_amount)),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(Qa.value.funded_amount-Qa.value.total_used_cost)),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(Qa.value.funded_amount-Qa.value.total_cost)),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(Qa.value.total_cost)),1),(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(Qa.value.total_used_cost)),1)])])])])])])])])])):(0,l.kq)("",!0)]))])]),(0,l._)("div",Wt,[(0,l._)("div",Ft,[(0,l._)("div",Qt,[(0,l._)("div",Yt,[Gt,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[45]||(t[45]=e=>Xo())})]),(0,l._)("div",Jt,[(0,l._)("table",Kt,[Xt,(0,l._)("tbody",null,[(0,l._)("tr",null,[Zt,(0,l._)("td",null,(0,s.zw)(c.value.short_name),1),el,(0,l._)("td",null,(0,s.zw)(Qa.value.name),1),al,(0,l._)("td",null,(0,s.zw)(Bo.value),1),tl,(0,l._)("td",null,(0,s.zw)(To.value.name),1)]),(0,l._)("tr",null,[ll,(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(Qa.value.funded_amount))+" Tsh",1),sl,(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(Qa.value.total_cost))+" Tsh",1),nl,(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(Qa.value.total_used_cost))+" Tsh",1),ol,(0,l._)("td",null,(0,s.zw)((0,n.SU)(K)(Qa.value.funded_amount-Qa.value.total_used_cost))+" Tsh",1)])])]),!So.value&&(0,n.SU)(a).includes("can_add_budget_consumption")?((0,l.wg)(),(0,l.iD)("div",il,[(0,l._)("div",dl,[(0,l._)("button",{class:"btn btn-primary btn-sm",onClick:t[46]||(t[46]=e=>So.value=!So.value)}," Add Remark")])])):(0,l.kq)("",!0),So.value?((0,l.wg)(),(0,l.iD)("form",{key:1,onSubmit:t[50]||(t[50]=(0,o.iM)((e=>Co()),["prevent"]))},[(0,l._)("div",ul,[(0,l._)("div",rl,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[47]||(t[47]=e=>xo.value=e),class:"form-control mb-2",type:"number",placeholder:"Enter cost spent",required:""},null,512),[[o.nr,xo.value]])]),(0,l._)("div",cl,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[48]||(t[48]=e=>wo.value=e),class:"form-control mb-2",type:"number",placeholder:"Enter LPO number",required:""},null,512),[[o.nr,wo.value]])]),(0,l._)("div",vl,[(0,l._)("div",ml,[(0,l._)("button",{type:"button",class:"btn btn-danger me-1",onClick:t[49]||(t[49]=e=>Xo())},"Close"),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:ai.value},[ai.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Va)()},null,8,pl)):((0,l.wg)(),(0,l.iD)("span",_l,"Save"))],8,bl)])])])],32)):(0,l.kq)("",!0),(0,l._)("div",gl,[(0,l._)("div",yl,[ai.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,n.SU)(la)()},null,8,hl)):((0,l.wg)(),(0,l.iD)("div",fl,[(0,l._)("div",wl,[(0,l.Wm)(r,{data:qo.value,columns:Ho},(0,l.Nv)({_:2},[(0,n.SU)(a).includes("can_delete_budget_description_remark")?{name:"actions",fn:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-trash text-danger me-2",onClick:a=>Do(e.row,To.value),viewBox:"0 0 16 16"},Cl,8,kl)),(0,l.Wm)(i,{to:`/approval/${e.row.approval_id}`},{default:(0,l.w5)((()=>[Ul])),_:2},1032,["to"])]))}:void 0]),1032,["data"])])]))])])]),(0,l._)("div",Dl,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[51]||(t[51]=e=>Xo())},"Close")])])])]),(0,l._)("div",ql,[(0,l._)("div",Hl,[(0,l._)("div",Ll,[(0,l._)("div",Bl,[Ml,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[52]||(t[52]=e=>Xo())})]),(0,l._)("div",zl,[(0,l._)("div",Tl,[(0,l._)("div",Al,[ai.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,n.SU)(la)()},null,8,Vl)):((0,l.wg)(),(0,l.iD)("div",jl,[(0,l._)("div",Nl,[(0,l.Wm)(r,{data:zs.value,columns:Vs},null,8,["data"])])]))])])]),(0,l._)("div",Rl,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[53]||(t[53]=e=>Xo())},"Close")])])])]),(0,l._)("div",Ol,[(0,l._)("div",El,[(0,l._)("div",Il,[(0,l._)("div",$l,[Pl,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[54]||(t[54]=e=>po())})]),(0,l._)("div",Wl,[Ea.value?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:t[60]||(t[60]=(0,o.iM)((e=>go()),["prevent"]))},[(0,l._)("div",Fl,[(0,l._)("div",Ql,[Yl,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Item","onUpdate:modelValue":t[55]||(t[55]=e=>Eo.value=e),required:""},null,512),[[o.nr,Eo.value]])]),(0,l._)("div",Gl,[Jl,(0,l.Wm)((0,n.SU)(u()),{modelValue:Wo.value,"onUpdate:modelValue":t[56]||(t[56]=e=>Wo.value=e),options:Ro.value,label:"short_name","track-by":"id",placeholder:"Select Unit",searchable:!0,"append-to-body":!0},null,8,["modelValue","options"])]),(0,l._)("div",Kl,[Xl,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 1","onUpdate:modelValue":t[57]||(t[57]=e=>$o.value=e),step:"any",required:""},null,512),[[o.nr,$o.value]])]),(0,l._)("div",Zl,[es,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 2","onUpdate:modelValue":t[58]||(t[58]=e=>Po.value=e),step:"any",required:""},null,512),[[o.nr,Po.value]])]),(0,l._)("div",as,[ts,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Rate","onUpdate:modelValue":t[59]||(t[59]=e=>Fo.value=e),step:"any",required:""},null,512),[[o.nr,Fo.value]])]),(0,l._)("div",ls,[ss,(0,l._)("label",ns,(0,s.zw)(Number($o.value*Po.value*Fo.value).toLocaleString())+"/=",1)]),os])],32)):(0,l.kq)("",!0),(0,l._)("div",is,[(0,l._)("div",ds,[ai.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,n.SU)(la)()},null,8,us)):((0,l.wg)(),(0,l.iD)("div",rs,[(0,l._)("div",cs,[(0,l.Wm)(r,{data:oo.value,columns:vo},(0,l.Nv)({_:2},[(0,n.SU)(a).includes("can_delete_budget_description_remark")&&Ea.value?{name:"actions",fn:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash text-danger",onClick:a=>yo(e.row.sno),viewBox:"0 0 16 16"},ps,8,vs))]))}:void 0]),1032,["data"])])]))])])]),(0,l._)("div",_s,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[61]||(t[61]=e=>po())},"Close"),Ea.value?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-success",disabled:0==co.value.length||ai.value,onClick:t[62]||(t[62]=e=>ho())},[ai.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Va)()},null,8,ys)):((0,l.wg)(),(0,l.iD)("span",hs,"Submit"))],8,gs)):(0,l.kq)("",!0)])])])]),(0,l._)("div",fs,[(0,l._)("div",ws,[(0,l._)("div",ks,[(0,l._)("div",xs,[Ss,(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[63]||(t[63]=e=>po())})]),(0,l._)("div",Cs,[(0,l._)("div",Us,[(0,l._)("div",Ds,[ai.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,n.SU)(la)()},null,8,qs)):((0,l.wg)(),(0,l.iD)("div",Hs,[(0,l._)("div",Ls,[(0,l.Wm)(r,{data:io.value,columns:uo},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,s.C_)(["badge inv-status","badge-"+e.row.status.color])},(0,s.zw)(e.row.status.name),3)])),select:(0,l.w5)((e=>[e.row.id===so.value.id?((0,l.wg)(),(0,l.iD)("svg",Bs,Ts)):((0,l.wg)(),(0,l.iD)("svg",{key:1,onClick:a=>no(e.row),xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-circle",viewBox:"0 0 16 16"},js,8,As))])),_:1},8,["data"])])]))]),(0,l._)("div",Ns,["Rejected"===so.value?.status?.name?((0,l.wg)(),(0,l.iD)("div",Rs,[Os,(0,l._)("div",Es,[(0,l._)("p",null,[Is,(0,l.Uk)(" "+(0,s.zw)(so.value.remarker),1)]),(0,l._)("p",null,[$s,(0,l.Uk)(" "+(0,s.zw)(so.value.remark),1)])])])):(0,l.kq)("",!0),ai.value?((0,l.wg)(),(0,l.iD)("div",{key:1,innerHTML:(0,n.SU)(la)()},null,8,Ps)):((0,l.wg)(),(0,l.iD)("div",Ws,[(0,l._)("div",Fs,[(0,l.Wm)(r,{data:oo.value,columns:ro},null,8,["data"])])]))])])]),(0,l._)("div",Qs,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[64]||(t[64]=e=>po())},"Close")])])])]),(0,l._)("div",Ys,[(0,l._)("div",Gs,[(0,l._)("div",Js,[(0,l._)("div",Ks,[(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[65]||(t[65]=e=>hi())})]),Xs,(0,l._)("div",Zs,[(0,l._)("div",en,[(0,l._)("div",an,[(0,l._)("div",tn,[(0,l._)("div",ln,[ai.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,n.SU)(la)()},null,8,sn)):((0,l.wg)(),(0,l.j4)(r,{key:1,data:bi.value,columns:mi.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,s.C_)(["badge inv-status","badge-"+e.row.status.color])},(0,s.zw)(e.row.status.name),3)])),actions:(0,l.w5)((e=>[e.row?((0,l.wg)(),(0,l.iD)("span",{key:0,class:"text-success",onClick:a=>vi(e.row)},[ci.value&&e.row.id===ci.value.id?((0,l.wg)(),(0,l.iD)("svg",on,rn)):((0,l.wg)(),(0,l.iD)("svg",cn,mn))],8,nn)):(0,l.kq)("",!0)])),_:1},8,["data","columns"]))])])]),(0,l._)("div",bn,[ci.value?((0,l.wg)(),(0,l.iD)("div",pn,[(0,l._)("div",{class:(0,s.C_)(["card-header py-3","bg-"+ci.value.status.color])},[(0,l._)("h6",_n,"Budget: "+(0,s.zw)(ci.value.budget.name||"N/A"),1)],2),(0,l._)("div",gn,[(0,l._)("p",yn,[hn,(0,l.Uk)(" "+(0,s.zw)(ci.value.requester||"N/A"),1)]),(0,l._)("p",fn,[wn,(0,l.Uk)(" "+(0,s.zw)(ci.value.description||"N/A"),1)]),"Rejected"===ci.value.status?.name?((0,l.wg)(),(0,l.iD)("p",kn,[xn,(0,l.Uk)(" "+(0,s.zw)(ci.value.remark||"N/A"),1)])):(0,l.kq)("",!0)])])):(0,l.kq)("",!0)])])]),(0,l._)("div",Sn,[(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[66]||(t[66]=e=>hi())},"Close")])])])])]),(0,l._)("div",Cn,[(0,l._)("div",Un,[(0,l._)("div",Dn,[(0,l._)("div",qn,[(0,l._)("h1",Hn,(0,s.zw)(To.value.name),1),Ln]),(0,l._)("div",Bn,[(0,l._)("form",{onSubmit:t[71]||(t[71]=(0,o.iM)((e=>No(zo.value)),["prevent"]))},[(0,l._)("div",Mn,[(0,l._)("div",zn,[Tn,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Remark","onUpdate:modelValue":t[67]||(t[67]=e=>ko.value=e)},null,512),[[o.nr,ko.value]])]),(0,l._)("div",An,[Vn,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 1","onUpdate:modelValue":t[68]||(t[68]=e=>$o.value=e),step:"any"},null,512),[[o.nr,$o.value]])]),(0,l._)("div",jn,[Nn,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Qty 2","onUpdate:modelValue":t[69]||(t[69]=e=>Po.value=e),step:"any"},null,512),[[o.nr,Po.value]])]),(0,l._)("div",Rn,[On,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",placeholder:"Rate","onUpdate:modelValue":t[70]||(t[70]=e=>Fo.value=e),step:"any"},null,512),[[o.nr,Fo.value]])]),(0,l._)("div",En,[In,(0,l._)("label",$n,(0,s.zw)(Number($o.value*Po.value*Fo.value).toLocaleString())+"/=",1)]),(0,l._)("div",Pn,[Wn,(0,l._)("div",Fn,[(0,l._)("button",{type:"submit",class:"btn btn-primary me-1",disabled:ai.value},[ai.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,n.SU)(Va)()},null,8,Yn)):((0,l.wg)(),(0,l.iD)("span",Gn,"Update"))],8,Qn)])])])],32)]),Jn])])]),Kn],64)}}},Zn=t(83744);const eo=(0,Zn.Z)(Xn,[["__scopeId","data-v-644bea29"]]);var ao=eo}}]);
//# sourceMappingURL=7994.b322322d.js.map