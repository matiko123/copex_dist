"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[1826],{11826:function(e,t,a){a.r(t),a.d(t,{default:function(){return Bs}});a(26699);var l=a(66252),n=a(3577),s=a(2262),o=a(49963),r=a(87066),i=a(26212),d=a.n(i),u=a(56296),c=a(42119);const v=e=>((0,l.dD)("data-v-36e254fc"),e=e(),(0,l.Cn)(),e),m={class:"layout-px-spacing"},p=(0,l.uE)('<ul class="navbar-nav flex-row" data-v-36e254fc><li data-v-36e254fc><div class="page-header" data-v-36e254fc><nav class="breadcrumb-one" aria-label="breadcrumb" data-v-36e254fc><ol class="breadcrumb" data-v-36e254fc><li class="breadcrumb-item" data-v-36e254fc><a href="javascript:;" data-v-36e254fc>Items Budget</a></li></ol></nav></div></li></ul>',1),b={key:0,class:"d-flex"},_={class:"ms-auto"},g={class:"dropdown nav-item notification-dropdown btn-group"},h={href:"javascript:;",id:"ddlnotify","data-bs-toggle":"dropdown","aria-expanded":"false",class:"btn dropdown-toggle nav-link position-relative p-0 shadow"},y=v((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-bell text-danger",style:{transform:"scale(2)"}},[(0,l._)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,l._)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})],-1))),w={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},k={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"ddlnotify"},f={class:"dropdown-item"},x={class:"media"},C=(0,l.uE)('<div class="media-aside align-self-start" data-v-36e254fc><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-server" data-v-36e254fc><rect x="2" y="2" width="20" height="8" rx="2" ry="2" data-v-36e254fc></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2" data-v-36e254fc></rect><line x1="6" y1="6" x2="6" y2="6" data-v-36e254fc></line><line x1="6" y1="18" x2="6" y2="18" data-v-36e254fc></line></svg></div>',1),D={class:"media-body"},S={class:"data-info"},q={class:"mb-0"},A={class:"mb-0"},H=v((()=>(0,l._)("br",null,null,-1))),U={class:"d-flex justify-content-between align-items-center"},T={class:"flex-grow-1 text-center"},E={class:"budgets-container",style:{overflow:"visible"}},L=v((()=>(0,l._)("div",{class:"d-flex table-responsive",style:{overflow:"visible"}},[(0,l._)("h4",{class:"budgets-title"},"Budgets List")],-1))),z={key:0},M={key:0,class:"budgets-buttons"},V={class:"accordion"},O={class:"accordion-content"},N=["onClick"],I=["onClick"],B={class:"toggle-arrow",style:{display:"inline-block",background:"white",padding:"0 10px",border:"1px solid #ddd","border-radius":"12px",cursor:"pointer"}},R={key:1},$=v((()=>(0,l._)("h6",{class:"mt-1 text-success"},"Please Select a project from the list",-1))),j=[$],F={key:2,class:"d-flex flex-column align-items-center"},P={class:"w-50 mx-auto mt-2"},Z={class:"d-flex justify-content-center mt-2"},G=(0,l.Uk)(" Â Â Â Â "),W={key:0,class:"d-flex justify-content-center align-items-center",style:{"block-size":"100px"}},J=v((()=>(0,l._)("span",{class:"text-primary spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z"}),(0,l._)("path",{d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z"}),(0,l._)("path",{d:"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z"})]),(0,l.Uk)(" Loading... ")],-1))),Y=[J],Q={key:1},X={class:"table-responsive"},K={class:"table table-striped"},ee=v((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"PROJECT DETAILS")])],-1))),te=v((()=>(0,l._)("td",null,[(0,l._)("strong",null,"PROJECT NAME:")],-1))),ae=v((()=>(0,l._)("td",null,[(0,l._)("strong",null,"SHORT NAME:")],-1))),le=v((()=>(0,l._)("td",null,[(0,l._)("strong",null,"CONTRACT NUMBER:")],-1))),ne=v((()=>(0,l._)("td",null,[(0,l._)("strong",null,"FINANCIAL YEAR:")],-1))),se=v((()=>(0,l._)("td",null,[(0,l._)("strong",null,"PROJECT COST:")],-1))),oe=v((()=>(0,l._)("td",null,[(0,l._)("strong",null,"CLIENT:")],-1))),re=v((()=>(0,l._)("td",null,"BUDGET FOR:",-1))),ie={colspan:"2"},de={class:"shadow table table-bordered table-responsive table-striped"},ue=v((()=>(0,l._)("tr",null,[(0,l._)("th",{class:"text-dark fw-bold"},"ALLOCATED AMOUNT"),(0,l._)("th",{class:"text-success"},"ALLOCATED BALANCE"),(0,l._)("th",{class:"text-danger"},"UNALLOCATED AMOUNT"),(0,l._)("th",{class:"text-dark"},"BUDGET COST")],-1))),ce={class:"text-success fw-bolder"},ve={class:"text-danger fw-bolder"},me={class:"mb-0 mb-2"},pe={key:0,class:"d-flex align-items-center gap-2"},be=["placeholder"],_e={class:"mb-0 mb-2"},ge={key:0,class:"d-flex align-items-center gap-2"},he={class:"d-flex flex-wrap gap-2 mt-4 justify-content-end align-items-center"},ye={class:"btn-group flex-wrap",style:{gap:"8px"}},we=["disabled"],ke=v((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),fe=(0,l.Uk)(" Â Print "),xe=[ke,fe],Ce=["disabled"],De=["disabled"],Se=["disabled"],qe=["disabled"],Ae={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},He={key:1},Ue=["disabled"],Te={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},Ee={key:1},Le=["disabled"],ze={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},Me={key:1},Ve=["disabled"],Oe={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},Ne={key:1},Ie=v((()=>(0,l._)("h4",{class:"text-center"},"REQUEST FOR AMENDMENT",-1))),Be={class:"d-flex flex-column align-items-center"},Re=v((()=>(0,l._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1))),$e={class:"d-flex mt-3"},je={class:"ms-auto"},Fe={key:1,class:"row layout-top-spacing"},Pe={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},Ze={class:"panel p-0"},Ge={class:"custom-table table3"},We=v((()=>(0,l._)("span",{class:"me-2"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"text-primary bi bi-eye",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}),(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"})])],-1))),Je={class:"me-2"},Ye=v((()=>(0,l._)("path",{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0"},null,-1))),Qe=v((()=>(0,l._)("path",{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0z"},null,-1))),Xe=[Ye,Qe],Ke=["onClick"],et=v((()=>(0,l._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1))),tt=[et],at=["onSubmit"],lt=v((()=>(0,l._)("h4",{class:"text-center"},"LOCAL PURCHASE ORDER REGISTRATION",-1))),nt={class:"row mb-2"},st={key:0,class:"col-md-3"},ot=v((()=>(0,l._)("label",{class:"form-label"},"Select A Supplier",-1))),rt=v((()=>(0,l._)("option",{value:""},"Select Supplier",-1))),it=["value"],dt=v((()=>(0,l._)("option",{value:"NEW_VENDOR"},"New Supplier",-1))),ut={key:1,class:"col-md-3"},ct=v((()=>(0,l._)("label",{class:"form-label"},"Supplier Name",-1))),vt={key:2,class:"col-md-3"},mt=v((()=>(0,l._)("label",{class:"form-label"},"Supplier Email",-1))),pt={key:3,class:"col-md-3"},bt=v((()=>(0,l._)("label",{class:"form-label"},"Supplier Phone",-1))),_t={key:4,class:"col-md-3"},gt=v((()=>(0,l._)("label",{class:"form-label"},"Supplier Address",-1))),ht={key:5,class:"col-md-3"},yt=v((()=>(0,l._)("label",{class:"form-label"},"Supplier Location",-1))),wt={class:"col-md-3"},kt=v((()=>(0,l._)("label",{class:"form-label"},"Payment Terms",-1))),ft={class:"text-center gap-2 justify-content-end"},xt=v((()=>(0,l._)("button",{type:"submit",class:"btn btn-primary"},"Register",-1))),Ct={key:3,class:"mt-3 p-3 border rounded bg-light mb-2"},Dt=v((()=>(0,l._)("h5",{class:"mb-3"},"Add Item",-1))),St={class:"form-group mb-3 d-flex align-items-center col-12"},qt={class:"row d-flex align-items-center col-12"},At={class:"col-md-10 col-10"},Ht={class:"table-responsive shadow-lg"},Ut={class:"table table-bordered table-responsive mt-5"},Tt={class:"thead-light table-reponsive"},Et=v((()=>(0,l._)("th",null,"Sno:",-1))),Lt=v((()=>(0,l._)("th",null,"Item",-1))),zt=(0,l.Uk)("Description "),Mt={class:"d-flex"},Vt={key:0,class:"ms-auto"},Ot={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-lock",viewBox:"0 0 16 16"},Nt=v((()=>(0,l._)("path",{d:"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2m3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2M5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1"},null,-1))),It=[Nt],Bt={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-unlock",viewBox:"0 0 16 16"},Rt=v((()=>(0,l._)("path",{d:"M11 1a2 2 0 0 0-2 2v4a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5V3a3 3 0 0 1 6 0v4a.5.5 0 0 1-1 0V3a2 2 0 0 0-2-2M3 8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1z"},null,-1))),$t=[Rt],jt=["onClick"],Ft={key:1},Pt=["onUpdate:modelValue"],Zt=["onClick"],Gt={class:"table table-bordered table-responsive table-striped"},Wt=v((()=>(0,l._)("th",null,"#",-1))),Jt=v((()=>(0,l._)("th",null,"Name",-1))),Yt=v((()=>(0,l._)("th",null,"Units",-1))),Qt=v((()=>(0,l._)("th",null,"Quantity",-1))),Xt=v((()=>(0,l._)("th",null,"Total",-1))),Kt=v((()=>(0,l._)("th",null,"Cost",-1))),ea=v((()=>(0,l._)("th",null,"Amount",-1))),ta=v((()=>(0,l._)("th",null,"Remark",-1))),aa={class:"d-flex"},la={key:0,class:"ms-auto"},na=["onClick"],sa=["onClick"],oa=v((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),(0,l._)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"})],-1))),ra=[oa],ia=["onClick"],da={key:0},ua={key:1},ca=["onUpdate:modelValue"],va=["onClick"],ma={key:0},pa={key:1},ba=["onUpdate:modelValue"],_a=["onClick"],ga={key:0},ha={key:1,class:"row"},ya=["onUpdate:modelValue"],wa=(0,l.Uk)(),ka=v((()=>(0,l._)("span",{class:"w-25 mt-2 text-center"},"X",-1))),fa=(0,l.Uk)(),xa=["onUpdate:modelValue"],Ca=["onClick"],Da={class:"d-flex justify-content-between text-dark"},Sa=v((()=>(0,l._)("span",null,"Budgeted :",-1))),qa={class:"d-flex justify-content-between text-dark"},Aa=v((()=>(0,l._)("span",null,"Used :",-1))),Ha=v((()=>(0,l._)("hr",{class:"bg-danger"},null,-1))),Ua={class:"d-flex justify-content-between text-dark"},Ta=v((()=>(0,l._)("span",null,"Balance :",-1))),Ea={key:0},La=["value"],za=["onClick"],Ma={key:0},Va={key:1},Oa=["onUpdate:modelValue"],Na=["onClick"],Ia={class:"d-flex justify-content-between text-dark"},Ba=v((()=>(0,l._)("span",null,"Budgeted :",-1))),Ra={class:"d-flex justify-content-between text-dark"},$a=v((()=>(0,l._)("span",null,"Used :",-1))),ja=v((()=>(0,l._)("hr",{class:"bg-danger"},null,-1))),Fa={key:0,class:"d-flex justify-content-between fw-bolder text-danger"},Pa=v((()=>(0,l._)("span",null,"Balance :",-1))),Za={key:1,class:"d-flex justify-content-between fw-bolder",style:{color:"#158c5b"}},Ga=v((()=>(0,l._)("span",null,"Balance :",-1))),Wa={key:0,class:"mx-2"},Ja=["onClick"],Ya=v((()=>(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"},null,-1))),Qa=v((()=>(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"},null,-1))),Xa=[Ya,Qa],Ka={key:1,class:"mx-2"},el=["onClick"],tl=v((()=>(0,l._)("path",{d:"M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0z"},null,-1))),al=v((()=>(0,l._)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h3v-3a.5.5 0 0 1 1 0v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3A.5.5 0 0 1 4 8z"},null,-1))),ll=[tl,al],nl={key:2,class:"d-flex gap-2"},sl=["onClick"],ol=["onClick"],rl=v((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),(0,l._)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"})],-1))),il=[rl],dl=v((()=>(0,l._)("br",null,null,-1))),ul={key:4,class:"text-danger"},cl=v((()=>(0,l._)("td",null,null,-1))),vl=v((()=>(0,l._)("td",{class:"fw-bolder"},"Total Budget",-1))),ml=v((()=>(0,l._)("td",null,null,-1))),pl=v((()=>(0,l._)("td",null,null,-1))),bl={class:"fw-bold"},_l={class:"fw-bold"},gl={class:"fw-bold"},hl={key:0},yl=v((()=>(0,l._)("td",null,null,-1))),wl={style:{display:"flex","align-items":"center",gap:"5px"}},kl=v((()=>(0,l._)("span",null,"X",-1))),fl=["onClick"],xl=v((()=>(0,l._)("td",{colspan:"2",class:"text-start fw-bold"}," SUMMARY ",-1))),Cl={class:"table table-bordered table-responsive table-striped"},Dl=v((()=>(0,l._)("tr",null,[(0,l._)("th",{class:"text-dark fw-bold"},"ALLOCATED AMOUNT"),(0,l._)("th",{class:"text-success"},"ALLOCATED BALANCE"),(0,l._)("th",{class:"text-danger"},"UNALLOCATED AMOUNT"),(0,l._)("th",{class:"text-dark"},"BUDGET COST")],-1))),Sl={class:"text-success fw-bolder"},ql={class:"text-danger fw-bolder"},Al=["onClick"],Hl={class:"modal-dialog modal-dialog modal-xl"},Ul={class:"modal-content d-flex flex-column",style:{"block-size":"90vh"}},Tl=v((()=>(0,l._)("h3",{class:"text-center"},"Transaction Remarks",-1))),El={class:"d-flex flex-column"},Ll={class:"table table-bordered"},zl=v((()=>(0,l._)("tr",null,[(0,l._)("th",null,"BUDGET "),(0,l._)("th",null,"ITEM"),(0,l._)("th",null,"DESCRIPTION"),(0,l._)("th",null,"BUDGET COST"),(0,l._)("th",{class:"text-center"},"ACTION")],-1))),Ml=v((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),(0,l._)("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"})],-1))),Vl=(0,l.Uk)(" Â Print "),Ol=[Ml,Vl],Nl={class:"modal-body flex-grow-1",style:{"overflow-y":"auto"}},Il={key:0,class:"d-flex justify-content-center align-items-center",style:{"block-size":"100px"}},Bl=v((()=>(0,l._)("span",{class:"text-primary spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1))),Rl=[Bl],$l={key:1},jl={class:"panel br-6 p-0"},Fl={class:"custom-table"},Pl=["onClick"],Zl=v((()=>(0,l._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1))),Gl=v((()=>(0,l._)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1))),Wl=[Zl,Gl],Jl={class:"p-3 border-top",style:{"background-color":"#f8f9fa"}},Yl={class:"row"},Ql={class:"col-md-6"},Xl={class:"col-md-6"},Kl=v((()=>(0,l._)("option",{value:""},"Select Transaction Type",-1))),en=v((()=>(0,l._)("option",{value:"debit"},"Debit",-1))),tn=v((()=>(0,l._)("option",{value:"credit"},"Credit",-1))),an=[Kl,en,tn],ln={class:"d-flex justify-content-end gap-2"},nn=["disabled"],sn={key:0},on=v((()=>(0,l._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1))),rn=[on],dn={key:1},un={key:0,class:"modal-backdrop fade show"},cn=["onClick"],vn={class:"modal-dialog modal-dialog modal-xl"},mn={class:"modal-content d-flex flex-column",style:{"block-size":"auto"}},pn={class:"modal-body flex-grow-1",style:{"overflow-y":"auto"}},bn={key:0,class:"mt-2 mb-2"},_n=v((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",fill:"currentColor",class:"bi bi-check2-square",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M3 14.5A1.5 1.5 0 0 1 1.5 13V3A1.5 1.5 0 0 1 3 1.5h8a.5.5 0 0 1 0 1H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V8a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5z"}),(0,l._)("path",{d:"m8.354 10.354 7-7a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0"})],-1))),gn=(0,l.Uk)(" Ready "),hn=[_n,gn],yn=["onSubmit"],wn={class:"row"},kn={class:"col-md-4"},fn=v((()=>(0,l._)("label",{for:"unit",class:"form-label"},"Unit",-1))),xn={class:"col-md-4"},Cn=v((()=>(0,l._)("label",{for:"item",class:"form-label"},"Item",-1))),Dn={class:"col-md-4"},Sn={for:"quantity",class:"form-label"},qn={class:"col-md-4"},An=v((()=>(0,l._)("label",{for:"price",class:"form-label"},"Price",-1))),Hn={class:"col-md-4"},Un=v((()=>(0,l._)("label",{for:"amount",class:"form-label"},"Amount",-1))),Tn=["value"],En={class:"col-md-4"},Ln=v((()=>(0,l._)("label",{for:"remark",class:"form-label"},"Remark",-1))),zn={class:"d-flex justify-content-end gap-4 mt-4"},Mn=["disabled"],Vn={key:0},On=v((()=>(0,l._)("span",{class:"spinner-border spinner-border-xs",role:"status","aria-hidden":"true"},null,-1))),Nn=[On],In={key:1},Bn=v((()=>(0,l._)("h4",null,"LOCAL PURCHASSE ORDER LIST",-1))),Rn={class:"row layout-top-spacing"},$n={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},jn={class:"panel p-0"},Fn={key:0,class:"d-flex justify-content-center align-items-center",style:{"block-size":"100px"}},Pn=v((()=>(0,l._)("span",{class:"text-primary spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z"}),(0,l._)("path",{d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z"}),(0,l._)("path",{d:"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z"})])],-1))),Zn=[Pn],Gn={class:"custom-table table3"},Wn=["onClick"],Jn=v((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger"},[(0,l._)("polyline",{points:"3 6 5 6 21 6"}),(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1))),Yn=[Jn],Qn={key:1,class:"modal-backdrop fade show"},Xn=["onClick"],Kn={class:"modal-dialog modal-dialog modal-xl"},es={class:"modal-content d-flex flex-column",style:{"block-size":"auto"}},ts={class:"modal-body flex-grow-1",style:{"overflow-y":"auto"}},as=v((()=>(0,l._)("h4",null,"Items For Unfisnished LOCAL PURCHASSE ORDER ",-1))),ls={class:"row layout-top-spacing"},ns={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},ss={class:"panel p-0"},os={key:0,class:"d-flex justify-content-center align-items-center",style:{"block-size":"100px"}},rs=v((()=>(0,l._)("span",{class:"text-primary spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M11.534 7h-4.07a.5.5 0 0 0 0 1h4.07a.5.5 0 0 0 0-1z"}),(0,l._)("path",{d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 1 0-.832-.554A4 4 0 1 1 8 4a.5.5 0 0 0 0-1z"}),(0,l._)("path",{d:"M8 1a7 7 0 1 1-6.546 4.914.5.5 0 1 0-.832-.554A8 8 0 1 0 8 0a.5.5 0 0 0 0 1z"})])],-1))),is=[rs],ds={class:"custom-table table3"},us=["onClick"],cs=v((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-danger"},[(0,l._)("polyline",{points:"3 6 5 6 21 6"}),(0,l._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1))),vs=[cs],ms={class:"d-flex justify-content-end gap-3 mt-3"},ps={key:2,class:"modal-backdrop fade show"},bs={class:"modal fade",id:"ai-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_s={class:"modal-dialog modal-xl"},gs={class:"modal-content"},hs=v((()=>(0,l._)("div",{class:"modal-header bg-dark"},[(0,l._)("h1",{class:"modal-title fs-5 text-white"},"AI Assistant"),(0,l._)("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ys={class:"modal-body bg-light"},ws={class:"row"},ks={class:"col-md-12"},fs={class:"card shadow-sm border-0 p-3"},xs=v((()=>(0,l._)("h5",{class:"mb-3 text-primary"},"ðŸ§  Ask AI",-1))),Cs=["onSubmit"],Ds=v((()=>(0,l._)("button",{type:"submit",class:"btn btn-success rounded-pill px-4"},"Send",-1))),Ss={class:"p-3 bg-white rounded shadow-sm",style:{"max-height":"400px","overflow-y":"auto"}},qs={class:"text-muted mb-3"},As={key:0,class:"d-flex justify-content-end mb-3"},Hs={class:"bg-success text-white p-3 rounded-4 shadow-sm",style:{"max-width":"75%"}},Us=v((()=>(0,l._)("small",{class:"d-block fw-bold mb-1"},"You",-1))),Ts={key:1,class:"d-flex justify-content-start mb-2"},Es={class:"bg-light border p-3 rounded-4 shadow-sm",style:{"max-width":"75%"}},Ls=v((()=>(0,l._)("small",{class:"d-block text-secondary fw-bold mb-1"},"AI",-1))),zs={style:{"white-space":"pre-line"}},Ms=v((()=>(0,l._)("div",{class:"modal-footer bg-light"},[(0,l._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm","data-bs-dismiss":"modal"},"Close")],-1))),Vs=["innerHTML"];var Os={setup(e){const t=(0,s.iH)(!1),a=(0,s.iH)(0),i=(0,s.iH)(!1),v=((0,l.f3)("aiAnswer"),(0,l.f3)("aiAnswer2"),(0,l.f3)("deepseek")),$=(0,s.iH)(["SNo","LPO_number","requested_by","supplier","date","payment","actions"]),J=(0,s.iH)(6),ke=(0,s.iH)(!1),fe=JSON.parse(localStorage.getItem("user")).permissions;(0,u.j)({title:"Purchase Order"});const Ye=(0,s.iH)(!1),Qe=(0,s.iH)(""),et=(0,s.iH)(!1),Nt=(0,s.iH)(""),Rt=(0,s.iH)(""),oa=(0,s.iH)(!1),Ya=(0,s.iH)(!1),Qa=((0,s.iH)([]),(0,s.iH)("")),tl=(0,s.iH)(""),al=(0,s.iH)([""]),rl=(0,s.iH)(!0),Ml=(0,s.iH)(!1),Vl=(0,s.iH)(""),Bl=(0,s.iH)(""),Zl=(0,s.iH)(""),Gl=(0,s.iH)(1),Kl=(0,s.iH)(1),en=(0,s.iH)(""),tn=(0,s.iH)(""),on=(0,s.iH)(""),_n=(0,s.iH)(""),gn=(0,s.iH)("me"),On=(0,s.iH)(!1),Pn=(0,l.f3)("aiIndicator"),Jn=(0,l.f3)("showMessage"),rs=(0,l.f3)("showError"),cs=(0,l.f3)("recordLog"),Os=(0,s.iH)(""),Ns=(0,s.iH)(0),Is=(0,s.iH)(""),Bs=(0,s.iH)(0),Rs=(0,s.iH)([]),$s=(0,s.iH)(""),js=(0,s.iH)((new Date).toISOString().slice(0,10)),Fs=(0,s.iH)(!1),Ps=(0,s.iH)([""]),Zs=(0,s.iH)(""),Gs=async()=>{try{const e=await r.Z.get(`https://bcftrack.trustdigital.space/api/v1/budget-purchase-orders?project_id=${$s.value.id}&budget_name=budget${Bs.value}`);e.data&&Array.isArray(e.data)?(Ps.value=e.data.filter((e=>"Inactive"===e.status_name)).map(((e,t)=>({SNo:t+1,id:e.id,LPO_number:`${String(e.id).padStart(4,"0")}/${e.date_created.slice(5,7)}/${e.date_created.slice(2,4)}`,company_id:e.company_id,supplier:e.vendor.name,address:e.address,requested_by:e.requested_by,date:e.date_created,project:e.project_aka,payment:e.payment_terms,location:e.location,requester:e.user_id,status:e.status_name}))),Ps.value.length>0?Fs.value=!0:Fs.value=!1,On.value=!1):console.error("Invalid response format")}catch(error){console.error("Error fetching  vendors : ",error)}},Ws=(0,l.f3)("whatsappNotification"),Js=(0,s.iH)([""]),Ys=async()=>{On.value=!0;try{const e=await r.Z.get("https://bcftrack.trustdigital.space/api/v1/vendors");e.data&&Array.isArray(e.data)?(Js.value=e.data,On.value=!1):console.error("Invalid response format")}catch(error){console.error("Error fetching  vendors : ",error)}};(0,l.YP)($s,(e=>{e&&e.id&&(Bs.value=0,co())}));const Qs=(0,s.iH)({perPage:10,perPageValues:[5,10,20,50],skin:"table table-hover",columnsClasses:{actions:"actions text-center"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},sortable:["SNo","date_issued","fuel_issued"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},resizableColumns:!1,searchable:!0}),Xs=e=>{"NEW_VENDOR"===e.target.value&&(Ks(),Or.value="")},Ks=()=>{Ye.value=!Ye.value},eo=async e=>{"closed"!=Qa.value?(rl.value=!0,et.value=!0,Qe.value=e):rs("Budget Is Closed ")},to=async()=>{if("closed"!=Qa.value){Os.value=Rt.value,oa.value=!1;const e={name:Rt.value};try{const t=await io.put(`projects/${Bs.value}`,e);200==t.status?co():rs("Fail to Edit Budget")}catch(error){console.error("Error Editing Budget:",error),rs("Fail to Edit Budget")}}else rs("Budget Is Closed ")},ao=JSON.parse(localStorage.getItem("user")).name,lo=JSON.parse(localStorage.getItem("user")).id,no=(0,s.iH)(0),so=async()=>{if(no.value=parseFloat(Ns.value)+parseFloat(Is.value),parseFloat(Is.value)<0)return rs("Fund can't be less than 0"),void(Is.value=0);const e={funded_amount:no.value};try{const t=await io.put(`projects/${Bs.value}`,e);200==t.status?(Ya.value=!1,Ns.value=no.value,co(),cs(lo,ao,"funding "+$s.value.short_name,Os.value,Bs.value,"",Is.value),Jn("Fund added Successfully"),Is.value=0):rs("Fail to Add fund")}catch(error){console.error("Error Adding fund:",error),rs("Fail to Add fund")}},oo=(0,s.iH)(""),ro=r.Z.create({baseURL:"https://bushman.ink/api/v1/"}),io=r.Z.create({baseURL:{NODE_ENV:"production",VUE_APP_API_BASE_URL:"https://bushman.ink/api/v1/",BASE_URL:"/"}.VUE_APP_API_BASE_URL2}),uo=async()=>{const e="Amendment request for  "+$s.value.short_name+" requested  by "+ao+" on budget "+Os.value;ke.value=!ke.value;try{const t=await ro.post("/remark",{remarker_id:JSON.parse(localStorage.getItem("user")).id,description:oo.value,type_id:Bs.value,remark_type:"amendment"});Eo.value.push(t.data),oo.value="",Jn("Amendment Sent"),Ws("255713222333","Managing Director",e,"check.")}catch(error){rs("Error adding remark:",error.message)}},co=async()=>{On.value=!0;try{const e=await io.get(`projects/${$s.value.id}`);al.value=e.data,On.value=!1}catch(error){On.value=!1,rs(error.message)}},vo=(0,c.yj)(),mo=async()=>{try{const e=await r.Z.get(`https://bcftrack.trustdigital.space/api/v1/projects/${vo.params.project_id}`);$s.value=e.data,co()}catch(error){rs(error.message)}},po=async()=>{tl.value=!tl.value,On.value=!0;const e={name:Os.value,project_id:$s.value.id};try{const t=await io.post("projects",e);On.value=!1,co(),Bs.value=0,201==t.status?(Os.value="",Jn("Project Added Sussesfully")):(console.error(error),rs("Fail to Add Project"))}catch(error){console.error("Error Adding projects:",error),On.value=!1}},bo=async e=>{qo.value=!0,On.value=!0;await io.delete(`item/${e}`).then((e=>{xo(),co(),Jn("Item  deleted"),On.value=!1,qo.value=!1}))},_o=async e=>{Os.value="",On.value=!0;await io.delete(`projects/${e}`).then((e=>{co(),Bs.value=0,Jn("Budget  deleted"),On.value=!1}))},go=async e=>{On.value=!0;await io.delete(`iitem-descriptions/${e}`).then((e=>{xo(),Jn("Description  deleted"),On.value=!1}))},ho=async()=>{qo.value=!0,On.value=!0,Ml.value=!Ml.value;const e={name:Vl.value,project_id:Bs.value};try{const t=await io.post("item",e);qo.value=!1,On.value=!1,xo(),201==t.status?(Vl.value="",Jn("item added Succesfully"),co()):(rs("Failed to Add Item"),console.error(error))}catch(error){qo.value=!1,On.value=!1,console.error("Error fetching items:",error),rs(error.message)}},yo=async e=>{if(gn.value="",""===Gl.value||""===Kl.value||""===Zl.value)rs("Please fill in all the fields");else{const t={name:Bl.value,units:_n.value,item_id:e,ref_number:tn.value,paid_by:en.value,quantity:Gl.value||1,quantity_2:Kl.value||1,cost:Zl.value||0,notice:on.value};try{const e=await io.post("item-descriptions",t);xo(),201==e.status?(Vl.value="",_n.value="",Gl.value=1,on.value="",Zl.value=0,Bl.value="",Kl.value=1,Jn("Description added Succesfully")):(rs("Failed to Add Item"),console.error(error))}catch(error){console.error("Error fetching items:",error)}}},wo=e=>{a.value=0,t.value=!1,or.value=!1,hr.value=!1,Bs.value=e.id,Os.value=e.name,Ns.value=e.funded_amount,Qa.value=e.status,Gs(),xo()},ko=(0,s.iH)(null);(0,l.bv)((()=>{const e=localStorage.getItem("user");ko.value=JSON.parse(e),xo(),co(),mo(),So(),Kr()}));const fo=async()=>{try{await ro.get("/check-remark",{params:{remark_type:"amendment"}})}catch(error){console.error("Error:",error)}},xo=async()=>{Ps.value=[""],On.value=!0;try{const e=await io.get(`item/${Bs.value}`);Rs.value=e.data,On.value=!1}catch(error){console.error("Error fetching items:",error),On.value=!1}},Co=(0,s.iH)([""]),Do=(0,s.iH)(0),So=async()=>{try{const e=await ro.get("remark?remark_type=amendment");Co.value=e.data.data.filter((e=>"unchecked"===e.status)),Do.value=e.data.unchecked_count}catch(error){console.error("Error fetching amendment request:",error),rs("Failed to load amendment request "+(error.response?.data?.message||error.message))}finally{Ao.value=!1}},qo=(0,s.iH)(!1),Ao=(0,s.iH)(!1),Ho=(0,s.iH)(""),Uo=(0,s.iH)(),To=(0,s.iH)(""),Eo=(0,s.iH)([]),Lo=(0,s.iH)(!1),zo=(0,s.iH)(!1),Mo=(0,s.iH)(""),Vo=(0,s.iH)(""),Oo=(0,s.iH)(""),No=(0,s.iH)([]),Io=(0,s.iH)(""),Bo=["sno","filled_by","date","description","debit","credit","balance","actions"],Ro=(e,t)=>{Fo(e.id),Mo.value=e.name,Oo.value=t.name,Vo.value=e.cost*e.quantity*e.quantity_2,Lo.value=!0,Io.value=e.id},$o=()=>{Lo.value=!1,Uo.value="",Eo.value=[],Mo.value="",Oo.value="",Io.value="",To.value="",xo()},jo=async()=>{if(Uo.value.trim()){zo.value=!0;try{"credit"===Ho.value?To.value=-Math.abs(To.value):"debit"==Ho.value&&(To.value=Math.abs(To.value));const e=await io.post("budget-remarks",{date:(new Date).toISOString().split("T")[0],remarker_id:JSON.parse(localStorage.getItem("user")).id,description:Uo.value,remarker:JSON.parse(localStorage.getItem("user")).name,budget_item_description_id:Io.value,cost:To.value,status:Ho.value});Eo.value.push(e.data),Uo.value="",To.value="",Jn("Remark added successfully"),Fo(Io.value)}catch(error){rs("Error adding remark:",error)}zo.value=!1}else rs("Remark cannot be empty!")},Fo=async e=>{Ao.value=!0;try{const t=await io.get(`budget-item-description-remarks/${e}`);let a=parseFloat(Vo.value);No.value=t.data.map(((e,t)=>(a-=parseFloat(e.cost),{sno:t+1,id:e.id,filled_by:e.remarker,date:e.date,debit:e.cost>0?Number(e.cost).toLocaleString()+"Tsh":"--",credit:e.cost<0?Number(Math.abs(e.cost)).toLocaleString()+"Tsh":"--",description:e.description,balance:a.toLocaleString()+"Tsh"})))}catch(error){rs(error.message),console.error("Error fetching remarks:",error)}Ao.value=!1},Po=async e=>{if(On.value=!0,confirm("Are you sure you want to delete this remark?")){On.value=!0;const t=await io.delete(`budget-remarks/${e}`);200==t.status?(Fo(Io.value),On.value=!1,Jn(t.data.message)):rs("Failed to delete remark",error)}else On.value=!1},Zo=async e=>{Go(),gn.value="";const t={name:e.name,units:e.units,ref_number:e.ref_no,paid_by:e.paid_by,quantity:e.quantity||1,quantity_2:e.quantity_2||1,cost:e.cost||0,notice:e.notice};try{const a=await io.patch(`item-descriptions/${e.id}`,t);xo(),200==a.status?Jn("Description Updated Succesfully"):(rs("Failed to Update Item"),console.error(error))}catch(error){console.error("Error fetching items:",error)}},Go=()=>{Qe.value=""},Wo=(0,s.iH)(""),Jo=async e=>{"closed"!=Qa.value?(Wo.value=e,rl.value=!0):rs("Budget Is Closed ")},Yo=()=>{Wo.value="",rl.value=!0},Qo=async e=>{Yo(),Ml.value=!Ml.value;const t={name:e.name};try{const a=await io.patch(`item/${e.id}`,t);200==a.status?(Vl.value="",Jn("item Updated Succesfully"),xo()):(rs("Failed to updaet Item"),console.error(error))}catch(error){console.error("Error Update items:",error),rs(error.message)}},Xo=(0,s.iH)(!1),Ko=async()=>{const e={status:"closed"};qo.value=!0,Xo.value=!0;try{const t=await io.put(`projects/${Bs.value}`,e);200==t.status?(Jn("Budget Closed Succesfully"),Qa.value=t.data.status,co(),qo.value=!1,Xo.value=!1):(qo.value=!1,Xo.value=!1,rs("Fail to Close Budget"))}catch(error){qo.value=!1,Xo.value=!1,console.error("Error close Budget:",error),rs("Fail to close Budget")}},er=async()=>{const e={status:"open"};qo.value=!0,Xo.value=!0;try{const t=await io.put(`projects/${Bs.value}`,e);200==t.status?(qo.value=!1,Xo.value=!1,Jn("Budget Open Succesfully"),Qa.value=t.data.status,co()):(qo.value=!1,Xo.value=!1,rs("Fail to open Budget"))}catch(error){Xo.value=!1,qo.value=!1,console.error("Error open Budget:",error),rs("Fail to open Budget")}},tr=async(e,t,a,l)=>{const n=e,s="https://graph.facebook.com/v22.0/721816217672551/messages",o="EAAXZAN9ZAW4VoBOZBhohedZA7pfKZBfzMghywTumPW7yFY0ZAI7u6Kh9DFtai4usEnmKsOnMZBYisZAQ0ojZBtEpDC72XXNyf6qFmtFtTCX61hv3I2eZCdZAevM9ahsDXGcIhT8stZAoTGstgOsujK4G1pxcSGqwFxiucZBcLr8HUoRxTLlB0IdVlLLlRGQ7n831T93WGUQZDZD",r={messaging_product:"whatsapp",recipient_type:"individual",to:n,type:"template",template:{name:"copex_lpo",language:{code:"en"},components:[{type:"header",parameters:[{type:"image",image:{link:"https://copexcontractors.co.tz/assets/img/copex-about-img.jpg"}}]},{type:"body",parameters:[{type:"text",text:t},{type:"text",text:a},{type:"text",text:l},{type:"text",text:a}]}]}};lr.value=!0;try{const e=await fetch(s,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify(r)});await e.json();Jn("Messange Sent Succesfully"),lr.value=!1}catch(error){lr.value=!1,console.error("Error:",error)}},ar=()=>{let e;J.value=$s.value.company_id,e=5==J.value?"Project manager":"Engineer";const t=window.open("","DailyActivityReport");t.document.write(`\n<html>\n    <head>\n        <title>Print Item Budget Report</title>\n        <style>\n            table {\n                width: 100%;\n                border-collapse: collapse;\n                margin-bottom: 10px;\n            }\n            th, td {\n                border: 1px solid black;\n                padding: 8px;\n                text-align: left;\n            }\n            th {\n                background-color: #f2f2f2;\n            }\n            .nested-table {\n                width: 100%;\n                margin: 0;\n                border: none;\n            }\n            .nested-table th, .nested-table td {\n                padding: 5px;\n            }\n            .total-row {\n                font-weight: bold;\n                background-color: #f0f0f0;\n            }\n            .grand-total-row {\n                font-weight: bold;\n                background-color: #e0e0e0;\n                font-size: 1.1em;\n            }\n            .signature-section {\n                page-break-inside: avoid; /* Prevents splitting */\n                margin-top: 50px; /* Adds space before signatures */\n            }\n            .signature-table {\n                width: 100%;\n                border-collapse: collapse;\n            }\n            .signature-cell {\n                height: 2cm;\n                vertical-align: bottom;\n                border: 1px solid black;\n            }\n            \n            .fw-bold{\n             font-weight:bolder;\n            }\n        </style>\n    </head>\n    <body>\n\n        <table>\n          <tr>\n            <td class="fw-bold">PROJECT&nbsp;NAME&nbsp;: </td>\n            <td>${$s.value.project_name.toUpperCase()}</td>\n          </tr>\n           <tr>\n            <td class="fw-bold">SHORT&nbsp;NAME&nbsp;: </td>\n            <td>${$s.value.short_name.toUpperCase()}</td>\n          </tr>\n           <tr>\n            <td class="fw-bold">CLIENT&nbsp;: </td>\n            <td>${$s.value.client.toUpperCase()}</td>\n          </tr>\n          <tr>\n            <td class="fw-bold">CONTRACT&nbsp;NUMBER&nbsp;: </td>\n            <td>${$s.value.contract_number.toUpperCase()} </td>\n          </tr>\n           <tr>\n            <td class="fw-bold">FINANCIAL&nbsp;YEAR&nbsp;: </td>\n            <td>${$s.value.financial_year.toUpperCase()} </td>\n          </tr>\n\n            <tr>\n            <td class="fw-bold">BUDGET&nbsp;FOR&nbsp;: </td>\n            <td> ${Os.value.toUpperCase()}</td>\n          </tr>\n\n        </table>\n\n        <table>\n            <thead>\n                <tr>\n                    <th>#</th>\n                    <th>Item</th>\n                    <th>Description</th>\n                </tr>\n            </thead>\n            <tbody>\n                ${Rs.value.map(((e,t)=>`\n                    <tr>\n                        <td>${t+1}</td>\n                        <td>${e.name}</td>\n                        <td>\n                            ${e.item_description&&e.item_description.length>0?`\n                            <table class="nested-table">\n                                <thead>\n                                    <tr>\n                                        <th>Name</th>\n                                        <th>Units</th>\n                                        <th>Cost</th>\n                                        <th>Quantity</th>\n                                        <th>Total</th>\n                                        <th>Amount</th>\n                                        <th>Remarks</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    ${e.item_description.map((e=>`\n                                        <tr>\n                                            <td>${e.name||"-"}</td>\n                                            <td>${e.units||"-"}</td>\n                                            <td>${(e.cost||0).toLocaleString()}Tsh</td>\n                                            <td>${(e.quantity||0).toLocaleString()} x ${(e.quantity_2||0).toLocaleString()}</td>\n                                            <td>${(e.quantity||0).toLocaleString()*(e.quantity_2||0).toLocaleString()}</td>\n                                            <td>   \n                                              ${null!==e.budget_remark_sum_cost&&void 0!==e.budget_remark_sum_cost?`\n    <span style="text-decoration: line-through;" class="text-danger">\n        ${(e.quantity*e.cost*e.quantity_2).toLocaleString()}Tsh\n    </span><br>`:""}\n<span>\n    ${null!==e.budget_remark_sum_cost&&void 0!==e.budget_remark_sum_cost?(e.quantity*e.cost*e.quantity_2-e.budget_remark_sum_cost).toLocaleString():(e.quantity*e.cost*e.quantity_2).toLocaleString()}Tsh\n</span>\n\n                                            </td>\n\n                                            <td>${e.notice||"-"}</td>\n                                        </tr>\n                                    `)).join("")}\n                                </tbody>\n                            </table>\n                            `:"No description available"}\n                        </td>\n                    </tr>\n                    ${e.item_description&&e.item_description.length>0?`\n                    <tr class="total-row">\n                        <td colspan="2">Budget</td>\n                        <td>\n                            <table class="nested-table">\n                                <tr>\n                                    <td>Total Balance :</td>\n                                    <td>\n                                          ${e.item_description.some((e=>null!==e.budget_remark_sum_cost&&void 0!==e.budget_remark_sum_cost))?`\n                                          <span style="text-decoration: line-through;" class="text-danger">\n                                              ${e.item_description.reduce(((e,t)=>e+(t.quantity||0)*(t.quantity_2||0)*(t.cost||0)),0).toLocaleString()} Tsh\n                                           </span><br>`:""}\n                                           <span>\n                                              ${e.item_description.reduce(((e,t)=>e+(t.quantity||0)*(t.quantity_2||0)*(t.cost||0)-(t.budget_remark_sum_cost||0)),0).toLocaleString()} Tsh\n                                           </span>\n                                        </td>\n                                </tr>\n                            </table>\n                        </td>\n                    </tr>\n                    `:""}\n                `)).join("")}\n            </tbody>\n        </table>\n\n        \x3c!-- GRAND TOTAL SECTION (AFTER MAIN TABLE) --\x3e\n        <table style="margin-top: 20px; width: 50%; float: right;">\n            <tr class="grand-total-row">\n            <td><strong>ALLOCATED AMOUNT</strong></td>\n            <td><strong>${Ns.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})} Tsh</strong></td>\n            </tr>\n            <tr class="grand-total-row">\n            <td><strong>ALLOCATED BALANCE</strong></td>\n            <td><strong>${(Ns.value-Rs.value.reduce(((e,t)=>e+(t.item_description?.reduce(((e,t)=>e+(Number(t.budget_remark_sum_cost)||0)),0)||0)),0)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})} Tsh</strong></td>\n            </tr>\n            <tr class="grand-total-row">\n            <td><strong>GRAND TOTAL</strong></td>\n            <td><strong>${Rs.value.reduce(((e,t)=>e+(t.item_description?.reduce(((e,t)=>e+(t.quantity||0)*(t.cost||0)*(t.quantity_2||0)-(t.budget_remark_sum_cost||0)),0)||0)),0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})} Tsh</strong></td>\n            </tr>\n        </table>\n        <div style="clear: both;"></div>\n\n        \x3c!-- Signatures Section (Ensured to stay intact) --\x3e\n        <div class="signature-section">\n            <h3>Signatures</h3>\n            <table class="signature-table">\n                <thead>\n                    <tr>\n                        <th>Operation's Sign</th>\n                        <th>${e}'s Sign</th>\n                        <th>Sr Accountant's sign</th>\n                        <th>MD's Sign</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td class="signature-cell"></td>\n                        <td class="signature-cell"></td>\n                        <td class="signature-cell"></td>\n                        <td class="signature-cell"></td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </body>\n</html>\n`),t.document.close(),t.onafterprint=function(){t.close()},setTimeout((()=>{t.print()}),.1)},lr=(0,s.iH)(!1),nr=(0,s.iH)(!0),sr=(0,s.iH)(""),or=((0,s.iH)(""),(0,s.iH)(!1)),rr=(0,s.iH)(""),ir=(0,s.iH)(!1),dr=(0,s.iH)(!1),ur=(0,s.iH)(!1),cr=(0,s.iH)(""),vr=(0,s.iH)(""),mr=(0,s.iH)(""),pr=(0,s.iH)(""),br=(0,s.iH)(""),_r=(0,s.iH)(""),gr=(0,s.iH)(""),hr=(0,s.iH)(!1),yr=(0,s.iH)([]),wr=(0,s.iH)(["SNo","description","units","quantity","rate","amount","actions"]),kr=(0,s.iH)(""),fr=(0,s.iH)(),xr=(0,s.iH)(""),Cr=(0,s.iH)(""),Dr=(0,s.iH)(!1),Sr=()=>{Dr.value=!0},qr=()=>{Ar.value="",Os.value="",Vr.value="",Hr.value="",Ur.value="",Or.value="",Tr.value="",Er.value="",Lr.value="",zr.value="",Mr.value="",Dr.value=!1,Ye.value=!1},Ar=(0,s.iH)(""),Hr=(0,s.iH)(""),Ur=(0,s.iH)(""),Tr=(0,s.iH)(""),Er=(0,s.iH)(""),Lr=(0,s.iH)(""),zr=(0,s.iH)(""),Mr=(0,s.iH)(""),Vr=(0,s.iH)(""),Or=(0,s.iH)(""),Nr=async()=>{try{Dr.value=!1,On.value=!0,!0===Ye.value&&await Ir();const e={name:"budget"+Bs.value,company_id:J.value,vendor_id:Or.value,supplier:"none",address:"none",project_id:$s.value.id,project:"empty",payment_terms:Vr.value,location:"none",user_id:JSON.parse(localStorage.getItem("user")).id,requested_by:JSON.parse(localStorage.getItem("user")).name,status_name:"Inactive",status_color:"dark"},t=await io.post("/purchase-order",e);Gs(),qr(),On.value=!1,201===t.status?(i.value=!0,Jn("Purchase Order Registered Successfully")):(rs("Failed to register Purchase Order"),console.error(error))}catch(error){rs("Error code "+error.status),console.error("Error registering Order:",error),On.value=!1}},Ir=async()=>{try{On.value=!0;const e={name:Tr.value,phone:Er.value,email:Lr.value,address:zr.value,location:Mr.value},t=await ro.post("/vendors",e);return Or.value=t.data.id,On.value=!1,t.data.id}catch(error){throw rs("Error registering Vendor"+error.status),On.value=!1,error}},Br=(e,t)=>{console.log("selected LPO status",Zs.value),Cr.value=0,xr.value=null,rr.value=e.id,cr.value=e.cost,vr.value=e.name,pr.value=e.quantity*e.quantity_2,br.value=e.units,ur.value=!0,mr.value=e.quantity*e.quantity_2,Rr()},Rr=async()=>{kr.value=!0;try{const e=await io.get(`/order-items/${a.value}`);e.data&&Array.isArray(e.data)?(fr.value=e.data.reduce(((e,t)=>e+t.quantity*t.rate),0),yr.value=e.data.map(((e,t)=>({SNo:t+1,category:e.category,id:e.id,description:e.description,units:e.unit_measure,quantity:e.quantity.toLocaleString(),rate:Number(e.rate).toLocaleString(),amount:(e.quantity*e.rate).toLocaleString(void 0,{maximumFractionDigits:3})}))),kr.value=!1):(kr.value=!1,console.error("Invalid response format"))}catch(error){kr.value=!1,console.error("Error fetching purchase order: ",error)}},$r=()=>{if(!a.value)return void rs("No LPO selected");if(pr.value>mr.value)return void rs("The Quantity exceeds The Quantity Available");if(pr.value<=0)return void rs("The Quantity Can't be zero or negative");kr.value=!0;const e={order_id:a.value,description:vr.value,unit_measure:br?.value||"NO",quantity:pr.value,machine_id:0,rate:cr.value,item_list_id:$s.value.id,category:"budget"};io.post("/items",e).then((e=>{zo.value=!1,kr.value=!1,201===e.status?(Rr(),Jn("Item registered successfully")):(rs("Error registering item"),console.error("Error registering Order:",e.data.message))})).catch((e=>{kr.value=!1,console.error("Error registering Order:",e.message)}))},jr=()=>{ur.value=!1,ir.value=!1,Cr.value=0},Fr=e=>{kr.value=!0,confirm("Are you sure you want to delete this item?")&&io.delete(`/items/${e}`).then((e=>{Rr(),kr.value=!1,200===e.status?Jn("Item Deleted successfully"):(rs("Fail to Delete item"),console.error("Error registering Order:",e.data.message))})).catch((e=>{kr.value=!1,console.error("Error registering Order:",e.message)}))},Pr=()=>{const e={status_name:"Unapproved",status_color:"secondary"};confirm("Are you sure you want to Close this Order?")&&io.put(`/purchase-order/${a.value}`,e).then((e=>{200==e.status?(Jn(" Activation Successfuly! Now Waiting for Approvals"),Zs.value="Unapproved",Gs()):rs("activation Fails")})).catch((e=>{console.error("Error activating order:",e.message)}))},Zr=()=>{const e=window.open("","BudgetRemarkReport");e.document.write(`\n<html>\n    <head>\n        <title>Print Item Remark Report</title>\n        <style>\n            table {\n                width: 100%;\n                border-collapse: collapse;\n                margin-bottom: 10px;\n            }\n            th, td {\n                border: 1px solid black;\n                padding: 8px;\n                text-align: left;\n            }\n            th {\n                background-color: #f2f2f2;\n            }\n            .nested-table {\n                width: 100%;\n                margin: 0;\n                border: none;\n            }\n            .nested-table th, .nested-table td {\n                padding: 5px;\n            }\n            .total-row {\n                font-weight: bold;\n                background-color: #f0f0f0;\n            }\n            .grand-total-row {\n                font-weight: bold;\n                background-color: #e0e0e0;\n                font-size: 1.1em;\n            }\n            .signature-section {\n                page-break-inside: avoid; /* Prevents splitting */\n                margin-top: 50px; /* Adds space before signatures */\n            }\n            .signature-table {\n                width: 100%;\n                border-collapse: collapse;\n            }\n            .signature-cell {\n                height: 2cm;\n                vertical-align: bottom;\n                border: 1px solid black;\n            }\n            \n            .fw-bold{\n             font-weight:bolder;\n            }\n\n        </style>\n    </head>\n    <body>\n        <h3 style="text-align: center;">BUDGET ITEM TRANSACTION SUMMARY REPORT</h3>\n        <table>\n         <tr>\n            <td class="fw-bold">PROJECT&nbsp;NAME&nbsp;: </td>\n            <td>${$s.value.short_name.toUpperCase()}</td>\n          </tr>\n          <tr>\n            <td class="fw-bold">BUDGET&nbsp;NAME&nbsp;: </td>\n            <td>${Os.value}</td>\n          </tr>\n           <tr>\n            <td class="fw-bold">ITEM&nbsp;: </td>\n            <td>${Oo.value}</td>\n          </tr>\n           <tr>\n            <td class="fw-bold">DESCRIPTION&nbsp;: </td>\n            <td>${Mo.value}</td>\n          </tr>\n          <tr>\n            <td class="fw-bold">BUDGET&nbsp;COST&nbsp;: </td>\n            <td>${Vo.value.toLocaleString()} Tsh</td>\n          </tr>\n        </table>\n <h4 style="text-align: center;">TRANSACTION RECORD</h4>\n        <table>\n            <thead>\n                <tr>\n                    <th>#</th>\n                    <th>Filled&nbsp;by</th>\n                    <th>Date&nbsp;</th>\n                    <th>Description</th>\n                    <th>Debit</th>\n                    <th>Credit</th>\n                    <th>Balance</th>\n                </tr>\n            </thead>\n            <tbody>\n                ${No.value.map(((e,t)=>`\n                    <tr>\n                        <td>${t+1}</td>\n                        <td>${e.filled_by}</td>\n                        <td>${e.date}</td>\n                        <td>${e.description}</td>\n                        <td>${e.debit}</td>\n                        <td>${e.credit}</td>\n                        <td>${e.balance}\n                            ${e.filled_by&&e.filled_by.length>0?"\n                            ":"No description available"}\n                        </td>\n                    </tr>\n                `)).join("")}\n            </tbody>\n        </table>\n    </body>\n</html>\n`),e.document.close(),e.onafterprint=function(){e.close()},setTimeout((()=>{e.print()}),.1)},Gr=(0,s.iH)(""),Wr=(0,s.iH)(""),Jr=(0,s.iH)(0),Yr=(0,s.iH)(0),Qr=(0,s.iH)(""),Xr=(0,s.iH)(""),Kr=async()=>{const e=await ro.get("/ai/4");ei.value=e.data,Qr.value=e.data.instructions},ei=(0,s.iH)(""),ti=async()=>{if(Xr.value=Wr.value,!Wr.value.trim())return void(Gr.value="Question cannot be empty.");Gr.value="Thinking...",Jr.value=0;const e=performance.now();Yr.value=setInterval((()=>{const t=performance.now();Jr.value=((t-e)/1e3).toFixed(2)}),50);try{let e="";const a=ei.value?.source,l=a&&a.startsWith("http");if(l)try{const t=Rs.value;e=`Data from source:\n${JSON.stringify(t,null,2)}\n\n`}catch(t){console.warn("Failed to fetch source data:",t.message)}const n=Qr.value.map(((e,t)=>`${t+1}. ${e.description}`)).join("\n"),s="You are a plain text responder. No Markdown, no special characters like **, -, #, etc.\n\n"+(e||"")+`You are giving assistance based on Instructions:\n${n}\n\n`+`Now answer this question in clean plain English:\n${Wr.value}`,o=await v(s);Gr.value=o.trim()}catch(error){console.error(error),Gr.value="Error retrieving or processing data."}finally{clearInterval(Yr.value),Yr.value=null,Wr.value=""}};return(e,r)=>{const u=(0,l.up)("v-client-table"),c=(0,l.up)("v-else");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",m,[p,0!=Do.value?((0,l.wg)(),(0,l.iD)("div",b,[(0,l._)("div",_,[(0,l._)("div",g,[(0,l._)("a",h,[y,(0,l._)("span",w,(0,n.zw)(Do.value),1)]),(0,l._)("ul",k,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Co.value,(e=>((0,l.wg)(),(0,l.iD)("li",f,[(0,l._)("div",x,[C,(0,l._)("div",D,[(0,l._)("div",S,[(0,l._)("h6",q,"From : "+(0,n.zw)(e.sender_name),1),(0,l._)("p",A,[(0,l.Uk)((0,n.zw)(e.description)+" ",1),(0,s.SU)(fe).includes("can_check_budget_remark")?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-success p-1 btn-sm me-1",style:{cursor:"pointer"},onClick:r[0]||(r[0]=e=>fo())},"âœ”")):(0,l.kq)("",!0)])]),H])])])))),256))])])])])):(0,l.kq)("",!0),(0,l._)("div",U,[(0,l._)("div",T,[(0,l._)("div",E,[L,""!=$s.value?((0,l.wg)(),(0,l.iD)("div",z,[tl.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",M,[(0,l._)("div",V,[(0,l.wy)((0,l._)("div",O,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(al.value,(e=>((0,l.wg)(),(0,l.iD)("span",{class:"budget-button project-button",onClick:t=>wo(e)},[(0,l.Uk)((0,n.zw)(e.name)+" ",1),(0,s.SU)(fe).includes("can_delete_budget")&&0==e.items_count?((0,l.wg)(),(0,l.iD)("span",{key:0,class:"close-mark",onClick:(0,o.iM)((t=>_o(e.id)),["stop"])}," Ã— ",8,I)):(0,l.kq)("",!0)],8,N)))),256)),(0,s.SU)(fe).includes("can_create_budget")?((0,l.wg)(),(0,l.iD)("span",{key:0,class:"budget-button new-project-button",onClick:r[1]||(r[1]=e=>(tl.value=!tl.value,Os.value="",Bs.value=0))}," + New Budget ")):(0,l.kq)("",!0)],512),[[o.F8,nr.value]]),(0,l._)("div",{class:"accordion-toggle",style:{"text-align":"center","margin-top":"8px"},onClick:r[2]||(r[2]=e=>nr.value=!nr.value)},[(0,l._)("span",B,(0,n.zw)(nr.value?"â–²":"â–¼"),1)])])]))])):((0,l.wg)(),(0,l.iD)("div",R,j)),tl.value?((0,l.wg)(),(0,l.iD)("div",F,[(0,l._)("div",P,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter budget name","onUpdate:modelValue":r[3]||(r[3]=e=>Os.value=e)},null,512),[[o.nr,Os.value]])]),(0,l._)("div",Z,[(0,l._)("button",{type:"button",class:"btn btn-secondary mx-2",onClick:r[4]||(r[4]=e=>tl.value=!1)}," Cancel "),(0,l._)("button",{type:"button",class:"btn btn-primary me-2",onClick:po}," Add Project ")]),G])):(0,l.kq)("",!0)])])]),(0,l._)("div",null,[On.value?((0,l.wg)(),(0,l.iD)("div",W,Y)):(0,l.kq)("",!0),0!=Bs.value?((0,l.wg)(),(0,l.iD)("div",Q,[(0,l._)("div",X,[(0,l._)("table",K,[ee,(0,l._)("tbody",null,[(0,l._)("tr",null,[te,(0,l._)("td",null,(0,n.zw)($s.value.project_name),1)]),(0,l._)("tr",null,[ae,(0,l._)("td",null,(0,n.zw)($s.value.short_name),1)]),(0,l._)("tr",null,[le,(0,l._)("td",null,(0,n.zw)($s.value.contract_number),1)]),(0,l._)("tr",null,[ne,(0,l._)("td",null,(0,n.zw)($s.value.financial_year),1)]),(0,l._)("tr",null,[se,(0,l._)("td",null,(0,n.zw)($s.value.project_cost.toLocaleString())+" Tsh",1)]),(0,l._)("tr",null,[oe,(0,l._)("td",null,(0,n.zw)($s.value.client),1)]),(0,l._)("tr",null,[re,(0,l._)("td",{onClick:r[5]||(r[5]=e=>"open"===Qa.value?(Rt.value=Os.value,oa.value=!0):(0,s.SU)(rs)("Budget is closed"))},(0,n.zw)(Os.value.toUpperCase()),1)]),(0,l._)("tr",null,[(0,l._)("td",ie,[(0,l._)("table",de,[(0,l._)("thead",null,[ue,(0,l._)("tr",null,[(0,l._)("td",{onClick:r[6]||(r[6]=e=>Ya.value=!Ya.value),style:{cursor:"pointer"}},(0,n.zw)(Ns.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" Tsh ",1),(0,l._)("td",ce,(0,n.zw)((Ns.value-Rs.value.reduce(((e,t)=>e+t.item_description.reduce(((e,t)=>e+(Number(t.budget_remark_sum_cost)||0)),0)),0)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" Tsh ",1),(0,l._)("td",ve,(0,n.zw)((Rs.value.reduce(((e,t)=>e+t.item_description.reduce(((e,t)=>e+(t.quantity||0)*(t.cost||0)*(t.quantity_2||0)),0)),0)-Ns.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" Tsh ",1),(0,l._)("td",null,(0,n.zw)(Rs.value.reduce(((e,t)=>e+t.item_description.reduce(((e,t)=>e+(t.quantity||0)*(t.cost||0)*(t.quantity_2||0)),0)),0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" Tsh ",1)])])])])])])]),(0,l._)("h4",me,[oa.value?((0,l.wg)(),(0,l.iD)("div",pe,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control w-50","onUpdate:modelValue":r[7]||(r[7]=e=>Rt.value=e),placeholder:Os.value},null,8,be),[[o.nr,Rt.value]]),(0,l._)("button",{class:"btn btn-primary",onClick:r[8]||(r[8]=e=>to())},"Save"),(0,l._)("button",{class:"btn btn-danger r-2",onClick:r[9]||(r[9]=e=>oa.value=!oa.value)},"X")])):(0,l.kq)("",!0)]),(0,l._)("h4",_e,[Ya.value?((0,l.wg)(),(0,l.iD)("div",ge,[(0,l.wy)((0,l._)("input",{type:"number",class:"form-control w-25","onUpdate:modelValue":r[10]||(r[10]=e=>Is.value=e),placeholder:"Enter additional fund",step:"any"},null,512),[[o.nr,Is.value]]),(0,l.wy)((0,l._)("input",{type:"date",class:"form-control w-25","onUpdate:modelValue":r[11]||(r[11]=e=>js.value=e)},null,512),[[o.nr,js.value]]),(0,l._)("button",{class:"btn btn-primary",onClick:r[12]||(r[12]=e=>so())},"Save"),(0,l._)("button",{class:"btn btn-danger r-2",onClick:r[13]||(r[13]=e=>Ya.value=!Ya.value)},"X")])):(0,l.kq)("",!0)])]),(0,l._)("div",he,[(0,l._)("div",ye,[(0,l._)("button",{class:"btn btn-success mx-2 mt-2",onClick:ar,title:"Print Report",disabled:qo.value},xe,8,we),"open"===Qa.value&&(0,s.SU)(fe).includes("can_create_budget")&&!Ml.value?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-primary mt-2",onClick:r[14]||(r[14]=e=>Ml.value=!Ml.value),title:"Add Item",disabled:qo.value}," Â Add Item ",8,Ce)):(0,l.kq)("",!0),"open"===Qa.value&&(0,s.SU)(fe).includes("can_create_budget")&&Ml.value?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"btn btn-danger mt-2",onClick:r[15]||(r[15]=e=>Ml.value=!Ml.value),title:"Add Item",disabled:qo.value}," Â Close Item ",8,De)):(0,l.kq)("",!0),(0,s.SU)(fe).includes("can_create_lpo_from_budget")&&!t.value?((0,l.wg)(),(0,l.iD)("button",{key:2,class:"btn btn-dark mt-2",title:"Add Item",disabled:qo.value,onClick:r[18]||(r[18]=e=>t.value=!0)},[Fs.value?((0,l.wg)(),(0,l.iD)("span",{key:1,onClick:r[17]||(r[17]=e=>(i.value=!0,Dr.value=!1))}," Â Fill Lpo ")):((0,l.wg)(),(0,l.iD)("span",{key:0,onClick:r[16]||(r[16]=e=>(Dr.value=!0,Ys(),Sr()))}," Â Create LPO "))],8,Se)):(0,l.kq)("",!0),(0,s.SU)(fe).includes("can_create_lpo_from_budget")&&hr.value&&!or.value?((0,l.wg)(),(0,l.iD)("button",{key:3,class:"btn btn-danger mt-2",onClick:r[19]||(r[19]=e=>{(0,s.SU)(Jn)("Please wait while Activating LPO"),Pr()}),title:"",disabled:qo.value},[dr.value?((0,l.wg)(),(0,l.iD)("span",Ae)):((0,l.wg)(),(0,l.iD)("span",He," Â Close Lpo Creation Window"))],8,qe)):(0,l.kq)("",!0),"open"===Qa.value&&(0,s.SU)(fe).includes("can_close_budget")?((0,l.wg)(),(0,l.iD)("button",{key:4,class:"btn btn-warning mt-2",onClick:Ko,title:"Add Item",disabled:qo.value},[Xo.value?((0,l.wg)(),(0,l.iD)("span",Te)):((0,l.wg)(),(0,l.iD)("span",Ee,"Â Close Budget "))],8,Ue)):(0,l.kq)("",!0),"closed"===Qa.value&&(0,s.SU)(fe).includes("can_open_budget")?((0,l.wg)(),(0,l.iD)("button",{key:5,class:"btn btn-success mt-2",onClick:er,title:"Add Item",disabled:qo.value},[Xo.value?((0,l.wg)(),(0,l.iD)("span",ze)):((0,l.wg)(),(0,l.iD)("span",Me,"Â Open Budget "))],8,Le)):(0,l.kq)("",!0),"closed"===Qa.value?((0,l.wg)(),(0,l.iD)("button",{key:6,class:"btn btn-info mt-2",onClick:r[20]||(r[20]=e=>ke.value=!ke.value)}," Request Amendment ")):(0,l.kq)("",!0),"open"===Qa.value&&(0,s.SU)(fe).includes("can_alert_budget_for_review")?((0,l.wg)(),(0,l.iD)("button",{key:7,class:"btn btn-secondary mt-2",onClick:r[21]||(r[21]=e=>{tr("255698267662","Dozzaer","check","baba salama")}),title:"Add Item",disabled:qo.value},[lr.value?((0,l.wg)(),(0,l.iD)("span",Oe)):((0,l.wg)(),(0,l.iD)("span",Ne,"Â Submit For Review "))],8,Ve)):(0,l.kq)("",!0)])]),ke.value?((0,l.wg)(),(0,l.iD)("form",{key:0,class:"text-center mt-3",onSubmit:r[23]||(r[23]=(0,o.iM)((e=>uo()),["prevent"]))},[Ie,(0,l._)("div",Be,[(0,l.wy)((0,l._)("textarea",{class:"form-control w-75 mb-3","onUpdate:modelValue":r[22]||(r[22]=e=>oo.value=e),placeholder:"Amendment Description"},null,512),[[o.nr,oo.value]]),Re])],32)):(0,l.kq)("",!0),(0,l._)("div",$e,[(0,l._)("div",je,[t.value?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-danger btn-sm",onClick:r[24]||(r[24]=e=>(t.value=!1,Dr.value=!1,i.value=!1))}," X ")):(0,l.kq)("",!0)])]),Fs.value&&i.value?((0,l.wg)(),(0,l.iD)("div",Fe,[(0,l._)("div",Pe,[(0,l._)("div",Ze,[(0,l._)("div",Ge,[(0,l.Wm)(u,{data:Ps.value,columns:$.value,options:Qs.value},{actions:(0,l.w5)((e=>[We,(0,l._)("span",Je,[a.value==e.row.id?((0,l.wg)(),(0,l.iD)("svg",{key:0,onClick:r[25]||(r[25]=e=>(a.value=0,(0,s.SU)(Jn)("Lpo Unselected"))),xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"text-success bi bi-check-circle",viewBox:"0 0 16 16"},Xe)):((0,l.wg)(),(0,l.iD)("svg",{key:1,onClick:t=>(a.value=e.row.id,Zs.value=e.row.status,(0,s.SU)(Jn)("LPO selected")),xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-circle",viewBox:"0 0 16 16"},tt,8,Ke))])])),_:1},8,["data","columns","options"])])])])])):(0,l.kq)("",!0),Dr.value?((0,l.wg)(),(0,l.iD)("form",{key:2,class:"mt-1 p-3 border rounded bg-white shadow",onSubmit:(0,o.iM)(Nr,["prevent"])},[lt,(0,l._)("div",nt,[Ye.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",st,[ot,(0,l.wy)((0,l._)("select",{class:"form-select","onUpdate:modelValue":r[26]||(r[26]=e=>Or.value=e),required:"",onChange:Xs},[rt,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Js.value,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e.id,value:e.id},(0,n.zw)(e.name),9,it)))),128)),dt],544),[[o.bM,Or.value]])])),Ye.value?((0,l.wg)(),(0,l.iD)("div",ut,[ct,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":r[27]||(r[27]=e=>Tr.value=e),name:"Vendor_name",required:""},null,512),[[o.nr,Tr.value]])])):(0,l.kq)("",!0),Ye.value?((0,l.wg)(),(0,l.iD)("div",vt,[mt,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":r[28]||(r[28]=e=>Lr.value=e),name:"Vendor_name",required:""},null,512),[[o.nr,Lr.value]])])):(0,l.kq)("",!0),Ye.value?((0,l.wg)(),(0,l.iD)("div",pt,[bt,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":r[29]||(r[29]=e=>Er.value=e),name:"Vendor_name",required:""},null,512),[[o.nr,Er.value]])])):(0,l.kq)("",!0),Ye.value?((0,l.wg)(),(0,l.iD)("div",_t,[gt,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":r[30]||(r[30]=e=>zr.value=e),name:"Vendor_name",required:""},null,512),[[o.nr,zr.value]])])):(0,l.kq)("",!0),Ye.value?((0,l.wg)(),(0,l.iD)("div",ht,[yt,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":r[31]||(r[31]=e=>Mr.value=e),name:"Vendor_name",required:""},null,512),[[o.nr,Mr.value]])])):(0,l.kq)("",!0),(0,l._)("div",wt,[kt,(0,l.Wm)((0,s.SU)(d()),{modelValue:Vr.value,"onUpdate:modelValue":r[32]||(r[32]=e=>Vr.value=e),options:["Bank /TT ","Cash","Cheque","M-Pesa","On-Account","Wakala"],multiple:!1,searchable:!0,required:"",placeholder:"Select Payment Terms"},null,8,["modelValue"])])]),(0,l._)("div",ft,[Ye.value?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-dark me-3",onClick:r[33]||(r[33]=e=>Ye.value=!1)},"Back")):(0,l.kq)("",!0),(0,l._)("button",{type:"button",class:"btn btn-danger me-3",onClick:r[34]||(r[34]=t=>{Dr.value=!1,Ye.value=!1,e.is_closed=!0})},"Cancel"),xt])],40,at)):(0,l.kq)("",!0),Ml.value?((0,l.wg)(),(0,l.iD)("div",Ct,[Dt,(0,l._)("div",St,[(0,l._)("div",qt,[(0,l._)("div",At,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"item_name","onUpdate:modelValue":r[35]||(r[35]=e=>Vl.value=e),placeholder:"Enter item name"},null,512),[[o.nr,Vl.value]])]),(0,l._)("div",{class:"col-md-2 col-2"},[(0,l._)("button",{type:"button",class:"btn btn-primary w-100",onClick:ho},"Submit")])])])])):(0,l.kq)("",!0),(0,l._)("div",Ht,[(0,l._)("table",Ut,[(0,l._)("thead",Tt,[(0,l._)("tr",null,[Et,Lt,(0,l._)("th",null,[zt,(0,l._)("div",Mt,["open"==Qa.value?((0,l.wg)(),(0,l.iD)("div",Vt,[(0,l._)("button",{class:"btn btn-dark mx-2 p-1 btn-sm",onClick:r[36]||(r[36]=e=>(rl.value=!rl.value,Qe.value=""))},[rl.value?((0,l.wg)(),(0,l.iD)("svg",Ot,It)):((0,l.wg)(),(0,l.iD)("svg",Bt,$t))])])):(0,l.kq)("",!0)])])])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Rs.value,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.SNo},[(0,l._)("td",null,(0,n.zw)(t+1),1),(0,l._)("td",null,[Wo.value!==e.id?((0,l.wg)(),(0,l.iD)("span",{key:0,onClick:t=>Jo(e.id)},(0,n.zw)(e.name),9,jt)):(0,l.kq)("",!0),Wo.value===e.id?((0,l.wg)(),(0,l.iD)("div",Ft,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t=>e.name=t},null,8,Pt),[[o.nr,e.name]]),(0,l._)("button",{class:"btn btn-white md-2",onClick:r[37]||(r[37]=e=>Yo())},"âŒ"),(0,l._)("button",{class:"btn btn-white md-2",onClick:t=>Qo(e)}," âœ… ",8,Zt)])):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l._)("div",null,[(0,l._)("table",Gt,[(0,l._)("thead",null,[(0,l._)("tr",null,[Wt,Jt,Yt,Qt,Xt,Kt,ea,ta,(0,l._)("th",null,[(0,l._)("div",aa,["open"==Qa.value&&(0,s.SU)(fe).includes("can_create_budget")?((0,l.wg)(),(0,l.iD)("div",la,[gn.value===e.id?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-danger btn-sm p-2",onClick:r[38]||(r[38]=e=>gn.value="")},"X")):((0,l.wg)(),(0,l.iD)("button",{key:1,class:"btn btn-primary",onClick:t=>gn.value=e.id},"add",8,na))])):(0,l.kq)("",!0)]),!rl.value&&""==e.item_description&&(0,s.SU)(fe).includes("can_delete_budget")?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-danger btn-sm p-1 mx-1",onClick:t=>bo(e.id)},ra,8,sa)):(0,l.kq)("",!0)])])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.item_description,((t,i)=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",null,(0,n.zw)(i+1),1),(0,l._)("td",{onClick:e=>eo(t.id)},[Qe.value!==t.id?((0,l.wg)(),(0,l.iD)("span",da,(0,n.zw)(t.name),1)):(0,l.kq)("",!0),Qe.value===t.id?((0,l.wg)(),(0,l.iD)("div",ua,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e=>t.name=e},null,8,ca),[[o.nr,t.name]])])):(0,l.kq)("",!0)],8,ia),(0,l._)("td",{onClick:e=>eo(t.id)},[Qe.value!==t.id?((0,l.wg)(),(0,l.iD)("span",ma,(0,n.zw)(t.units),1)):(0,l.kq)("",!0),Qe.value===t.id?((0,l.wg)(),(0,l.iD)("div",pa,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e=>t.units=e},null,8,ba),[[o.nr,t.units]])])):(0,l.kq)("",!0)],8,va),(0,l._)("td",{onClick:e=>eo(t.id)},[Qe.value!==t.id?((0,l.wg)(),(0,l.iD)("span",ga,(0,n.zw)(t.quantity.toLocaleString())+" x "+(0,n.zw)(t.quantity_2),1)):(0,l.kq)("",!0),Qe.value===t.id?((0,l.wg)(),(0,l.iD)("div",ha,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control w-25","onUpdate:modelValue":e=>t.quantity=e},null,8,ya),[[o.nr,t.quantity]]),wa,ka,fa,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control w-25","onUpdate:modelValue":e=>t.quantity_2=e},null,8,xa),[[o.nr,t.quantity_2]])])):(0,l.kq)("",!0)],8,_a),(0,l._)("td",{onClick:e=>eo(t.id)},[(0,l._)("div",Da,[Sa,(0,l._)("span",null,(0,n.zw)((t.quantity*t.quantity_2).toLocaleString()),1)]),(0,l._)("div",qa,[Aa,(0,l._)("span",null,(0,n.zw)(isNaN((t.budget_remark_sum_cost||0)/(t.quantity*t.cost*t.quantity_2)*(t.quantity*t.quantity_2))?0:((t.budget_remark_sum_cost||0)/(t.quantity*t.cost*t.quantity_2)*(t.quantity*t.quantity_2)).toLocaleString()),1)]),Ha,(0,l._)("div",Ua,[Ta,(0,l._)("span",null,(0,n.zw)((t.quantity*t.quantity_2-(t.budget_remark_sum_cost||0)/(t.quantity*t.cost*t.quantity_2)*(t.quantity*t.quantity_2)||0).toLocaleString()),1)]),Qe.value===t.id?((0,l.wg)(),(0,l.iD)("div",Ea,[(0,l._)("input",{type:"text",class:"form-control",value:t.quantity*t.quantity_2,disabled:""},null,8,La)])):(0,l.kq)("",!0)],8,Ca),(0,l._)("td",{onClick:e=>eo(t.id)},[Qe.value!==t.id?((0,l.wg)(),(0,l.iD)("span",Ma,(0,n.zw)(t.cost.toLocaleString())+"/= ",1)):(0,l.kq)("",!0),Qe.value===t.id?((0,l.wg)(),(0,l.iD)("div",Va,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e=>t.cost=e},null,8,Oa),[[o.nr,t.cost]])])):(0,l.kq)("",!0)],8,za),(0,l._)("td",{onClick:e=>eo(t.id)},[(0,l._)("div",Ia,[Ba,(0,l._)("span",null,(0,n.zw)((t.quantity*t.cost*t.quantity_2).toLocaleString())+" Tsh",1)]),(0,l._)("div",Ra,[$a,(0,l._)("span",null,(0,n.zw)(Number(t.budget_remark_sum_cost||0).toLocaleString())+" Tsh",1)]),ja,t.quantity*t.cost*t.quantity_2-t.budget_remark_sum_cost<0?((0,l.wg)(),(0,l.iD)("div",Fa,[Pa,(0,l._)("span",null,(0,n.zw)((t.quantity*t.cost*t.quantity_2-t.budget_remark_sum_cost).toLocaleString())+" Tsh",1)])):((0,l.wg)(),(0,l.iD)("div",Za,[Ga,(0,l._)("span",null,(0,n.zw)((t.quantity*t.cost*t.quantity_2-t.budget_remark_sum_cost).toLocaleString())+" Tsh",1)]))],8,Na),(0,l._)("td",null,[Qe.value!==t.id?((0,l.wg)(),(0,l.iD)("span",Wa,[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-eye text-secondary",viewBox:"0 0 16 16",onClick:a=>Ro(t,e)},Xa,8,Ja))])):(0,l.kq)("",!0),0!=a.value?((0,l.wg)(),(0,l.iD)("span",Ka,[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-plus text-success",viewBox:"0 0 16 16",onClick:a=>Br(t,e)},ll,8,el))])):(0,l.kq)("",!0),Qe.value===t.id?((0,l.wg)(),(0,l.iD)("div",nl,[(0,l._)("button",{class:"btn btn-white md-2",onClick:r[39]||(r[39]=e=>Go())},"âŒ"),(0,l._)("button",{class:"btn btn-white md-2",onClick:e=>Zo(t)}," âœ… ",8,sl)])):(0,l.kq)("",!0),!rl.value&&(0,s.SU)(fe).includes("can_delete_budget")?((0,l.wg)(),(0,l.iD)("button",{key:3,class:"btn btn-danger btn-sm p-1",onClick:e=>go(t.id)},il,8,ol)):(0,l.kq)("",!0),dl,t.quantity*t.cost*t.quantity_2-t.budget_remark_sum_cost<0?((0,l.wg)(),(0,l.iD)("span",ul,"overBudget")):(0,l.kq)("",!0)])])))),128)),(0,l._)("tr",null,[cl,vl,ml,pl,(0,l._)("td",bl,(0,n.zw)(e.item_description.reduce(((e,t)=>e+t.quantity*t.quantity_2),0).toLocaleString()),1),(0,l._)("td",_l,(0,n.zw)(e.item_description.reduce(((e,t)=>e+t.cost),0).toLocaleString()),1),(0,l._)("td",gl,(0,n.zw)(e.item_description.reduce(((e,t)=>e+t.quantity*t.quantity_2*t.cost-t.budget_remark_sum_cost),0).toLocaleString())+" Tsh",1)]),gn.value===e.id?((0,l.wg)(),(0,l.iD)("tr",hl,[yl,(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":r[40]||(r[40]=e=>Bl.value=e),placeholder:"Item"},null,512),[[o.nr,Bl.value]])]),(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":r[41]||(r[41]=e=>_n.value=e),placeholder:"Units"},null,512),[[o.nr,_n.value]])]),(0,l._)("td",null,[(0,l._)("div",wl,[(0,l.wy)((0,l._)("input",{type:"number",class:"form-control","onUpdate:modelValue":r[42]||(r[42]=e=>Gl.value=e),placeholder:"qty1"},null,512),[[o.nr,Gl.value]]),kl,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control","onUpdate:modelValue":r[43]||(r[43]=e=>Kl.value=e),placeholder:"qty2"},null,512),[[o.nr,Kl.value]])])]),(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"number",class:"form-control","onUpdate:modelValue":r[44]||(r[44]=e=>Zl.value=e),placeholder:"cost"},null,512),[[o.nr,Zl.value]])]),(0,l._)("td",null,[(0,l._)("label",null,(0,n.zw)((Zl.value*Gl.value*Kl.value).toLocaleString()),1)]),(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":r[45]||(r[45]=e=>on.value=e),placeholder:"Any Remark"},null,512),[[o.nr,on.value]])]),(0,l._)("td",null,[(0,l._)("button",{type:"submit",class:"btn btn-primary",onClick:t=>yo(e.id)},"Submit",8,fl)])])):(0,l.kq)("",!0)])])])])])))),128))]),(0,l._)("tfoot",null,[(0,l._)("tr",null,[xl,(0,l._)("td",null,[(0,l._)("table",Cl,[(0,l._)("thead",null,[Dl,(0,l._)("tr",null,[(0,l._)("td",null,(0,n.zw)(Ns.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" Tsh ",1),(0,l._)("td",Sl,(0,n.zw)((Ns.value-Rs.value.reduce(((e,t)=>e+t.item_description.reduce(((e,t)=>e+(Number(t.budget_remark_sum_cost)||0)),0)),0)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" Tsh ",1),(0,l._)("td",ql,(0,n.zw)((Rs.value.reduce(((e,t)=>e+t.item_description.reduce(((e,t)=>e+(t.quantity||0)*(t.cost||0)*(t.quantity_2||0)),0)),0)-Ns.value).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" Tsh ",1),(0,l._)("td",null,(0,n.zw)(Rs.value.reduce(((e,t)=>e+t.item_description.reduce(((e,t)=>e+(t.quantity||0)*(t.cost||0)*(t.quantity_2||0)),0)),0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))+" Tsh ",1)])])])])])])])])])):(0,l.kq)("",!0)])]),((0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[Lo.value?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"modal fade show d-block",role:"dialog",onClick:(0,o.iM)($o,["self"])},[(0,l._)("div",Hl,[(0,l._)("div",Ul,[(0,l._)("div",{class:"modal-header flex-column align-items-center"},[Tl,(0,l._)("button",{type:"button",class:"btn-close",onClick:$o})]),(0,l._)("div",El,[(0,l._)("table",Ll,[(0,l._)("tbody",null,[zl,(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("strong",null,(0,n.zw)(Os.value),1)]),(0,l._)("td",null,[(0,l._)("strong",null,(0,n.zw)(Oo.value),1)]),(0,l._)("td",null,[(0,l._)("strong",null,(0,n.zw)(Mo.value),1)]),(0,l._)("td",null,[(0,l._)("strong",null,(0,n.zw)(Vo.value.toLocaleString())+"Tsh",1)]),(0,l._)("td",{class:"text-center"},[(0,l._)("button",{class:"btn btn-success",onClick:Zr,title:"Print Report"},Ol)])])])])]),(0,l._)("div",Nl,[Ao.value?((0,l.wg)(),(0,l.iD)("div",Il,Rl)):((0,l.wg)(),(0,l.iD)("div",$l,[(0,l._)("div",jl,[(0,l._)("div",Fl,[(0,l.Wm)(u,{data:No.value,columns:Bo,options:Qs.value},(0,l.Nv)({_:2},[(0,s.SU)(fe).includes("can_delete_budget_description_remark")?{name:"actions",fn:(0,l.w5)((e=>[((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash text-danger",onClick:t=>Po(e.row.id),viewBox:"0 0 16 16"},Wl,8,Pl))]))}:void 0]),1032,["data","options"])])])]))]),(0,l._)("div",Jl,[(0,l._)("form",{onSubmit:r[49]||(r[49]=(0,o.iM)((e=>jo()),["prevent"]))},[(0,l._)("div",Yl,[(0,l._)("div",Ql,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":r[46]||(r[46]=e=>To.value=e),class:"form-control mb-2",type:"number",placeholder:"Enter cost spent",name:"cost_onremark"},null,512),[[o.nr,To.value]])]),(0,l._)("div",Xl,[(0,l.wy)((0,l._)("select",{class:"form-control mb-2","onUpdate:modelValue":r[47]||(r[47]=e=>Ho.value=e),required:""},an,512),[[o.bM,Ho.value]])])]),(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":r[48]||(r[48]=e=>Uo.value=e),class:"form-control mb-2",rows:"1",placeholder:"Enter remarks"},null,512),[[o.nr,Uo.value]]),(0,l._)("div",ln,[(0,l._)("button",{type:"button",class:"btn btn-secondary",onClick:$o}," Close "),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:zo.value},[zo.value&&Nt.value?((0,l.wg)(),(0,l.iD)("span",sn,rn)):((0,l.wg)(),(0,l.iD)("span",dn,"Save"))],8,nn)])],32)])])])],8,Al)):(0,l.kq)("",!0)])),Lo.value?((0,l.wg)(),(0,l.iD)("div",un)):(0,l.kq)("",!0),((0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[ur.value?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"modal fade show d-block",role:"dialog",onClick:(0,o.iM)(jr,["self"])},[(0,l._)("div",vn,[(0,l._)("div",mn,[(0,l._)("div",{class:"modal-header"},[(0,l._)("button",{type:"button",class:"btn-close",onClick:jr})]),(0,l._)("div",pn,["Inactive"===Zs.value?((0,l.wg)(),(0,l.iD)("div",bn,[(0,l._)("button",{class:"btn btn-warning",onClick:r[50]||(r[50]=e=>Pr())},hn)])):(0,l.kq)("",!0),"Inactive"===Zs.value?((0,l.wg)(),(0,l.iD)("form",{key:1,onSubmit:(0,o.iM)($r,["prevent"])},[(0,l._)("h4",null,"Form For Adding "+(0,n.zw)(vr.value)+" to LOCAL PURCHASSE ORDER ",1),(0,l._)("div",wn,[(0,l._)("div",kn,[fn,(0,l.wy)((0,l._)("input",{type:"text",id:"unit",class:"form-control","onUpdate:modelValue":r[51]||(r[51]=e=>br.value=e),placeholder:"Units"},null,512),[[o.nr,br.value]])]),(0,l._)("div",xn,[Cn,(0,l.wy)((0,l._)("input",{type:"text",id:"item",class:"form-control","onUpdate:modelValue":r[52]||(r[52]=e=>vr.value=e),placeholder:"Item"},null,512),[[o.nr,vr.value]])]),(0,l._)("div",Dn,[(0,l._)("label",Sn,"Quantity (available: "+(0,n.zw)(Math.max(0,mr.value-Cr.value))+")",1),(0,l.wy)((0,l._)("input",{type:"number",id:"quantity",class:"form-control","onUpdate:modelValue":r[53]||(r[53]=e=>pr.value=e),placeholder:"Quantity",min:"1"},null,512),[[o.nr,pr.value]])]),(0,l._)("div",qn,[An,(0,l.wy)((0,l._)("input",{type:"number",id:"price",class:"form-control","onUpdate:modelValue":r[54]||(r[54]=e=>cr.value=e),placeholder:"Price",disabled:""},null,512),[[o.nr,cr.value]])]),(0,l._)("div",Hn,[Un,(0,l._)("input",{type:"text",id:"amount",class:"form-control",value:(cr.value*pr.value).toLocaleString(),readonly:""},null,8,Tn)]),(0,l._)("div",En,[Ln,(0,l.wy)((0,l._)("input",{type:"text",id:"remark",class:"form-control","onUpdate:modelValue":r[55]||(r[55]=e=>_r.value=e),placeholder:"Remark"},null,512),[[o.nr,_r.value]])])]),(0,l._)("div",zn,[(0,l._)("button",{type:"button",class:"btn btn-secondary",onClick:jr},"Close"),(0,l._)("button",{type:"submit",class:"btn btn-primary",disabled:zo.value},[zo.value&&Nt.value?((0,l.wg)(),(0,l.iD)("span",Vn,Nn)):((0,l.wg)(),(0,l.iD)("span",In,"Submit"))],8,Mn)])],40,yn)):(0,l.kq)("",!0),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[Bn])),_:1}),(0,l._)("div",Rn,[(0,l._)("div",$n,[(0,l._)("div",jn,[kr.value?((0,l.wg)(),(0,l.iD)("div",Fn,Zn)):(0,l.kq)("",!0),(0,l._)("div",Gn,[(0,l.Wm)(u,{data:yr.value,columns:wr.value,options:Qs.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,n.C_)(["badge inv-status","badge-"+e.row.status.class])},(0,n.zw)(e.row.status.key),3)])),actions:(0,l.w5)((e=>["Inactive"===Zs.value?((0,l.wg)(),(0,l.iD)("a",{key:0,onClick:t=>Fr(e.row.id),href:"javascript:void(0);",title:"Delete","data-bs-toggle":"tooltip","data-bs-placement":"top"},Yn,8,Wn)):(0,l.kq)("",!0)])),_:1},8,["data","columns","options"])])])])])])])])],8,cn)):(0,l.kq)("",!0)])),ur.value?((0,l.wg)(),(0,l.iD)("div",Qn)):(0,l.kq)("",!0),((0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[ir.value?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"modal fade show d-block",role:"dialog",onClick:(0,o.iM)(jr,["self"])},[(0,l._)("div",Kn,[(0,l._)("div",es,[(0,l._)("div",{class:"modal-header"},[(0,l._)("button",{type:"button",class:"btn-close",onClick:jr})]),(0,l._)("div",ts,[as,(0,l._)("div",ls,[(0,l._)("div",ns,[(0,l._)("div",ss,[kr.value?((0,l.wg)(),(0,l.iD)("div",os,is)):(0,l.kq)("",!0),(0,l._)("div",ds,[(0,l.Wm)(u,{data:yr.value,columns:wr.value,options:Qs.value},{status:(0,l.w5)((e=>[(0,l._)("span",{class:(0,n.C_)(["badge inv-status","badge-"+e.row.status.class])},(0,n.zw)(e.row.status.key),3)])),actions:(0,l.w5)((e=>[(0,l._)("a",{onClick:t=>Fr(e.row.id),href:"javascript:void(0);",title:"Delete","data-bs-toggle":"tooltip","data-bs-placement":"top"},vs,8,us)])),_:1},8,["data","columns","options"])])]),(0,l._)("div",ms,[(0,l._)("button",{class:"btn btn-primary",onClick:r[56]||(r[56]=e=>{or.value=!1,hr.value=!0,gr.value=sr.value,jr()})}," Continue With This LPO "),(0,l._)("button",{class:"btn btn-danger",onClick:r[57]||(r[57]=t=>{jr(),e.closeLpoCreationWindow(),Nr(),ir.value=!1})}," Start New LPO ")])])])])])])],8,Xn)):(0,l.kq)("",!0)])),ir.value?((0,l.wg)(),(0,l.iD)("div",ps)):(0,l.kq)("",!0),(0,l._)("div",bs,[(0,l._)("div",_s,[(0,l._)("div",gs,[hs,(0,l._)("div",ys,[(0,l._)("div",ws,[(0,l._)("div",ks,[(0,l._)("div",fs,[xs,(0,l._)("form",{class:"d-flex gap-2 mb-3",onSubmit:(0,o.iM)(ti,["prevent"])},[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control rounded-pill px-4",placeholder:"Type your question...","onUpdate:modelValue":r[58]||(r[58]=e=>Wr.value=e)},null,512),[[o.nr,Wr.value]]),Ds],40,Cs),(0,l._)("div",Ss,[(0,l._)("h6",qs,"Response Time: "+(0,n.zw)(Jr.value)+"s",1),Xr.value?((0,l.wg)(),(0,l.iD)("div",As,[(0,l._)("div",Hs,[Us,(0,l._)("span",null,(0,n.zw)(Xr.value),1)])])):(0,l.kq)("",!0),Gr.value?((0,l.wg)(),(0,l.iD)("div",Ts,[(0,l._)("div",Es,[Ls,(0,l._)("span",zs,(0,n.zw)(Gr.value),1)])])):(0,l.kq)("",!0)])])])])]),Ms])])]),0!=Bs.value?((0,l.wg)(),(0,l.iD)("div",{key:3,class:"mt-5","data-bs-toggle":"modal","data-bs-target":"#ai-modal",innerHTML:(0,s.SU)(Pn)()},null,8,Vs)):(0,l.kq)("",!0)],64)}}},Ns=a(83744);const Is=(0,Ns.Z)(Os,[["__scopeId","data-v-36e254fc"]]);var Bs=Is}}]);
//# sourceMappingURL=1826.f2eb5f0e.js.map