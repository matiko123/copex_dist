"use strict";(self["webpackChunkcork_vue3"]=self["webpackChunkcork_vue3"]||[]).push([[4712],{58483:function(e,a,s){s.d(a,{i:function(){return l}});s(26699);function l(e,a){const s=a.toLowerCase().trim();if(!s)return e;const l=e=>null!=e&&("string"===typeof e?e.toLowerCase().includes(s):Array.isArray(e)?e.some(l):"object"===typeof e&&Object.values(e).some(l));return e.filter((e=>l(e)))}},86500:function(e,a,s){s.d(a,{Z:function(){return d}});var l=s(66252),t=s(49963),i=s(2262);const o=(0,l._)("span",{class:"input-group-text bg-white border-start-0"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.415l-3.85-3.85zm-5.442.656a5 5 0 1 1 \r\n        0-10 5 5 0 0 1 0 10z"})])],-1);var n={props:{filterValue:String},emits:["update:filterValue"],setup(e,{emit:a}){const s=e,n=(0,i.iH)(s.filterValue||null);return(0,l.YP)(n,(e=>a("update:filterValue",e))),(e,a)=>((0,l.wg)(),(0,l.iD)("form",{onSubmit:a[1]||(a[1]=(0,t.iM)((()=>{}),["prevent"])),class:"input-group container"},[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control border-end-0",placeholder:"Search a word...","onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e)},null,512),[[t.nr,n.value]]),o],32))}};const r=n;var d=r},54712:function(e,a,s){s.r(a),s.d(a,{default:function(){return ue}});s(26699);var l=s(66252),t=s(2262),i=s(3577),o=s(49963),n=s(87066),r=s(56296),d=s(86500),c=s(58483);const u={class:"layout-px-spacing"},m=(0,l.uE)('<ul class="navbar-nav flex-row mt-2"><li><div class="page-header"><nav class="breadcrumb-one" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="javascript:;">Masters</a></li><li class="breadcrumb-item active" aria-current="page"><span>Requisitions</span></li></ol></nav></div></li></ul><h4 class="text-center flex-grow-1">GOOD DELIVERY NOTES</h4>',2),v=["innerHTML"],b={key:1,class:"row layout-top-spacing"},p={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},_={class:"panel p-0"},g={class:"custom-table table3"},y={href:"javascript:;",title:"Click To see Issue Note"},f=["onClick"],w=(0,l._)("div",{class:"d-flex justify-content-center align-items-center"},null,-1),h=["onClick"],k=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"text-primary bi bi-eye",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}),(0,l._)("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"})],-1),S=[k],x={class:"modal fade mymodal",id:"delivery_note","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},C={class:"modal-dialog modal-xl"},D={class:"modal-content"},H=(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"GOOD DELIVERY NOTES"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close"})],-1),L={class:"modal-body"},z={class:"row"},E={class:"col-md-4"},I={class:"modal-title fs-5"},M={class:"col-md-4"},V={class:"modal-title fs-5"},O={class:"col-md-4"},N={class:"modal-title fs-5"},T={key:0,class:"card p-3 mb-3 shadow-sm text-start"},U={key:0,class:"input-group"},q=["disabled"],R=["innerHTML"],j={key:1},B={class:"row layout-top-spacing"},A={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},G={class:"panel p-0"},P={class:"custom-table table3"},W=(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm py-2 px-2","data-bs-dismiss":"modal"},"Close")],-1),Y={class:"modal fade mymodal",id:"issue_note","data-bs-backdrop":"false","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Z={class:"modal-dialog modal-xl"},F={class:"modal-content"},J=(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"GOOD ISSUE NOTES DETAILS"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"close"})],-1),$={class:"modal-body"},K={class:"row"},Q={class:"col-md-2"},X={class:"modal-title fs-5"},ee={class:"col-md-5"},ae={class:"modal-title fs-5"},se={class:"col-md-5"},le={class:"modal-title fs-5"},te={class:"row layout-top-spacing"},ie={class:"col-xl-12 col-lg-12 col-sm-12 layout-spacing"},oe={class:"panel p-0"},ne={class:"custom-table table3"},re=(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{type:"button",class:"btn btn-danger btn-sm py-2 px-2","data-bs-dismiss":"modal"},"Close")],-1);var de={setup(e){(0,r.j)({title:"Good Delivery Note"});const a=n.Z.create({baseURL:"https://bushman.ink/api/v1/"}),s=JSON.parse(localStorage.getItem("user")).permissions,k=((0,l.f3)("showMessage"),(0,t.iH)("")),de=(0,l.Fl)((()=>(0,c.i)(ke.value,k.value))),ce=(0,t.iH)({perPage:50,perPageValues:[50,100,200],skin:"table table-hover table-striped",columnsClasses:{actions:"actions text-center"},sortable:["SNo","name","short_name","status"],sortIcon:{base:"sort-icon-none",up:"sort-icon-asc",down:"sort-icon-desc"},pagination:{nav:"scroll",chunk:5},texts:{count:"Showing {from} to {to} of {count}",filter:"",filterPlaceholder:"Search...",limit:"Results:"},resizableColumns:!1}),ue=(0,t.iH)(""),me=(0,t.iH)([]),ve=e=>{ue.value=e,me.value=e.items.map(((e,a)=>({...e,Sno:a+1,item:e.gin_item.requisition_item.remark,unit:e.gin_item.requisition_item.units,issued:e.gin_item.quantity,received:e.quantity})))},be=(0,l.f3)("tableShimmer"),pe=(0,l.f3)("showError"),_e=(0,l.f3)("loadingSpinner"),ge=(0,l.f3)("formatDate"),ye=(0,t.iH)(["Sno","issue_no","delivery_no","issued_by","date_issued","received_by","date_received","remark","actions"]),fe=(0,t.iH)(["Sno","item","unit","issued","received"]),we=(0,t.iH)(["Sno","item","unit","issued"]),he=(0,t.iH)(!1),ke=(0,t.iH)([]),Se=async()=>{he.value=!0;try{const e=await a.get("good-delivery-notes");ke.value=e.data.map(((e,a)=>({...e,Sno:a+1,issue_no:e.gin.id,delivery_no:e.id,issued_by:e.gin.issuer.name,issuer_email:e.gin.issuer.email,date_issued:ge(e.gin.issuer.created_at),received_by:e.receiver.name,date_received:ge(e.created_at)})))}catch(e){pe(e.message),console.log(e)}finally{he.value=!1}},xe=(0,t.iH)(!1),Ce=(0,t.iH)(""),De=async()=>{xe.value=!0;const e={remark:Ce.value};try{await a.put(`good-delivery-notes/${ue.value.id}`,e);ue.value.remark=Ce.value,Ce.value="",Se()}catch(s){pe(s.message)}finally{xe.value=!1}};return(0,l.bv)((async()=>{Se()})),(e,a)=>{const n=(0,l.up)("v-client-table");return(0,l.wg)(),(0,l.iD)("div",u,[m,(0,l.Wm)(d.Z,{filterValue:k.value,"onUpdate:filterValue":a[0]||(a[0]=e=>k.value=e)},null,8,["filterValue"]),he.value?((0,l.wg)(),(0,l.iD)("div",{key:0,innerHTML:(0,t.SU)(be)()},null,8,v)):((0,l.wg)(),(0,l.iD)("div",b,[(0,l._)("div",p,[(0,l._)("div",_,[(0,l._)("div",g,[(0,l.Wm)(n,{data:(0,t.SU)(de),columns:ye.value,options:ce.value},{issue_no:(0,l.w5)((e=>[(0,l._)("a",y,[(0,l._)("span",{class:"text-primary","data-bs-toggle":"modal","data-bs-target":"#issue_note",onClick:a=>ve(e.row)},(0,i.zw)(e.row.issue_no),9,f)])])),actions:(0,l.w5)((e=>[w,(0,l._)("a",{href:"javascript:;",class:"edit me-2","data-bs-toggle":"modal","data-bs-target":"#delivery_note",onClick:a=>ve(e.row)},S,8,h)])),_:1},8,["data","columns","options"])])])])])),(0,l._)("div",x,[(0,l._)("div",C,[(0,l._)("div",D,[H,(0,l._)("div",L,[(0,l._)("div",z,[(0,l._)("div",E,[(0,l._)("h2",I," Issue No : "+(0,i.zw)(ue.value.issue_no),1)]),(0,l._)("div",M,[(0,l._)("h2",V," Issuer : "+(0,i.zw)(ue.value.issued_by),1)]),(0,l._)("div",O,[(0,l._)("h2",N," Receiver : "+(0,i.zw)(ue.value.received_by),1)])]),ue.value.remark?((0,l.wg)(),(0,l.iD)("div",T,[(0,l._)("strong",null,"Remark: "+(0,i.zw)(ue.value.remark),1)])):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,t.SU)(s).includes("is_md")?((0,l.wg)(),(0,l.iD)("div",U,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Enter Remark","onUpdate:modelValue":a[1]||(a[1]=e=>Ce.value=e)},null,512),[[o.nr,Ce.value]]),(0,l._)("button",{class:"btn btn-primary",type:"button",disabled:xe.value,onClick:a[2]||(a[2]=a=>De(e.requisition))},[xe.value?((0,l.wg)(),(0,l.iD)("span",{key:0,innerHTML:(0,t.SU)(_e)()},null,8,R)):((0,l.wg)(),(0,l.iD)("span",j,"Save"))],8,q)])):(0,l.kq)("",!0)],64)),(0,l._)("div",B,[(0,l._)("div",A,[(0,l._)("div",G,[(0,l._)("div",P,[(0,l.Wm)(n,{data:me.value,columns:fe.value,options:ce.value},null,8,["data","columns","options"])])])])])]),W])])]),(0,l._)("div",Y,[(0,l._)("div",Z,[(0,l._)("div",F,[J,(0,l._)("div",$,[(0,l._)("div",K,[(0,l._)("div",Q,[(0,l._)("h2",X," Issue No : "+(0,i.zw)(ue.value.issue_no),1)]),(0,l._)("div",ee,[(0,l._)("h2",ae," Issuer : "+(0,i.zw)(ue.value.issued_by),1)]),(0,l._)("div",se,[(0,l._)("h2",le," Issued Date : "+(0,i.zw)(ue.value.date_issued),1)])]),(0,l._)("div",te,[(0,l._)("div",ie,[(0,l._)("div",oe,[(0,l._)("div",ne,[(0,l.Wm)(n,{data:me.value,columns:we.value,options:ce.value},null,8,["data","columns","options"])])])])])]),re])])])])}}};const ce=de;var ue=ce}}]);
//# sourceMappingURL=4712.8789446c.js.map